# Comparing `tmp/megfile-2.0.4.post1-py3-none-any.whl.zip` & `tmp/megfile-2.0.4.post2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,45 +1,45 @@
-Zip file size: 103843 bytes, number of entries: 43
+Zip file size: 103983 bytes, number of entries: 43
 -rw-rw-r--  2.0 unx     5434 b- defN 23-Apr-12 07:41 megfile/__init__.py
 -rw-rw-r--  2.0 unx     9918 b- defN 23-Apr-12 07:41 megfile/cli.py
 -rw-rw-r--  2.0 unx    11584 b- defN 23-Apr-06 05:41 megfile/errors.py
 -rw-rw-r--  2.0 unx    11621 b- defN 23-Apr-12 05:04 megfile/fs.py
 -rw-rw-r--  2.0 unx    37313 b- defN 23-Mar-21 02:38 megfile/fs_path.py
 -rw-rw-r--  2.0 unx     1852 b- defN 23-Apr-12 05:04 megfile/http.py
 -rw-rw-r--  2.0 unx     4483 b- defN 23-Feb-17 06:43 megfile/http_path.py
 -rw-rw-r--  2.0 unx     6181 b- defN 23-Mar-21 02:38 megfile/interfaces.py
 -rw-rw-r--  2.0 unx    28741 b- defN 23-Mar-22 03:51 megfile/pathlike.py
 -rw-rw-r--  2.0 unx    12456 b- defN 23-Apr-12 07:41 megfile/s3.py
 -rw-rw-r--  2.0 unx    84371 b- defN 23-Apr-12 07:41 megfile/s3_path.py
 -rw-rw-r--  2.0 unx    11369 b- defN 23-Apr-12 07:41 megfile/sftp.py
--rw-rw-r--  2.0 unx    39883 b- defN 23-Apr-12 07:41 megfile/sftp_path.py
+-rw-rw-r--  2.0 unx    40199 b- defN 23-Apr-19 08:28 megfile/sftp_path.py
 -rw-rw-r--  2.0 unx    30429 b- defN 23-Apr-13 01:56 megfile/smart.py
 -rw-rw-r--  2.0 unx     6613 b- defN 23-Apr-06 05:41 megfile/smart_path.py
 -rw-rw-r--  2.0 unx      521 b- defN 23-Apr-12 05:04 megfile/stdio.py
 -rw-rw-r--  2.0 unx     2634 b- defN 23-Feb-17 06:43 megfile/stdio_path.py
--rw-rw-r--  2.0 unx       25 b- defN 23-Apr-13 01:58 megfile/version.py
+-rw-rw-r--  2.0 unx       25 b- defN 23-Apr-19 08:30 megfile/version.py
 -rw-rw-r--  2.0 unx        0 b- defN 23-Feb-17 06:43 megfile/lib/__init__.py
--rw-rw-r--  2.0 unx     4466 b- defN 23-Apr-12 07:31 megfile/lib/combine_reader.py
+-rw-rw-r--  2.0 unx     4466 b- defN 23-Apr-19 08:13 megfile/lib/combine_reader.py
 -rw-rw-r--  2.0 unx      228 b- defN 23-Feb-17 06:43 megfile/lib/compat.py
 -rw-rw-r--  2.0 unx     4054 b- defN 23-Feb-17 06:43 megfile/lib/fnmatch.py
 -rw-rw-r--  2.0 unx     9478 b- defN 23-Mar-01 05:34 megfile/lib/glob.py
 -rw-rw-r--  2.0 unx      929 b- defN 23-Feb-17 06:43 megfile/lib/joinpath.py
 -rw-rw-r--  2.0 unx     1801 b- defN 23-Feb-17 06:43 megfile/lib/lazy_handler.py
 -rw-rw-r--  2.0 unx     6934 b- defN 23-Feb-17 06:43 megfile/lib/s3_buffered_writer.py
 -rw-rw-r--  2.0 unx     1322 b- defN 23-Feb-17 06:43 megfile/lib/s3_cached_handler.py
 -rw-rw-r--  2.0 unx     6057 b- defN 23-Feb-17 06:43 megfile/lib/s3_limited_seekable_writer.py
 -rw-rw-r--  2.0 unx     3725 b- defN 23-Feb-17 06:43 megfile/lib/s3_memory_handler.py
 -rw-rw-r--  2.0 unx     3404 b- defN 23-Feb-17 06:43 megfile/lib/s3_pipe_handler.py
 -rw-rw-r--  2.0 unx    15053 b- defN 23-Apr-06 05:41 megfile/lib/s3_prefetch_reader.py
--rw-rw-r--  2.0 unx     3791 b- defN 23-Apr-12 07:31 megfile/lib/s3_share_cache_reader.py
+-rw-rw-r--  2.0 unx     3791 b- defN 23-Apr-19 08:13 megfile/lib/s3_share_cache_reader.py
 -rw-rw-r--  2.0 unx     2569 b- defN 23-Feb-17 06:43 megfile/lib/shadow_handler.py
 -rw-rw-r--  2.0 unx     1930 b- defN 23-Feb-17 06:43 megfile/lib/stdio_handler.py
 -rw-rw-r--  2.0 unx     9025 b- defN 23-Apr-12 01:49 megfile/utils/__init__.py
 -rw-rw-r--  2.0 unx     2461 b- defN 23-Feb-17 06:43 megfile/utils/mutex.py
--rw-rw-r--  2.0 unx    11357 b- defN 23-Apr-13 01:58 megfile-2.0.4.post1.dist-info/LICENSE
--rw-rw-r--  2.0 unx     1080 b- defN 23-Apr-13 01:58 megfile-2.0.4.post1.dist-info/LICENSE.pyre
--rw-rw-r--  2.0 unx    10146 b- defN 23-Apr-13 01:58 megfile-2.0.4.post1.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 23-Apr-13 01:58 megfile-2.0.4.post1.dist-info/WHEEL
--rw-rw-r--  2.0 unx       50 b- defN 23-Apr-13 01:58 megfile-2.0.4.post1.dist-info/entry_points.txt
--rw-rw-r--  2.0 unx        8 b- defN 23-Apr-13 01:58 megfile-2.0.4.post1.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     3490 b- defN 23-Apr-13 01:58 megfile-2.0.4.post1.dist-info/RECORD
-43 files, 408878 bytes uncompressed, 98361 bytes compressed:  75.9%
+-rw-rw-r--  2.0 unx    11357 b- defN 23-Apr-19 08:31 megfile-2.0.4.post2.dist-info/LICENSE
+-rw-rw-r--  2.0 unx     1080 b- defN 23-Apr-19 08:31 megfile-2.0.4.post2.dist-info/LICENSE.pyre
+-rw-rw-r--  2.0 unx    10146 b- defN 23-Apr-19 08:31 megfile-2.0.4.post2.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 23-Apr-19 08:31 megfile-2.0.4.post2.dist-info/WHEEL
+-rw-rw-r--  2.0 unx       50 b- defN 23-Apr-19 08:31 megfile-2.0.4.post2.dist-info/entry_points.txt
+-rw-rw-r--  2.0 unx        8 b- defN 23-Apr-19 08:31 megfile-2.0.4.post2.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     3490 b- defN 23-Apr-19 08:31 megfile-2.0.4.post2.dist-info/RECORD
+43 files, 409194 bytes uncompressed, 98501 bytes compressed:  75.9%
```

## zipnote {}

```diff
@@ -102,29 +102,29 @@
 
 Filename: megfile/utils/__init__.py
 Comment: 
 
 Filename: megfile/utils/mutex.py
 Comment: 
 
-Filename: megfile-2.0.4.post1.dist-info/LICENSE
+Filename: megfile-2.0.4.post2.dist-info/LICENSE
 Comment: 
 
-Filename: megfile-2.0.4.post1.dist-info/LICENSE.pyre
+Filename: megfile-2.0.4.post2.dist-info/LICENSE.pyre
 Comment: 
 
-Filename: megfile-2.0.4.post1.dist-info/METADATA
+Filename: megfile-2.0.4.post2.dist-info/METADATA
 Comment: 
 
-Filename: megfile-2.0.4.post1.dist-info/WHEEL
+Filename: megfile-2.0.4.post2.dist-info/WHEEL
 Comment: 
 
-Filename: megfile-2.0.4.post1.dist-info/entry_points.txt
+Filename: megfile-2.0.4.post2.dist-info/entry_points.txt
 Comment: 
 
-Filename: megfile-2.0.4.post1.dist-info/top_level.txt
+Filename: megfile-2.0.4.post2.dist-info/top_level.txt
 Comment: 
 
-Filename: megfile-2.0.4.post1.dist-info/RECORD
+Filename: megfile-2.0.4.post2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## megfile/sftp_path.py

```diff
@@ -940,20 +940,24 @@
             stderr=stderr)
 
     def copy(
             self,
             dst_path: PathLike,
             callback: Optional[Callable[[int], None]] = None,
             followlinks: bool = False):
-        '''
-        File copy
-        '''
-        if not is_sftp(dst_path):
-            raise OSError(f'dst_path is not sftp path: {dst_path}')
+        """
+        Copy the file to the given destination path.
 
+        :param dst_path: The destination path to copy the file to.
+        :param callback: An optional callback function that takes an integer parameter and is called
+                        periodically during the copy operation to report the number of bytes copied.
+        :param followlinks: Whether to follow symbolic links when copying directories.
+        :raises IsADirectoryError: If the source is a directory.
+        :raises OSError: If there is an error copying the file.
+        """
         if followlinks and self.is_symlink():
             return self.readlink().copy(dst_path=dst_path, callback=callback)
 
         if self.is_dir():
             raise IsADirectoryError(
                 'Is a directory: %r' % self.path_with_protocol)
 
@@ -978,15 +982,13 @@
                             callback(len(buf))
 
     def sync(self, dst_path: PathLike, followlinks: bool = False):
         '''Copy file/directory on src_url to dst_url
 
         :param dst_url: Given destination path
         '''
-        if not is_sftp(dst_path):
-            raise OSError(f'dst_path is not sftp path: {dst_path}')
         for src_file_path, dst_file_path in _sftp_scan_pairs(
                 self.path_with_protocol, dst_path):
             self.from_path(os.path.dirname(dst_file_path)).mkdir(
                 parents=True, exist_ok=True)
             self.from_path(src_file_path).copy(
                 dst_file_path, followlinks=followlinks)
```

## megfile/version.py

```diff
@@ -1 +1 @@
-VERSION = "2.0.4.post1"
+VERSION = "2.0.4.post2"
```

## Comparing `megfile-2.0.4.post1.dist-info/LICENSE` & `megfile-2.0.4.post2.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `megfile-2.0.4.post1.dist-info/LICENSE.pyre` & `megfile-2.0.4.post2.dist-info/LICENSE.pyre`

 * *Files identical despite different names*

## Comparing `megfile-2.0.4.post1.dist-info/METADATA` & `megfile-2.0.4.post2.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: megfile
-Version: 2.0.4.post1
+Version: 2.0.4.post2
 Summary: Megvii file operation library
 Home-page: https://github.com/megvii-research/megfile
 Author: megvii
 Author-email: megfile@megvii.com
 License: UNKNOWN
 Platform: UNKNOWN
 Classifier: Development Status :: 4 - Beta
```

## Comparing `megfile-2.0.4.post1.dist-info/RECORD` & `megfile-2.0.4.post2.dist-info/RECORD`

 * *Files 4% similar despite different names*

```diff
@@ -6,20 +6,20 @@
 megfile/http.py,sha256=EtyFazgenIhEvkwMpX6ga32POKUG21969Y2cRQbFn58,1852
 megfile/http_path.py,sha256=up1gB0Yk1a3ZbmHoJV-XWzOTiKh66hmm5p_Kzy3GMHo,4483
 megfile/interfaces.py,sha256=sRLQxyucY8f3Y5_7g6h8qHDZ8xLoTbcWu-Ofh15mlDc,6181
 megfile/pathlike.py,sha256=EKVSfr13IFYTyUIfkTxzli93UJXkxtTH3IXdv946DhE,28741
 megfile/s3.py,sha256=hlXqQvZuXuDJbLjsrK23LD25cblThO9f-r78eWFsYZ8,12456
 megfile/s3_path.py,sha256=ZvJeTO7XPfVgWmB0Z8FqdWWWJWHO3aspEOeD6N1CLqU,84371
 megfile/sftp.py,sha256=3BcPcIW2QLhKDs7Bn6m3O5pH9NVr2m0EYn6KudQNinc,11369
-megfile/sftp_path.py,sha256=gSGyL0dgYuv8gO_62i9u1IBex2gw75KAUfwf3BmaokM,39883
+megfile/sftp_path.py,sha256=Qp8AVnDmVJI4Dtofqbbo3PI7FzpOnnXpQIsX4wziT8o,40199
 megfile/smart.py,sha256=cqCBMuXw6Ljc3HrYaebjE7XoO9DEWw0gOVfR-TrQGGs,30429
 megfile/smart_path.py,sha256=OPFfRgv-wtdSgakt7eN01d3Sne4qGNe4_nL_9a4AyzA,6613
 megfile/stdio.py,sha256=DmSdL-f1A0SBoOBFhOqZSaHk5MuZVWRyUZJlYpzRppA,521
 megfile/stdio_path.py,sha256=g2Sv7tOkYNANK_vAN7p6oxTvr3MOEM1gwEpHkha9PFg,2634
-megfile/version.py,sha256=2bzTX_0X7G_6Fn8uxUYm4ZKeosPCARMEMZHLTvvxLH0,25
+megfile/version.py,sha256=5Ns42Ibmoy5mbsuktzzFfe5hbP2KuvwpXuLKS5eOjXM,25
 megfile/lib/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 megfile/lib/combine_reader.py,sha256=nOQ7kJhQwwIqA8thZE7red7AjmVpwMhLrzIq4y84StI,4466
 megfile/lib/compat.py,sha256=ro07M9GU9hmqnSBu-IV13qKQQ9ktiMNDxaGGw9I9W3k,228
 megfile/lib/fnmatch.py,sha256=HgdlnEWBsdFUOZqnW_v1kj1jeH_9lMcCqW85pyMu4vM,4054
 megfile/lib/glob.py,sha256=XOENsZS5aLJk1WDqDkBJl62CICxgarmqlKjCAWvixMg,9478
 megfile/lib/joinpath.py,sha256=D4Px6-lnDDpYs1LMUHkTIGqMPJQ0oCBGfTzREs373iU,929
 megfile/lib/lazy_handler.py,sha256=FFyVO4OdG9Hi0j0moELW2z8Nq8D3f3PGEROM6IKCwUM,1801
@@ -30,14 +30,14 @@
 megfile/lib/s3_pipe_handler.py,sha256=6r0rmLQp6VlJ4ZpBAvurfkaY0-qxKIuNpi5wMe1sDJ4,3404
 megfile/lib/s3_prefetch_reader.py,sha256=zSd_gmpDtQCDA-Rrh7Nxh2WOb0Z8Q1QZZg1g7WO6JNg,15053
 megfile/lib/s3_share_cache_reader.py,sha256=q3MVEDUgOvalO7js6S_LWQ-eJS4xFHiio8ZoJZt40e4,3791
 megfile/lib/shadow_handler.py,sha256=qbew6o1FLv4WKY6xAK05Ei9jQpNUK_E06iSIU_2AE0o,2569
 megfile/lib/stdio_handler.py,sha256=M9mAfG7EUR8a4yL-BwcU_025BVwNC0iI_lSIA8xNVa8,1930
 megfile/utils/__init__.py,sha256=gWplPIHzpSqV9AiQiRvUrBCkD737caNYyudsgwQBbKk,9025
 megfile/utils/mutex.py,sha256=BE16gbmZxr0RgU0ULaAFVDTZGwiOA-Jven-fDeG3ltQ,2461
-megfile-2.0.4.post1.dist-info/LICENSE,sha256=WNHhf_5RCaeuKWyq_K39vmp9F28LxKsB4SpomwSZ2L0,11357
-megfile-2.0.4.post1.dist-info/LICENSE.pyre,sha256=9lf5nT-5ZH25JijpYAequ0bl8E8z5JmZB1qrjiUMp84,1080
-megfile-2.0.4.post1.dist-info/METADATA,sha256=vY5RYbsWKmkIXHdnMu9SZ6coaKRSeJQ6FjoTJrCPt6M,10146
-megfile-2.0.4.post1.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-megfile-2.0.4.post1.dist-info/entry_points.txt,sha256=O8y31sCLdgUkNujumqaC4GDjJDOq55SJQ_uc7s1FeYw,50
-megfile-2.0.4.post1.dist-info/top_level.txt,sha256=i3rMgdU1ZAJekAceojhA-bkm3749PzshtRmLTbeLUPQ,8
-megfile-2.0.4.post1.dist-info/RECORD,,
+megfile-2.0.4.post2.dist-info/LICENSE,sha256=WNHhf_5RCaeuKWyq_K39vmp9F28LxKsB4SpomwSZ2L0,11357
+megfile-2.0.4.post2.dist-info/LICENSE.pyre,sha256=9lf5nT-5ZH25JijpYAequ0bl8E8z5JmZB1qrjiUMp84,1080
+megfile-2.0.4.post2.dist-info/METADATA,sha256=y80WxBxAWLzEQ4MP3tcLUTX70JWuk6HvalybxBfQ4eQ,10146
+megfile-2.0.4.post2.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
+megfile-2.0.4.post2.dist-info/entry_points.txt,sha256=O8y31sCLdgUkNujumqaC4GDjJDOq55SJQ_uc7s1FeYw,50
+megfile-2.0.4.post2.dist-info/top_level.txt,sha256=i3rMgdU1ZAJekAceojhA-bkm3749PzshtRmLTbeLUPQ,8
+megfile-2.0.4.post2.dist-info/RECORD,,
```

