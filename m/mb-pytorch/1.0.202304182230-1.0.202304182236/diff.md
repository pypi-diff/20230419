# Comparing `tmp/mb_pytorch-1.0.202304182230-py3-none-any.whl.zip` & `tmp/mb_pytorch-1.0.202304182236-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,9 +1,9 @@
-Zip file size: 32066 bytes, number of entries: 37
--rw-rw-r--  2.0 unx     5055 b- defN 23-Apr-18 22:30 mb_pytorch/classification/training.py
+Zip file size: 32007 bytes, number of entries: 37
+-rw-rw-r--  2.0 unx     4967 b- defN 23-Apr-18 22:35 mb_pytorch/classification/training.py
 -rw-rw-r--  2.0 unx       44 b- defN 23-Mar-16 11:39 mb_pytorch/dataloader/__init__.py
 -rw-rw-r--  2.0 unx    12157 b- defN 23-Apr-14 17:23 mb_pytorch/dataloader/loader.py
 -rw-rw-r--  2.0 unx        0 b- defN 23-Feb-23 13:56 mb_pytorch/metalearning/__init__.py
 -rw-rw-r--  2.0 unx     1385 b- defN 23-Mar-02 03:28 mb_pytorch/metalearning/meta_utils.py
 -rw-rw-r--  2.0 unx     1030 b- defN 23-Mar-15 02:58 mb_pytorch/metalearning/proto_dataloader.py
 -rw-rw-r--  2.0 unx     2861 b- defN 23-Mar-03 23:55 mb_pytorch/metalearning/prototypical.py
 -rw-rw-r--  2.0 unx        0 b- defN 23-Mar-31 19:54 mb_pytorch/models/__init__.py
@@ -24,16 +24,16 @@
 -rw-rw-r--  2.0 unx        0 b- defN 23-Feb-23 13:56 mb_pytorch/utils/__init__.py
 -rw-rw-r--  2.0 unx     1055 b- defN 23-Mar-17 02:23 mb_pytorch/utils/compiler.py
 -rw-rw-r--  2.0 unx      257 b- defN 23-Mar-01 22:55 mb_pytorch/utils/dist.py
 -rw-rw-r--  2.0 unx     3391 b- defN 23-Apr-11 23:28 mb_pytorch/utils/extra_utils.py
 -rw-rw-r--  2.0 unx     7178 b- defN 23-Mar-15 02:58 mb_pytorch/utils/generate_emb.py
 -rw-rw-r--  2.0 unx     2582 b- defN 23-Apr-03 19:30 mb_pytorch/utils/losses.py
 -rw-rw-r--  2.0 unx     1199 b- defN 23-Apr-04 20:14 mb_pytorch/utils/metrics.py
--rw-rw-r--  2.0 unx     8997 b- defN 23-Apr-18 22:21 mb_pytorch/utils/viewer.py
+-rw-rw-r--  2.0 unx     8711 b- defN 23-Apr-18 22:35 mb_pytorch/utils/viewer.py
 -rw-rw-r--  2.0 unx      994 b- defN 23-Mar-06 13:11 mb_pytorch/utils/yaml_reader.py
--rwxrwxr-x  2.0 unx     1304 b- defN 23-Apr-18 22:30 mb_pytorch-1.0.202304182230.data/scripts/dataload_results.py
--rwxrwxr-x  2.0 unx      980 b- defN 23-Mar-15 02:59 mb_pytorch-1.0.202304182230.data/scripts/emb.py
--rw-rw-r--  2.0 unx      329 b- defN 23-Apr-18 22:30 mb_pytorch-1.0.202304182230.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 23-Apr-18 22:30 mb_pytorch-1.0.202304182230.dist-info/WHEEL
--rw-rw-r--  2.0 unx       11 b- defN 23-Apr-18 22:30 mb_pytorch-1.0.202304182230.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     3348 b- defN 23-Apr-18 22:30 mb_pytorch-1.0.202304182230.dist-info/RECORD
-37 files, 93798 bytes uncompressed, 26600 bytes compressed:  71.6%
+-rwxrwxr-x  2.0 unx     1304 b- defN 23-Apr-18 22:36 mb_pytorch-1.0.202304182236.data/scripts/dataload_results.py
+-rwxrwxr-x  2.0 unx      980 b- defN 23-Mar-15 02:59 mb_pytorch-1.0.202304182236.data/scripts/emb.py
+-rw-rw-r--  2.0 unx      329 b- defN 23-Apr-18 22:36 mb_pytorch-1.0.202304182236.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 23-Apr-18 22:36 mb_pytorch-1.0.202304182236.dist-info/WHEEL
+-rw-rw-r--  2.0 unx       11 b- defN 23-Apr-18 22:36 mb_pytorch-1.0.202304182236.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     3348 b- defN 23-Apr-18 22:36 mb_pytorch-1.0.202304182236.dist-info/RECORD
+37 files, 93424 bytes uncompressed, 26541 bytes compressed:  71.6%
```

## zipnote {}

```diff
@@ -87,26 +87,26 @@
 
 Filename: mb_pytorch/utils/viewer.py
 Comment: 
 
 Filename: mb_pytorch/utils/yaml_reader.py
 Comment: 
 
-Filename: mb_pytorch-1.0.202304182230.data/scripts/dataload_results.py
+Filename: mb_pytorch-1.0.202304182236.data/scripts/dataload_results.py
 Comment: 
 
-Filename: mb_pytorch-1.0.202304182230.data/scripts/emb.py
+Filename: mb_pytorch-1.0.202304182236.data/scripts/emb.py
 Comment: 
 
-Filename: mb_pytorch-1.0.202304182230.dist-info/METADATA
+Filename: mb_pytorch-1.0.202304182236.dist-info/METADATA
 Comment: 
 
-Filename: mb_pytorch-1.0.202304182230.dist-info/WHEEL
+Filename: mb_pytorch-1.0.202304182236.dist-info/WHEEL
 Comment: 
 
-Filename: mb_pytorch-1.0.202304182230.dist-info/top_level.txt
+Filename: mb_pytorch-1.0.202304182236.dist-info/top_level.txt
 Comment: 
 
-Filename: mb_pytorch-1.0.202304182230.dist-info/RECORD
+Filename: mb_pytorch-1.0.202304182236.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## mb_pytorch/classification/training.py

```diff
@@ -62,32 +62,29 @@
                 x_grad = x[0,:].to('cpu')
                 x_grad = x_grad.unsqueeze(0)
                 y_grad = y[0].to('cpu')
                 use_cuda=False
                 if device.type != 'cpu':
                     use_cuda = True
                 for cam_layers in gradcam:
-                    grad_img = gradcam_viewer(cam_layers,model,x_grad,y_grad,gradcam_rgb=gradcam_rgb,use_cuda=use_cuda)
+                    grad_img = gradcam_viewer(cam_layers,model,x_grad,gradcam_rgb=gradcam_rgb,use_cuda=use_cuda)
                     if grad_img is not None:
                         writer.add_image(f'Gradcam/{cam_layers}',grad_img,global_step=i)
                     if j == 0:
                         if grad_img is None:
                             if logger:
                                 logger.info(f'Gradcam not supported for {cam_layers}')
-            print(x.shape)
-            print('check here')
-                        
-        print(x.shape)
-        print(y.shape)
+            if writer is not None and j==1:
+                create_img_grid(x,y,writer,global_step=i)
+
         avg_train_loss = train_loss / len(train_loader)
         if logger:
             logger.info(f'Epoch {i+1} - Train Loss: {avg_train_loss}')
     
         if writer is not None:
-            create_img_grid(x,y,writer,global_step=i)
             writer.add_graph(model, x)
             writer.add_scalar('Loss/train', avg_train_loss, global_step=i)
             for name, param in model.named_parameters():
                 writer.add_histogram(name, param, global_step=i)
 
         
         #validation loop
```

## mb_pytorch/utils/viewer.py

```diff
@@ -60,31 +60,26 @@
         g_i: Number of rows in the grid
         g_j: Number of columns in the grid
     """
     
     data_read = data[:n_images]
     labels_read = labels[:n_images]
     
-    print(data_read.shape)
     ### Visualize a 3x3 grid
     fig, axes = plt.subplots(g_i, g_j, figsize=(15,15),
             subplot_kw = {'xticks':[], 'yticks':[]},
             gridspec_kw = dict(hspace=0.3, wspace=0.01))
     
     if gray_image:
         for i, ax in enumerate(axes.flat):
-            print(data_read[i].shape)
-            print(data_read[i,0,:,:].shape)
             img_cur = np.array(data_read[i,0,:,:])
             ax.title.set_text(int(labels_read[i]))
             ax.imshow(img_cur, cmap='gray')
     else:
         for i, ax in enumerate(axes.flat):
-            print(data_read[i].shape)
-            print(data_read[i,0,:,:].shape)
             img_cur = np.array(data_read[i])
             img_cur = np.transpose(img_cur, (1, 2, 0))
             ax.title.set_text(int(labels_read[i]))
             ax.imshow(img_cur)
     
     ### Send the figure over to TensorBoard
     t_writer.add_image('grid', plot_to_image(fig), global_step=global_step)
@@ -222,23 +217,21 @@
         cam = heatmap[..., ::-1] + np.float32(img)
     else:
         cam = heatmap[..., 0] * np.float32(img)
     
     cam = cam / np.max(cam)
     return np.uint8(255 * cam)
 
-def gradcam_viewer(gradcam_layer, model, x_grad, y=None,gradcam_rgb=False,use_cuda=False):
+def gradcam_viewer(gradcam_layer, model, x_grad,gradcam_rgb=False,use_cuda=False):
     split_val = gradcam_layer.split('.')[1]
     new_layer_name = 'model.' + split_val
     gradcam_eval = eval(new_layer_name)
     with GradCAM(model=model,target_layers=[gradcam_eval],use_cuda=use_cuda) as cm: 
         try:
             if split_val == 'classifier' or 'fc':
-                cr = cm(input_tensor=x_grad, target_category=y)[0,:]
-            else:
                 cr = cm(input_tensor=x_grad)[0,:]
         except:
             cr = None
             return cr
         if cr is not None:        
             cam_img = new_show_cam_on_image(x_grad[0].numpy(),cr,use_rgb=gradcam_rgb)
     return cam_img
```

## Comparing `mb_pytorch-1.0.202304182230.data/scripts/dataload_results.py` & `mb_pytorch-1.0.202304182236.data/scripts/dataload_results.py`

 * *Files identical despite different names*

## Comparing `mb_pytorch-1.0.202304182230.data/scripts/emb.py` & `mb_pytorch-1.0.202304182236.data/scripts/emb.py`

 * *Files identical despite different names*

## Comparing `mb_pytorch-1.0.202304182230.dist-info/RECORD` & `mb_pytorch-1.0.202304182236.dist-info/RECORD`

 * *Files 9% similar despite different names*

```diff
@@ -1,8 +1,8 @@
-mb_pytorch/classification/training.py,sha256=JLQ3IF7Mc7WyHa9Vjahu-lYUwhl77dKHd1h1FNyif-U,5055
+mb_pytorch/classification/training.py,sha256=WKXrzBotCdeyGvQEpGqXpfV31LLGE88l6G_CRIzCp1A,4967
 mb_pytorch/dataloader/__init__.py,sha256=nB0xPAHbI91Ra1dDkWR1l4td5A4k9xko-I5Jdgv5apI,44
 mb_pytorch/dataloader/loader.py,sha256=oD73gXl4LP1ValUsNrtNySexiKjx1CvZPHNqWTC3c-g,12157
 mb_pytorch/metalearning/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 mb_pytorch/metalearning/meta_utils.py,sha256=mgHYiQIIcYQ1pVTJcrjquSXpQstdYD1q8iXO09Zao1s,1385
 mb_pytorch/metalearning/proto_dataloader.py,sha256=WvrfZYkYMxorocCkR_zHS_AC8W_ML9YndB-P6evkdcc,1030
 mb_pytorch/metalearning/prototypical.py,sha256=qFVf6VF3s8zskGqbM3geJV-dfkdO3tRaf3P8U_KR-cE,2861
 mb_pytorch/models/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
@@ -23,15 +23,15 @@
 mb_pytorch/utils/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 mb_pytorch/utils/compiler.py,sha256=ixu-wc--ykhsjXTZINw34MLmZFg7L-dLkYs7p-nn6i4,1055
 mb_pytorch/utils/dist.py,sha256=7-ZdntmiugRWYnT5wileo8mYTuV1dbjVl4ffJsfnfAw,257
 mb_pytorch/utils/extra_utils.py,sha256=-MaT-x3gwgEOVLpg-tWm5yLFtI0CxpV0QUlXx-rqu08,3391
 mb_pytorch/utils/generate_emb.py,sha256=2iK8wRIrYfaLpEgjdbFnDqGU5ux-1JhncQoeboW_6LQ,7178
 mb_pytorch/utils/losses.py,sha256=OLCPLkJH46IofSSVly2xdcklVv7Q5OFFEGtVrJcV7V0,2582
 mb_pytorch/utils/metrics.py,sha256=Kqmdu9llSjR8aRp3IVlmy6PqeQexf0ZXjTJUcEtvcfI,1199
-mb_pytorch/utils/viewer.py,sha256=ilXy4RiDBGTnH-KiB0EO853Iwmf1PvbGjAvVj5y74t0,8997
+mb_pytorch/utils/viewer.py,sha256=q9xBQ9Hq7t8MsrGT2Qk-XiN7uTO9FtL-BS9VyYmm708,8711
 mb_pytorch/utils/yaml_reader.py,sha256=Azgr_5qttsH_BBVsCtfccFMvK6IEjTRYhd5qp4S5uzk,994
-mb_pytorch-1.0.202304182230.data/scripts/dataload_results.py,sha256=8IFAH7WX-nSJ7V532rr3Cl7R37v0jhSakw0JCd9dalE,1304
-mb_pytorch-1.0.202304182230.data/scripts/emb.py,sha256=5jSbTGNOhusDTvHZeaTwk4pmJa4HIdkRGd98s0L4Rl0,980
-mb_pytorch-1.0.202304182230.dist-info/METADATA,sha256=VZ7PBkLIQRZNAy4qoMj15dXxcyvKFEf_rcz78ESsnTo,329
-mb_pytorch-1.0.202304182230.dist-info/WHEEL,sha256=g4nMs7d-Xl9-xC9XovUrsDHGXt-FT0E17Yqo92DEfvY,92
-mb_pytorch-1.0.202304182230.dist-info/top_level.txt,sha256=2m_aBiEfjq3pZM2NtYSlTqlgoQxH6WaK8_8SsRicIvg,11
-mb_pytorch-1.0.202304182230.dist-info/RECORD,,
+mb_pytorch-1.0.202304182236.data/scripts/dataload_results.py,sha256=8IFAH7WX-nSJ7V532rr3Cl7R37v0jhSakw0JCd9dalE,1304
+mb_pytorch-1.0.202304182236.data/scripts/emb.py,sha256=5jSbTGNOhusDTvHZeaTwk4pmJa4HIdkRGd98s0L4Rl0,980
+mb_pytorch-1.0.202304182236.dist-info/METADATA,sha256=Bh1qjGDMIPIc-iDfS6PzUph7asQBse5H4D54UWQqAYU,329
+mb_pytorch-1.0.202304182236.dist-info/WHEEL,sha256=g4nMs7d-Xl9-xC9XovUrsDHGXt-FT0E17Yqo92DEfvY,92
+mb_pytorch-1.0.202304182236.dist-info/top_level.txt,sha256=2m_aBiEfjq3pZM2NtYSlTqlgoQxH6WaK8_8SsRicIvg,11
+mb_pytorch-1.0.202304182236.dist-info/RECORD,,
```

