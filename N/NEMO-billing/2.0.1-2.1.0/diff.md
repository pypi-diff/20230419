# Comparing `tmp/NEMO_billing-2.0.1-py3-none-any.whl.zip` & `tmp/NEMO_billing-2.1.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,128 +1,129 @@
-Zip file size: 156358 bytes, number of entries: 126
--rw-r--r--  2.0 unx        0 b- defN 23-Apr-13 01:51 NEMO_billing/__init__.py
--rw-r--r--  2.0 unx    11303 b- defN 23-Apr-13 01:51 NEMO_billing/admin.py
--rw-r--r--  2.0 unx     1368 b- defN 23-Apr-13 01:51 NEMO_billing/api.py
--rw-r--r--  2.0 unx      285 b- defN 23-Apr-13 01:51 NEMO_billing/app_settings.py
--rw-r--r--  2.0 unx      426 b- defN 23-Apr-13 01:51 NEMO_billing/apps.py
--rw-r--r--  2.0 unx      199 b- defN 23-Apr-13 01:51 NEMO_billing/decorators.py
--rw-r--r--  2.0 unx      122 b- defN 23-Apr-13 01:51 NEMO_billing/exceptions.py
--rw-r--r--  2.0 unx     4612 b- defN 23-Apr-13 01:51 NEMO_billing/models.py
--rw-r--r--  2.0 unx     1126 b- defN 23-Apr-13 01:51 NEMO_billing/urls.py
--rw-r--r--  2.0 unx      417 b- defN 23-Apr-13 01:51 NEMO_billing/utilities.py
--rw-r--r--  2.0 unx     7757 b- defN 23-Apr-13 01:51 NEMO_billing/views.py
--rw-r--r--  2.0 unx        0 b- defN 23-Apr-13 01:51 NEMO_billing/cap_discount/__init__.py
--rw-r--r--  2.0 unx     5307 b- defN 23-Apr-13 01:51 NEMO_billing/cap_discount/admin.py
--rw-r--r--  2.0 unx      102 b- defN 23-Apr-13 01:51 NEMO_billing/cap_discount/app_settings.py
--rw-r--r--  2.0 unx      436 b- defN 23-Apr-13 01:51 NEMO_billing/cap_discount/apps.py
--rw-r--r--  2.0 unx     2991 b- defN 23-Apr-13 01:51 NEMO_billing/cap_discount/customization.py
--rw-r--r--  2.0 unx      446 b- defN 23-Apr-13 01:51 NEMO_billing/cap_discount/exceptions.py
--rw-r--r--  2.0 unx    16857 b- defN 23-Apr-13 01:51 NEMO_billing/cap_discount/models.py
--rw-r--r--  2.0 unx    20261 b- defN 23-Apr-13 01:51 NEMO_billing/cap_discount/processors.py
--rw-r--r--  2.0 unx      461 b- defN 23-Apr-13 01:51 NEMO_billing/cap_discount/urls.py
--rw-r--r--  2.0 unx     1280 b- defN 23-Apr-13 01:51 NEMO_billing/cap_discount/views.py
--rw-r--r--  2.0 unx     7594 b- defN 23-Apr-13 01:51 NEMO_billing/cap_discount/migrations/0001_initial.py
--rw-r--r--  2.0 unx     1665 b- defN 23-Apr-13 01:51 NEMO_billing/cap_discount/migrations/0002_version_2_0_0.py
--rw-r--r--  2.0 unx        0 b- defN 23-Apr-13 01:51 NEMO_billing/cap_discount/migrations/__init__.py
--rw-rw-rw-  2.0 unx     1664 b- defN 23-Apr-13 01:51 NEMO_billing/cap_discount/templates/cap_discount/usage_cap_discounts.html
--rw-rw-rw-  2.0 unx     4068 b- defN 23-Apr-13 01:51 NEMO_billing/cap_discount/templates/customizations/customizations_cap_discount.html
--rw-r--r--  2.0 unx        0 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/__init__.py
--rw-r--r--  2.0 unx    10232 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/admin.py
--rw-r--r--  2.0 unx     5485 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/api.py
--rw-r--r--  2.0 unx      176 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/app_settings.py
--rw-r--r--  2.0 unx      437 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/apps.py
--rw-r--r--  2.0 unx     4397 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/customization.py
--rw-r--r--  2.0 unx     2642 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/exceptions.py
--rw-r--r--  2.0 unx    22806 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/models.py
--rw-r--r--  2.0 unx    12477 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/pdf_utilities.py
--rw-r--r--  2.0 unx    27341 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/processors.py
--rw-r--r--  2.0 unx    25415 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/renderers.py
--rw-r--r--  2.0 unx     2859 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/urls.py
--rw-r--r--  2.0 unx     4235 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/utilities.py
--rw-r--r--  2.0 unx        0 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/management/__init__.py
--rw-r--r--  2.0 unx        0 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/management/commands/__init__.py
--rw-r--r--  2.0 unx      298 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/management/commands/deactivate_expired_projects.py
--rw-r--r--  2.0 unx      318 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/management/commands/send_invoice_payment_reminder.py
--rw-r--r--  2.0 unx     9795 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/migrations/0001_initial.py
--rw-r--r--  2.0 unx     2781 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/migrations/0002_version_1_2_0.py
--rw-r--r--  2.0 unx     1063 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/migrations/0003_version_1_4_0.py
--rw-r--r--  2.0 unx      467 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/migrations/0004_version_1_6_0.py
--rw-r--r--  2.0 unx      485 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/migrations/0005_version_1_6_1.py
--rw-r--r--  2.0 unx      518 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/migrations/0006_version_1_7_1.py
--rw-r--r--  2.0 unx      458 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/migrations/0007_version_1_8_0.py
--rw-r--r--  2.0 unx      437 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/migrations/0008_version_1_10_0.py
--rw-r--r--  2.0 unx     1183 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/migrations/0009_version_1_23_0.py
--rw-r--r--  2.0 unx      439 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/migrations/0010_version_2_0_0.py
--rw-r--r--  2.0 unx        0 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/migrations/__init__.py
--rw-rw-rw-  2.0 unx     1030 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/static/invoices/invoices.css
--rw-rw-rw-  2.0 unx     4924 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/templates/customizations/customizations_billing.html
--rw-rw-rw-  2.0 unx     8157 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/templates/customizations/customizations_invoices.html
--rw-rw-rw-  2.0 unx      212 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/templates/invoices/base.html
--rw-rw-rw-  2.0 unx    12867 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/templates/invoices/invoice.html
--rw-rw-rw-  2.0 unx     3375 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/templates/invoices/invoice_details.html
--rw-rw-rw-  2.0 unx    12238 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/templates/invoices/invoices.html
--rw-rw-rw-  2.0 unx     9831 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/templates/invoices/usage.html
--rw-rw-rw-  2.0 unx     1274 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/templates/invoices/email/billing_project_expiration_reminder_email_message.html
--rw-rw-rw-  2.0 unx      173 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/templates/invoices/email/billing_project_expiration_reminder_email_subject.txt
--rw-rw-rw-  2.0 unx     1330 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/templates/invoices/email/email_send_invoice_message.html
--rw-rw-rw-  2.0 unx     1344 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/templates/invoices/email/email_send_invoice_reminder_message.html
--rw-rw-rw-  2.0 unx      155 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/templates/invoices/email/email_send_invoice_reminder_subject.txt
--rw-rw-rw-  2.0 unx      155 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/templates/invoices/email/email_send_invoice_subject.txt
--rw-rw-rw-  2.0 unx    11496 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/templates/invoices/project/edit_project.html
--rw-rw-rw-  2.0 unx     3069 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/templates/invoices/project/view_project_additional_info.html
--rw-r--r--  2.0 unx        0 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/views/__init__.py
--rw-r--r--  2.0 unx    18824 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/views/invoices.py
--rw-r--r--  2.0 unx     6749 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/views/project.py
--rw-r--r--  2.0 unx     9105 b- defN 23-Apr-13 01:51 NEMO_billing/invoices/views/usage.py
--rw-r--r--  2.0 unx     3156 b- defN 23-Apr-13 01:51 NEMO_billing/migrations/0001_initial.py
--rw-r--r--  2.0 unx      573 b- defN 23-Apr-13 01:51 NEMO_billing/migrations/0002_version_1_2_0.py
--rw-r--r--  2.0 unx      466 b- defN 23-Apr-13 01:51 NEMO_billing/migrations/0003_version_2_0_0.py
--rw-r--r--  2.0 unx        0 b- defN 23-Apr-13 01:51 NEMO_billing/migrations/__init__.py
--rw-r--r--  2.0 unx        1 b- defN 23-Apr-13 01:51 NEMO_billing/rates/__init__.py
--rw-r--r--  2.0 unx     8665 b- defN 23-Apr-13 01:51 NEMO_billing/rates/admin.py
--rw-r--r--  2.0 unx     1935 b- defN 23-Apr-13 01:51 NEMO_billing/rates/api.py
--rw-r--r--  2.0 unx      100 b- defN 23-Apr-13 01:51 NEMO_billing/rates/app_settings.py
--rw-r--r--  2.0 unx      707 b- defN 23-Apr-13 01:51 NEMO_billing/rates/apps.py
--rw-r--r--  2.0 unx      489 b- defN 23-Apr-13 01:51 NEMO_billing/rates/customization.py
--rw-r--r--  2.0 unx     1913 b- defN 23-Apr-13 01:51 NEMO_billing/rates/model_diff.py
--rw-r--r--  2.0 unx    22269 b- defN 23-Apr-13 01:51 NEMO_billing/rates/models.py
--rw-r--r--  2.0 unx     4042 b- defN 23-Apr-13 01:51 NEMO_billing/rates/rates_class.py
--rw-r--r--  2.0 unx      777 b- defN 23-Apr-13 01:51 NEMO_billing/rates/urls.py
--rw-r--r--  2.0 unx    12329 b- defN 23-Apr-13 01:51 NEMO_billing/rates/views.py
--rw-r--r--  2.0 unx     5101 b- defN 23-Apr-13 01:51 NEMO_billing/rates/migrations/0001_initial.py
--rw-r--r--  2.0 unx      602 b- defN 23-Apr-13 01:51 NEMO_billing/rates/migrations/0002_version_1_15_0.py
--rw-r--r--  2.0 unx     1999 b- defN 23-Apr-13 01:51 NEMO_billing/rates/migrations/0003_version_1_17_0.py
--rw-r--r--  2.0 unx      421 b- defN 23-Apr-13 01:51 NEMO_billing/rates/migrations/0004_version_2_0_0.py
--rw-r--r--  2.0 unx        0 b- defN 23-Apr-13 01:51 NEMO_billing/rates/migrations/__init__.py
--rw-rw-rw-  2.0 unx       81 b- defN 23-Apr-13 01:51 NEMO_billing/rates/static/rates/rates.css
--rw-rw-rw-  2.0 unx     1242 b- defN 23-Apr-13 01:51 NEMO_billing/rates/templates/customizations/customizations_billing_rates.html
--rw-rw-rw-  2.0 unx      160 b- defN 23-Apr-13 01:51 NEMO_billing/rates/templates/rates/base.html
--rw-rw-rw-  2.0 unx     6047 b- defN 23-Apr-13 01:51 NEMO_billing/rates/templates/rates/rate.html
--rw-rw-rw-  2.0 unx     4968 b- defN 23-Apr-13 01:51 NEMO_billing/rates/templates/rates/rate_form_details.html
--rw-rw-rw-  2.0 unx     4602 b- defN 23-Apr-13 01:51 NEMO_billing/rates/templates/rates/rates.html
--rw-rw-rw-  2.0 unx      192 b- defN 23-Apr-13 01:51 NEMO_billing/templates/base/navbar.html
--rw-rw-rw-  2.0 unx      461 b- defN 23-Apr-13 01:51 NEMO_billing/templates/base/navbar_billing.html
--rw-rw-rw-  2.0 unx     8882 b- defN 23-Apr-13 01:51 NEMO_billing/templates/billing/custom_charge.html
--rw-rw-rw-  2.0 unx     1856 b- defN 23-Apr-13 01:51 NEMO_billing/templates/billing/custom_charges.html
--rw-rw-rw-  2.0 unx     1259 b- defN 23-Apr-13 01:51 NEMO_billing/templates/staff_charges/choose_project.html
--rw-rw-rw-  2.0 unx     1979 b- defN 23-Apr-13 01:51 NEMO_billing/templates/staff_charges/new_custom_staff_charge.html
--rw-r--r--  2.0 unx        0 b- defN 23-Apr-13 01:51 NEMO_billing/templatetags/__init__.py
--rw-r--r--  2.0 unx     1013 b- defN 23-Apr-13 01:51 NEMO_billing/templatetags/billing_tags.py
--rw-r--r--  2.0 unx        0 b- defN 23-Apr-13 01:51 NEMO_billing/tests/__init__.py
--rw-r--r--  2.0 unx     3047 b- defN 23-Apr-13 01:51 NEMO_billing/tests/test_settings.py
--rw-r--r--  2.0 unx     1472 b- defN 23-Apr-13 01:51 NEMO_billing/tests/test_urls.py
--rw-r--r--  2.0 unx     1094 b- defN 23-Apr-13 01:51 NEMO_billing/tests/test_utilities.py
--rw-r--r--  2.0 unx        0 b- defN 23-Apr-13 01:51 NEMO_billing/tests/cap/__init__.py
--rw-r--r--  2.0 unx    19023 b- defN 23-Apr-13 01:51 NEMO_billing/tests/cap/test_cap_discount.py
--rw-r--r--  2.0 unx    29198 b- defN 23-Apr-13 01:51 NEMO_billing/tests/cap/test_cap_invoicing.py
--rw-r--r--  2.0 unx     4252 b- defN 23-Apr-13 01:51 NEMO_billing/tests/cap/test_cap_utilities.py
--rw-r--r--  2.0 unx        0 b- defN 23-Apr-13 01:51 NEMO_billing/tests/rates/__init__.py
--rw-r--r--  2.0 unx    26426 b- defN 23-Apr-13 01:51 NEMO_billing/tests/rates/test_rate_amount.py
--rw-r--r--  2.0 unx    20895 b- defN 23-Apr-13 01:51 NEMO_billing/tests/rates/test_rate_time.py
--rw-r--r--  2.0 unx     6164 b- defN 23-Apr-13 01:51 NEMO_billing/tests/rates/test_rate_uniqueness.py
--rw-r--r--  2.0 unx    27008 b- defN 23-Apr-13 01:51 NEMO_billing/tests/rates/test_split_billables.py
--rw-rw-rw-  2.0 unx     1074 b- defN 23-Apr-13 01:52 NEMO_billing-2.0.1.dist-info/LICENSE
--rw-r--r--  2.0 unx     5343 b- defN 23-Apr-13 01:52 NEMO_billing-2.0.1.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Apr-13 01:52 NEMO_billing-2.0.1.dist-info/WHEEL
--rw-r--r--  2.0 unx       13 b- defN 23-Apr-13 01:52 NEMO_billing-2.0.1.dist-info/top_level.txt
--rw-rw-r--  2.0 unx    12665 b- defN 23-Apr-13 01:52 NEMO_billing-2.0.1.dist-info/RECORD
-126 files, 589852 bytes uncompressed, 135554 bytes compressed:  77.0%
+Zip file size: 157314 bytes, number of entries: 127
+-rw-r--r--  2.0 unx        0 b- defN 23-Apr-18 23:40 NEMO_billing/__init__.py
+-rw-r--r--  2.0 unx    11303 b- defN 23-Apr-18 23:40 NEMO_billing/admin.py
+-rw-r--r--  2.0 unx     1218 b- defN 23-Apr-18 23:40 NEMO_billing/api.py
+-rw-r--r--  2.0 unx      285 b- defN 23-Apr-18 23:40 NEMO_billing/app_settings.py
+-rw-r--r--  2.0 unx      426 b- defN 23-Apr-18 23:40 NEMO_billing/apps.py
+-rw-r--r--  2.0 unx      199 b- defN 23-Apr-18 23:40 NEMO_billing/decorators.py
+-rw-r--r--  2.0 unx      122 b- defN 23-Apr-18 23:40 NEMO_billing/exceptions.py
+-rw-r--r--  2.0 unx     4612 b- defN 23-Apr-18 23:40 NEMO_billing/models.py
+-rw-r--r--  2.0 unx     1126 b- defN 23-Apr-18 23:40 NEMO_billing/urls.py
+-rw-r--r--  2.0 unx      417 b- defN 23-Apr-18 23:40 NEMO_billing/utilities.py
+-rw-r--r--  2.0 unx     7757 b- defN 23-Apr-18 23:40 NEMO_billing/views.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Apr-18 23:40 NEMO_billing/cap_discount/__init__.py
+-rw-r--r--  2.0 unx     5307 b- defN 23-Apr-18 23:40 NEMO_billing/cap_discount/admin.py
+-rw-r--r--  2.0 unx      102 b- defN 23-Apr-18 23:40 NEMO_billing/cap_discount/app_settings.py
+-rw-r--r--  2.0 unx      436 b- defN 23-Apr-18 23:40 NEMO_billing/cap_discount/apps.py
+-rw-r--r--  2.0 unx     2991 b- defN 23-Apr-18 23:40 NEMO_billing/cap_discount/customization.py
+-rw-r--r--  2.0 unx      446 b- defN 23-Apr-18 23:40 NEMO_billing/cap_discount/exceptions.py
+-rw-r--r--  2.0 unx    16857 b- defN 23-Apr-18 23:40 NEMO_billing/cap_discount/models.py
+-rw-r--r--  2.0 unx    20261 b- defN 23-Apr-18 23:40 NEMO_billing/cap_discount/processors.py
+-rw-r--r--  2.0 unx      461 b- defN 23-Apr-18 23:40 NEMO_billing/cap_discount/urls.py
+-rw-r--r--  2.0 unx     1280 b- defN 23-Apr-18 23:40 NEMO_billing/cap_discount/views.py
+-rw-r--r--  2.0 unx     7594 b- defN 23-Apr-18 23:40 NEMO_billing/cap_discount/migrations/0001_initial.py
+-rw-r--r--  2.0 unx     1665 b- defN 23-Apr-18 23:40 NEMO_billing/cap_discount/migrations/0002_version_2_0_0.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Apr-18 23:40 NEMO_billing/cap_discount/migrations/__init__.py
+-rw-rw-rw-  2.0 unx     1664 b- defN 23-Apr-18 23:40 NEMO_billing/cap_discount/templates/cap_discount/usage_cap_discounts.html
+-rw-rw-rw-  2.0 unx     4068 b- defN 23-Apr-18 23:40 NEMO_billing/cap_discount/templates/customizations/customizations_cap_discount.html
+-rw-r--r--  2.0 unx        0 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/__init__.py
+-rw-r--r--  2.0 unx    10232 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/admin.py
+-rw-r--r--  2.0 unx     5429 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/api.py
+-rw-r--r--  2.0 unx      176 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/app_settings.py
+-rw-r--r--  2.0 unx      437 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/apps.py
+-rw-r--r--  2.0 unx     4397 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/customization.py
+-rw-r--r--  2.0 unx     2642 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/exceptions.py
+-rw-r--r--  2.0 unx    22806 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/models.py
+-rw-r--r--  2.0 unx    12477 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/pdf_utilities.py
+-rw-r--r--  2.0 unx    27259 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/processors.py
+-rw-r--r--  2.0 unx    25415 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/renderers.py
+-rw-r--r--  2.0 unx     2859 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/urls.py
+-rw-r--r--  2.0 unx     4235 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/utilities.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/management/__init__.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/management/commands/__init__.py
+-rw-r--r--  2.0 unx      298 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/management/commands/deactivate_expired_projects.py
+-rw-r--r--  2.0 unx      318 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/management/commands/send_invoice_payment_reminder.py
+-rw-r--r--  2.0 unx     9795 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/migrations/0001_initial.py
+-rw-r--r--  2.0 unx     2781 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/migrations/0002_version_1_2_0.py
+-rw-r--r--  2.0 unx     1063 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/migrations/0003_version_1_4_0.py
+-rw-r--r--  2.0 unx      467 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/migrations/0004_version_1_6_0.py
+-rw-r--r--  2.0 unx      485 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/migrations/0005_version_1_6_1.py
+-rw-r--r--  2.0 unx      518 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/migrations/0006_version_1_7_1.py
+-rw-r--r--  2.0 unx      458 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/migrations/0007_version_1_8_0.py
+-rw-r--r--  2.0 unx      437 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/migrations/0008_version_1_10_0.py
+-rw-r--r--  2.0 unx     1183 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/migrations/0009_version_1_23_0.py
+-rw-r--r--  2.0 unx      439 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/migrations/0010_version_2_0_0.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/migrations/__init__.py
+-rw-rw-rw-  2.0 unx     1030 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/static/invoices/invoices.css
+-rw-rw-rw-  2.0 unx     4924 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/templates/customizations/customizations_billing.html
+-rw-rw-rw-  2.0 unx     8157 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/templates/customizations/customizations_invoices.html
+-rw-rw-rw-  2.0 unx      212 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/templates/invoices/base.html
+-rw-rw-rw-  2.0 unx    12867 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/templates/invoices/invoice.html
+-rw-rw-rw-  2.0 unx     3375 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/templates/invoices/invoice_details.html
+-rw-rw-rw-  2.0 unx    12238 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/templates/invoices/invoices.html
+-rw-rw-rw-  2.0 unx    13588 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/templates/invoices/usage.html
+-rw-rw-rw-  2.0 unx     1274 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/templates/invoices/email/billing_project_expiration_reminder_email_message.html
+-rw-rw-rw-  2.0 unx      173 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/templates/invoices/email/billing_project_expiration_reminder_email_subject.txt
+-rw-rw-rw-  2.0 unx     1330 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/templates/invoices/email/email_send_invoice_message.html
+-rw-rw-rw-  2.0 unx     1344 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/templates/invoices/email/email_send_invoice_reminder_message.html
+-rw-rw-rw-  2.0 unx      155 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/templates/invoices/email/email_send_invoice_reminder_subject.txt
+-rw-rw-rw-  2.0 unx      155 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/templates/invoices/email/email_send_invoice_subject.txt
+-rw-rw-rw-  2.0 unx    11496 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/templates/invoices/project/edit_project.html
+-rw-rw-rw-  2.0 unx     3069 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/templates/invoices/project/view_project_additional_info.html
+-rw-rw-rw-  2.0 unx      496 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/templates/usage/adjustment_request_button.html
+-rw-r--r--  2.0 unx        0 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/views/__init__.py
+-rw-r--r--  2.0 unx    18824 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/views/invoices.py
+-rw-r--r--  2.0 unx     6749 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/views/project.py
+-rw-r--r--  2.0 unx     9326 b- defN 23-Apr-18 23:40 NEMO_billing/invoices/views/usage.py
+-rw-r--r--  2.0 unx     3156 b- defN 23-Apr-18 23:40 NEMO_billing/migrations/0001_initial.py
+-rw-r--r--  2.0 unx      573 b- defN 23-Apr-18 23:40 NEMO_billing/migrations/0002_version_1_2_0.py
+-rw-r--r--  2.0 unx      466 b- defN 23-Apr-18 23:40 NEMO_billing/migrations/0003_version_2_0_0.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Apr-18 23:40 NEMO_billing/migrations/__init__.py
+-rw-r--r--  2.0 unx        1 b- defN 23-Apr-18 23:40 NEMO_billing/rates/__init__.py
+-rw-r--r--  2.0 unx     8665 b- defN 23-Apr-18 23:40 NEMO_billing/rates/admin.py
+-rw-r--r--  2.0 unx     2019 b- defN 23-Apr-18 23:40 NEMO_billing/rates/api.py
+-rw-r--r--  2.0 unx      100 b- defN 23-Apr-18 23:40 NEMO_billing/rates/app_settings.py
+-rw-r--r--  2.0 unx      707 b- defN 23-Apr-18 23:40 NEMO_billing/rates/apps.py
+-rw-r--r--  2.0 unx      489 b- defN 23-Apr-18 23:40 NEMO_billing/rates/customization.py
+-rw-r--r--  2.0 unx     1913 b- defN 23-Apr-18 23:40 NEMO_billing/rates/model_diff.py
+-rw-r--r--  2.0 unx    22269 b- defN 23-Apr-18 23:40 NEMO_billing/rates/models.py
+-rw-r--r--  2.0 unx     4042 b- defN 23-Apr-18 23:40 NEMO_billing/rates/rates_class.py
+-rw-r--r--  2.0 unx      777 b- defN 23-Apr-18 23:40 NEMO_billing/rates/urls.py
+-rw-r--r--  2.0 unx    12329 b- defN 23-Apr-18 23:40 NEMO_billing/rates/views.py
+-rw-r--r--  2.0 unx     5101 b- defN 23-Apr-18 23:40 NEMO_billing/rates/migrations/0001_initial.py
+-rw-r--r--  2.0 unx      602 b- defN 23-Apr-18 23:40 NEMO_billing/rates/migrations/0002_version_1_15_0.py
+-rw-r--r--  2.0 unx     1999 b- defN 23-Apr-18 23:40 NEMO_billing/rates/migrations/0003_version_1_17_0.py
+-rw-r--r--  2.0 unx      421 b- defN 23-Apr-18 23:40 NEMO_billing/rates/migrations/0004_version_2_0_0.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Apr-18 23:40 NEMO_billing/rates/migrations/__init__.py
+-rw-rw-rw-  2.0 unx       81 b- defN 23-Apr-18 23:40 NEMO_billing/rates/static/rates/rates.css
+-rw-rw-rw-  2.0 unx     1242 b- defN 23-Apr-18 23:40 NEMO_billing/rates/templates/customizations/customizations_billing_rates.html
+-rw-rw-rw-  2.0 unx      160 b- defN 23-Apr-18 23:40 NEMO_billing/rates/templates/rates/base.html
+-rw-rw-rw-  2.0 unx     6047 b- defN 23-Apr-18 23:40 NEMO_billing/rates/templates/rates/rate.html
+-rw-rw-rw-  2.0 unx     4968 b- defN 23-Apr-18 23:40 NEMO_billing/rates/templates/rates/rate_form_details.html
+-rw-rw-rw-  2.0 unx     4602 b- defN 23-Apr-18 23:40 NEMO_billing/rates/templates/rates/rates.html
+-rw-rw-rw-  2.0 unx      192 b- defN 23-Apr-18 23:40 NEMO_billing/templates/base/navbar.html
+-rw-rw-rw-  2.0 unx      461 b- defN 23-Apr-18 23:40 NEMO_billing/templates/base/navbar_billing.html
+-rw-rw-rw-  2.0 unx     8882 b- defN 23-Apr-18 23:40 NEMO_billing/templates/billing/custom_charge.html
+-rw-rw-rw-  2.0 unx     1856 b- defN 23-Apr-18 23:40 NEMO_billing/templates/billing/custom_charges.html
+-rw-rw-rw-  2.0 unx     1259 b- defN 23-Apr-18 23:40 NEMO_billing/templates/staff_charges/choose_project.html
+-rw-rw-rw-  2.0 unx     1979 b- defN 23-Apr-18 23:40 NEMO_billing/templates/staff_charges/new_custom_staff_charge.html
+-rw-r--r--  2.0 unx        0 b- defN 23-Apr-18 23:40 NEMO_billing/templatetags/__init__.py
+-rw-r--r--  2.0 unx     1013 b- defN 23-Apr-18 23:40 NEMO_billing/templatetags/billing_tags.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Apr-18 23:40 NEMO_billing/tests/__init__.py
+-rw-r--r--  2.0 unx     3047 b- defN 23-Apr-18 23:40 NEMO_billing/tests/test_settings.py
+-rw-r--r--  2.0 unx     1472 b- defN 23-Apr-18 23:40 NEMO_billing/tests/test_urls.py
+-rw-r--r--  2.0 unx     1094 b- defN 23-Apr-18 23:40 NEMO_billing/tests/test_utilities.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Apr-18 23:40 NEMO_billing/tests/cap/__init__.py
+-rw-r--r--  2.0 unx    19023 b- defN 23-Apr-18 23:40 NEMO_billing/tests/cap/test_cap_discount.py
+-rw-r--r--  2.0 unx    29198 b- defN 23-Apr-18 23:40 NEMO_billing/tests/cap/test_cap_invoicing.py
+-rw-r--r--  2.0 unx     4252 b- defN 23-Apr-18 23:40 NEMO_billing/tests/cap/test_cap_utilities.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Apr-18 23:40 NEMO_billing/tests/rates/__init__.py
+-rw-r--r--  2.0 unx    26426 b- defN 23-Apr-18 23:40 NEMO_billing/tests/rates/test_rate_amount.py
+-rw-r--r--  2.0 unx    20895 b- defN 23-Apr-18 23:40 NEMO_billing/tests/rates/test_rate_time.py
+-rw-r--r--  2.0 unx     6164 b- defN 23-Apr-18 23:40 NEMO_billing/tests/rates/test_rate_uniqueness.py
+-rw-r--r--  2.0 unx    27008 b- defN 23-Apr-18 23:40 NEMO_billing/tests/rates/test_split_billables.py
+-rw-rw-rw-  2.0 unx     1074 b- defN 23-Apr-18 23:40 NEMO_billing-2.1.0.dist-info/LICENSE
+-rw-r--r--  2.0 unx     5343 b- defN 23-Apr-18 23:40 NEMO_billing-2.1.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Apr-18 23:40 NEMO_billing-2.1.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx       13 b- defN 23-Apr-18 23:40 NEMO_billing-2.1.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx    12790 b- defN 23-Apr-18 23:40 NEMO_billing-2.1.0.dist-info/RECORD
+127 files, 594247 bytes uncompressed, 136298 bytes compressed:  77.1%
```

## zipnote {}

```diff
@@ -204,14 +204,17 @@
 
 Filename: NEMO_billing/invoices/templates/invoices/project/edit_project.html
 Comment: 
 
 Filename: NEMO_billing/invoices/templates/invoices/project/view_project_additional_info.html
 Comment: 
 
+Filename: NEMO_billing/invoices/templates/usage/adjustment_request_button.html
+Comment: 
+
 Filename: NEMO_billing/invoices/views/__init__.py
 Comment: 
 
 Filename: NEMO_billing/invoices/views/invoices.py
 Comment: 
 
 Filename: NEMO_billing/invoices/views/project.py
@@ -357,23 +360,23 @@
 
 Filename: NEMO_billing/tests/rates/test_rate_uniqueness.py
 Comment: 
 
 Filename: NEMO_billing/tests/rates/test_split_billables.py
 Comment: 
 
-Filename: NEMO_billing-2.0.1.dist-info/LICENSE
+Filename: NEMO_billing-2.1.0.dist-info/LICENSE
 Comment: 
 
-Filename: NEMO_billing-2.0.1.dist-info/METADATA
+Filename: NEMO_billing-2.1.0.dist-info/METADATA
 Comment: 
 
-Filename: NEMO_billing-2.0.1.dist-info/WHEEL
+Filename: NEMO_billing-2.1.0.dist-info/WHEEL
 Comment: 
 
-Filename: NEMO_billing-2.0.1.dist-info/top_level.txt
+Filename: NEMO_billing-2.1.0.dist-info/top_level.txt
 Comment: 
 
-Filename: NEMO_billing-2.0.1.dist-info/RECORD
+Filename: NEMO_billing-2.1.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## NEMO_billing/api.py

```diff
@@ -1,38 +1,35 @@
-from NEMO.utilities import export_format_datetime
-from drf_excel.mixins import XLSXFileMixin
+from NEMO.serializers import ModelSerializer
+from NEMO.views.api import ModelViewSet
 from rest_flex_fields import FlexFieldsModelSerializer
 from rest_framework.fields import CharField
-from rest_framework.viewsets import ReadOnlyModelViewSet
 
 from NEMO_billing.models import CustomCharge
 
 
-class CustomChargeSerializer(FlexFieldsModelSerializer):
+class CustomChargeSerializer(FlexFieldsModelSerializer, ModelSerializer):
     class Meta:
         model = CustomCharge
         fields = "__all__"
         expandable_fields = {
             "customer": "NEMO.serializers.UserSerializer",
             "creator": "NEMO.serializers.UserSerializer",
             "project": "NEMO.serializers.ProjectSerializer",
         }
 
     customer_name = CharField(source="customer.get_name")
     creator_name = CharField(source="creator.get_name")
 
 
-class CustomChargeViewSet(XLSXFileMixin, ReadOnlyModelViewSet):
+class CustomChargeViewSet(ModelViewSet):
+    filename = "custom_charges"
     queryset = CustomCharge.objects.all()
     serializer_class = CustomChargeSerializer
     filterset_fields = {
         "name": ["exact"],
         "customer": ["exact", "in"],
         "creator": ["exact", "in"],
         "project": ["exact", "in"],
         "date": ["exact", "month", "year", "gte", "gt", "lte", "lt"],
         "amount": ["exact", "gte", "gt", "lte", "lt"],
         "core_facility": ["exact", "in", "isnull"],
     }
-
-    def get_filename(self, *args, **kwargs):
-        return f"custom_charges-{export_format_datetime()}.xlsx"
```

## NEMO_billing/invoices/api.py

```diff
@@ -1,43 +1,43 @@
+from NEMO.serializers import ModelSerializer
 from NEMO.utilities import export_format_datetime
+from NEMO.views.api import ModelViewSet
 from NEMO.views.api_billing import BillingFilterForm
 from django.db.models import Q
 from drf_excel.mixins import XLSXFileMixin
 from rest_framework import status
 from rest_framework.fields import CharField, DateTimeField, DecimalField, IntegerField
 from rest_framework.response import Response
-from rest_framework.serializers import ModelSerializer, Serializer
-from rest_framework.viewsets import GenericViewSet, ReadOnlyModelViewSet
+from rest_framework.serializers import Serializer
+from rest_framework.viewsets import GenericViewSet
 
 from NEMO_billing.invoices.models import InvoiceConfiguration, InvoicePayment
 from NEMO_billing.invoices.processors import invoice_data_processor_class as data_processor
 from NEMO_billing.invoices.views.usage import augment_with_invoice_items
 
 
 class InvoicePaymentSerializer(ModelSerializer):
     class Meta:
         model = InvoicePayment
         fields = "__all__"
 
 
-class InvoicePaymentViewSet(XLSXFileMixin, ReadOnlyModelViewSet):
+class InvoicePaymentViewSet(ModelViewSet):
+    filename = "invoice_payments"
     queryset = InvoicePayment.objects.all()
     serializer_class = InvoicePaymentSerializer
     filterset_fields = {
         "id": ["exact", "in"],
         "payment_received": ["exact", "gte", "gt", "lte", "lt"],
         "payment_processed": ["exact", "gte", "gt", "lte", "lt", "isnull"],
         "created_date": ["exact", "gte", "gt", "lte", "lt"],
         "updated_date": ["exact", "gte", "gt", "lte", "lt"],
         "invoice_id": ["exact", "in"],
     }
 
-    def get_filename(self, *args, **kwargs):
-        return f"invoice_payments-{export_format_datetime()}.xlsx"
-
 
 class BillingDataSerializer(Serializer):
     item_type = CharField(source="item_type.display_name", read_only=True)
     core_facility = CharField(max_length=200, read_only=True)
     name = CharField(max_length=200, read_only=True)
     account = CharField(source="project.account.name", read_only=True)
     account_id = IntegerField(source="project.account.id", read_only=True)
```

## NEMO_billing/invoices/processors.py

```diff
@@ -221,15 +221,14 @@
 
 
 def get_rate_with_currency(config: InvoiceConfiguration, rate: str):
     return f"{config.currency} {rate}" if config.currency else rate
 
 
 class InvoiceDataProcessor(object):
-    tool_usage_staff_filter = Q(operator__is_staff=True) & ~Q(operator=F("user"))
 
     def generate_invoice_for_account(self, month, account, configuration, user, raise_if_exists=False) -> List[Invoice]:
         invoice_list = []
         for project in account.project_set.all():
             invoice = self.generate_invoice_for_project(month, project, configuration, user, raise_if_exists)
             if invoice:
                 invoice_list.append(invoice)
```

## NEMO_billing/invoices/templates/invoices/usage.html

```diff
@@ -18,162 +18,232 @@
 
 	<div id="content" class="tab-content">
 		<div class="tab-pane active" id="usage">
 			<br/>
 			<div class="pull-left">
 				This data is provided for informational purposes and uses the <b>latest rates</b>.<br/>
 				Other adjustments/discounts <b>might not be included</b> in this information.
+				{% if "requests"|customization:"adjustment_requests_enabled" and adjustment_time_limit %}
+                    <br><br>Adjustment requests can be made for charges ending after {{ adjustment_time_limit.date }}.
+                {% endif %}
 			</div>
 			{% if no_charges %}
 				<div style="height: 15px;clear: both;"></div>
 				<h3>There was no usage between {{ start_date|date }} and {{ end_date|date }}.</h3>
 			{% else %}
 				<div class="pull-right">Total charges: <b>{{ total_charges }}</b>{% if pending_charges %} (includes {{ pending_charges }} pending){% endif %}</div>
 			{% endif %}
-			<div style="height: 15px;clear: both;"></div>
-			{% regroup detailed_items by item_type as detailed_items_by_type %}
-			{% for detailed_item in detailed_items_by_type %}
-				{% if detailed_item.grouper.name == "MISSED_RESERVATION" %}
-					<h3>Missed reservations</h3>
-					{% for m in detailed_item.list %}
-						<div class="alert alert-danger table-display">
-							<div class="table-cell-display col-sm-7">
-								<span style="font-weight:bold">{{ m.item.reservation_item }}{{ m.rate_time_name_add }}</span><br>
-								{% if project_autocomplete or selected_project %}Missed by {{ m.user }}<br>{% endif %}
-								{{ m.start }}<br>
-								Charged to project {{ m.project }}
-							</div>
-							<div class="table-cell-display text-center col-sm-3">{{ m.billable_rate|default_if_none:"" }}</div>
-							<div class="table-cell-display text-right col-sm-2">{{ m.billable_display_amount }}</div>
-						</div>
-					{% endfor %}
-				{% endif %}
-				{% if detailed_item.grouper.name == "CONSUMABLE" %}
-					<h3>Supplies and consumables</h3>
-					{% for c in detailed_item.list %}
-						<div class="alert alert-info table-display">
-							<div class="table-cell-display col-sm-7">
-								<span style="font-weight:bold">{{ c.consumable }}{{ c.rate_time_name_add }}</span><br>
-								{% if project_autocomplete or selected_project %}<span style="font-weight:bold">For {{ c.item.customer }}</span><br>{% endif %}
-								Quantity {{ c.quantity }}<br>
-								Purchased from {{ c.item.merchant }}<br>
-								{{ c.start }}<br>
-								Charged to project {{ c.project }}
-							</div>
-							<div class="table-cell-display text-center col-sm-3">{{ c.billable_rate|default_if_none:"" }}</div>
-							<div class="table-cell-display text-right col-sm-2">{{ c.billable_display_amount }}</div>
-						</div>
-					{% endfor %}
-				{% endif %}
-				{% if detailed_item.grouper.name == "STAFF_CHARGE" %}
-					<h3>Staff charges</h3>
-					{% for s in detailed_item.list %}
-						{% if s.area %}
-							<div class="alert alert-warning table-display">
-								<div class="table-cell-display col-sm-7">
-									<span style="font-weight:bold">{{ s.area }}{{ s.rate_time_name_add }}</span><br>
-									<span style="font-weight:bold">Area accessed by {{ s.proxy_user }} {% if project_autocomplete or selected_project %}on behalf of {{ s.user }}{% else %}on your behalf{% endif %}</span><br>
-									{{ s.start }}<br>
-									{{ s.end|default_if_none:"In progress" }}<br>
-									Charged to project {{ s.project }}
-								</div>
-								<div class="table-cell-display text-center col-sm-3">{{ s.billable_rate|default_if_none:"" }}</div>
-								<div class="table-cell-display text-right col-sm-2">{{ s.billable_display_amount }}</div>
-							</div>
-						{% elif s.tool %}
-							<div class="alert alert-warning table-display">
-								<div class="table-cell-display col-sm-7">
-									<span style="font-weight:bold">{{ s.tool }}{{ s.rate_time_name_add }}</span><br>
-									<span style="font-weight:bold">Operated by {{ s.proxy_user }} {% if project_autocomplete or selected_project %}on behalf of {{ s.user }}{% else %}on your behalf{% endif %}</span><br>
-									{{ s.start }}<br>
-									{{ s.end }}<br>
-									Charged to project {{ s.project }}
+			{% with adj_reservation="requests"|customization:"adjustment_requests_missed_reservation_enabled" adj_tool_usage="requests"|customization:"adjustment_requests_tool_usage_enabled" adj_area_access="requests"|customization:"adjustment_requests_area_access_enabled" adj_staff_charge="requests"|customization:"adjustment_requests_staff_staff_charges_enabled" %}
+				<div style="height: 15px;clear: both;"></div>
+				{% regroup detailed_items by item_type as detailed_items_by_type %}
+				{% for detailed_item in detailed_items_by_type %}
+					{% if detailed_item.grouper.name == "MISSED_RESERVATION" %}
+						<h3>Missed reservations</h3>
+						{% for m in detailed_item.list %}
+							<div class="alert alert-danger table-display">
+								<div class="table-cell-display col-sm-7">
+									<span style="font-weight:bold">{{ m.item.reservation_item }}{{ m.rate_time_name_add }}</span><br>
+									{% if project_autocomplete or selected_project %}Missed by {{ m.user }}<br>{% endif %}
+									{{ m.start }}<br>
+									Charged to project {{ m.project }}
+								</div>
+								<div class="table-cell-display text-center col-sm-3">{{ m.billable_rate|default_if_none:"" }}</div>
+								<div class="table-cell-display text-right col-sm-2">
+									{% if adj_reservation == "enabled" %}
+										{% if not adjustment_time_limit or adjustment_time_limit <= m.end %}
+											{% if m.user == user or m.project in pi_projects %}
+												{% include "usage/adjustment_request_button.html" with charge=m.item %}
+											{% endif %}
+										{% endif %}
+									{% endif %}
+									{{ m.billable_display_amount }}
+								</div>
+							</div>
+						{% endfor %}
+					{% endif %}
+					{% if detailed_item.grouper.name == "CONSUMABLE" %}
+						<h3>Supplies and consumables</h3>
+						{% for c in detailed_item.list %}
+							<div class="alert alert-info table-display">
+								<div class="table-cell-display col-sm-7">
+									<span style="font-weight:bold">{{ c.consumable }}{{ c.rate_time_name_add }}</span><br>
+									{% if project_autocomplete or selected_project %}<span style="font-weight:bold">For {{ c.item.customer }}</span><br>{% endif %}
+									Quantity {{ c.quantity }}<br>
+									Purchased from {{ c.item.merchant }}<br>
+									{{ c.start }}<br>
+									Charged to project {{ c.project }}
 								</div>
-								<div class="table-cell-display text-center col-sm-3">{{ s.billable_rate|default_if_none:"" }}</div>
-								<div class="table-cell-display text-right col-sm-2">{{ s.billable_display_amount }}</div>
+								<div class="table-cell-display text-center col-sm-3">{{ c.billable_rate|default_if_none:"" }}</div>
+								<div class="table-cell-display text-right col-sm-2">{{ c.billable_display_amount }}</div>
 							</div>
-						{% else %}
+						{% endfor %}
+					{% endif %}
+					{% if detailed_item.grouper.name == "STAFF_CHARGE" %}
+						<h3>Staff charges</h3>
+						{% for s in detailed_item.list %}
+							{% if s.area %}
+								<div class="alert alert-warning table-display">
+									<div class="table-cell-display col-sm-7">
+										<span style="font-weight:bold">{{ s.area }}{{ s.rate_time_name_add }}</span><br>
+										<span style="font-weight:bold">Area accessed by {{ s.proxy_user }} {% if project_autocomplete or selected_project %}on behalf of {{ s.user }}{% else %}on your behalf{% endif %}</span><br>
+										{{ s.start }}<br>
+										{{ s.end|default_if_none:"In progress" }}<br>
+										Charged to project {{ s.project }}
+									</div>
+									<div class="table-cell-display text-center col-sm-3">{{ s.billable_rate|default_if_none:"" }}</div>
+									<div class="table-cell-display text-right col-sm-2">
+										{% if s.item.staff_charge and adj_staff_charge == "enabled" %}
+											{% if not adjustment_time_limit or adjustment_time_limit <= s.end %}
+												{% if s.item.staff_charge.staff_member == user and user.is_staff %}
+													{% include "usage/adjustment_request_button.html" with charge=s.item %}
+												{% endif %}
+											{% endif %}
+										{% endif %}
+										{{ s.billable_display_amount }}
+									</div>
+								</div>
+							{% elif s.tool %}
+								<div class="alert alert-warning table-display">
+									<div class="table-cell-display col-sm-7">
+										<span style="font-weight:bold">{{ s.tool }}{{ s.rate_time_name_add }}</span><br>
+										<span style="font-weight:bold">Operated by {{ s.proxy_user }} {% if project_autocomplete or selected_project %}on behalf of {{ s.user }}{% else %}on your behalf{% endif %}</span><br>
+										{{ s.start }}<br>
+										{{ s.end }}<br>
+										Charged to project {{ s.project }}
+									</div>
+									<div class="table-cell-display text-center col-sm-3">{{ s.billable_rate|default_if_none:"" }}</div>
+									<div class="table-cell-display text-right col-sm-2">
+										{% if adj_staff_charge == "enabled" %}
+											{% if not adjustment_time_limit or adjustment_time_limit <= u.end %}
+												{% if s.item.operator == user and user.is_staff and s.item.remote_work %}
+													{% include "usage/adjustment_request_button.html" with charge=s.item %}
+												{% endif %}
+											{% endif %}
+										{% endif %}
+										{{ s.billable_display_amount }}
+									</div>
+								</div>
+							{% else %}
+								<div class="alert alert-info table-display">
+									<div class="table-cell-display col-sm-7">
+										<span style="font-weight:bold">Work performed by {{ s.proxy_user }} {% if project_autocomplete or selected_project %}on behalf of {{ s.user }}{% else %}on your behalf{% endif %}{{ s.rate_time_name_add }}</span><br>
+										{% if s.item.note %}Charge note: {{ s.item.note|linebreaksbr }}<br>{% endif %}
+										{{ s.start }}<br>
+										{{ s.end }}<br>
+										Charged to project {{ s.project }}
+									</div>
+									<div class="table-cell-display text-center col-sm-3">{{ s.billable_rate|default_if_none:"" }}</div>
+									<div class="table-cell-display text-right col-sm-2">
+										{% if adj_staff_charge == "enabled" and s.item.staff_member == user and user.is_staff %}
+											{% if not adjustment_time_limit or adjustment_time_limit <= s.end %}
+												{% include "usage/adjustment_request_button.html" with charge=s.item %}
+											{% endif %}
+										{% endif %}
+										{{ s.billable_display_amount }}
+									</div>
+								</div>
+							{% endif %}
+						{% endfor %}
+					{% endif %}
+					{% if detailed_item.grouper.name == "TRAINING" %}
+						<h3>Training sessions</h3>
+						{% for t in detailed_item.list %}
 							<div class="alert alert-info table-display">
 								<div class="table-cell-display col-sm-7">
-									<span style="font-weight:bold">Work performed by {{ s.proxy_user }} {% if project_autocomplete or selected_project %}on behalf of {{ s.user }}{% else %}on your behalf{% endif %}{{ s.rate_time_name_add }}</span><br>
-									{% if s.item.note %}Charge note: {{ s.item.note|linebreaksbr }}<br>{% endif %}
-									{{ s.start }}<br>
-									{{ s.end }}<br>
-									Charged to project {{ s.project }}
-								</div>
-								<div class="table-cell-display text-center col-sm-3">{{ s.billable_rate|default_if_none:"" }}</div>
-								<div class="table-cell-display text-right col-sm-2">{{ s.billable_display_amount }}</div>
-							</div>
-						{% endif %}
-					{% endfor %}
-				{% endif %}
-				{% if detailed_item.grouper.name == "TRAINING" %}
-					<h3>Training sessions</h3>
-					{% for t in detailed_item.list %}
-						<div class="alert alert-info table-display">
-							<div class="table-cell-display col-sm-7">
-								<span style="font-weight:bold">{{ t.tool }}{{ t.rate_time_name_add }}</span><br>
-								{{ t.item.get_type_display }} training {% if project_autocomplete or selected_project %}for {{ t.user }} {% endif %}for {{ t.quantity }} minutes taught by <span style="font-weight:bold">{{ t.proxy_user }}</span>
-								{{ t.start }}<br>
-								Charged to project {{ t.project }}
-							</div>
-							<div class="table-cell-display text-center col-sm-3">{{ t.billable_rate|default_if_none:"" }}</div>
-							<div class="table-cell-display text-right col-sm-2">{{ t.billable_display_amount }}</div>
-						</div>
-					{% endfor %}
-				{% endif %}
-				{% if detailed_item.grouper.name == "AREA_ACCESS" %}
-					<h3>Area access</h3>
-					{% for a in detailed_item.list %}
-						<div class="alert {% if not a.item.staff_charge %}alert-info{% else %}alert-warning{% endif %} table-display">
-							<div class="table-cell-display col-sm-7">
-								<span style="font-weight:bold">{{ a.area }}{{ a.rate_time_name_add }}</span><br>
-								{% if a.item.staff_charge %}<span style="font-weight:bold">Area accessed by {{ a.proxy_user }} {% if project_autocomplete or selected_project %}on behalf of {{ a.user }}{% else %}on your behalf{% endif %}</span><br>
-								{% else %}{% if project_autocomplete or selected_project %}<span style="font-weight:bold">Area accessed by {{ a.user }}</span><br>{% endif %}
-								{% endif %}
-								{{ a.start }}<br>
-								{{ a.end|default_if_none:"In progress" }}<br>
-								Charged to project {{ a.project }}
-							</div>
-							<div class="table-cell-display text-center col-sm-3">{{ a.billable_rate|default_if_none:"" }}</div>
-							<div class="table-cell-display text-right col-sm-2">{{ a.billable_display_amount }}</div>
-						</div>
-					{% endfor %}
-				{% endif %}
-				{% if detailed_item.grouper.name == "TOOL_USAGE" %}
-					<h3>Tool usage</h3>
-					{% for u in detailed_item.list %}
-						<div class="alert {% if u.user == u.proxy_user %}alert-info{% else %}alert-warning{% endif %} table-display">
-							<div class="table-cell-display col-sm-7">
-								<span style="font-weight:bold">{{ u.tool }}{{ u.rate_time_name_add }}</span><br>
-								{% if u.user != u.proxy_user %}<span style="font-weight:bold">Operated by {{ u.proxy_user }} {% if project_autocomplete or selected_project %}on behalf of {{ u.user }}{% else %}on your behalf{% endif %}</span><br>
-								{% else %}{% if project_autocomplete or selected_project %}<span style="font-weight:bold">Operated by {{ u.user }}</span><br>{% endif %}
-								{% endif %}
-								{{ u.start }}<br>
-								{{ u.end }}<br>
-								Charged to project {{ u.project }}
-							</div>
-							<div class="table-cell-display text-center col-sm-3">{{ u.billable_rate|default_if_none:"" }}</div>
-							<div class="table-cell-display text-right col-sm-2">{{ u.billable_display_amount }}</div>
-						</div>
-					{% endfor %}
-				{% endif %}
-				{% if detailed_item.grouper.name == "CUSTOM_CHARGE" %}
-					<h3>Custom charges</h3>
-					{% for c in detailed_item.list %}
-						<div class="alert alert-info alert-table table-display">
-							<div class="table-cell-display col-sm-7">
-								<span style="font-weight:bold">{{ c.item.name }}<br>
-								{% if project_autocomplete or selected_project %}For {{ c.user }}<br>{% endif %}</span>
-								{{ c.start }}<br>
-								Charged to project {{ c.project }}<br>
-							</div>
-							<div class="table-cell-display text-center col-sm-3">{{ c.billable_rate|default_if_none:"" }}</div>
-							<div class="table-cell-display text-right col-sm-2">{{ c.billable_display_amount }}</div>
-						</div>
-					{% endfor %}
-				{% endif %}
-			{% endfor %}
-		</div>
+									<span style="font-weight:bold">{{ t.tool }}{{ t.rate_time_name_add }}</span><br>
+									{{ t.item.get_type_display }} training {% if project_autocomplete or selected_project %}for {{ t.user }} {% endif %}for {{ t.quantity }} minutes taught by <span style="font-weight:bold">{{ t.proxy_user }}</span>
+									{{ t.start }}<br>
+									Charged to project {{ t.project }}
+								</div>
+								<div class="table-cell-display text-center col-sm-3">{{ t.billable_rate|default_if_none:"" }}</div>
+								<div class="table-cell-display text-right col-sm-2">{{ t.billable_display_amount }}</div>
+							</div>
+						{% endfor %}
+					{% endif %}
+					{% if detailed_item.grouper.name == "AREA_ACCESS" %}
+						<h3>Area access</h3>
+						{% for a in detailed_item.list %}
+							<div class="alert {% if not a.item.staff_charge %}alert-info{% else %}alert-warning{% endif %} table-display">
+								<div class="table-cell-display col-sm-7">
+									<span style="font-weight:bold">{{ a.area }}{{ a.rate_time_name_add }}</span><br>
+									{% if a.item.staff_charge %}<span style="font-weight:bold">Area accessed by {{ a.proxy_user }} {% if project_autocomplete or selected_project %}on behalf of {{ a.user }}{% else %}on your behalf{% endif %}</span><br>
+									{% else %}{% if project_autocomplete or selected_project %}<span style="font-weight:bold">Area accessed by {{ a.user }}</span><br>{% endif %}
+									{% endif %}
+									{{ a.start }}<br>
+									{{ a.end|default_if_none:"In progress" }}<br>
+									Charged to project {{ a.project }}
+								</div>
+								<div class="table-cell-display text-center col-sm-3">{{ a.billable_rate|default_if_none:"" }}</div>
+								<div class="table-cell-display text-right col-sm-2">
+									{% if not a.staff_charge and adj_area_access == "enabled" %}
+										{% if not adjustment_time_limit or adjustment_time_limit <= a.end %}
+											{% if a.item.customer == user or a.project in pi_projects %}
+												{% include "usage/adjustment_request_button.html" with charge=a.item %}
+											{% endif %}
+										{% endif %}
+									{% elif a.item.staff_charge and adj_staff_charge == "enabled" %}
+										{% if not adjustment_time_limit or adjustment_time_limit <= a.end %}
+											{% if a.item.staff_charge.staff_member == user and user.is_staff %}
+												{% include "usage/adjustment_request_button.html" with charge=a.item %}
+											{% endif %}
+										{% endif %}
+									{% endif %}
+									{{ a.billable_display_amount }}
+								</div>
+							</div>
+						{% endfor %}
+					{% endif %}
+					{% if detailed_item.grouper.name == "TOOL_USAGE" %}
+						<h3>Tool usage</h3>
+						{% for u in detailed_item.list %}
+							<div class="alert {% if u.user == u.proxy_user %}alert-info{% else %}alert-warning{% endif %} table-display">
+								<div class="table-cell-display col-sm-7">
+									<span style="font-weight:bold">{{ u.tool }}{{ u.rate_time_name_add }}</span><br>
+									{% if u.user != u.proxy_user %}<span style="font-weight:bold">Operated by {{ u.proxy_user }} {% if project_autocomplete or selected_project %}on behalf of {{ u.user }}{% else %}on your behalf{% endif %}</span><br>
+									{% else %}{% if project_autocomplete or selected_project %}<span style="font-weight:bold">Operated by {{ u.user }}</span><br>{% endif %}
+									{% endif %}
+									{{ u.start }}<br>
+									{{ u.end }}<br>
+									Charged to project {{ u.project }}
+								</div>
+								<div class="table-cell-display text-center col-sm-3">{{ u.billable_rate|default_if_none:"" }}</div>
+								<div class="table-cell-display text-right col-sm-2">
+									{% if adj_tool_usage == "enabled" %}
+										{% if not adjustment_time_limit or adjustment_time_limit <= u.end %}
+											{% if u.item.user == u.item.operator and u.item.user == user or u.project in pi_projects %}
+												{% include "usage/adjustment_request_button.html" with charge=u.item %}
+											{% endif %}
+										{% endif %}
+									{% endif %}
+									{% if adj_staff_charge == "enabled" %}
+										{% if not adjustment_time_limit or adjustment_time_limit <= u.end %}
+											{% if u.item.operator == user and user.is_staff and u.item.remote_work %}
+												{% include "usage/adjustment_request_button.html" with charge=u.item %}
+											{% endif %}
+										{% endif %}
+									{% endif %}
+									{{ u.billable_display_amount }}
+								</div>
+							</div>
+						{% endfor %}
+					{% endif %}
+					{% if detailed_item.grouper.name == "CUSTOM_CHARGE" %}
+						<h3>Custom charges</h3>
+						{% for c in detailed_item.list %}
+							<div class="alert alert-info alert-table table-display">
+								<div class="table-cell-display col-sm-7">
+									<span style="font-weight:bold">{{ c.item.name }}<br>
+									{% if project_autocomplete or selected_project %}For {{ c.user }}<br>{% endif %}</span>
+									{{ c.start }}<br>
+									Charged to project {{ c.project }}<br>
+								</div>
+								<div class="table-cell-display text-center col-sm-3">{{ c.billable_rate|default_if_none:"" }}</div>
+								<div class="table-cell-display text-right col-sm-2">{{ c.billable_display_amount }}</div>
+							</div>
+						{% endfor %}
+					{% endif %}
+				{% endfor %}
+			</div>
+		{% endwith %}
 		<div class="tab-pane" id="cap_discount"></div>
 	</div>
 {% endblock %}
```

### html2text {}

```diff
@@ -7,33 +7,49 @@
     * {% if billing_service %}
     * Billing_Information
     * {% endif %} {% if cap_discounts_url %}
     * Cap_information
     * {% endif %}
 
 This data is provided for informational purposes and uses the latest rates.
-Other adjustments/discounts might not be included in this information.
+Other adjustments/discounts might not be included in this information. {% if
+"requests"|customization:"adjustment_requests_enabled" and
+adjustment_time_limit %}
+
+Adjustment requests can be made for charges ending after {
+{ adjustment_time_limit.date }}. {% endif %}
 {% if no_charges %}
 **** There was no usage between {{ start_date|date }} and {{ end_date|date }}.
 ****
 {% else %}
 Total charges: {{ total_charges }}{% if pending_charges %} (includes {
 { pending_charges }} pending){% endif %}
-{% endif %}
+{% endif %} {% with adj_reservation="requests"|customization:
+"adjustment_requests_missed_reservation_enabled"
+adj_tool_usage="requests"|customization:
+"adjustment_requests_tool_usage_enabled"
+adj_area_access="requests"|customization:
+"adjustment_requests_area_access_enabled"
+adj_staff_charge="requests"|customization:
+"adjustment_requests_staff_staff_charges_enabled" %}
 {% regroup detailed_items by item_type as detailed_items_by_type %} {% for
 detailed_item in detailed_items_by_type %} {% if detailed_item.grouper.name ==
 "MISSED_RESERVATION" %}
 **** Missed reservations ****
 {% for m in detailed_item.list %}
 {{ m.item.reservation_item }}{{ m.rate_time_name_add }}
 {% if project_autocomplete or selected_project %}Missed by {{ m.user }}
 {% endif %} {{ m.start }}
 Charged to project {{ m.project }}
 {{ m.billable_rate|default_if_none:"" }}
-{{ m.billable_display_amount }}
+{% if adj_reservation == "enabled" %} {% if not adjustment_time_limit or
+adjustment_time_limit <= m.end %} {% if m.user == user or m.project in
+pi_projects %} {% include "usage/adjustment_request_button.html" with
+charge=m.item %} {% endif %} {% endif %} {% endif %} {
+{ m.billable_display_amount }}
 {% endfor %} {% endif %} {% if detailed_item.grouper.name == "CONSUMABLE" %}
 **** Supplies and consumables ****
 {% for c in detailed_item.list %}
 {{ c.consumable }}{{ c.rate_time_name_add }}
 {% if project_autocomplete or selected_project %}For {{ c.item.customer }}
 {% endif %} Quantity {{ c.quantity }}
 Purchased from {{ c.item.merchant }}
@@ -47,34 +63,45 @@
 {{ s.area }}{{ s.rate_time_name_add }}
 Area accessed by {{ s.proxy_user }} {% if project_autocomplete or
 selected_project %}on behalf of {{ s.user }}{% else %}on your behalf{% endif %}
 {{ s.start }}
 {{ s.end|default_if_none:"In progress" }}
 Charged to project {{ s.project }}
 {{ s.billable_rate|default_if_none:"" }}
-{{ s.billable_display_amount }}
+{% if s.item.staff_charge and adj_staff_charge == "enabled" %} {% if not
+adjustment_time_limit or adjustment_time_limit <= s.end %} {% if
+s.item.staff_charge.staff_member == user and user.is_staff %} {% include
+"usage/adjustment_request_button.html" with charge=s.item %} {% endif %} {%
+endif %} {% endif %} {{ s.billable_display_amount }}
 {% elif s.tool %}
 {{ s.tool }}{{ s.rate_time_name_add }}
 Operated by {{ s.proxy_user }} {% if project_autocomplete or selected_project
 %}on behalf of {{ s.user }}{% else %}on your behalf{% endif %}
 {{ s.start }}
 {{ s.end }}
 Charged to project {{ s.project }}
 {{ s.billable_rate|default_if_none:"" }}
-{{ s.billable_display_amount }}
+{% if adj_staff_charge == "enabled" %} {% if not adjustment_time_limit or
+adjustment_time_limit <= u.end %} {% if s.item.operator == user and
+user.is_staff and s.item.remote_work %} {% include "usage/
+adjustment_request_button.html" with charge=s.item %} {% endif %} {% endif %}
+{% endif %} {{ s.billable_display_amount }}
 {% else %}
 Work performed by {{ s.proxy_user }} {% if project_autocomplete or
 selected_project %}on behalf of {{ s.user }}{% else %}on your behalf{% endif %}
 {{ s.rate_time_name_add }}
 {% if s.item.note %}Charge note: {{ s.item.note|linebreaksbr }}
 {% endif %} {{ s.start }}
 {{ s.end }}
 Charged to project {{ s.project }}
 {{ s.billable_rate|default_if_none:"" }}
-{{ s.billable_display_amount }}
+{% if adj_staff_charge == "enabled" and s.item.staff_member == user and
+user.is_staff %} {% if not adjustment_time_limit or adjustment_time_limit <=
+s.end %} {% include "usage/adjustment_request_button.html" with charge=s.item
+%} {% endif %} {% endif %} {{ s.billable_display_amount }}
 {% endif %} {% endfor %} {% endif %} {% if detailed_item.grouper.name ==
 "TRAINING" %}
 **** Training sessions ****
 {% for t in detailed_item.list %}
 {{ t.tool }}{{ t.rate_time_name_add }}
 {{ t.item.get_type_display }} training {% if project_autocomplete or
 selected_project %}for {{ t.user }} {% endif %}for {{ t.quantity }} minutes
@@ -91,33 +118,50 @@
 %}on your behalf{% endif %}
 {% else %}{% if project_autocomplete or selected_project %}Area accessed by {
 { a.user }}
 {% endif %} {% endif %} {{ a.start }}
 {{ a.end|default_if_none:"In progress" }}
 Charged to project {{ a.project }}
 {{ a.billable_rate|default_if_none:"" }}
-{{ a.billable_display_amount }}
+{% if not a.staff_charge and adj_area_access == "enabled" %} {% if not
+adjustment_time_limit or adjustment_time_limit <= a.end %} {% if
+a.item.customer == user or a.project in pi_projects %} {% include "usage/
+adjustment_request_button.html" with charge=a.item %} {% endif %} {% endif %}
+{% elif a.item.staff_charge and adj_staff_charge == "enabled" %} {% if not
+adjustment_time_limit or adjustment_time_limit <= a.end %} {% if
+a.item.staff_charge.staff_member == user and user.is_staff %} {% include
+"usage/adjustment_request_button.html" with charge=a.item %} {% endif %} {%
+endif %} {% endif %} {{ a.billable_display_amount }}
 {% endfor %} {% endif %} {% if detailed_item.grouper.name == "TOOL_USAGE" %}
 **** Tool usage ****
 {% for u in detailed_item.list %}
 {{ u.tool }}{{ u.rate_time_name_add }}
 {% if u.user != u.proxy_user %}Operated by {{ u.proxy_user }} {% if
 project_autocomplete or selected_project %}on behalf of {{ u.user }}{% else
 %}on your behalf{% endif %}
 {% else %}{% if project_autocomplete or selected_project %}Operated by {
 { u.user }}
 {% endif %} {% endif %} {{ u.start }}
 {{ u.end }}
 Charged to project {{ u.project }}
 {{ u.billable_rate|default_if_none:"" }}
-{{ u.billable_display_amount }}
+{% if adj_tool_usage == "enabled" %} {% if not adjustment_time_limit or
+adjustment_time_limit <= u.end %} {% if u.item.user == u.item.operator and
+u.item.user == user or u.project in pi_projects %} {% include "usage/
+adjustment_request_button.html" with charge=u.item %} {% endif %} {% endif %}
+{% endif %} {% if adj_staff_charge == "enabled" %} {% if not
+adjustment_time_limit or adjustment_time_limit <= u.end %} {% if
+u.item.operator == user and user.is_staff and u.item.remote_work %} {% include
+"usage/adjustment_request_button.html" with charge=u.item %} {% endif %} {%
+endif %} {% endif %} {{ u.billable_display_amount }}
 {% endfor %} {% endif %} {% if detailed_item.grouper.name == "CUSTOM_CHARGE" %}
 **** Custom charges ****
 {% for c in detailed_item.list %}
 {{ c.item.name }}
 {% if project_autocomplete or selected_project %}For {{ c.user }}
 {% endif %} {{ c.start }}
 Charged to project {{ c.project }}
 {{ c.billable_rate|default_if_none:"" }}
 {{ c.billable_display_amount }}
 {% endfor %} {% endif %} {% endfor %}
+{% endwith %}
 {% endblock %}
```

## NEMO_billing/invoices/views/usage.py

```diff
@@ -1,13 +1,14 @@
 from logging import getLogger
 from typing import List
 
 from NEMO.decorators import accounting_or_user_office_or_manager_required
 from NEMO.models import Account, Project, User
 from NEMO.utilities import BasicDisplayTable, export_format_datetime, format_datetime
+from NEMO.views.customization import UserRequestsCustomization
 from NEMO.views.usage import date_parameters_dictionary, get_managed_projects, get_project_applications
 from django.contrib.auth.decorators import login_required
 from django.db.models import Q
 from django.shortcuts import get_object_or_404, render
 from django.urls import reverse
 from django.views.decorators.http import require_GET
 
@@ -45,14 +46,15 @@
     else:
         total_charges = sum(item.billable_amount for item in detailed_items)
         dictionary = {
             "detailed_items": detailed_items,
             "total_charges": display_amount(total_charges, config),
             "pending_charges": display_amount(total_charges - sum(item.invoiced_amount or 0 for item in detailed_items), config),
             "can_export": True,
+            'adjustment_time_limit': UserRequestsCustomization.get_date_limit(),
         }
         if user_managed_projects:
             dictionary["pi_projects"] = user_managed_projects
         dictionary["no_charges"] = not dictionary["detailed_items"]
         if cap_discount_installed():
             from NEMO_billing.cap_discount.models import CAPDiscount
 
@@ -109,14 +111,15 @@
         | set(Project.objects.all())
         | set(get_project_applications())
         | set(User.objects.filter(is_active=True)),
         "detailed_items": detailed_items,
         "total_charges": display_amount(total_charges, config),
         "pending_charges": display_amount(total_charges - sum(item.invoiced_amount or 0 for item in detailed_items), config),
         "project_autocomplete": True,
+        'adjustment_time_limit': UserRequestsCustomization.get_date_limit(),
         "selection": selection,
         "can_export": True,
     }
     dictionary["no_charges"] = not dictionary["detailed_items"]
     if cap_discount_installed():
         from NEMO_billing.cap_discount.models import CAPDiscount
```

## NEMO_billing/rates/api.py

```diff
@@ -1,57 +1,57 @@
+from NEMO.serializers import ModelSerializer
 from NEMO.utilities import export_format_datetime
+from NEMO.views.api import ModelViewSet
 from drf_excel.mixins import XLSXFileMixin
 from rest_flex_fields import FlexFieldsModelSerializer
+from rest_framework import mixins
 from rest_framework.fields import CharField
-from rest_framework.serializers import ModelSerializer
 from rest_framework.viewsets import ReadOnlyModelViewSet
 
 from NEMO_billing.rates.models import Rate, RateType
 
 
 class RateTypeSerializer(ModelSerializer):
     class Meta:
         model = RateType
         fields = "__all__"
 
 
-class RateSerializer(FlexFieldsModelSerializer):
+class RateSerializer(FlexFieldsModelSerializer, ModelSerializer):
     class Meta:
         model = Rate
         fields = "__all__"
         expandable_fields = {
             "type": "NEMO_billing.rates.api.RateTypeSerializer",
             "tool": "NEMO.serializers.ToolSerializer",
             "area": "NEMO.serializers.AreaSerializer",
             "consumable": "NEMO.serializers.ConsumableSerializer",
         }
 
-    type_name = CharField(source="type.get_type_display")
-    category_name = CharField(source="category.name", default=None)
-    tool_name = CharField(source="tool.name", default=None)
-    area_name = CharField(source="area.name", default=None)
-    consumable_name = CharField(source="consumable.name", default=None)
+    type_name = CharField(source="type.get_type_display", read_only=True)
+    category_name = CharField(source="category.name", default=None, read_only=True)
+    tool_name = CharField(source="tool.name", default=None, read_only=True)
+    area_name = CharField(source="area.name", default=None, read_only=True)
+    consumable_name = CharField(source="consumable.name", default=None, read_only=True)
 
 
-class RateTypeViewSet(XLSXFileMixin, ReadOnlyModelViewSet):
+class RateTypeViewSet(XLSXFileMixin, mixins.UpdateModelMixin, ReadOnlyModelViewSet):
     queryset = RateType.objects.all()
     serializer_class = RateTypeSerializer
 
     def get_filename(self, *args, **kwargs):
         return f"rate_types-{export_format_datetime()}.xlsx"
 
 
-class RateViewSet(XLSXFileMixin, ReadOnlyModelViewSet):
+class RateViewSet(ModelViewSet):
+    filename = "rates"
     queryset = Rate.objects.all()
     serializer_class = RateSerializer
     filterset_fields = {
         "type": ["exact", "in"],
         "category": ["exact", "in"],
         "id": ["exact", "in"],
         "tool": ["exact", "in"],
         "area": ["exact", "in"],
         "consumable": ["exact", "in"],
         "deleted": ["exact"],
     }
-
-    def get_filename(self, *args, **kwargs):
-        return f"rates-{export_format_datetime()}.xlsx"
```

## NEMO_billing/rates/models.py

```diff
@@ -118,15 +118,15 @@
             and self.type in [self.Type.TOOL_USAGE, self.Type.AREA_USAGE, self.Type.CONSUMABLE]
         ):
             raise ValidationError({"item_specific": "This rate has to be item specific"})
 
     def validate_unique(self, exclude=None):
         super().validate_unique(exclude)
         if not exclude or exclude and "type" not in exclude and self.type:
-            if self.pk is None and RateType.objects.filter(type=self.type).exists():
+            if RateType.objects.filter(type=self.type).exclude(id=self.pk).exists():
                 raise ValidationError({"type": f"There is already a {self.get_type_display()} rate type"})
 
     def __str__(self):
         return self.get_type_display()
 
 
 class RateTime(BaseModel):
```

## Comparing `NEMO_billing-2.0.1.dist-info/LICENSE` & `NEMO_billing-2.1.0.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `NEMO_billing-2.0.1.dist-info/METADATA` & `NEMO_billing-2.1.0.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: NEMO-billing
-Version: 2.0.1
+Version: 2.1.0
 Summary: Install Billing plugin for NEMO
 Home-page: https://gitlab.com/nemo-community/atlantis-labs/nemo-billing
 Author: Atlantis Labs LLC
 Author-email: atlantis@atlantislabs.io
 License: MIT
 Keywords: NEMO
 Classifier: Development Status :: 4 - Beta
```

## Comparing `NEMO_billing-2.0.1.dist-info/RECORD` & `NEMO_billing-2.1.0.dist-info/RECORD`

 * *Files 3% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 NEMO_billing/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO_billing/admin.py,sha256=qUyXFW0dAfbSBQZ_iLoyXyu1ibIqdIZdnCUvi7TrHA0,11303
-NEMO_billing/api.py,sha256=C1CnFuwS-KYLK1pTEIaLHliIrbKmKol5NkEd0iSG3F0,1368
+NEMO_billing/api.py,sha256=317SW628mP-6FT0z96G4K788zU90uhWjFlIDeTovxCA,1218
 NEMO_billing/app_settings.py,sha256=jFpLL7MGspdYud_InbxiMN_8u5TYj7lubZDSb9Muvzk,285
 NEMO_billing/apps.py,sha256=5FpuGePoZ5KLQakfMeAFrImcKYAognKgpX6xojaFGmE,426
 NEMO_billing/decorators.py,sha256=bJ9hxj4HPvE20RD7pFLNTevdqw9oCgjgQpCe8dtgxtY,199
 NEMO_billing/exceptions.py,sha256=7QPSpX-yzxrchSJyo08JNQ0Oq7BhqDQYsdX2nqECZ_8,122
 NEMO_billing/models.py,sha256=JRjd5A1q7VWzM9PHikkKJzD_Ng7d030sbRH_ZMXymFo,4612
 NEMO_billing/urls.py,sha256=jnQllPbwe1_lcUeSFJazClqjuu64tbJTD4A0lk4wAGY,1126
 NEMO_billing/utilities.py,sha256=0b0SiH8JQa9wsQpHOve1iYrdLJZCoo4yBRqLl0w2M0Q,417
@@ -22,22 +22,22 @@
 NEMO_billing/cap_discount/migrations/0001_initial.py,sha256=eEnakfRjFKF3Ml8aYrUgl6jT-G2S1sI7lG9-9VDJc1E,7594
 NEMO_billing/cap_discount/migrations/0002_version_2_0_0.py,sha256=Ch6EXpvFjakBma6mRYLT6KRZQOanNWguVxxwX7jUqdo,1665
 NEMO_billing/cap_discount/migrations/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO_billing/cap_discount/templates/cap_discount/usage_cap_discounts.html,sha256=CPHDcOCT83RexvEQxk2y-fAoTtPotqL-Piu8C2Bh_Uo,1664
 NEMO_billing/cap_discount/templates/customizations/customizations_cap_discount.html,sha256=Wfhx7faoFJtiS_6iZdllohBFtcFDu6STfwOP1z7jf50,4068
 NEMO_billing/invoices/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO_billing/invoices/admin.py,sha256=CYzCCZNxi_7705e4tkKprK6Yn0srE_Cl-uzeuYAOF1g,10232
-NEMO_billing/invoices/api.py,sha256=8ihVRn07-46EKtX6KeshnLlWbSajwiQaNtuqrMTDJ98,5485
+NEMO_billing/invoices/api.py,sha256=yF30d9SV-2WHOhJOomFhc8CqYwf-24hHdz1gQOKXKQw,5429
 NEMO_billing/invoices/app_settings.py,sha256=xCnFmkrrdKZR3Y10fP9goyBYEF6IgxRU822du8gQ9Io,176
 NEMO_billing/invoices/apps.py,sha256=LsmoLy06jnQ1siQ9WuCzWLAeBnwdwdpU4XNgAjwD6Uo,437
 NEMO_billing/invoices/customization.py,sha256=2Nb49Hq-nc9Is-xje_62STRBoSy6YpU89Dvl0T9ncOY,4397
 NEMO_billing/invoices/exceptions.py,sha256=vxqszGM-qTiHGuIXNjIK93Incg-cMpY8nHC89l92Imk,2642
 NEMO_billing/invoices/models.py,sha256=40F6_h2RE2GIAtoeIGelYJdjPP_X0eGTpMX8V7Y7cDQ,22806
 NEMO_billing/invoices/pdf_utilities.py,sha256=k9NKkO40tce4ALJl1LPMmy6JT7FnXcHmIG-08tYZYSA,12477
-NEMO_billing/invoices/processors.py,sha256=MZgG2vygwMx2YlRzYLPT4CXBzMqpRi4jgLv44_BbsLI,27341
+NEMO_billing/invoices/processors.py,sha256=8nc-aMJr_RBZDb9gCqyff_Dj4LS3AF_juMz9n8A5ErA,27259
 NEMO_billing/invoices/renderers.py,sha256=f-xQI-EgZIq8fvPDe8Y9ca0d0LJlofvM1_RYRWRmtsc,25415
 NEMO_billing/invoices/urls.py,sha256=nABvCf6cZ5dMRGg2av5Q4ZCyVpuKZRD7L3GxjLuRYdU,2859
 NEMO_billing/invoices/utilities.py,sha256=TVLznEJN6B_XzOu1uXUyCTWHkECNcCWBOkbsUM8JYeQ,4235
 NEMO_billing/invoices/management/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO_billing/invoices/management/commands/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO_billing/invoices/management/commands/deactivate_expired_projects.py,sha256=vrJ7y-FHBPvufXCbcYQbOmNwBUsWSSAvdGlYdGX4lII,298
 NEMO_billing/invoices/management/commands/send_invoice_payment_reminder.py,sha256=NirdsT3Saj_sZwCE2iZMHZgMDeXYvp8hL2srk-Z63mY,318
@@ -55,39 +55,40 @@
 NEMO_billing/invoices/static/invoices/invoices.css,sha256=muuTqotwZaDbLYodkpQs949MX5_KN5QmXB2X6ndeiAY,1030
 NEMO_billing/invoices/templates/customizations/customizations_billing.html,sha256=wmIo0qjIJbgCIupegnrn1Md_nxYZZ9QuhnXt08qeZK0,4924
 NEMO_billing/invoices/templates/customizations/customizations_invoices.html,sha256=iwrKt38Y_PSBXra1rv44TsdveCSRBshgizedxabNvLM,8157
 NEMO_billing/invoices/templates/invoices/base.html,sha256=GJQiq_yduxal8rnCPLyZsclw7w1G9UAgjSAvgCPf__I,212
 NEMO_billing/invoices/templates/invoices/invoice.html,sha256=ZY8ntYXX5U_1vtUhfMgIrxdbqxVTRmLTo778C3V_R8g,12867
 NEMO_billing/invoices/templates/invoices/invoice_details.html,sha256=Tu-dNX7kYZK-NqD8sbJMHDaBwFF36cz_jMUBRHWry8E,3375
 NEMO_billing/invoices/templates/invoices/invoices.html,sha256=NlzSde-igXgguenL5nQHl2T_YiIF0IYBWr7VpRz89Y4,12238
-NEMO_billing/invoices/templates/invoices/usage.html,sha256=XiHi1BX9_xr65FkVjAs5ddvYWnBlDkcwUaRyDG5VN8E,9831
+NEMO_billing/invoices/templates/invoices/usage.html,sha256=CeO2zlMc2WPQTmo1nNHJ24w0Nvcs306UYpRSfGWeWDU,13588
 NEMO_billing/invoices/templates/invoices/email/billing_project_expiration_reminder_email_message.html,sha256=Ae3T7dn2Bow-Fyhm4qJpaGnTmFXhfI9I6FwnNIhSNYs,1274
 NEMO_billing/invoices/templates/invoices/email/billing_project_expiration_reminder_email_subject.txt,sha256=B6Qch-uKedCcN7DEUtSub1qCmn-AStVrr433FUg8gLU,173
 NEMO_billing/invoices/templates/invoices/email/email_send_invoice_message.html,sha256=qxtmOrntin7s--ejgi0-ZExhMNtlFH5Ug9FDN8HlG1M,1330
 NEMO_billing/invoices/templates/invoices/email/email_send_invoice_reminder_message.html,sha256=-7pEuk2HGcyKWrQVUq2g-rOJSijl5kHH0qVxy5RhDsU,1344
 NEMO_billing/invoices/templates/invoices/email/email_send_invoice_reminder_subject.txt,sha256=CppgdsErLEDyGWDSiupNBwDwYkcQ2yWGHDZIHbZLk84,155
 NEMO_billing/invoices/templates/invoices/email/email_send_invoice_subject.txt,sha256=sqKu9kb_nGdwlwaaFtA_1SrlkDToiQC6DwVpMr79DuA,155
 NEMO_billing/invoices/templates/invoices/project/edit_project.html,sha256=9oC3lEpsr-1JJmmGs4-EcSEe_tpzjSi28gsvC5fNLr0,11496
 NEMO_billing/invoices/templates/invoices/project/view_project_additional_info.html,sha256=gHGxWAQX-CL8il45UYOi-ONkyNVuMZS4B-LGdzNKMVE,3069
+NEMO_billing/invoices/templates/usage/adjustment_request_button.html,sha256=xpRowyJGuQEJi5FaPkcA1ZI4-KLI3MePlYMIle9N8to,496
 NEMO_billing/invoices/views/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO_billing/invoices/views/invoices.py,sha256=lotPbzF1YAXuN4Qm_GW-tfxbPYGSaaxmC2G1H6SSpIs,18824
 NEMO_billing/invoices/views/project.py,sha256=kEhAcNOuhZa2kAHL9yC0zh4yQw6P7XQ-SYmLVVLLFhM,6749
-NEMO_billing/invoices/views/usage.py,sha256=RnfYxHIazUJQA8pUUWEqpu56CttkHKAq48we8rJUhLQ,9105
+NEMO_billing/invoices/views/usage.py,sha256=KHhj3nqCARb2Uk_rFwAEni-StRh6Nnli7GfutV8QLlY,9326
 NEMO_billing/migrations/0001_initial.py,sha256=8mX99RBacUkx98feI1gk4ipAncSoGxqHn7uVTShlGM0,3156
 NEMO_billing/migrations/0002_version_1_2_0.py,sha256=L9gAAPwTIPJoVJFgRHvxukVBbJ24i38E7pGWUcPF1Tw,573
 NEMO_billing/migrations/0003_version_2_0_0.py,sha256=bthjpfKPie-Rn0-DFChbJAFTixJhdcWtcMRmeM1hra4,466
 NEMO_billing/migrations/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO_billing/rates/__init__.py,sha256=AbpHGcgLb-kRsJGnwFEktk7uzpZOCcBY74-YBdrKVGs,1
 NEMO_billing/rates/admin.py,sha256=Kvr1YnxPoidHDrrjBkhGuB7RLSM8OzmQjDyzqRkltl8,8665
-NEMO_billing/rates/api.py,sha256=DP7qrdXbUSKJ5EztvvSdryTuQK5TGbnqF7wtEF_JtTc,1935
+NEMO_billing/rates/api.py,sha256=9y2C3HdKh1SBf_IsTFNpEM8St2OSryQtNLj3ieas2eg,2019
 NEMO_billing/rates/app_settings.py,sha256=G5GkjK908YTclKp4Q74OD1LAck5ouKZgjpl3KyNmJZU,100
 NEMO_billing/rates/apps.py,sha256=FDnwXQdn2-yUyr8bjBLt66EbLwTqf8ipvlk0xBqjNpg,707
 NEMO_billing/rates/customization.py,sha256=iJySJpT3gKjZxeZwZ4JNrcDk_-RGpnyGx-HukFcXD38,489
 NEMO_billing/rates/model_diff.py,sha256=8IJZDf3694tpn3RAn0g2DyGXBjN0OSTLqpNTmWZtvKk,1913
-NEMO_billing/rates/models.py,sha256=Cidg8rlKuK8_cweE5dPQU1XgRCg4_BYtEQ4FQQJu2BI,22269
+NEMO_billing/rates/models.py,sha256=XaOMce-05UN-g-mb-s-esI1mv2tQitSVzpZ57wM0l9Y,22269
 NEMO_billing/rates/rates_class.py,sha256=GQ9t2AtRVlMH447UdEBzxYHA2NO_FHaVTrfvD7Y32fk,4042
 NEMO_billing/rates/urls.py,sha256=XG4jd8mQlHbiQQmUdDRLrUBh9-WSogN0Z6gxuIkA8bM,777
 NEMO_billing/rates/views.py,sha256=Kc0bx3u1Se8d0kP_Nx55lVGscgcrONbSN6k3jL8bXMc,12329
 NEMO_billing/rates/migrations/0001_initial.py,sha256=Sz5S5PVnYxoOA4Iw4AJbg3Xg-iTwzRHCyMz7wEny5xI,5101
 NEMO_billing/rates/migrations/0002_version_1_15_0.py,sha256=A2HsKCJqRyi9iNcjricV2qa0KAE35KtH2oHirTHKQ8I,602
 NEMO_billing/rates/migrations/0003_version_1_17_0.py,sha256=SRBOrvrC_RXkuhPKYd3WPOdI1uDHK5KeMbQ3t-xR3Gk,1999
 NEMO_billing/rates/migrations/0004_version_2_0_0.py,sha256=XjDwJ0kIU1IWJWeMyXUMUWUlraamPpUd-eoakXtnGng,421
@@ -115,12 +116,12 @@
 NEMO_billing/tests/cap/test_cap_invoicing.py,sha256=ACcsXwL3OpWkT889ov1gbXSxwiDWrJgzkzcotEnNyFI,29198
 NEMO_billing/tests/cap/test_cap_utilities.py,sha256=rQOpoB16ysmPJ1w36N1M-4eFF--EYp0kiwRLIoFIJrI,4252
 NEMO_billing/tests/rates/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO_billing/tests/rates/test_rate_amount.py,sha256=XlJB7l479bCZrZvVJTd5-Ek4Qh51zToxFlWaZTmXeFA,26426
 NEMO_billing/tests/rates/test_rate_time.py,sha256=HlFPppN2ArI2wtIOCiAbn4Vdi0soy0U0luKiw7v-Xek,20895
 NEMO_billing/tests/rates/test_rate_uniqueness.py,sha256=73HgpjHMVhjNVFQkET4LTmisI0sMbQXcbh6t1F2vH9Q,6164
 NEMO_billing/tests/rates/test_split_billables.py,sha256=BJxjVoiAG-85Ii731RoQ7d5iGzOIxk8lv4Vl46KAMnY,27008
-NEMO_billing-2.0.1.dist-info/LICENSE,sha256=wFCCmLGvBMU6-W_0h08WYEs3cFtVstutDmY5AzKppQc,1074
-NEMO_billing-2.0.1.dist-info/METADATA,sha256=ofSZAqwLP4SQt0tErQ_bXrDPrJCsw77JzGZcNRtwC84,5343
-NEMO_billing-2.0.1.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-NEMO_billing-2.0.1.dist-info/top_level.txt,sha256=oSVD1wly89TarvuLJtW0tkI41vVO_BaZ7EuxPtyp9qo,13
-NEMO_billing-2.0.1.dist-info/RECORD,,
+NEMO_billing-2.1.0.dist-info/LICENSE,sha256=wFCCmLGvBMU6-W_0h08WYEs3cFtVstutDmY5AzKppQc,1074
+NEMO_billing-2.1.0.dist-info/METADATA,sha256=JaBor5TAPy-tiWZTeI9mTRrIIHMkZZBbGl-Y-jV-NnY,5343
+NEMO_billing-2.1.0.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+NEMO_billing-2.1.0.dist-info/top_level.txt,sha256=oSVD1wly89TarvuLJtW0tkI41vVO_BaZ7EuxPtyp9qo,13
+NEMO_billing-2.1.0.dist-info/RECORD,,
```

