# Comparing `tmp/nngt-2.6.0.zip` & `tmp/NNGT-2.7.0-cp39-cp39-musllinux_1_1_x86_64.whl.zip`

## zipinfo {}

```diff
@@ -1,251 +1,131 @@
-Zip file size: 1315300 bytes, number of entries: 249
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/nngt/
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/testing/
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/doc/
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/nngt.egg-info/
--rw-r--r--  2.0 unx    35141 b- defN 22-Sep-19 16:36 nngt-2.6.0/LICENSE.txt
--rw-r--r--  2.0 unx     1394 b- defN 22-Sep-29 22:06 nngt-2.6.0/PKG-INFO
--rwxr-xr-x  2.0 unx     4971 b- defN 22-Sep-28 11:57 nngt-2.6.0/README.md
--rw-r--r--  2.0 unx       67 b- defN 22-Sep-29 22:06 nngt-2.6.0/setup.cfg
--rwxr-xr-x  2.0 unx     6173 b- defN 22-Sep-26 15:39 nngt-2.6.0/setup.py
--rw-r--r--  2.0 unx      549 b- defN 22-Sep-19 16:36 nngt-2.6.0/MANIFEST.in
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/nngt/io/
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/nngt/database/
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/nngt/plot/
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/nngt/generation/
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/nngt/simulation/
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/nngt/lib/
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/nngt/geometry/
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/nngt/core/
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/nngt/geospatial/
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/nngt/analysis/
--rwxr-xr-x  2.0 unx     3096 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/nngt.conf.default
--rw-r--r--  2.0 unx    10411 b- defN 22-Sep-29 10:43 nngt-2.6.0/nngt/__init__.py
--rwxr-xr-x  2.0 unx    17768 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/io/loading_helpers.py
--rwxr-xr-x  2.0 unx    13854 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/io/graph_loading.py
--rwxr-xr-x  2.0 unx     1810 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/io/io_helpers.py
--rwxr-xr-x  2.0 unx    13007 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/io/graph_saving.py
--rwxr-xr-x  2.0 unx     1066 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/io/__init__.py
--rwxr-xr-x  2.0 unx     7880 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/io/saving_helpers.py
--rwxr-xr-x  2.0 unx     6726 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/database/db_generation.py
--rw-r--r--  2.0 unx    12563 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/database/csv_utils.py
--rwxr-xr-x  2.0 unx    16716 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/database/db_main.py
--rw-r--r--  2.0 unx     1371 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/database/pickle_field.py
--rwxr-xr-x  2.0 unx     2864 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/database/__init__.py
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/nngt/plot/chord_diag/
--rwxr-xr-x  2.0 unx    36072 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/plot/animations.py
--rwxr-xr-x  2.0 unx    12920 b- defN 22-Sep-27 13:42 nngt-2.6.0/nngt/plot/hive_helpers.py
--rwxr-xr-x  2.0 unx    38874 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/plot/plt_properties.py
--rwxr-xr-x  2.0 unx     5748 b- defN 22-Sep-27 13:42 nngt-2.6.0/nngt/plot/custom_plt.py
--rwxr-xr-x  2.0 unx     1948 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/plot/__init__.py
--rwxr-xr-x  2.0 unx    94489 b- defN 22-Sep-28 11:57 nngt-2.6.0/nngt/plot/plt_networks.py
--rw-r--r--  2.0 unx       23 b- defN 22-Sep-22 14:38 nngt-2.6.0/nngt/plot/chord_diag/requirements.txt
--rw-r--r--  2.0 unx    21705 b- defN 22-Sep-28 10:34 nngt-2.6.0/nngt/plot/chord_diag/chord_diagram.py
--rw-r--r--  2.0 unx     9046 b- defN 22-Sep-22 14:38 nngt-2.6.0/nngt/plot/chord_diag/README.md
--rw-r--r--  2.0 unx     1556 b- defN 22-Sep-22 14:38 nngt-2.6.0/nngt/plot/chord_diag/gradient.py
--rw-r--r--  2.0 unx     5466 b- defN 22-Sep-22 14:38 nngt-2.6.0/nngt/plot/chord_diag/utilities.py
--rw-r--r--  2.0 unx       52 b- defN 22-Sep-22 14:38 nngt-2.6.0/nngt/plot/chord_diag/_info.py
--rw-r--r--  2.0 unx     2543 b- defN 22-Sep-22 14:38 nngt-2.6.0/nngt/plot/chord_diag/setup.py
--rw-r--r--  2.0 unx     2267 b- defN 22-Sep-22 14:38 nngt-2.6.0/nngt/plot/chord_diag/example.py
--rw-r--r--  2.0 unx      181 b- defN 22-Sep-22 14:38 nngt-2.6.0/nngt/plot/chord_diag/__init__.py
--rw-r--r--  2.0 unx    15327 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/generation/func_connect.cpp
--rw-r--r--  2.0 unx     1153 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/generation/cconnect.pxd
--rw-r--r--  2.0 unx    12110 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/generation/connectors.py
--rw-r--r--  2.0 unx    13910 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/generation/mpi_connect.py
--rwxr-xr-x  2.0 unx    60100 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/generation/graph_connectivity.py
--rw-r--r--  2.0 unx  1642573 b- defN 22-Sep-27 15:24 nngt-2.6.0/nngt/generation/cconnect.cpp
--rw-r--r--  2.0 unx    20285 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/generation/cconnect.pyx
--rw-r--r--  2.0 unx     5723 b- defN 22-Sep-28 17:03 nngt-2.6.0/nngt/generation/func_connect.h
--rw-r--r--  2.0 unx    21032 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/generation/rewiring.py
--rw-r--r--  2.0 unx    38100 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/generation/connect_algorithms.py
--rw-r--r--  2.0 unx      540 b- defN 22-Sep-26 15:39 nngt-2.6.0/nngt/generation/cconnect.pyxbld
--rwxr-xr-x  2.0 unx     1363 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/generation/__init__.py
--rwxr-xr-x  2.0 unx    23612 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/simulation/nest_activity.py
--rwxr-xr-x  2.0 unx    18551 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/simulation/nest_utils.py
--rwxr-xr-x  2.0 unx    29829 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/simulation/nest_plot.py
--rwxr-xr-x  2.0 unx    15713 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/simulation/nest_graph.py
--rwxr-xr-x  2.0 unx     3572 b- defN 22-Sep-29 10:46 nngt-2.6.0/nngt/simulation/__init__.py
--rwxr-xr-x  2.0 unx     1553 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/lib/db_tools.py
--rwxr-xr-x  2.0 unx     3529 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/lib/logger.py
--rwxr-xr-x  2.0 unx     3488 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/lib/converters.py
--rwxr-xr-x  2.0 unx    16252 b- defN 22-Sep-27 14:34 nngt-2.6.0/nngt/lib/connect_tools.py
--rw-r--r--  2.0 unx     1434 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/lib/_frozendict.py
--rwxr-xr-x  2.0 unx     8186 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/lib/graph_backends.py
--rwxr-xr-x  2.0 unx     6889 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/lib/sorting.py
--rw-r--r--  2.0 unx     1601 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/lib/constants.py
--rwxr-xr-x  2.0 unx    13206 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/lib/graph_helpers.py
--rwxr-xr-x  2.0 unx    10509 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/lib/rng_tools.py
--rw-r--r--  2.0 unx    17463 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/lib/decorator.py
--rwxr-xr-x  2.0 unx     1203 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/lib/errors.py
--rw-r--r--  2.0 unx    14921 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/lib/nngt_config.py
--rwxr-xr-x  2.0 unx     1485 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/lib/__init__.py
--rwxr-xr-x  2.0 unx     7905 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/lib/test_functions.py
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/nngt/geometry/dxf_import/
--rw-r--r--  2.0 unx       45 b- defN 22-Sep-22 14:38 nngt-2.6.0/nngt/geometry/requirements.txt
--rwxr-xr-x  2.0 unx    45153 b- defN 22-Sep-22 14:38 nngt-2.6.0/nngt/geometry/shape.py
--rwxr-xr-x  2.0 unx     8159 b- defN 22-Sep-22 14:38 nngt-2.6.0/nngt/geometry/svgtools.py
--rw-r--r--  2.0 unx     1007 b- defN 22-Sep-22 14:38 nngt-2.6.0/nngt/geometry/README.md
--rw-r--r--  2.0 unx     4863 b- defN 22-Sep-22 14:38 nngt-2.6.0/nngt/geometry/tools.py
--rw-r--r--  2.0 unx     7494 b- defN 22-Sep-22 14:38 nngt-2.6.0/nngt/geometry/plot.py
--rwxr-xr-x  2.0 unx    18852 b- defN 22-Sep-22 14:38 nngt-2.6.0/nngt/geometry/backup_shape.py
--rwxr-xr-x  2.0 unx     1209 b- defN 22-Sep-22 14:38 nngt-2.6.0/nngt/geometry/geom_utils.py
--rw-r--r--  2.0 unx      749 b- defN 22-Sep-22 14:38 nngt-2.6.0/nngt/geometry/dxftools.py
--rw-r--r--  2.0 unx     1647 b- defN 22-Sep-22 14:38 nngt-2.6.0/nngt/geometry/units.py
--rw-r--r--  2.0 unx     1509 b- defN 22-Sep-22 14:38 nngt-2.6.0/nngt/geometry/setup.py
--rw-r--r--  2.0 unx     2081 b- defN 22-Sep-22 14:38 nngt-2.6.0/nngt/geometry/pync_log.py
--rw-r--r--  2.0 unx    11610 b- defN 22-Sep-22 14:38 nngt-2.6.0/nngt/geometry/shape_io.py
--rwxr-xr-x  2.0 unx     3109 b- defN 22-Sep-22 14:38 nngt-2.6.0/nngt/geometry/__init__.py
--rw-r--r--  2.0 unx     4375 b- defN 22-Sep-22 14:38 nngt-2.6.0/nngt/geometry/triangulate.py
--rwxr-xr-x  2.0 unx     6644 b- defN 22-Sep-22 14:38 nngt-2.6.0/nngt/geometry/dxf_import/read_dxf.py
--rwxr-xr-x  2.0 unx    20075 b- defN 22-Sep-22 14:38 nngt-2.6.0/nngt/geometry/dxf_import/homcoord.py
--rwxr-xr-x  2.0 unx      875 b- defN 22-Sep-22 14:38 nngt-2.6.0/nngt/geometry/dxf_import/__init__.py
--rw-r--r--  2.0 unx    29230 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/core/group_structure.py
--rw-r--r--  2.0 unx    68274 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/core/graph.py
--rwxr-xr-x  2.0 unx    25307 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/core/ig_graph.py
--rw-r--r--  2.0 unx    11574 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/core/connections.py
--rw-r--r--  2.0 unx    42331 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/core/neural_pop_group.py
--rwxr-xr-x  2.0 unx    29986 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/core/nx_graph.py
--rw-r--r--  2.0 unx    20061 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/core/networks.py
--rw-r--r--  2.0 unx     7857 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/core/spatial_graph.py
--rwxr-xr-x  2.0 unx    32963 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/core/gt_graph.py
--rw-r--r--  2.0 unx    35124 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/core/nngt_graph.py
--rw-r--r--  2.0 unx     8783 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/core/graph_interface.py
--rwxr-xr-x  2.0 unx     1688 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/core/__init__.py
--rw-r--r--  2.0 unx     9190 b- defN 22-Sep-26 15:39 nngt-2.6.0/nngt/geospatial/countries.py
--rw-r--r--  2.0 unx     7989 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/geospatial/plot.py
--rw-r--r--  2.0 unx     1481 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/geospatial/__init__.py
--rw-r--r--  2.0 unx     6126 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/analysis/nngt_functions.py
--rw-r--r--  2.0 unx    12932 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/analysis/bayesian_blocks.py
--rwxr-xr-x  2.0 unx    43652 b- defN 22-Sep-27 15:16 nngt-2.6.0/nngt/analysis/graph_analysis.py
--rwxr-xr-x  2.0 unx    12359 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/analysis/activity_analysis.py
--rw-r--r--  2.0 unx    23236 b- defN 22-Sep-27 15:16 nngt-2.6.0/nngt/analysis/ig_functions.py
--rw-r--r--  2.0 unx    25152 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/analysis/nx_functions.py
--rw-r--r--  2.0 unx    36938 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/analysis/clustering.py
--rw-r--r--  2.0 unx    25858 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/analysis/gt_functions.py
--rwxr-xr-x  2.0 unx     1251 b- defN 22-Sep-19 16:36 nngt-2.6.0/nngt/analysis/__init__.py
--rwxr-xr-x  2.0 unx     8038 b- defN 22-Sep-19 16:36 nngt-2.6.0/testing/test_generation.py
--rw-r--r--  2.0 unx     3189 b- defN 22-Sep-19 16:36 nngt-2.6.0/testing/test_nest.py
--rw-r--r--  2.0 unx     4873 b- defN 22-Sep-19 16:36 nngt-2.6.0/testing/test_mpi.py
--rwxr-xr-x  2.0 unx     5738 b- defN 22-Sep-19 16:36 nngt-2.6.0/testing/test_graphclasses.py
--rw-r--r--  2.0 unx    10467 b- defN 22-Sep-19 16:36 nngt-2.6.0/testing/test_rewire.py
--rwxr-xr-x  2.0 unx    23765 b- defN 22-Sep-19 16:36 nngt-2.6.0/testing/test_basics.py
--rw-r--r--  2.0 unx     1358 b- defN 22-Sep-19 16:36 nngt-2.6.0/testing/test_gallery.py
--rw-r--r--  2.0 unx     2921 b- defN 22-Sep-26 15:39 nngt-2.6.0/testing/test_examples.py
--rw-r--r--  2.0 unx    23924 b- defN 22-Sep-19 16:36 nngt-2.6.0/testing/test_analysis.py
--rw-r--r--  2.0 unx     2063 b- defN 22-Sep-19 16:36 nngt-2.6.0/testing/test_weights.py
--rw-r--r--  2.0 unx     1937 b- defN 22-Sep-19 16:36 nngt-2.6.0/testing/test_random.py
--rw-r--r--  2.0 unx     5795 b- defN 22-Sep-19 16:36 nngt-2.6.0/testing/test_connect_group_type.py
--rw-r--r--  2.0 unx     4175 b- defN 22-Sep-19 16:36 nngt-2.6.0/testing/test_group_pop.py
--rwxr-xr-x  2.0 unx     4109 b- defN 22-Sep-19 16:36 nngt-2.6.0/testing/base_test.py
--rw-r--r--  2.0 unx    10682 b- defN 22-Sep-26 15:39 nngt-2.6.0/testing/test_io.py
--rw-r--r--  2.0 unx     8925 b- defN 22-Sep-27 13:42 nngt-2.6.0/testing/test_plots.py
--rw-r--r--  2.0 unx     2795 b- defN 22-Sep-19 16:36 nngt-2.6.0/testing/tools_testing.py
--rw-r--r--  2.0 unx    23890 b- defN 22-Sep-19 16:36 nngt-2.6.0/testing/library_compatibility.py
--rw-r--r--  2.0 unx    16213 b- defN 22-Sep-26 15:39 nngt-2.6.0/testing/test_generation2.py
--rw-r--r--  2.0 unx     3284 b- defN 22-Sep-26 18:13 nngt-2.6.0/testing/__init__.py
--rwxr-xr-x  2.0 unx    13963 b- defN 22-Sep-19 16:36 nngt-2.6.0/testing/test_attributes.py
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/doc/_templates/
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/doc/modules/
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/doc/examples/
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/doc/user/
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/doc/_static/
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/doc/extensions/
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/doc/future/
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/doc/images/
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/doc/developer/
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/doc/gallery/
--rwxr-xr-x  2.0 unx      314 b- defN 22-Sep-28 12:01 nngt-2.6.0/doc/environment.yml
--rwxr-xr-x  2.0 unx     3598 b- defN 22-Sep-28 11:57 nngt-2.6.0/doc/index.rst
--rw-r--r--  2.0 unx     4892 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/autosum.py
--rw-r--r--  2.0 unx      198 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/pip-require.txt
--rwxr-xr-x  2.0 unx    17577 b- defN 22-Sep-28 12:17 nngt-2.6.0/doc/conf.py
--rw-r--r--  2.0 unx      474 b- defN 22-Sep-28 17:03 nngt-2.6.0/doc/_templates/base.html
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/doc/modules/nngt/
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/doc/modules/examples/
--rw-r--r--  2.0 unx      401 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/modules/lib.rst.in
--rw-r--r--  2.0 unx     1549 b- defN 22-Sep-29 08:34 nngt-2.6.0/doc/modules/generation.rst
--rw-r--r--  2.0 unx     2603 b- defN 22-Sep-29 08:34 nngt-2.6.0/doc/modules/analysis.rst
--rw-r--r--  2.0 unx     1170 b- defN 22-Sep-29 08:34 nngt-2.6.0/doc/modules/lib.rst
--rw-r--r--  2.0 unx      610 b- defN 22-Sep-29 08:34 nngt-2.6.0/doc/modules/geometry.rst
--rw-r--r--  2.0 unx      188 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/modules/simulation.rst.in
--rw-r--r--  2.0 unx      540 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/modules/generation.rst.in
--rw-r--r--  2.0 unx      442 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/modules/geometry.rst.in
--rw-r--r--  2.0 unx     1318 b- defN 22-Sep-28 18:21 nngt-2.6.0/doc/modules/geospatial.rst
--rw-r--r--  2.0 unx     1597 b- defN 22-Sep-29 08:34 nngt-2.6.0/doc/modules/nngt.rst
--rw-r--r--  2.0 unx      424 b- defN 22-Sep-28 11:57 nngt-2.6.0/doc/modules/nngt.rst.in
--rw-r--r--  2.0 unx     1220 b- defN 22-Sep-29 08:34 nngt-2.6.0/doc/modules/plot.rst
--rw-r--r--  2.0 unx      332 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/modules/analysis.rst.in
--rw-r--r--  2.0 unx      157 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/modules/plot.rst.in
--rwxr-xr-x  2.0 unx     1559 b- defN 22-Sep-28 11:57 nngt-2.6.0/doc/modules/database.rst
--rw-r--r--  2.0 unx     1495 b- defN 22-Sep-29 08:34 nngt-2.6.0/doc/modules/simulation.rst
--rw-r--r--  2.0 unx     1991 b- defN 22-Sep-28 11:57 nngt-2.6.0/doc/modules/nngt/graph-classes.rst.in
--rw-r--r--  2.0 unx     4294 b- defN 22-Sep-29 08:34 nngt-2.6.0/doc/modules/nngt/graph-classes.rst
--rwxr-xr-x  2.0 unx     1138 b- defN 22-Sep-28 11:57 nngt-2.6.0/doc/modules/nngt/side-classes.rst.in
--rwxr-xr-x  2.0 unx      112 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/modules/nngt/main-functions.rst.in
--rw-r--r--  2.0 unx     2565 b- defN 22-Sep-29 08:34 nngt-2.6.0/doc/modules/nngt/side-classes.rst
--rw-r--r--  2.0 unx      570 b- defN 22-Sep-29 08:34 nngt-2.6.0/doc/modules/nngt/main-functions.rst
--rw-r--r--  2.0 unx     1363 b- defN 22-Sep-22 14:38 nngt-2.6.0/doc/modules/examples/backup_shape.py
--rw-r--r--  2.0 unx     1807 b- defN 22-Sep-22 14:38 nngt-2.6.0/doc/modules/examples/load_culture.py
--rw-r--r--  2.0 unx     2338 b- defN 22-Sep-22 14:38 nngt-2.6.0/doc/modules/examples/areas.svg
--rw-r--r--  2.0 unx    12788 b- defN 22-Sep-22 14:38 nngt-2.6.0/doc/modules/examples/culture.dxf
--rw-r--r--  2.0 unx     2766 b- defN 22-Sep-22 14:38 nngt-2.6.0/doc/modules/examples/culture_from_filled_polygons.svg
--rw-r--r--  2.0 unx     2692 b- defN 22-Sep-22 14:38 nngt-2.6.0/doc/modules/examples/culture_with_holes.svg
--rw-r--r--  2.0 unx     1688 b- defN 22-Sep-22 14:38 nngt-2.6.0/doc/modules/examples/load_shapes.py
--rw-r--r--  2.0 unx     1948 b- defN 22-Sep-22 14:38 nngt-2.6.0/doc/modules/examples/gen_obstacles.py
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/doc/examples/graph_properties/
-drwxr-xr-x  2.0 unx        0 b- stor 22-Sep-29 22:06 nngt-2.6.0/doc/examples/graph_structure/
--rw-r--r--  2.0 unx     2281 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/examples/simple_graphs.py
--rw-r--r--  2.0 unx     1905 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/examples/multi_groups_network.py
--rw-r--r--  2.0 unx     2249 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/examples/spatial_graphs.py
--rw-r--r--  2.0 unx     8333 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/examples/introduction_to_groups.py
--rw-r--r--  2.0 unx     6631 b- defN 22-Sep-27 13:42 nngt-2.6.0/doc/examples/random_balanced.py
--rw-r--r--  2.0 unx   717344 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/examples/nngt_tutorial.ipynb
--rw-r--r--  2.0 unx     6916 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/examples/attributes.py
--rw-r--r--  2.0 unx     3865 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/examples/introductory_tutorial.py
--rw-r--r--  2.0 unx     2547 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/examples/nest_receptor_ports.py
--rw-r--r--  2.0 unx     3651 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/examples/groups_and_metagroups.py
--rw-r--r--  2.0 unx     3486 b- defN 22-Sep-27 13:42 nngt-2.6.0/doc/examples/basic_nest_network.py
--rw-r--r--  2.0 unx     2993 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/examples/nest_network.py
--rw-r--r--  2.0 unx     2014 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/examples/graph_properties/plot_betweenness.py
--rw-r--r--  2.0 unx     1762 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/examples/graph_properties/plot_degrees.py
--rw-r--r--  2.0 unx       58 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/examples/graph_properties/README.rst
--rw-r--r--  2.0 unx     2069 b- defN 22-Sep-24 11:41 nngt-2.6.0/doc/examples/graph_properties/plot_attributes.py
--rw-r--r--  2.0 unx      175 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/examples/graph_structure/README.rst
--rw-r--r--  2.0 unx     2542 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/examples/graph_structure/plot_hive_panel.py
--rw-r--r--  2.0 unx     4589 b- defN 22-Sep-26 15:39 nngt-2.6.0/doc/examples/graph_structure/plot_layouts.py
--rw-r--r--  2.0 unx     2036 b- defN 22-Sep-28 11:57 nngt-2.6.0/doc/examples/graph_structure/plot_chord_diagram.py
--rw-r--r--  2.0 unx     1962 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/examples/graph_structure/plot_map.py
--rwxr-xr-x  2.0 unx     4442 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/user/intro.rst
--rw-r--r--  2.0 unx    11716 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/user/graph-analysis.rst
--rwxr-xr-x  2.0 unx     9431 b- defN 22-Sep-28 11:57 nngt-2.6.0/doc/user/parallelism.rst
--rw-r--r--  2.0 unx     7337 b- defN 22-Sep-28 11:57 nngt-2.6.0/doc/user/neural-groups.rst
--rwxr-xr-x  2.0 unx     5095 b- defN 22-Sep-28 11:57 nngt-2.6.0/doc/user/graph-generation.rst
--rwxr-xr-x  2.0 unx     8227 b- defN 22-Sep-28 11:57 nngt-2.6.0/doc/user/component-properties.rst
--rw-r--r--  2.0 unx     6558 b- defN 22-Sep-28 11:57 nngt-2.6.0/doc/user/nest-interaction.rst
--rwxr-xr-x  2.0 unx     1607 b- defN 22-Sep-28 11:57 nngt-2.6.0/doc/user/activity-analysis.rst
--rwxr-xr-x  2.0 unx     5815 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/user/install.rst
--rw-r--r--  2.0 unx    10890 b- defN 22-Sep-28 11:57 nngt-2.6.0/doc/user/tutorial.rst
--rwxr-xr-x  2.0 unx    14449 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/_static/nngt_logo.png
--rw-r--r--  2.0 unx      593 b- defN 22-Sep-29 08:34 nngt-2.6.0/doc/_static/custom.css
--rw-r--r--  2.0 unx    27280 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/_static/nngt_logo.svg
--rw-r--r--  2.0 unx     1078 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/extensions/linksourcecode.py
--rw-r--r--  2.0 unx     2449 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/extensions/extlinks_fancy.py
--rwxr-xr-x  2.0 unx      646 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/future/interoperability.rst
--rwxr-xr-x  2.0 unx    12054 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/images/nngt_ico.svg
--rwxr-xr-x  2.0 unx     4323 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/images/nngt_logo.pdf
--rw-r--r--  2.0 unx     1134 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/images/nngt_ico.png
--rwxr-xr-x  2.0 unx    13433 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/images/nngt_logo.svg
--rwxr-xr-x  2.0 unx      465 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/developer/precision.rst
--rwxr-xr-x  2.0 unx     2485 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/developer/detailed-structure.rst
--rwxr-xr-x  2.0 unx     2677 b- defN 22-Sep-29 21:58 nngt-2.6.0/doc/developer/library_shipping.rst
--rw-r--r--  2.0 unx     3034 b- defN 22-Sep-28 11:57 nngt-2.6.0/doc/developer/contributing.rst
--rwxr-xr-x  2.0 unx     3375 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/developer/graph-attributes.rst
--rwxr-xr-x  2.0 unx      752 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/developer/optimization.rst
--rw-r--r--  2.0 unx      408 b- defN 22-Sep-19 16:36 nngt-2.6.0/doc/gallery/gallery.rst
--rw-r--r--  2.0 unx     1394 b- defN 22-Sep-29 22:06 nngt-2.6.0/nngt.egg-info/PKG-INFO
--rw-r--r--  2.0 unx        1 b- defN 22-Sep-29 22:06 nngt-2.6.0/nngt.egg-info/dependency_links.txt
--rw-r--r--  2.0 unx      306 b- defN 22-Sep-29 22:06 nngt-2.6.0/nngt.egg-info/requires.txt
--rw-r--r--  2.0 unx       13 b- defN 22-Sep-29 22:06 nngt-2.6.0/nngt.egg-info/top_level.txt
--rw-r--r--  2.0 unx     6383 b- defN 22-Sep-29 22:06 nngt-2.6.0/nngt.egg-info/SOURCES.txt
-249 files, 4294312 bytes uncompressed, 1278214 bytes compressed:  70.2%
+Zip file size: 2291559 bytes, number of entries: 129
+drwxr-xr-x  2.0 unx        0 b- stor 23-Apr-18 17:48 nngt/
+drwxr-xr-x  2.0 unx        0 b- stor 23-Apr-18 17:48 NNGT.libs/
+drwxr-xr-x  2.0 unx        0 b- stor 23-Apr-18 17:48 NNGT-2.7.0.dist-info/
+drwxr-xr-x  2.0 unx        0 b- stor 23-Apr-18 17:48 nngt/io/
+drwxr-xr-x  2.0 unx        0 b- stor 23-Apr-18 17:48 nngt/database/
+drwxr-xr-x  2.0 unx        0 b- stor 23-Apr-18 17:48 nngt/plot/
+drwxr-xr-x  2.0 unx        0 b- stor 23-Apr-18 17:48 nngt/generation/
+drwxr-xr-x  2.0 unx        0 b- stor 23-Apr-18 17:48 nngt/simulation/
+drwxr-xr-x  2.0 unx        0 b- stor 23-Apr-18 17:48 nngt/lib/
+drwxr-xr-x  2.0 unx        0 b- stor 23-Apr-18 17:48 nngt/geometry/
+drwxr-xr-x  2.0 unx        0 b- stor 23-Apr-18 17:48 nngt/core/
+drwxr-xr-x  2.0 unx        0 b- stor 23-Apr-18 17:48 nngt/geospatial/
+drwxr-xr-x  2.0 unx        0 b- stor 23-Apr-18 17:48 nngt/analysis/
+-rwxr-xr-x  2.0 unx     3096 b- defN 23-Apr-18 17:48 nngt/nngt.conf.default
+-rw-r--r--  2.0 unx     9575 b- defN 23-Apr-18 17:48 nngt/__init__.py
+-rw-r--r--  2.0 unx    16944 b- defN 23-Apr-18 17:48 nngt/io/loading_helpers.py
+-rw-r--r--  2.0 unx    13016 b- defN 23-Apr-18 17:48 nngt/io/graph_loading.py
+-rw-r--r--  2.0 unx      974 b- defN 23-Apr-18 17:48 nngt/io/io_helpers.py
+-rw-r--r--  2.0 unx    12171 b- defN 23-Apr-18 17:48 nngt/io/graph_saving.py
+-rw-r--r--  2.0 unx      230 b- defN 23-Apr-18 17:48 nngt/io/__init__.py
+-rw-r--r--  2.0 unx     7056 b- defN 23-Apr-18 17:48 nngt/io/saving_helpers.py
+-rw-r--r--  2.0 unx     5870 b- defN 23-Apr-18 17:48 nngt/database/db_generation.py
+-rw-r--r--  2.0 unx    11728 b- defN 23-Apr-18 17:48 nngt/database/csv_utils.py
+-rw-r--r--  2.0 unx    15816 b- defN 23-Apr-18 17:48 nngt/database/db_main.py
+-rw-r--r--  2.0 unx      535 b- defN 23-Apr-18 17:48 nngt/database/pickle_field.py
+-rw-r--r--  2.0 unx     2291 b- defN 23-Apr-18 17:48 nngt/database/__init__.py
+drwxr-xr-x  2.0 unx        0 b- stor 23-Apr-18 17:48 nngt/plot/chord_diag/
+-rw-r--r--  2.0 unx    35238 b- defN 23-Apr-18 17:48 nngt/plot/animations.py
+-rw-r--r--  2.0 unx    12084 b- defN 23-Apr-18 17:48 nngt/plot/hive_helpers.py
+-rw-r--r--  2.0 unx    38013 b- defN 23-Apr-18 17:48 nngt/plot/plt_properties.py
+-rw-r--r--  2.0 unx     4912 b- defN 23-Apr-18 17:48 nngt/plot/custom_plt.py
+-rw-r--r--  2.0 unx     1112 b- defN 23-Apr-18 17:48 nngt/plot/__init__.py
+-rw-r--r--  2.0 unx    93685 b- defN 23-Apr-18 17:48 nngt/plot/plt_networks.py
+-rw-r--r--  2.0 unx    21704 b- defN 23-Apr-18 17:48 nngt/plot/chord_diag/chord_diagram.py
+-rw-r--r--  2.0 unx     9359 b- defN 23-Apr-18 17:48 nngt/plot/chord_diag/README.md
+-rw-r--r--  2.0 unx     1556 b- defN 23-Apr-18 17:48 nngt/plot/chord_diag/gradient.py
+-rw-r--r--  2.0 unx     5466 b- defN 23-Apr-18 17:48 nngt/plot/chord_diag/utilities.py
+-rw-r--r--  2.0 unx     2267 b- defN 23-Apr-18 17:48 nngt/plot/chord_diag/example.py
+-rw-r--r--  2.0 unx      165 b- defN 23-Apr-18 17:48 nngt/plot/chord_diag/__init__.py
+-rw-r--r--  2.0 unx    15423 b- defN 23-Apr-18 17:48 nngt/generation/func_connect.cpp
+-rw-r--r--  2.0 unx     1247 b- defN 23-Apr-18 17:48 nngt/generation/cconnect.pxd
+-rw-r--r--  2.0 unx    11274 b- defN 23-Apr-18 17:48 nngt/generation/connectors.py
+-rw-r--r--  2.0 unx    13058 b- defN 23-Apr-18 17:48 nngt/generation/mpi_connect.py
+-rw-r--r--  2.0 unx    59230 b- defN 23-Apr-18 17:48 nngt/generation/graph_connectivity.py
+-rw-r--r--  2.0 unx    20323 b- defN 23-Apr-18 17:48 nngt/generation/cconnect.pyx
+-rw-r--r--  2.0 unx     5839 b- defN 23-Apr-18 17:48 nngt/generation/func_connect.h
+-rwxr-xr-x  2.0 unx  4635785 b- defN 23-Apr-18 17:48 nngt/generation/cconnect.cpython-39-x86_64-linux-gnu.so
+-rw-r--r--  2.0 unx    20196 b- defN 23-Apr-18 17:48 nngt/generation/rewiring.py
+-rw-r--r--  2.0 unx    37208 b- defN 23-Apr-18 17:48 nngt/generation/connect_algorithms.py
+-rw-r--r--  2.0 unx     1684 b- defN 23-Apr-18 17:48 nngt/generation/cconnect.pyxbld
+-rw-r--r--  2.0 unx      527 b- defN 23-Apr-18 17:48 nngt/generation/__init__.py
+-rw-r--r--  2.0 unx    22776 b- defN 23-Apr-18 17:48 nngt/simulation/nest_activity.py
+-rw-r--r--  2.0 unx    17535 b- defN 23-Apr-18 17:48 nngt/simulation/nest_utils.py
+-rw-r--r--  2.0 unx    28814 b- defN 23-Apr-18 17:48 nngt/simulation/nest_plot.py
+-rw-r--r--  2.0 unx    14874 b- defN 23-Apr-18 17:48 nngt/simulation/nest_graph.py
+-rw-r--r--  2.0 unx     2736 b- defN 23-Apr-18 17:48 nngt/simulation/__init__.py
+-rw-r--r--  2.0 unx      705 b- defN 23-Apr-18 17:48 nngt/lib/db_tools.py
+-rw-r--r--  2.0 unx     2693 b- defN 23-Apr-18 17:48 nngt/lib/logger.py
+-rw-r--r--  2.0 unx     2652 b- defN 23-Apr-18 17:48 nngt/lib/converters.py
+-rw-r--r--  2.0 unx    16074 b- defN 23-Apr-18 17:48 nngt/lib/connect_tools.py
+-rw-r--r--  2.0 unx      598 b- defN 23-Apr-18 17:48 nngt/lib/_frozendict.py
+-rw-r--r--  2.0 unx     7350 b- defN 23-Apr-18 17:48 nngt/lib/graph_backends.py
+-rw-r--r--  2.0 unx     6053 b- defN 23-Apr-18 17:48 nngt/lib/sorting.py
+-rw-r--r--  2.0 unx      765 b- defN 23-Apr-18 17:48 nngt/lib/constants.py
+-rw-r--r--  2.0 unx    12370 b- defN 23-Apr-18 17:48 nngt/lib/graph_helpers.py
+-rw-r--r--  2.0 unx     9673 b- defN 23-Apr-18 17:48 nngt/lib/rng_tools.py
+-rw-r--r--  2.0 unx    15464 b- defN 23-Apr-18 17:48 nngt/lib/decorator.py
+-rw-r--r--  2.0 unx      367 b- defN 23-Apr-18 17:48 nngt/lib/errors.py
+-rw-r--r--  2.0 unx    14085 b- defN 23-Apr-18 17:48 nngt/lib/nngt_config.py
+-rw-r--r--  2.0 unx      649 b- defN 23-Apr-18 17:48 nngt/lib/__init__.py
+-rw-r--r--  2.0 unx     7069 b- defN 23-Apr-18 17:48 nngt/lib/test_functions.py
+drwxr-xr-x  2.0 unx        0 b- stor 23-Apr-18 17:48 nngt/geometry/dxf_import/
+drwxr-xr-x  2.0 unx        0 b- stor 23-Apr-18 17:48 nngt/geometry/examples/
+-rw-r--r--  2.0 unx    44946 b- defN 23-Apr-18 17:48 nngt/geometry/shape.py
+-rw-r--r--  2.0 unx     8159 b- defN 23-Apr-18 17:48 nngt/geometry/svgtools.py
+-rw-r--r--  2.0 unx     1007 b- defN 23-Apr-18 17:48 nngt/geometry/README.md
+-rw-r--r--  2.0 unx     4863 b- defN 23-Apr-18 17:48 nngt/geometry/tools.py
+-rw-r--r--  2.0 unx     7494 b- defN 23-Apr-18 17:48 nngt/geometry/plot.py
+-rw-r--r--  2.0 unx    18852 b- defN 23-Apr-18 17:48 nngt/geometry/backup_shape.py
+-rw-r--r--  2.0 unx     1209 b- defN 23-Apr-18 17:48 nngt/geometry/geom_utils.py
+-rw-r--r--  2.0 unx      749 b- defN 23-Apr-18 17:48 nngt/geometry/dxftools.py
+-rw-r--r--  2.0 unx     1647 b- defN 23-Apr-18 17:48 nngt/geometry/units.py
+-rw-r--r--  2.0 unx     2081 b- defN 23-Apr-18 17:48 nngt/geometry/pync_log.py
+-rw-r--r--  2.0 unx    11610 b- defN 23-Apr-18 17:48 nngt/geometry/shape_io.py
+-rw-r--r--  2.0 unx     3023 b- defN 23-Apr-18 17:48 nngt/geometry/__init__.py
+-rw-r--r--  2.0 unx     4375 b- defN 23-Apr-18 17:48 nngt/geometry/triangulate.py
+-rw-r--r--  2.0 unx     6644 b- defN 23-Apr-18 17:48 nngt/geometry/dxf_import/read_dxf.py
+-rw-r--r--  2.0 unx    20075 b- defN 23-Apr-18 17:48 nngt/geometry/dxf_import/homcoord.py
+-rw-r--r--  2.0 unx      875 b- defN 23-Apr-18 17:48 nngt/geometry/dxf_import/__init__.py
+-rw-r--r--  2.0 unx     1363 b- defN 23-Apr-18 17:48 nngt/geometry/examples/backup_shape.py
+-rw-r--r--  2.0 unx     1807 b- defN 23-Apr-18 17:48 nngt/geometry/examples/load_culture.py
+-rw-r--r--  2.0 unx     1688 b- defN 23-Apr-18 17:48 nngt/geometry/examples/load_shapes.py
+-rw-r--r--  2.0 unx     1948 b- defN 23-Apr-18 17:48 nngt/geometry/examples/gen_obstacles.py
+-rw-r--r--  2.0 unx    28390 b- defN 23-Apr-18 17:48 nngt/core/group_structure.py
+-rw-r--r--  2.0 unx    67430 b- defN 23-Apr-18 17:48 nngt/core/graph.py
+-rw-r--r--  2.0 unx    24342 b- defN 23-Apr-18 17:48 nngt/core/ig_graph.py
+-rw-r--r--  2.0 unx    10738 b- defN 23-Apr-18 17:48 nngt/core/connections.py
+-rw-r--r--  2.0 unx    41495 b- defN 23-Apr-18 17:48 nngt/core/neural_pop_group.py
+-rw-r--r--  2.0 unx    29150 b- defN 23-Apr-18 17:48 nngt/core/nx_graph.py
+-rw-r--r--  2.0 unx    19225 b- defN 23-Apr-18 17:48 nngt/core/networks.py
+-rw-r--r--  2.0 unx     7021 b- defN 23-Apr-18 17:48 nngt/core/spatial_graph.py
+-rw-r--r--  2.0 unx    32253 b- defN 23-Apr-18 17:48 nngt/core/gt_graph.py
+-rw-r--r--  2.0 unx    34276 b- defN 23-Apr-18 17:48 nngt/core/nngt_graph.py
+-rw-r--r--  2.0 unx     7943 b- defN 23-Apr-18 17:48 nngt/core/graph_interface.py
+-rw-r--r--  2.0 unx      852 b- defN 23-Apr-18 17:48 nngt/core/__init__.py
+-rw-r--r--  2.0 unx     8354 b- defN 23-Apr-18 17:48 nngt/geospatial/countries.py
+-rw-r--r--  2.0 unx     7153 b- defN 23-Apr-18 17:48 nngt/geospatial/plot.py
+-rw-r--r--  2.0 unx      645 b- defN 23-Apr-18 17:48 nngt/geospatial/__init__.py
+-rw-r--r--  2.0 unx     5282 b- defN 23-Apr-18 17:48 nngt/analysis/nngt_functions.py
+-rw-r--r--  2.0 unx    12096 b- defN 23-Apr-18 17:48 nngt/analysis/bayesian_blocks.py
+-rw-r--r--  2.0 unx    42815 b- defN 23-Apr-18 17:48 nngt/analysis/graph_analysis.py
+-rw-r--r--  2.0 unx    11523 b- defN 23-Apr-18 17:48 nngt/analysis/activity_analysis.py
+-rw-r--r--  2.0 unx    22400 b- defN 23-Apr-18 17:48 nngt/analysis/ig_functions.py
+-rw-r--r--  2.0 unx    24616 b- defN 23-Apr-18 17:48 nngt/analysis/nx_functions.py
+-rw-r--r--  2.0 unx    36237 b- defN 23-Apr-18 17:48 nngt/analysis/clustering.py
+-rw-r--r--  2.0 unx    25022 b- defN 23-Apr-18 17:48 nngt/analysis/gt_functions.py
+-rw-r--r--  2.0 unx      415 b- defN 23-Apr-18 17:48 nngt/analysis/__init__.py
+-rwxr-xr-x  2.0 unx  2447393 b- defN 23-Apr-18 17:48 NNGT.libs/libstdc++-a9383cce.so.6.0.28
+-rwxr-xr-x  2.0 unx   187009 b- defN 23-Apr-18 17:48 NNGT.libs/libgomp-cd951527.so.1.0.0
+-rw-r--r--  2.0 unx    81257 b- defN 23-Apr-18 17:48 NNGT.libs/libgcc_s-a04fdf82.so.1
+-rw-r--r--  2.0 unx     9411 b- defN 23-Apr-18 17:48 NNGT-2.7.0.dist-info/Python-2.0.txt
+-rw-rw-r--  2.0 unx     9659 b- defN 23-Apr-18 17:48 NNGT-2.7.0.dist-info/RECORD
+-rw-r--r--  2.0 unx     1274 b- defN 23-Apr-18 17:48 NNGT-2.7.0.dist-info/BSD-2-Clause.txt
+-rw-r--r--  2.0 unx    34670 b- defN 23-Apr-18 17:48 NNGT-2.7.0.dist-info/GPL-3.0-or-later.txt
+-rw-r--r--  2.0 unx    44382 b- defN 23-Apr-18 17:48 NNGT-2.7.0.dist-info/METADATA
+-rw-r--r--  2.0 unx        5 b- defN 23-Apr-18 17:48 NNGT-2.7.0.dist-info/top_level.txt
+-rw-r--r--  2.0 unx     7048 b- defN 23-Apr-18 17:48 NNGT-2.7.0.dist-info/CC0-1.0.txt
+-rw-r--r--  2.0 unx      111 b- defN 23-Apr-18 17:48 NNGT-2.7.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx    18375 b- defN 23-Apr-18 17:48 NNGT-2.7.0.dist-info/CC-BY-SA-4.0.txt
+129 files, 8814641 bytes uncompressed, 2275027 bytes compressed:  74.2%
```

## zipnote {}

```diff
@@ -1,748 +1,388 @@
-Filename: nngt-2.6.0/
+Filename: nngt/
 Comment: 
 
-Filename: nngt-2.6.0/nngt/
+Filename: NNGT.libs/
 Comment: 
 
-Filename: nngt-2.6.0/testing/
+Filename: NNGT-2.7.0.dist-info/
 Comment: 
 
-Filename: nngt-2.6.0/doc/
+Filename: nngt/io/
 Comment: 
 
-Filename: nngt-2.6.0/nngt.egg-info/
+Filename: nngt/database/
 Comment: 
 
-Filename: nngt-2.6.0/LICENSE.txt
+Filename: nngt/plot/
 Comment: 
 
-Filename: nngt-2.6.0/PKG-INFO
+Filename: nngt/generation/
 Comment: 
 
-Filename: nngt-2.6.0/README.md
+Filename: nngt/simulation/
 Comment: 
 
-Filename: nngt-2.6.0/setup.cfg
+Filename: nngt/lib/
 Comment: 
 
-Filename: nngt-2.6.0/setup.py
+Filename: nngt/geometry/
 Comment: 
 
-Filename: nngt-2.6.0/MANIFEST.in
+Filename: nngt/core/
 Comment: 
 
-Filename: nngt-2.6.0/nngt/io/
+Filename: nngt/geospatial/
 Comment: 
 
-Filename: nngt-2.6.0/nngt/database/
+Filename: nngt/analysis/
 Comment: 
 
-Filename: nngt-2.6.0/nngt/plot/
+Filename: nngt/nngt.conf.default
 Comment: 
 
-Filename: nngt-2.6.0/nngt/generation/
+Filename: nngt/__init__.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/simulation/
+Filename: nngt/io/loading_helpers.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/lib/
+Filename: nngt/io/graph_loading.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/geometry/
+Filename: nngt/io/io_helpers.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/core/
+Filename: nngt/io/graph_saving.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/geospatial/
+Filename: nngt/io/__init__.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/analysis/
+Filename: nngt/io/saving_helpers.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/nngt.conf.default
+Filename: nngt/database/db_generation.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/__init__.py
+Filename: nngt/database/csv_utils.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/io/loading_helpers.py
+Filename: nngt/database/db_main.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/io/graph_loading.py
+Filename: nngt/database/pickle_field.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/io/io_helpers.py
+Filename: nngt/database/__init__.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/io/graph_saving.py
+Filename: nngt/plot/chord_diag/
 Comment: 
 
-Filename: nngt-2.6.0/nngt/io/__init__.py
+Filename: nngt/plot/animations.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/io/saving_helpers.py
+Filename: nngt/plot/hive_helpers.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/database/db_generation.py
+Filename: nngt/plot/plt_properties.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/database/csv_utils.py
+Filename: nngt/plot/custom_plt.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/database/db_main.py
+Filename: nngt/plot/__init__.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/database/pickle_field.py
+Filename: nngt/plot/plt_networks.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/database/__init__.py
+Filename: nngt/plot/chord_diag/chord_diagram.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/plot/chord_diag/
+Filename: nngt/plot/chord_diag/README.md
 Comment: 
 
-Filename: nngt-2.6.0/nngt/plot/animations.py
+Filename: nngt/plot/chord_diag/gradient.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/plot/hive_helpers.py
+Filename: nngt/plot/chord_diag/utilities.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/plot/plt_properties.py
+Filename: nngt/plot/chord_diag/example.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/plot/custom_plt.py
+Filename: nngt/plot/chord_diag/__init__.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/plot/__init__.py
+Filename: nngt/generation/func_connect.cpp
 Comment: 
 
-Filename: nngt-2.6.0/nngt/plot/plt_networks.py
+Filename: nngt/generation/cconnect.pxd
 Comment: 
 
-Filename: nngt-2.6.0/nngt/plot/chord_diag/requirements.txt
+Filename: nngt/generation/connectors.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/plot/chord_diag/chord_diagram.py
+Filename: nngt/generation/mpi_connect.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/plot/chord_diag/README.md
+Filename: nngt/generation/graph_connectivity.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/plot/chord_diag/gradient.py
+Filename: nngt/generation/cconnect.pyx
 Comment: 
 
-Filename: nngt-2.6.0/nngt/plot/chord_diag/utilities.py
+Filename: nngt/generation/func_connect.h
 Comment: 
 
-Filename: nngt-2.6.0/nngt/plot/chord_diag/_info.py
+Filename: nngt/generation/cconnect.cpython-39-x86_64-linux-gnu.so
 Comment: 
 
-Filename: nngt-2.6.0/nngt/plot/chord_diag/setup.py
+Filename: nngt/generation/rewiring.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/plot/chord_diag/example.py
+Filename: nngt/generation/connect_algorithms.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/plot/chord_diag/__init__.py
+Filename: nngt/generation/cconnect.pyxbld
 Comment: 
 
-Filename: nngt-2.6.0/nngt/generation/func_connect.cpp
+Filename: nngt/generation/__init__.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/generation/cconnect.pxd
+Filename: nngt/simulation/nest_activity.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/generation/connectors.py
+Filename: nngt/simulation/nest_utils.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/generation/mpi_connect.py
+Filename: nngt/simulation/nest_plot.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/generation/graph_connectivity.py
+Filename: nngt/simulation/nest_graph.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/generation/cconnect.cpp
+Filename: nngt/simulation/__init__.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/generation/cconnect.pyx
+Filename: nngt/lib/db_tools.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/generation/func_connect.h
+Filename: nngt/lib/logger.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/generation/rewiring.py
+Filename: nngt/lib/converters.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/generation/connect_algorithms.py
+Filename: nngt/lib/connect_tools.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/generation/cconnect.pyxbld
+Filename: nngt/lib/_frozendict.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/generation/__init__.py
+Filename: nngt/lib/graph_backends.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/simulation/nest_activity.py
+Filename: nngt/lib/sorting.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/simulation/nest_utils.py
+Filename: nngt/lib/constants.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/simulation/nest_plot.py
+Filename: nngt/lib/graph_helpers.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/simulation/nest_graph.py
+Filename: nngt/lib/rng_tools.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/simulation/__init__.py
+Filename: nngt/lib/decorator.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/lib/db_tools.py
+Filename: nngt/lib/errors.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/lib/logger.py
+Filename: nngt/lib/nngt_config.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/lib/converters.py
+Filename: nngt/lib/__init__.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/lib/connect_tools.py
+Filename: nngt/lib/test_functions.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/lib/_frozendict.py
+Filename: nngt/geometry/dxf_import/
 Comment: 
 
-Filename: nngt-2.6.0/nngt/lib/graph_backends.py
+Filename: nngt/geometry/examples/
 Comment: 
 
-Filename: nngt-2.6.0/nngt/lib/sorting.py
+Filename: nngt/geometry/shape.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/lib/constants.py
+Filename: nngt/geometry/svgtools.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/lib/graph_helpers.py
+Filename: nngt/geometry/README.md
 Comment: 
 
-Filename: nngt-2.6.0/nngt/lib/rng_tools.py
+Filename: nngt/geometry/tools.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/lib/decorator.py
+Filename: nngt/geometry/plot.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/lib/errors.py
+Filename: nngt/geometry/backup_shape.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/lib/nngt_config.py
+Filename: nngt/geometry/geom_utils.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/lib/__init__.py
+Filename: nngt/geometry/dxftools.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/lib/test_functions.py
+Filename: nngt/geometry/units.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/geometry/dxf_import/
+Filename: nngt/geometry/pync_log.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/geometry/requirements.txt
+Filename: nngt/geometry/shape_io.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/geometry/shape.py
+Filename: nngt/geometry/__init__.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/geometry/svgtools.py
+Filename: nngt/geometry/triangulate.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/geometry/README.md
+Filename: nngt/geometry/dxf_import/read_dxf.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/geometry/tools.py
+Filename: nngt/geometry/dxf_import/homcoord.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/geometry/plot.py
+Filename: nngt/geometry/dxf_import/__init__.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/geometry/backup_shape.py
+Filename: nngt/geometry/examples/backup_shape.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/geometry/geom_utils.py
+Filename: nngt/geometry/examples/load_culture.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/geometry/dxftools.py
+Filename: nngt/geometry/examples/load_shapes.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/geometry/units.py
+Filename: nngt/geometry/examples/gen_obstacles.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/geometry/setup.py
+Filename: nngt/core/group_structure.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/geometry/pync_log.py
+Filename: nngt/core/graph.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/geometry/shape_io.py
+Filename: nngt/core/ig_graph.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/geometry/__init__.py
+Filename: nngt/core/connections.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/geometry/triangulate.py
+Filename: nngt/core/neural_pop_group.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/geometry/dxf_import/read_dxf.py
+Filename: nngt/core/nx_graph.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/geometry/dxf_import/homcoord.py
+Filename: nngt/core/networks.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/geometry/dxf_import/__init__.py
+Filename: nngt/core/spatial_graph.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/core/group_structure.py
+Filename: nngt/core/gt_graph.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/core/graph.py
+Filename: nngt/core/nngt_graph.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/core/ig_graph.py
+Filename: nngt/core/graph_interface.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/core/connections.py
+Filename: nngt/core/__init__.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/core/neural_pop_group.py
+Filename: nngt/geospatial/countries.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/core/nx_graph.py
+Filename: nngt/geospatial/plot.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/core/networks.py
+Filename: nngt/geospatial/__init__.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/core/spatial_graph.py
+Filename: nngt/analysis/nngt_functions.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/core/gt_graph.py
+Filename: nngt/analysis/bayesian_blocks.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/core/nngt_graph.py
+Filename: nngt/analysis/graph_analysis.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/core/graph_interface.py
+Filename: nngt/analysis/activity_analysis.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/core/__init__.py
+Filename: nngt/analysis/ig_functions.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/geospatial/countries.py
+Filename: nngt/analysis/nx_functions.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/geospatial/plot.py
+Filename: nngt/analysis/clustering.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/geospatial/__init__.py
+Filename: nngt/analysis/gt_functions.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/analysis/nngt_functions.py
+Filename: nngt/analysis/__init__.py
 Comment: 
 
-Filename: nngt-2.6.0/nngt/analysis/bayesian_blocks.py
+Filename: NNGT.libs/libstdc++-a9383cce.so.6.0.28
 Comment: 
 
-Filename: nngt-2.6.0/nngt/analysis/graph_analysis.py
+Filename: NNGT.libs/libgomp-cd951527.so.1.0.0
 Comment: 
 
-Filename: nngt-2.6.0/nngt/analysis/activity_analysis.py
+Filename: NNGT.libs/libgcc_s-a04fdf82.so.1
 Comment: 
 
-Filename: nngt-2.6.0/nngt/analysis/ig_functions.py
+Filename: NNGT-2.7.0.dist-info/Python-2.0.txt
 Comment: 
 
-Filename: nngt-2.6.0/nngt/analysis/nx_functions.py
+Filename: NNGT-2.7.0.dist-info/RECORD
 Comment: 
 
-Filename: nngt-2.6.0/nngt/analysis/clustering.py
+Filename: NNGT-2.7.0.dist-info/BSD-2-Clause.txt
 Comment: 
 
-Filename: nngt-2.6.0/nngt/analysis/gt_functions.py
+Filename: NNGT-2.7.0.dist-info/GPL-3.0-or-later.txt
 Comment: 
 
-Filename: nngt-2.6.0/nngt/analysis/__init__.py
+Filename: NNGT-2.7.0.dist-info/METADATA
 Comment: 
 
-Filename: nngt-2.6.0/testing/test_generation.py
+Filename: NNGT-2.7.0.dist-info/top_level.txt
 Comment: 
 
-Filename: nngt-2.6.0/testing/test_nest.py
+Filename: NNGT-2.7.0.dist-info/CC0-1.0.txt
 Comment: 
 
-Filename: nngt-2.6.0/testing/test_mpi.py
+Filename: NNGT-2.7.0.dist-info/WHEEL
 Comment: 
 
-Filename: nngt-2.6.0/testing/test_graphclasses.py
-Comment: 
-
-Filename: nngt-2.6.0/testing/test_rewire.py
-Comment: 
-
-Filename: nngt-2.6.0/testing/test_basics.py
-Comment: 
-
-Filename: nngt-2.6.0/testing/test_gallery.py
-Comment: 
-
-Filename: nngt-2.6.0/testing/test_examples.py
-Comment: 
-
-Filename: nngt-2.6.0/testing/test_analysis.py
-Comment: 
-
-Filename: nngt-2.6.0/testing/test_weights.py
-Comment: 
-
-Filename: nngt-2.6.0/testing/test_random.py
-Comment: 
-
-Filename: nngt-2.6.0/testing/test_connect_group_type.py
-Comment: 
-
-Filename: nngt-2.6.0/testing/test_group_pop.py
-Comment: 
-
-Filename: nngt-2.6.0/testing/base_test.py
-Comment: 
-
-Filename: nngt-2.6.0/testing/test_io.py
-Comment: 
-
-Filename: nngt-2.6.0/testing/test_plots.py
-Comment: 
-
-Filename: nngt-2.6.0/testing/tools_testing.py
-Comment: 
-
-Filename: nngt-2.6.0/testing/library_compatibility.py
-Comment: 
-
-Filename: nngt-2.6.0/testing/test_generation2.py
-Comment: 
-
-Filename: nngt-2.6.0/testing/__init__.py
-Comment: 
-
-Filename: nngt-2.6.0/testing/test_attributes.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/_templates/
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/
-Comment: 
-
-Filename: nngt-2.6.0/doc/examples/
-Comment: 
-
-Filename: nngt-2.6.0/doc/user/
-Comment: 
-
-Filename: nngt-2.6.0/doc/_static/
-Comment: 
-
-Filename: nngt-2.6.0/doc/extensions/
-Comment: 
-
-Filename: nngt-2.6.0/doc/future/
-Comment: 
-
-Filename: nngt-2.6.0/doc/images/
-Comment: 
-
-Filename: nngt-2.6.0/doc/developer/
-Comment: 
-
-Filename: nngt-2.6.0/doc/gallery/
-Comment: 
-
-Filename: nngt-2.6.0/doc/environment.yml
-Comment: 
-
-Filename: nngt-2.6.0/doc/index.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/autosum.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/pip-require.txt
-Comment: 
-
-Filename: nngt-2.6.0/doc/conf.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/_templates/base.html
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/nngt/
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/examples/
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/lib.rst.in
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/generation.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/analysis.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/lib.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/geometry.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/simulation.rst.in
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/generation.rst.in
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/geometry.rst.in
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/geospatial.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/nngt.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/nngt.rst.in
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/plot.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/analysis.rst.in
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/plot.rst.in
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/database.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/simulation.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/nngt/graph-classes.rst.in
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/nngt/graph-classes.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/nngt/side-classes.rst.in
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/nngt/main-functions.rst.in
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/nngt/side-classes.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/nngt/main-functions.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/examples/backup_shape.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/examples/load_culture.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/examples/areas.svg
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/examples/culture.dxf
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/examples/culture_from_filled_polygons.svg
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/examples/culture_with_holes.svg
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/examples/load_shapes.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/modules/examples/gen_obstacles.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/examples/graph_properties/
-Comment: 
-
-Filename: nngt-2.6.0/doc/examples/graph_structure/
-Comment: 
-
-Filename: nngt-2.6.0/doc/examples/simple_graphs.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/examples/multi_groups_network.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/examples/spatial_graphs.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/examples/introduction_to_groups.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/examples/random_balanced.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/examples/nngt_tutorial.ipynb
-Comment: 
-
-Filename: nngt-2.6.0/doc/examples/attributes.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/examples/introductory_tutorial.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/examples/nest_receptor_ports.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/examples/groups_and_metagroups.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/examples/basic_nest_network.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/examples/nest_network.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/examples/graph_properties/plot_betweenness.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/examples/graph_properties/plot_degrees.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/examples/graph_properties/README.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/examples/graph_properties/plot_attributes.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/examples/graph_structure/README.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/examples/graph_structure/plot_hive_panel.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/examples/graph_structure/plot_layouts.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/examples/graph_structure/plot_chord_diagram.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/examples/graph_structure/plot_map.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/user/intro.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/user/graph-analysis.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/user/parallelism.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/user/neural-groups.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/user/graph-generation.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/user/component-properties.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/user/nest-interaction.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/user/activity-analysis.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/user/install.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/user/tutorial.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/_static/nngt_logo.png
-Comment: 
-
-Filename: nngt-2.6.0/doc/_static/custom.css
-Comment: 
-
-Filename: nngt-2.6.0/doc/_static/nngt_logo.svg
-Comment: 
-
-Filename: nngt-2.6.0/doc/extensions/linksourcecode.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/extensions/extlinks_fancy.py
-Comment: 
-
-Filename: nngt-2.6.0/doc/future/interoperability.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/images/nngt_ico.svg
-Comment: 
-
-Filename: nngt-2.6.0/doc/images/nngt_logo.pdf
-Comment: 
-
-Filename: nngt-2.6.0/doc/images/nngt_ico.png
-Comment: 
-
-Filename: nngt-2.6.0/doc/images/nngt_logo.svg
-Comment: 
-
-Filename: nngt-2.6.0/doc/developer/precision.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/developer/detailed-structure.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/developer/library_shipping.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/developer/contributing.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/developer/graph-attributes.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/developer/optimization.rst
-Comment: 
-
-Filename: nngt-2.6.0/doc/gallery/gallery.rst
-Comment: 
-
-Filename: nngt-2.6.0/nngt.egg-info/PKG-INFO
-Comment: 
-
-Filename: nngt-2.6.0/nngt.egg-info/dependency_links.txt
-Comment: 
-
-Filename: nngt-2.6.0/nngt.egg-info/requires.txt
-Comment: 
-
-Filename: nngt-2.6.0/nngt.egg-info/top_level.txt
-Comment: 
-
-Filename: nngt-2.6.0/nngt.egg-info/SOURCES.txt
+Filename: NNGT-2.7.0.dist-info/CC-BY-SA-4.0.txt
 Comment: 
 
 Zip file comment:
```

## Comparing `nngt-2.6.0/LICENSE.txt` & `NNGT-2.7.0.dist-info/GPL-3.0-or-later.txt`

 * *Files 8% similar despite different names*

```diff
@@ -1,674 +1,232 @@
-                    GNU GENERAL PUBLIC LICENSE
-                       Version 3, 29 June 2007
+GNU GENERAL PUBLIC LICENSE
+Version 3, 29 June 2007
 
- Copyright (C) 2007 Free Software Foundation, Inc. <http://fsf.org/>
- Everyone is permitted to copy and distribute verbatim copies
- of this license document, but changing it is not allowed.
-
-                            Preamble
-
-  The GNU General Public License is a free, copyleft license for
-software and other kinds of works.
-
-  The licenses for most software and other practical works are designed
-to take away your freedom to share and change the works.  By contrast,
-the GNU General Public License is intended to guarantee your freedom to
-share and change all versions of a program--to make sure it remains free
-software for all its users.  We, the Free Software Foundation, use the
-GNU General Public License for most of our software; it applies also to
-any other work released this way by its authors.  You can apply it to
-your programs, too.
-
-  When we speak of free software, we are referring to freedom, not
-price.  Our General Public Licenses are designed to make sure that you
-have the freedom to distribute copies of free software (and charge for
-them if you wish), that you receive source code or can get it if you
-want it, that you can change the software or use pieces of it in new
-free programs, and that you know you can do these things.
-
-  To protect your rights, we need to prevent others from denying you
-these rights or asking you to surrender the rights.  Therefore, you have
-certain responsibilities if you distribute copies of the software, or if
-you modify it: responsibilities to respect the freedom of others.
-
-  For example, if you distribute copies of such a program, whether
-gratis or for a fee, you must pass on to the recipients the same
-freedoms that you received.  You must make sure that they, too, receive
-or can get the source code.  And you must show them these terms so they
-know their rights.
-
-  Developers that use the GNU GPL protect your rights with two steps:
-(1) assert copyright on the software, and (2) offer you this License
-giving you legal permission to copy, distribute and/or modify it.
-
-  For the developers' and authors' protection, the GPL clearly explains
-that there is no warranty for this free software.  For both users' and
-authors' sake, the GPL requires that modified versions be marked as
-changed, so that their problems will not be attributed erroneously to
-authors of previous versions.
-
-  Some devices are designed to deny users access to install or run
-modified versions of the software inside them, although the manufacturer
-can do so.  This is fundamentally incompatible with the aim of
-protecting users' freedom to change the software.  The systematic
-pattern of such abuse occurs in the area of products for individuals to
-use, which is precisely where it is most unacceptable.  Therefore, we
-have designed this version of the GPL to prohibit the practice for those
-products.  If such problems arise substantially in other domains, we
-stand ready to extend this provision to those domains in future versions
-of the GPL, as needed to protect the freedom of users.
-
-  Finally, every program is threatened constantly by software patents.
-States should not allow patents to restrict development and use of
-software on general-purpose computers, but in those that do, we wish to
-avoid the special danger that patents applied to a free program could
-make it effectively proprietary.  To prevent this, the GPL assures that
-patents cannot be used to render the program non-free.
-
-  The precise terms and conditions for copying, distribution and
-modification follow.
-
-                       TERMS AND CONDITIONS
-
-  0. Definitions.
-
-  "This License" refers to version 3 of the GNU General Public License.
-
-  "Copyright" also means copyright-like laws that apply to other kinds of
-works, such as semiconductor masks.
-
-  "The Program" refers to any copyrightable work licensed under this
-License.  Each licensee is addressed as "you".  "Licensees" and
-"recipients" may be individuals or organizations.
-
-  To "modify" a work means to copy from or adapt all or part of the work
-in a fashion requiring copyright permission, other than the making of an
-exact copy.  The resulting work is called a "modified version" of the
-earlier work or a work "based on" the earlier work.
-
-  A "covered work" means either the unmodified Program or a work based
-on the Program.
-
-  To "propagate" a work means to do anything with it that, without
-permission, would make you directly or secondarily liable for
-infringement under applicable copyright law, except executing it on a
-computer or modifying a private copy.  Propagation includes copying,
-distribution (with or without modification), making available to the
-public, and in some countries other activities as well.
-
-  To "convey" a work means any kind of propagation that enables other
-parties to make or receive copies.  Mere interaction with a user through
-a computer network, with no transfer of a copy, is not conveying.
-
-  An interactive user interface displays "Appropriate Legal Notices"
-to the extent that it includes a convenient and prominently visible
-feature that (1) displays an appropriate copyright notice, and (2)
-tells the user that there is no warranty for the work (except to the
-extent that warranties are provided), that licensees may convey the
-work under this License, and how to view a copy of this License.  If
-the interface presents a list of user commands or options, such as a
-menu, a prominent item in the list meets this criterion.
-
-  1. Source Code.
-
-  The "source code" for a work means the preferred form of the work
-for making modifications to it.  "Object code" means any non-source
-form of a work.
-
-  A "Standard Interface" means an interface that either is an official
-standard defined by a recognized standards body, or, in the case of
-interfaces specified for a particular programming language, one that
-is widely used among developers working in that language.
-
-  The "System Libraries" of an executable work include anything, other
-than the work as a whole, that (a) is included in the normal form of
-packaging a Major Component, but which is not part of that Major
-Component, and (b) serves only to enable use of the work with that
-Major Component, or to implement a Standard Interface for which an
-implementation is available to the public in source code form.  A
-"Major Component", in this context, means a major essential component
-(kernel, window system, and so on) of the specific operating system
-(if any) on which the executable work runs, or a compiler used to
-produce the work, or an object code interpreter used to run it.
-
-  The "Corresponding Source" for a work in object code form means all
-the source code needed to generate, install, and (for an executable
-work) run the object code and to modify the work, including scripts to
-control those activities.  However, it does not include the work's
-System Libraries, or general-purpose tools or generally available free
-programs which are used unmodified in performing those activities but
-which are not part of the work.  For example, Corresponding Source
-includes interface definition files associated with source files for
-the work, and the source code for shared libraries and dynamically
-linked subprograms that the work is specifically designed to require,
-such as by intimate data communication or control flow between those
-subprograms and other parts of the work.
-
-  The Corresponding Source need not include anything that users
-can regenerate automatically from other parts of the Corresponding
-Source.
-
-  The Corresponding Source for a work in source code form is that
-same work.
-
-  2. Basic Permissions.
-
-  All rights granted under this License are granted for the term of
-copyright on the Program, and are irrevocable provided the stated
-conditions are met.  This License explicitly affirms your unlimited
-permission to run the unmodified Program.  The output from running a
-covered work is covered by this License only if the output, given its
-content, constitutes a covered work.  This License acknowledges your
-rights of fair use or other equivalent, as provided by copyright law.
-
-  You may make, run and propagate covered works that you do not
-convey, without conditions so long as your license otherwise remains
-in force.  You may convey covered works to others for the sole purpose
-of having them make modifications exclusively for you, or provide you
-with facilities for running those works, provided that you comply with
-the terms of this License in conveying all material for which you do
-not control copyright.  Those thus making or running the covered works
-for you must do so exclusively on your behalf, under your direction
-and control, on terms that prohibit them from making any copies of
-your copyrighted material outside their relationship with you.
-
-  Conveying under any other circumstances is permitted solely under
-the conditions stated below.  Sublicensing is not allowed; section 10
-makes it unnecessary.
-
-  3. Protecting Users' Legal Rights From Anti-Circumvention Law.
-
-  No covered work shall be deemed part of an effective technological
-measure under any applicable law fulfilling obligations under article
-11 of the WIPO copyright treaty adopted on 20 December 1996, or
-similar laws prohibiting or restricting circumvention of such
-measures.
-
-  When you convey a covered work, you waive any legal power to forbid
-circumvention of technological measures to the extent such circumvention
-is effected by exercising rights under this License with respect to
-the covered work, and you disclaim any intention to limit operation or
-modification of the work as a means of enforcing, against the work's
-users, your or third parties' legal rights to forbid circumvention of
-technological measures.
-
-  4. Conveying Verbatim Copies.
-
-  You may convey verbatim copies of the Program's source code as you
-receive it, in any medium, provided that you conspicuously and
-appropriately publish on each copy an appropriate copyright notice;
-keep intact all notices stating that this License and any
-non-permissive terms added in accord with section 7 apply to the code;
-keep intact all notices of the absence of any warranty; and give all
-recipients a copy of this License along with the Program.
-
-  You may charge any price or no price for each copy that you convey,
-and you may offer support or warranty protection for a fee.
-
-  5. Conveying Modified Source Versions.
-
-  You may convey a work based on the Program, or the modifications to
-produce it from the Program, in the form of source code under the
-terms of section 4, provided that you also meet all of these conditions:
-
-    a) The work must carry prominent notices stating that you modified
-    it, and giving a relevant date.
-
-    b) The work must carry prominent notices stating that it is
-    released under this License and any conditions added under section
-    7.  This requirement modifies the requirement in section 4 to
-    "keep intact all notices".
-
-    c) You must license the entire work, as a whole, under this
-    License to anyone who comes into possession of a copy.  This
-    License will therefore apply, along with any applicable section 7
-    additional terms, to the whole of the work, and all its parts,
-    regardless of how they are packaged.  This License gives no
-    permission to license the work in any other way, but it does not
-    invalidate such permission if you have separately received it.
-
-    d) If the work has interactive user interfaces, each must display
-    Appropriate Legal Notices; however, if the Program has interactive
-    interfaces that do not display Appropriate Legal Notices, your
-    work need not make them do so.
-
-  A compilation of a covered work with other separate and independent
-works, which are not by their nature extensions of the covered work,
-and which are not combined with it such as to form a larger program,
-in or on a volume of a storage or distribution medium, is called an
-"aggregate" if the compilation and its resulting copyright are not
-used to limit the access or legal rights of the compilation's users
-beyond what the individual works permit.  Inclusion of a covered work
-in an aggregate does not cause this License to apply to the other
-parts of the aggregate.
-
-  6. Conveying Non-Source Forms.
-
-  You may convey a covered work in object code form under the terms
-of sections 4 and 5, provided that you also convey the
-machine-readable Corresponding Source under the terms of this License,
-in one of these ways:
-
-    a) Convey the object code in, or embodied in, a physical product
-    (including a physical distribution medium), accompanied by the
-    Corresponding Source fixed on a durable physical medium
-    customarily used for software interchange.
-
-    b) Convey the object code in, or embodied in, a physical product
-    (including a physical distribution medium), accompanied by a
-    written offer, valid for at least three years and valid for as
-    long as you offer spare parts or customer support for that product
-    model, to give anyone who possesses the object code either (1) a
-    copy of the Corresponding Source for all the software in the
-    product that is covered by this License, on a durable physical
-    medium customarily used for software interchange, for a price no
-    more than your reasonable cost of physically performing this
-    conveying of source, or (2) access to copy the
-    Corresponding Source from a network server at no charge.
-
-    c) Convey individual copies of the object code with a copy of the
-    written offer to provide the Corresponding Source.  This
-    alternative is allowed only occasionally and noncommercially, and
-    only if you received the object code with such an offer, in accord
-    with subsection 6b.
-
-    d) Convey the object code by offering access from a designated
-    place (gratis or for a charge), and offer equivalent access to the
-    Corresponding Source in the same way through the same place at no
-    further charge.  You need not require recipients to copy the
-    Corresponding Source along with the object code.  If the place to
-    copy the object code is a network server, the Corresponding Source
-    may be on a different server (operated by you or a third party)
-    that supports equivalent copying facilities, provided you maintain
-    clear directions next to the object code saying where to find the
-    Corresponding Source.  Regardless of what server hosts the
-    Corresponding Source, you remain obligated to ensure that it is
-    available for as long as needed to satisfy these requirements.
-
-    e) Convey the object code using peer-to-peer transmission, provided
-    you inform other peers where the object code and Corresponding
-    Source of the work are being offered to the general public at no
-    charge under subsection 6d.
-
-  A separable portion of the object code, whose source code is excluded
-from the Corresponding Source as a System Library, need not be
-included in conveying the object code work.
-
-  A "User Product" is either (1) a "consumer product", which means any
-tangible personal property which is normally used for personal, family,
-or household purposes, or (2) anything designed or sold for incorporation
-into a dwelling.  In determining whether a product is a consumer product,
-doubtful cases shall be resolved in favor of coverage.  For a particular
-product received by a particular user, "normally used" refers to a
-typical or common use of that class of product, regardless of the status
-of the particular user or of the way in which the particular user
-actually uses, or expects or is expected to use, the product.  A product
-is a consumer product regardless of whether the product has substantial
-commercial, industrial or non-consumer uses, unless such uses represent
-the only significant mode of use of the product.
-
-  "Installation Information" for a User Product means any methods,
-procedures, authorization keys, or other information required to install
-and execute modified versions of a covered work in that User Product from
-a modified version of its Corresponding Source.  The information must
-suffice to ensure that the continued functioning of the modified object
-code is in no case prevented or interfered with solely because
-modification has been made.
-
-  If you convey an object code work under this section in, or with, or
-specifically for use in, a User Product, and the conveying occurs as
-part of a transaction in which the right of possession and use of the
-User Product is transferred to the recipient in perpetuity or for a
-fixed term (regardless of how the transaction is characterized), the
-Corresponding Source conveyed under this section must be accompanied
-by the Installation Information.  But this requirement does not apply
-if neither you nor any third party retains the ability to install
-modified object code on the User Product (for example, the work has
-been installed in ROM).
-
-  The requirement to provide Installation Information does not include a
-requirement to continue to provide support service, warranty, or updates
-for a work that has been modified or installed by the recipient, or for
-the User Product in which it has been modified or installed.  Access to a
-network may be denied when the modification itself materially and
-adversely affects the operation of the network or violates the rules and
-protocols for communication across the network.
-
-  Corresponding Source conveyed, and Installation Information provided,
-in accord with this section must be in a format that is publicly
-documented (and with an implementation available to the public in
-source code form), and must require no special password or key for
-unpacking, reading or copying.
-
-  7. Additional Terms.
-
-  "Additional permissions" are terms that supplement the terms of this
-License by making exceptions from one or more of its conditions.
-Additional permissions that are applicable to the entire Program shall
-be treated as though they were included in this License, to the extent
-that they are valid under applicable law.  If additional permissions
-apply only to part of the Program, that part may be used separately
-under those permissions, but the entire Program remains governed by
-this License without regard to the additional permissions.
-
-  When you convey a copy of a covered work, you may at your option
-remove any additional permissions from that copy, or from any part of
-it.  (Additional permissions may be written to require their own
-removal in certain cases when you modify the work.)  You may place
-additional permissions on material, added by you to a covered work,
-for which you have or can give appropriate copyright permission.
-
-  Notwithstanding any other provision of this License, for material you
-add to a covered work, you may (if authorized by the copyright holders of
-that material) supplement the terms of this License with terms:
-
-    a) Disclaiming warranty or limiting liability differently from the
-    terms of sections 15 and 16 of this License; or
-
-    b) Requiring preservation of specified reasonable legal notices or
-    author attributions in that material or in the Appropriate Legal
-    Notices displayed by works containing it; or
-
-    c) Prohibiting misrepresentation of the origin of that material, or
-    requiring that modified versions of such material be marked in
-    reasonable ways as different from the original version; or
-
-    d) Limiting the use for publicity purposes of names of licensors or
-    authors of the material; or
-
-    e) Declining to grant rights under trademark law for use of some
-    trade names, trademarks, or service marks; or
-
-    f) Requiring indemnification of licensors and authors of that
-    material by anyone who conveys the material (or modified versions of
-    it) with contractual assumptions of liability to the recipient, for
-    any liability that these contractual assumptions directly impose on
-    those licensors and authors.
-
-  All other non-permissive additional terms are considered "further
-restrictions" within the meaning of section 10.  If the Program as you
-received it, or any part of it, contains a notice stating that it is
-governed by this License along with a term that is a further
-restriction, you may remove that term.  If a license document contains
-a further restriction but permits relicensing or conveying under this
-License, you may add to a covered work material governed by the terms
-of that license document, provided that the further restriction does
-not survive such relicensing or conveying.
-
-  If you add terms to a covered work in accord with this section, you
-must place, in the relevant source files, a statement of the
-additional terms that apply to those files, or a notice indicating
-where to find the applicable terms.
-
-  Additional terms, permissive or non-permissive, may be stated in the
-form of a separately written license, or stated as exceptions;
-the above requirements apply either way.
-
-  8. Termination.
-
-  You may not propagate or modify a covered work except as expressly
-provided under this License.  Any attempt otherwise to propagate or
-modify it is void, and will automatically terminate your rights under
-this License (including any patent licenses granted under the third
-paragraph of section 11).
-
-  However, if you cease all violation of this License, then your
-license from a particular copyright holder is reinstated (a)
-provisionally, unless and until the copyright holder explicitly and
-finally terminates your license, and (b) permanently, if the copyright
-holder fails to notify you of the violation by some reasonable means
-prior to 60 days after the cessation.
-
-  Moreover, your license from a particular copyright holder is
-reinstated permanently if the copyright holder notifies you of the
-violation by some reasonable means, this is the first time you have
-received notice of violation of this License (for any work) from that
-copyright holder, and you cure the violation prior to 30 days after
-your receipt of the notice.
-
-  Termination of your rights under this section does not terminate the
-licenses of parties who have received copies or rights from you under
-this License.  If your rights have been terminated and not permanently
-reinstated, you do not qualify to receive new licenses for the same
-material under section 10.
-
-  9. Acceptance Not Required for Having Copies.
-
-  You are not required to accept this License in order to receive or
-run a copy of the Program.  Ancillary propagation of a covered work
-occurring solely as a consequence of using peer-to-peer transmission
-to receive a copy likewise does not require acceptance.  However,
-nothing other than this License grants you permission to propagate or
-modify any covered work.  These actions infringe copyright if you do
-not accept this License.  Therefore, by modifying or propagating a
-covered work, you indicate your acceptance of this License to do so.
-
-  10. Automatic Licensing of Downstream Recipients.
-
-  Each time you convey a covered work, the recipient automatically
-receives a license from the original licensors, to run, modify and
-propagate that work, subject to this License.  You are not responsible
-for enforcing compliance by third parties with this License.
-
-  An "entity transaction" is a transaction transferring control of an
-organization, or substantially all assets of one, or subdividing an
-organization, or merging organizations.  If propagation of a covered
-work results from an entity transaction, each party to that
-transaction who receives a copy of the work also receives whatever
-licenses to the work the party's predecessor in interest had or could
-give under the previous paragraph, plus a right to possession of the
-Corresponding Source of the work from the predecessor in interest, if
-the predecessor has it or can get it with reasonable efforts.
-
-  You may not impose any further restrictions on the exercise of the
-rights granted or affirmed under this License.  For example, you may
-not impose a license fee, royalty, or other charge for exercise of
-rights granted under this License, and you may not initiate litigation
-(including a cross-claim or counterclaim in a lawsuit) alleging that
-any patent claim is infringed by making, using, selling, offering for
-sale, or importing the Program or any portion of it.
-
-  11. Patents.
-
-  A "contributor" is a copyright holder who authorizes use under this
-License of the Program or a work on which the Program is based.  The
-work thus licensed is called the contributor's "contributor version".
-
-  A contributor's "essential patent claims" are all patent claims
-owned or controlled by the contributor, whether already acquired or
-hereafter acquired, that would be infringed by some manner, permitted
-by this License, of making, using, or selling its contributor version,
-but do not include claims that would be infringed only as a
-consequence of further modification of the contributor version.  For
-purposes of this definition, "control" includes the right to grant
-patent sublicenses in a manner consistent with the requirements of
-this License.
-
-  Each contributor grants you a non-exclusive, worldwide, royalty-free
-patent license under the contributor's essential patent claims, to
-make, use, sell, offer for sale, import and otherwise run, modify and
-propagate the contents of its contributor version.
-
-  In the following three paragraphs, a "patent license" is any express
-agreement or commitment, however denominated, not to enforce a patent
-(such as an express permission to practice a patent or covenant not to
-sue for patent infringement).  To "grant" such a patent license to a
-party means to make such an agreement or commitment not to enforce a
-patent against the party.
-
-  If you convey a covered work, knowingly relying on a patent license,
-and the Corresponding Source of the work is not available for anyone
-to copy, free of charge and under the terms of this License, through a
-publicly available network server or other readily accessible means,
-then you must either (1) cause the Corresponding Source to be so
-available, or (2) arrange to deprive yourself of the benefit of the
-patent license for this particular work, or (3) arrange, in a manner
-consistent with the requirements of this License, to extend the patent
-license to downstream recipients.  "Knowingly relying" means you have
-actual knowledge that, but for the patent license, your conveying the
-covered work in a country, or your recipient's use of the covered work
-in a country, would infringe one or more identifiable patents in that
-country that you have reason to believe are valid.
-
-  If, pursuant to or in connection with a single transaction or
-arrangement, you convey, or propagate by procuring conveyance of, a
-covered work, and grant a patent license to some of the parties
-receiving the covered work authorizing them to use, propagate, modify
-or convey a specific copy of the covered work, then the patent license
-you grant is automatically extended to all recipients of the covered
-work and works based on it.
-
-  A patent license is "discriminatory" if it does not include within
-the scope of its coverage, prohibits the exercise of, or is
-conditioned on the non-exercise of one or more of the rights that are
-specifically granted under this License.  You may not convey a covered
-work if you are a party to an arrangement with a third party that is
-in the business of distributing software, under which you make payment
-to the third party based on the extent of your activity of conveying
-the work, and under which the third party grants, to any of the
-parties who would receive the covered work from you, a discriminatory
-patent license (a) in connection with copies of the covered work
-conveyed by you (or copies made from those copies), or (b) primarily
-for and in connection with specific products or compilations that
-contain the covered work, unless you entered into that arrangement,
-or that patent license was granted, prior to 28 March 2007.
-
-  Nothing in this License shall be construed as excluding or limiting
-any implied license or other defenses to infringement that may
-otherwise be available to you under applicable patent law.
-
-  12. No Surrender of Others' Freedom.
-
-  If conditions are imposed on you (whether by court order, agreement or
-otherwise) that contradict the conditions of this License, they do not
-excuse you from the conditions of this License.  If you cannot convey a
-covered work so as to satisfy simultaneously your obligations under this
-License and any other pertinent obligations, then as a consequence you may
-not convey it at all.  For example, if you agree to terms that obligate you
-to collect a royalty for further conveying from those to whom you convey
-the Program, the only way you could satisfy both those terms and this
-License would be to refrain entirely from conveying the Program.
-
-  13. Use with the GNU Affero General Public License.
-
-  Notwithstanding any other provision of this License, you have
-permission to link or combine any covered work with a work licensed
-under version 3 of the GNU Affero General Public License into a single
-combined work, and to convey the resulting work.  The terms of this
-License will continue to apply to the part which is the covered work,
-but the special requirements of the GNU Affero General Public License,
-section 13, concerning interaction through a network will apply to the
-combination as such.
-
-  14. Revised Versions of this License.
-
-  The Free Software Foundation may publish revised and/or new versions of
-the GNU General Public License from time to time.  Such new versions will
-be similar in spirit to the present version, but may differ in detail to
-address new problems or concerns.
-
-  Each version is given a distinguishing version number.  If the
-Program specifies that a certain numbered version of the GNU General
-Public License "or any later version" applies to it, you have the
-option of following the terms and conditions either of that numbered
-version or of any later version published by the Free Software
-Foundation.  If the Program does not specify a version number of the
-GNU General Public License, you may choose any version ever published
-by the Free Software Foundation.
-
-  If the Program specifies that a proxy can decide which future
-versions of the GNU General Public License can be used, that proxy's
-public statement of acceptance of a version permanently authorizes you
-to choose that version for the Program.
-
-  Later license versions may give you additional or different
-permissions.  However, no additional obligations are imposed on any
-author or copyright holder as a result of your choosing to follow a
-later version.
-
-  15. Disclaimer of Warranty.
-
-  THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT PERMITTED BY
-APPLICABLE LAW.  EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT
-HOLDERS AND/OR OTHER PARTIES PROVIDE THE PROGRAM "AS IS" WITHOUT WARRANTY
-OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO,
-THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
-PURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE PROGRAM
-IS WITH YOU.  SHOULD THE PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF
-ALL NECESSARY SERVICING, REPAIR OR CORRECTION.
-
-  16. Limitation of Liability.
-
-  IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
-WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MODIFIES AND/OR CONVEYS
-THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES, INCLUDING ANY
-GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE
-USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF
-DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD
-PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS),
-EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF
-SUCH DAMAGES.
-
-  17. Interpretation of Sections 15 and 16.
-
-  If the disclaimer of warranty and limitation of liability provided
-above cannot be given local legal effect according to their terms,
-reviewing courts shall apply local law that most closely approximates
-an absolute waiver of all civil liability in connection with the
-Program, unless a warranty or assumption of liability accompanies a
-copy of the Program in return for a fee.
-
-                     END OF TERMS AND CONDITIONS
-
-            How to Apply These Terms to Your New Programs
-
-  If you develop a new program, and you want it to be of the greatest
-possible use to the public, the best way to achieve this is to make it
-free software which everyone can redistribute and change under these terms.
-
-  To do so, attach the following notices to the program.  It is safest
-to attach them to the start of each source file to most effectively
-state the exclusion of warranty; and each file should have at least
-the "copyright" line and a pointer to where the full notice is found.
-
-    {one line to give the program's name and a brief idea of what it does.}
-    Copyright (C) {year}  {name of author}
-
-    This program is free software: you can redistribute it and/or modify
-    it under the terms of the GNU General Public License as published by
-    the Free Software Foundation, either version 3 of the License, or
-    (at your option) any later version.
-
-    This program is distributed in the hope that it will be useful,
-    but WITHOUT ANY WARRANTY; without even the implied warranty of
-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-    GNU General Public License for more details.
+Copyright © 2007 Free Software Foundation, Inc. <http://fsf.org/>
 
-    You should have received a copy of the GNU General Public License
-    along with this program.  If not, see <http://www.gnu.org/licenses/>.
+Everyone is permitted to copy and distribute verbatim copies of this license document, but changing it is not allowed.
+
+Preamble
+
+The GNU General Public License is a free, copyleft license for software and other kinds of works.
+
+The licenses for most software and other practical works are designed to take away your freedom to share and change the works. By contrast, the GNU General Public License is intended to guarantee your freedom to share and change all versions of a program--to make sure it remains free software for all its users. We, the Free Software Foundation, use the GNU General Public License for most of our software; it applies also to any other work released this way by its authors. You can apply it to your programs, too.
+
+When we speak of free software, we are referring to freedom, not price. Our General Public Licenses are designed to make sure that you have the freedom to distribute copies of free software (and charge for them if you wish), that you receive source code or can get it if you want it, that you can change the software or use pieces of it in new free programs, and that you know you can do these things.
+
+To protect your rights, we need to prevent others from denying you these rights or asking you to surrender the rights. Therefore, you have certain responsibilities if you distribute copies of the software, or if you modify it: responsibilities to respect the freedom of others.
+
+For example, if you distribute copies of such a program, whether gratis or for a fee, you must pass on to the recipients the same freedoms that you received. You must make sure that they, too, receive or can get the source code. And you must show them these terms so they know their rights.
+
+Developers that use the GNU GPL protect your rights with two steps: (1) assert copyright on the software, and (2) offer you this License giving you legal permission to copy, distribute and/or modify it.
+
+For the developers' and authors' protection, the GPL clearly explains that there is no warranty for this free software. For both users' and authors' sake, the GPL requires that modified versions be marked as changed, so that their problems will not be attributed erroneously to authors of previous versions.
+
+Some devices are designed to deny users access to install or run modified versions of the software inside them, although the manufacturer can do so. This is fundamentally incompatible with the aim of protecting users' freedom to change the software. The systematic pattern of such abuse occurs in the area of products for individuals to use, which is precisely where it is most unacceptable. Therefore, we have designed this version of the GPL to prohibit the practice for those products. If such problems arise substantially in other domains, we stand ready to extend this provision to those domains in future versions of the GPL, as needed to protect the freedom of users.
+
+Finally, every program is threatened constantly by software patents. States should not allow patents to restrict development and use of software on general-purpose computers, but in those that do, we wish to avoid the special danger that patents applied to a free program could make it effectively proprietary. To prevent this, the GPL assures that patents cannot be used to render the program non-free.
+
+The precise terms and conditions for copying, distribution and modification follow.
+
+TERMS AND CONDITIONS
+
+0. Definitions.
+
+“This License” refers to version 3 of the GNU General Public License.
+
+“Copyright” also means copyright-like laws that apply to other kinds of works, such as semiconductor masks.
+
+“The Program” refers to any copyrightable work licensed under this License. Each licensee is addressed as “you”. “Licensees” and “recipients” may be individuals or organizations.
+
+To “modify” a work means to copy from or adapt all or part of the work in a fashion requiring copyright permission, other than the making of an exact copy. The resulting work is called a “modified version” of the earlier work or a work “based on” the earlier work.
+
+A “covered work” means either the unmodified Program or a work based on the Program.
+
+To “propagate” a work means to do anything with it that, without permission, would make you directly or secondarily liable for infringement under applicable copyright law, except executing it on a computer or modifying a private copy. Propagation includes copying, distribution (with or without modification), making available to the public, and in some countries other activities as well.
+
+To “convey” a work means any kind of propagation that enables other parties to make or receive copies. Mere interaction with a user through a computer network, with no transfer of a copy, is not conveying.
+
+An interactive user interface displays “Appropriate Legal Notices” to the extent that it includes a convenient and prominently visible feature that (1) displays an appropriate copyright notice, and (2) tells the user that there is no warranty for the work (except to the extent that warranties are provided), that licensees may convey the work under this License, and how to view a copy of this License. If the interface presents a list of user commands or options, such as a menu, a prominent item in the list meets this criterion.
+
+1. Source Code.
+The “source code” for a work means the preferred form of the work for making modifications to it. “Object code” means any non-source form of a work.
+
+A “Standard Interface” means an interface that either is an official standard defined by a recognized standards body, or, in the case of interfaces specified for a particular programming language, one that is widely used among developers working in that language.
+
+The “System Libraries” of an executable work include anything, other than the work as a whole, that (a) is included in the normal form of packaging a Major Component, but which is not part of that Major Component, and (b) serves only to enable use of the work with that Major Component, or to implement a Standard Interface for which an implementation is available to the public in source code form. A “Major Component”, in this context, means a major essential component (kernel, window system, and so on) of the specific operating system (if any) on which the executable work runs, or a compiler used to produce the work, or an object code interpreter used to run it.
+
+The “Corresponding Source” for a work in object code form means all the source code needed to generate, install, and (for an executable work) run the object code and to modify the work, including scripts to control those activities. However, it does not include the work's System Libraries, or general-purpose tools or generally available free programs which are used unmodified in performing those activities but which are not part of the work. For example, Corresponding Source includes interface definition files associated with source files for the work, and the source code for shared libraries and dynamically linked subprograms that the work is specifically designed to require, such as by intimate data communication or control flow between those subprograms and other parts of the work.
+
+The Corresponding Source need not include anything that users can regenerate automatically from other parts of the Corresponding Source.
+
+The Corresponding Source for a work in source code form is that same work.
+
+2. Basic Permissions.
+All rights granted under this License are granted for the term of copyright on the Program, and are irrevocable provided the stated conditions are met. This License explicitly affirms your unlimited permission to run the unmodified Program. The output from running a covered work is covered by this License only if the output, given its content, constitutes a covered work. This License acknowledges your rights of fair use or other equivalent, as provided by copyright law.
+
+You may make, run and propagate covered works that you do not convey, without conditions so long as your license otherwise remains in force. You may convey covered works to others for the sole purpose of having them make modifications exclusively for you, or provide you with facilities for running those works, provided that you comply with the terms of this License in conveying all material for which you do not control copyright. Those thus making or running the covered works for you must do so exclusively on your behalf, under your direction and control, on terms that prohibit them from making any copies of your copyrighted material outside their relationship with you.
+
+Conveying under any other circumstances is permitted solely under the conditions stated below. Sublicensing is not allowed; section 10 makes it unnecessary.
+
+3. Protecting Users' Legal Rights From Anti-Circumvention Law.
+No covered work shall be deemed part of an effective technological measure under any applicable law fulfilling obligations under article 11 of the WIPO copyright treaty adopted on 20 December 1996, or similar laws prohibiting or restricting circumvention of such measures.
+
+When you convey a covered work, you waive any legal power to forbid circumvention of technological measures to the extent such circumvention is effected by exercising rights under this License with respect to the covered work, and you disclaim any intention to limit operation or modification of the work as a means of enforcing, against the work's users, your or third parties' legal rights to forbid circumvention of technological measures.
+
+4. Conveying Verbatim Copies.
+You may convey verbatim copies of the Program's source code as you receive it, in any medium, provided that you conspicuously and appropriately publish on each copy an appropriate copyright notice; keep intact all notices stating that this License and any non-permissive terms added in accord with section 7 apply to the code; keep intact all notices of the absence of any warranty; and give all recipients a copy of this License along with the Program.
+
+You may charge any price or no price for each copy that you convey, and you may offer support or warranty protection for a fee.
+
+5. Conveying Modified Source Versions.
+You may convey a work based on the Program, or the modifications to produce it from the Program, in the form of source code under the terms of section 4, provided that you also meet all of these conditions:
+
+     a) The work must carry prominent notices stating that you modified it, and giving a relevant date.
+
+     b) The work must carry prominent notices stating that it is released under this License and any conditions added under section 7. This requirement modifies the requirement in section 4 to “keep intact all notices”.
+
+     c) You must license the entire work, as a whole, under this License to anyone who comes into possession of a copy. This License will therefore apply, along with any applicable section 7 additional terms, to the whole of the work, and all its parts, regardless of how they are packaged. This License gives no permission to license the work in any other way, but it does not invalidate such permission if you have separately received it.
+
+     d) If the work has interactive user interfaces, each must display Appropriate Legal Notices; however, if the Program has interactive interfaces that do not display Appropriate Legal Notices, your work need not make them do so.
+
+A compilation of a covered work with other separate and independent works, which are not by their nature extensions of the covered work, and which are not combined with it such as to form a larger program, in or on a volume of a storage or distribution medium, is called an “aggregate” if the compilation and its resulting copyright are not used to limit the access or legal rights of the compilation's users beyond what the individual works permit. Inclusion of a covered work in an aggregate does not cause this License to apply to the other parts of the aggregate.
+
+6. Conveying Non-Source Forms.
+You may convey a covered work in object code form under the terms of sections 4 and 5, provided that you also convey the machine-readable Corresponding Source under the terms of this License, in one of these ways:
+
+     a) Convey the object code in, or embodied in, a physical product (including a physical distribution medium), accompanied by the Corresponding Source fixed on a durable physical medium customarily used for software interchange.
+
+     b) Convey the object code in, or embodied in, a physical product (including a physical distribution medium), accompanied by a written offer, valid for at least three years and valid for as long as you offer spare parts or customer support for that product model, to give anyone who possesses the object code either (1) a copy of the Corresponding Source for all the software in the product that is covered by this License, on a durable physical medium customarily used for software interchange, for a price no more than your reasonable cost of physically performing this conveying of source, or (2) access to copy the Corresponding Source from a network server at no charge.
+
+     c) Convey individual copies of the object code with a copy of the written offer to provide the Corresponding Source. This alternative is allowed only occasionally and noncommercially, and only if you received the object code with such an offer, in accord with subsection 6b.
+
+     d) Convey the object code by offering access from a designated place (gratis or for a charge), and offer equivalent access to the Corresponding Source in the same way through the same place at no further charge. You need not require recipients to copy the Corresponding Source along with the object code. If the place to copy the object code is a network server, the Corresponding Source may be on a different server (operated by you or a third party) that supports equivalent copying facilities, provided you maintain clear directions next to the object code saying where to find the Corresponding Source. Regardless of what server hosts the Corresponding Source, you remain obligated to ensure that it is available for as long as needed to satisfy these requirements.
+
+     e) Convey the object code using peer-to-peer transmission, provided you inform other peers where the object code and Corresponding Source of the work are being offered to the general public at no charge under subsection 6d.
+
+A separable portion of the object code, whose source code is excluded from the Corresponding Source as a System Library, need not be included in conveying the object code work.
+
+A “User Product” is either (1) a “consumer product”, which means any tangible personal property which is normally used for personal, family, or household purposes, or (2) anything designed or sold for incorporation into a dwelling. In determining whether a product is a consumer product, doubtful cases shall be resolved in favor of coverage. For a particular product received by a particular user, “normally used” refers to a typical or common use of that class of product, regardless of the status of the particular user or of the way in which the particular user actually uses, or expects or is expected to use, the product. A product is a consumer product regardless of whether the product has substantial commercial, industrial or non-consumer uses, unless such uses represent the only significant mode of use of the product.
+
+“Installation Information” for a User Product means any methods, procedures, authorization keys, or other information required to install and execute modified versions of a covered work in that User Product from a modified version of its Corresponding Source. The information must suffice to ensure that the continued functioning of the modified object code is in no case prevented or interfered with solely because modification has been made.
+
+If you convey an object code work under this section in, or with, or specifically for use in, a User Product, and the conveying occurs as part of a transaction in which the right of possession and use of the User Product is transferred to the recipient in perpetuity or for a fixed term (regardless of how the transaction is characterized), the Corresponding Source conveyed under this section must be accompanied by the Installation Information. But this requirement does not apply if neither you nor any third party retains the ability to install modified object code on the User Product (for example, the work has been installed in ROM).
+
+The requirement to provide Installation Information does not include a requirement to continue to provide support service, warranty, or updates for a work that has been modified or installed by the recipient, or for the User Product in which it has been modified or installed. Access to a network may be denied when the modification itself materially and adversely affects the operation of the network or violates the rules and protocols for communication across the network.
+
+Corresponding Source conveyed, and Installation Information provided, in accord with this section must be in a format that is publicly documented (and with an implementation available to the public in source code form), and must require no special password or key for unpacking, reading or copying.
+
+7. Additional Terms.
+“Additional permissions” are terms that supplement the terms of this License by making exceptions from one or more of its conditions. Additional permissions that are applicable to the entire Program shall be treated as though they were included in this License, to the extent that they are valid under applicable law. If additional permissions apply only to part of the Program, that part may be used separately under those permissions, but the entire Program remains governed by this License without regard to the additional permissions.
+
+When you convey a copy of a covered work, you may at your option remove any additional permissions from that copy, or from any part of it. (Additional permissions may be written to require their own removal in certain cases when you modify the work.) You may place additional permissions on material, added by you to a covered work, for which you have or can give appropriate copyright permission.
+
+Notwithstanding any other provision of this License, for material you add to a covered work, you may (if authorized by the copyright holders of that material) supplement the terms of this License with terms:
+
+     a) Disclaiming warranty or limiting liability differently from the terms of sections 15 and 16 of this License; or
+
+     b) Requiring preservation of specified reasonable legal notices or author attributions in that material or in the Appropriate Legal Notices displayed by works containing it; or
+
+     c) Prohibiting misrepresentation of the origin of that material, or requiring that modified versions of such material be marked in reasonable ways as different from the original version; or
+
+     d) Limiting the use for publicity purposes of names of licensors or authors of the material; or
+
+     e) Declining to grant rights under trademark law for use of some trade names, trademarks, or service marks; or
+
+     f) Requiring indemnification of licensors and authors of that material by anyone who conveys the material (or modified versions of it) with contractual assumptions of liability to the recipient, for any liability that these contractual assumptions directly impose on those licensors and authors.
+
+All other non-permissive additional terms are considered “further restrictions” within the meaning of section 10. If the Program as you received it, or any part of it, contains a notice stating that it is governed by this License along with a term that is a further restriction, you may remove that term. If a license document contains a further restriction but permits relicensing or conveying under this License, you may add to a covered work material governed by the terms of that license document, provided that the further restriction does not survive such relicensing or conveying.
+
+If you add terms to a covered work in accord with this section, you must place, in the relevant source files, a statement of the additional terms that apply to those files, or a notice indicating where to find the applicable terms.
+
+Additional terms, permissive or non-permissive, may be stated in the form of a separately written license, or stated as exceptions; the above requirements apply either way.
+
+8. Termination.
+You may not propagate or modify a covered work except as expressly provided under this License. Any attempt otherwise to propagate or modify it is void, and will automatically terminate your rights under this License (including any patent licenses granted under the third paragraph of section 11).
+
+However, if you cease all violation of this License, then your license from a particular copyright holder is reinstated (a) provisionally, unless and until the copyright holder explicitly and finally terminates your license, and (b) permanently, if the copyright holder fails to notify you of the violation by some reasonable means prior to 60 days after the cessation.
+
+Moreover, your license from a particular copyright holder is reinstated permanently if the copyright holder notifies you of the violation by some reasonable means, this is the first time you have received notice of violation of this License (for any work) from that copyright holder, and you cure the violation prior to 30 days after your receipt of the notice.
+
+Termination of your rights under this section does not terminate the licenses of parties who have received copies or rights from you under this License. If your rights have been terminated and not permanently reinstated, you do not qualify to receive new licenses for the same material under section 10.
+
+9. Acceptance Not Required for Having Copies.
+You are not required to accept this License in order to receive or run a copy of the Program. Ancillary propagation of a covered work occurring solely as a consequence of using peer-to-peer transmission to receive a copy likewise does not require acceptance. However, nothing other than this License grants you permission to propagate or modify any covered work. These actions infringe copyright if you do not accept this License. Therefore, by modifying or propagating a covered work, you indicate your acceptance of this License to do so.
+
+10. Automatic Licensing of Downstream Recipients.
+Each time you convey a covered work, the recipient automatically receives a license from the original licensors, to run, modify and propagate that work, subject to this License. You are not responsible for enforcing compliance by third parties with this License.
+
+An “entity transaction” is a transaction transferring control of an organization, or substantially all assets of one, or subdividing an organization, or merging organizations. If propagation of a covered work results from an entity transaction, each party to that transaction who receives a copy of the work also receives whatever licenses to the work the party's predecessor in interest had or could give under the previous paragraph, plus a right to possession of the Corresponding Source of the work from the predecessor in interest, if the predecessor has it or can get it with reasonable efforts.
+
+You may not impose any further restrictions on the exercise of the rights granted or affirmed under this License. For example, you may not impose a license fee, royalty, or other charge for exercise of rights granted under this License, and you may not initiate litigation (including a cross-claim or counterclaim in a lawsuit) alleging that any patent claim is infringed by making, using, selling, offering for sale, or importing the Program or any portion of it.
+
+11. Patents.
+A “contributor” is a copyright holder who authorizes use under this License of the Program or a work on which the Program is based. The work thus licensed is called the contributor's “contributor version”.
+
+A contributor's “essential patent claims” are all patent claims owned or controlled by the contributor, whether already acquired or hereafter acquired, that would be infringed by some manner, permitted by this License, of making, using, or selling its contributor version, but do not include claims that would be infringed only as a consequence of further modification of the contributor version. For purposes of this definition, “control” includes the right to grant patent sublicenses in a manner consistent with the requirements of this License.
+
+Each contributor grants you a non-exclusive, worldwide, royalty-free patent license under the contributor's essential patent claims, to make, use, sell, offer for sale, import and otherwise run, modify and propagate the contents of its contributor version.
+
+In the following three paragraphs, a “patent license” is any express agreement or commitment, however denominated, not to enforce a patent (such as an express permission to practice a patent or covenant not to sue for patent infringement). To “grant” such a patent license to a party means to make such an agreement or commitment not to enforce a patent against the party.
+
+If you convey a covered work, knowingly relying on a patent license, and the Corresponding Source of the work is not available for anyone to copy, free of charge and under the terms of this License, through a publicly available network server or other readily accessible means, then you must either (1) cause the Corresponding Source to be so available, or (2) arrange to deprive yourself of the benefit of the patent license for this particular work, or (3) arrange, in a manner consistent with the requirements of this License, to extend the patent license to downstream recipients. “Knowingly relying” means you have actual knowledge that, but for the patent license, your conveying the covered work in a country, or your recipient's use of the covered work in a country, would infringe one or more identifiable patents in that country that you have reason to believe are valid.
+
+If, pursuant to or in connection with a single transaction or arrangement, you convey, or propagate by procuring conveyance of, a covered work, and grant a patent license to some of the parties receiving the covered work authorizing them to use, propagate, modify or convey a specific copy of the covered work, then the patent license you grant is automatically extended to all recipients of the covered work and works based on it.
+
+A patent license is “discriminatory” if it does not include within the scope of its coverage, prohibits the exercise of, or is conditioned on the non-exercise of one or more of the rights that are specifically granted under this License. You may not convey a covered work if you are a party to an arrangement with a third party that is in the business of distributing software, under which you make payment to the third party based on the extent of your activity of conveying the work, and under which the third party grants, to any of the parties who would receive the covered work from you, a discriminatory patent license (a) in connection with copies of the covered work conveyed by you (or copies made from those copies), or (b) primarily for and in connection with specific products or compilations that contain the covered work, unless you entered into that arrangement, or that patent license was granted, prior to 28 March 2007.
+
+Nothing in this License shall be construed as excluding or limiting any implied license or other defenses to infringement that may otherwise be available to you under applicable patent law.
+
+12. No Surrender of Others' Freedom.
+If conditions are imposed on you (whether by court order, agreement or otherwise) that contradict the conditions of this License, they do not excuse you from the conditions of this License. If you cannot convey a covered work so as to satisfy simultaneously your obligations under this License and any other pertinent obligations, then as a consequence you may not convey it at all. For example, if you agree to terms that obligate you to collect a royalty for further conveying from those to whom you convey the Program, the only way you could satisfy both those terms and this License would be to refrain entirely from conveying the Program.
+
+13. Use with the GNU Affero General Public License.
+Notwithstanding any other provision of this License, you have permission to link or combine any covered work with a work licensed under version 3 of the GNU Affero General Public License into a single combined work, and to convey the resulting work. The terms of this License will continue to apply to the part which is the covered work, but the special requirements of the GNU Affero General Public License, section 13, concerning interaction through a network will apply to the combination as such.
+
+14. Revised Versions of this License.
+The Free Software Foundation may publish revised and/or new versions of the GNU General Public License from time to time. Such new versions will be similar in spirit to the present version, but may differ in detail to address new problems or concerns.
+
+Each version is given a distinguishing version number. If the Program specifies that a certain numbered version of the GNU General Public License “or any later version” applies to it, you have the option of following the terms and conditions either of that numbered version or of any later version published by the Free Software Foundation. If the Program does not specify a version number of the GNU General Public License, you may choose any version ever published by the Free Software Foundation.
+
+If the Program specifies that a proxy can decide which future versions of the GNU General Public License can be used, that proxy's public statement of acceptance of a version permanently authorizes you to choose that version for the Program.
+
+Later license versions may give you additional or different permissions. However, no additional obligations are imposed on any author or copyright holder as a result of your choosing to follow a later version.
+
+15. Disclaimer of Warranty.
+THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES PROVIDE THE PROGRAM “AS IS” WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU. SHOULD THE PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING, REPAIR OR CORRECTION.
+
+16. Limitation of Liability.
+IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MODIFIES AND/OR CONVEYS THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.
+
+17. Interpretation of Sections 15 and 16.
+If the disclaimer of warranty and limitation of liability provided above cannot be given local legal effect according to their terms, reviewing courts shall apply local law that most closely approximates an absolute waiver of all civil liability in connection with the Program, unless a warranty or assumption of liability accompanies a copy of the Program in return for a fee.
+
+END OF TERMS AND CONDITIONS
+
+How to Apply These Terms to Your New Programs
+
+If you develop a new program, and you want it to be of the greatest possible use to the public, the best way to achieve this is to make it free software which everyone can redistribute and change under these terms.
+
+To do so, attach the following notices to the program. It is safest to attach them to the start of each source file to most effectively state the exclusion of warranty; and each file should have at least the “copyright” line and a pointer to where the full notice is found.
+
+     <one line to give the program's name and a brief idea of what it does.>
+     Copyright (C) <year>  <name of author>
+
+     This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
+
+     This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.
+
+     You should have received a copy of the GNU General Public License along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
 Also add information on how to contact you by electronic and paper mail.
 
-  If the program does terminal interaction, make it output a short
-notice like this when it starts in an interactive mode:
+If the program does terminal interaction, make it output a short notice like this when it starts in an interactive mode:
+
+     <program>  Copyright (C) <year>  <name of author>
+     This program comes with ABSOLUTELY NO WARRANTY; for details type `show w'.
+     This is free software, and you are welcome to redistribute it under certain conditions; type `show c' for details.
+
+The hypothetical commands `show w' and `show c' should show the appropriate parts of the General Public License. Of course, your program's commands might be different; for a GUI interface, you would use an “about box”.
+
+You should also get your employer (if you work as a programmer) or school, if any, to sign a “copyright disclaimer” for the program, if necessary. For more information on this, and how to apply and follow the GNU GPL, see <http://www.gnu.org/licenses/>.
 
-    {project}  Copyright (C) {year}  {fullname}
-    This program comes with ABSOLUTELY NO WARRANTY; for details type `show w'.
-    This is free software, and you are welcome to redistribute it
-    under certain conditions; type `show c' for details.
-
-The hypothetical commands `show w' and `show c' should show the appropriate
-parts of the General Public License.  Of course, your program's commands
-might be different; for a GUI interface, you would use an "about box".
-
-  You should also get your employer (if you work as a programmer) or school,
-if any, to sign a "copyright disclaimer" for the program, if necessary.
-For more information on this, and how to apply and follow the GNU GPL, see
-<http://www.gnu.org/licenses/>.
-
-  The GNU General Public License does not permit incorporating your program
-into proprietary programs.  If your program is a subroutine library, you
-may consider it more useful to permit linking proprietary applications with
-the library.  If this is what you want to do, use the GNU Lesser General
-Public License instead of this License.  But first, please read
-<http://www.gnu.org/philosophy/why-not-lgpl.html>.
+The GNU General Public License does not permit incorporating your program into proprietary programs. If your program is a subroutine library, you may consider it more useful to permit linking proprietary applications with the library. If this is what you want to do, use the GNU Lesser General Public License instead of this License. But first, please read <http://www.gnu.org/philosophy/why-not-lgpl.html>.
```

### encoding

```diff
@@ -1 +1 @@
-us-ascii
+utf-8
```

## Comparing `nngt-2.6.0/nngt/nngt.conf.default` & `nngt/nngt.conf.default`

 * *Files identical despite different names*

## Comparing `nngt-2.6.0/nngt/__init__.py` & `nngt/__init__.py`

 * *Files 18% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# __init__.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/__init__.py
 
 """
 NNGT
 ====
 
 Package aimed at facilitating the analysis of Neural Networks and Graphs'
 Topologies in Python by providing a unified interface for network generation
@@ -85,15 +67,15 @@
 import shutil as _shutil
 import sys as _sys
 import logging as _logging
 
 import numpy as _np
 
 
-__version__ = '2.6.0'
+__version__ = '2.7.0'
 
 
 # ----------------------- #
 # Requirements and config #
 # ----------------------- #
 
 # IMPORTANT: configuration MUST come first
```

## Comparing `nngt-2.6.0/nngt/io/loading_helpers.py` & `nngt/io/loading_helpers.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# io/loading_helpers.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/io/loading_helpers.py
 
 """ Loading helpers """
 
 from collections import defaultdict
 import logging
 import re
 import types
@@ -187,15 +169,15 @@
                         _string_from_object(atypes.get(name, object)))
                 else:
                     di_notif["edge_attr_types"].append("object")
     elif fmt == "graphml" or fmt == "xml":
         try:
             from lxml import etree as ET
             lxml = True
-        except:
+        except ImportError:
             lxml = False
             import xml.etree.ElementTree as ET
             from io import StringIO
 
         root = ET.parse(filename).getroot()
 
         ns = root.nsmap if lxml else dict([
```

## Comparing `nngt-2.6.0/nngt/io/graph_loading.py` & `nngt/io/graph_loading.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# io/graph_loading.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/io/graph_loading.py
 
 """ Loading functions """
 
 import ast
 import codecs
 import logging
 import pickle
@@ -128,15 +110,15 @@
     graph : :class:`~nngt.Graph` or subclass
         Loaded graph.
     '''
     return nngt.Graph.from_file(
         filename, fmt=fmt, separator=separator, secondary=secondary,
         attributes=attributes, attributes_types=attributes_types,
         notifier=notifier, ignore=ignore, name=name, directed=directed,
-        cleanup=cleanup) 
+        cleanup=cleanup)
 
 
 def _load_from_file(filename, fmt="auto", separator=" ", secondary=";",
                     attributes=None, attributes_types=None,
                     notifier="@", ignore="#", cleanup=False):
     '''
     Load the main properties (edges, attributes...) from a file.
@@ -179,15 +161,15 @@
         Additional notifiers are ``@type=SpatialGraph/Network/SpatialNetwork``,
         which must be followed by the relevant notifiers among ``@shape``,
         ``@structure``, and ``@graph``.
     ignore : str, optional (default: "#")
         Ignore lines starting with the `ignore` string.
     cleanup : bool, optional (default: False)
        If true, removes nodes before the first one that appears in the
-       edges and after the last one and renumber the nodes from 0. 
+       edges and after the last one and renumber the nodes from 0.
 
     Returns
     -------
     di_notif : dict
         Dictionary containing the main graph arguments.
     edges : list of 2-tuples
         Edges of the graph.
```

## Comparing `nngt-2.6.0/nngt/io/io_helpers.py` & `nngt/io/io_helpers.py`

 * *Files 24% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# io/io_helpers.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/io/io_helpers.py
 
 """ IO helpers """
 
 import nngt
 from nngt.lib import InvalidArgument
```

## Comparing `nngt-2.6.0/nngt/io/graph_saving.py` & `nngt/io/graph_saving.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# io/graph_saving.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/io/graph_saving.py
 
 """ IO tools for NNGT """
 
 import codecs
 import logging
 import pickle
 import sys
```

## Comparing `nngt-2.6.0/nngt/io/__init__.py` & `nngt/geometry/dxf_import/__init__.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,27 +1,21 @@
+#!/usr/bin/env python
 #-*- coding:utf-8 -*-
 #
-# io/__init__.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
+# This file is part of the PyNCulture project, which aims at providing tools to
+# easily generate complex neuronal cultures.
+# Copyright (C) 2017 SENeC Initiative
+# 
 # This program is free software: you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation, either version 3 of the License, or
 # (at your option) any later version.
-#
+# 
 # This program is distributed in the hope that it will be useful,
 # but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 # GNU General Public License for more details.
-#
+# 
 # You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
-"""
-The Input/output (I/O) module contains function to read and write network
-files.
-"""
+from .read_dxf import DXF
```

## Comparing `nngt-2.6.0/nngt/io/saving_helpers.py` & `nngt/io/saving_helpers.py`

 * *Files 7% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# io/saving_helpers.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/io/saving_helpers.py
 
 """ IO tools for NNGT """
 
 import logging
 
 from nngt.lib.logger import _log_message
 
@@ -142,15 +124,15 @@
     return str_gml
 
 
 def _xml(graph, attributes=None, additional_notif=None, **kwargs):
     try:
         from lxml import etree as ET
         lxml = True
-    except:
+    except ImportError:
         lxml = False
         import xml.etree.ElementTree as ET
         _log_message(logger, "WARNING",
                      "LXML is not installed, using Python XML for export. "
                      "Some apps like Gephi <= 0.9.2 will not read attributes "
                      "from the generated GraphML file due to elements' order.")
```

## Comparing `nngt-2.6.0/nngt/database/db_generation.py` & `nngt/database/db_generation.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# database/db_generation.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/database/db_generation.py
 
 """ Store results into a database """
 
 from collections import namedtuple
 
 from peewee import *
 from playhouse.fields import CompressedField
@@ -51,25 +33,25 @@
 # ---------------- #
 # Database classes #
 # ---------------- #
 
 class LongCompressedField(CompressedField):
     db_field = 'longblob'
 
-    
+
 class BaseModel(Model):
     class Meta:
         database = nngt._main_db
 
 
 class Computer(BaseModel):
     '''
     Class containing informations about the conputer.
     '''
-    
+
     name = TextField()
     ''' : Name from ``platform.node()`` or ``"unknown"`` '''
     platform = TextField()
     ''' System information from ``platform.platform()`` '''
     python = TextField()
     ''' Python version given by ``platform.python_version()`` '''
     cores = IntegerField()
@@ -112,15 +94,15 @@
 
 class Synapse(BaseModel):
     '''
     Base class that will be modified to contain all the properties of the
     synapses used during a simulation.
     '''
     pass
-        
+
 
 class Connection(BaseModel):
     '''
     Class detailing the existing connections in the network: a couple of pre-
     and post-synaptic neurons and a synapse.
     '''
 
@@ -138,15 +120,15 @@
     ''' Raster of the simulated activity. '''
 
 
 class Simulation(BaseModel):
     '''
     Class containing all informations about the simulation properties.
     '''
-    
+
     start_time = DateTimeField()
     ''' Date and time at which the simulation started. '''
     completion_time = DateTimeField()
     ''' Date and time at which the simulation ended. '''
     simulated_time = FloatField()
     ''' Virtual time that was simulated for the neural network. '''
     resolution = FloatField()
```

## Comparing `nngt-2.6.0/nngt/database/csv_utils.py` & `nngt/database/csv_utils.py`

 * *Files 5% similar despite different names*

```diff
@@ -1,29 +1,12 @@
-#-*- coding:utf-8 -*-
-#
-# database/csv_utils.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/database/csv_utils.py
+
 """
 Peewee helper for loading CSV data into a database.
 
 Load the users CSV file into the database and return a Model for accessing
 the data:
 
     from playhouse.csv_loader import load_csv
```

## Comparing `nngt-2.6.0/nngt/database/db_main.py` & `nngt/database/db_main.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# database/db_main.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/database/db_main.py
 
 """ Main object for database management """
 
 import platform
 from datetime import datetime
 from itertools import permutations
 
@@ -43,15 +25,15 @@
 
 
 class NNGTdb:
     '''
     Class containing the database object and methods to store the simulation
     properties.
     '''
-    
+
     tables = {
         'activity': Activity,
         'computer': Computer,
         'connection': Connection,
         'neuralnetwork': NeuralNetwork,
         'neuron': Neuron,
         'simulation': Simulation,
@@ -66,15 +48,15 @@
         self.activity = None
         self.current_simulation = None
         self.simulator_lib = None
         self.computer = None
         self.neuralnet = None
         self.connections = {}
         self.nodes = {}
-    
+
     def _update_class(self, table, **kwargs):
         ''' Add a field for each property of the considered node. '''
         klass = self.tables[table]
         columns = [ x.name for x in self.db.get_columns(table) ]
         migrator = db_migrator[self.db.__class__.__name__](self.db)
         type_names = False
         if "dtype" in kwargs:
@@ -91,15 +73,15 @@
                 # check whether the column exists on the table, if not create
                 if not attr in columns:
                     try:
                         migrate(migrator.add_column(table, attr, val_field))
                     except peewee.OperationalError:
                         pass
         return klass
-    
+
     def _update_models(self):
         ''' Update the models so that we can query the database with them '''
         tables = self.db.get_tables()
         for table in tables:
             delete = []
             col_names = self.db.get_columns(table)
             col_dict = { x.name: x.data_type for x in col_names}
@@ -242,25 +224,25 @@
         ----------
         neuron_pre : :class:`~nngt.database.Neuron`
             Pre-synaptic neuron entry.
         neuron_post : :class:`~nngt.database.Neuron`
             Post-synaptic neuron entry.
         synapse : :class:`~nngt.database.Synapse`
             Synapse entry.
-        
+
         Returns
         -------
         :class:`~nngt.database.Connection`
         '''
         return Connection(pre=neuron_pre, post=neuron_post, synapse=synapse)
 
     def _get_simulation_prop(self, network, simulator):
         '''
         Get the simulation properties.
-        
+
         Parameters
         ----------
         network : :class:`~nngt.Network`
             Network used for the simulation.
         simulator : str
             Name of the simulator use (NEST, BRIAN...).
 
@@ -300,15 +282,15 @@
         act_attr["dtypes"] = True
         ''' ..todo ::
             compress the spike files '''
         Activity = self._update_class("activity", **act_attr)
         activity_entry = Activity(**di_activity)
         self.current_simulation['activity'] = activity_entry
         return activity_entry
-        
+
     def log_simulation_start(self, network, simulator, save_network=True):
         '''
         Record the simulation start time, all nodes, connections, network, and
         computer properties, as well as some of simulation's.
 
         Parameters
         ----------
@@ -344,15 +326,15 @@
             if name_post not in self.nodes:
                 self.nodes[name_post] = self._make_neuron_entry(network, post)
             synapse = self._make_synapse_entry(network, pre, post)
             self.nodes["syn_{}->{}".format(name_pre, name_post)] = synapse
             conn = self._make_connection_entry(self.nodes[name_pre],
                                                self.nodes[name_post], synapse)
             self.connections["{}->{}".format(name_pre, name_post)] = conn
-        
+
 
     def log_simulation_end(self, network=None, log_activity=True):
         '''
         Record the simulation completion and simulated times, save the data,
         then reset.
         '''
         if self.is_clear():
@@ -386,33 +368,33 @@
                   # ~ .join(NeuralNetwork).switch(Simulation).join(Activity)
                   # ~ .switch(Simulation).join(Connection).join(Neuron, on=Connection.pre)
                   # ~ .switch(Connection).join(Neuron, on=Connection.post)
                   # ~ .switch(Connection).join(Synapse)).select(*db_cls)
             # ~ dump_csv(q, "{}_{}.csv".format(self.computer.name,
                                            # ~ simul_data.completion_time))
         self.reset()
-    
+
     def get_results(self, table, column=None, value=None):
         '''
         Return the entries where the attribute `column` satisfies the required
         equality.
-        
+
         Parameters
         ----------
         table : str
             Name of the table where the search should be performed (among
             ``'simulation'``, ``'computer'``, ``'neuralnetwork'``,
             ``'activity'``, ``'synapse'``, ``'neuron'``, or ``'connection'``).
         column : str, optional (default: None)
             Name of the variable of interest (a column on the table). If None,
             the whole table is returned.
         value : `column` corresponding type, optional (default: None)
             Specific value for the variable of interest. If None, the whole
             column is returned.
-        
+
         Returns
         -------
         :class:`peewee.SelectQuery` with entries matching the request.
         '''
         TableModel = self.tables[table]
         if column is None:
             return TableModel.select()
```

## Comparing `nngt-2.6.0/nngt/plot/animations.py` & `nngt/plot/animations.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# plot/animations.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/plot/animations.py
 
 """ Animation tools """
 
 import warnings
 import weakref
 import subprocess
 
@@ -361,15 +343,15 @@
     Class to plot the raster plot, firing-rate, and average trajectory in
     a 2D phase-space for a network activity.
     '''
 
     def __init__(self, source, multimeter, start=0., timewindow=None,
                  trace=5., x='time', y='V_m', sort_neurons=None,
                  network=None, interval=50, vector_field=False, **kwargs):
-        '''
+        r'''
         Generate a SubplotAnimation instance to plot a network activity.
 
         Parameters
         ----------
         source : tuple
             NEST gid of the ``spike_detector``(s) which recorded the network.
         multimeter : tuple
@@ -876,15 +858,15 @@
         if video_encoder == 'html5':
             codec = 'libx264'
         writer = Writer(codec=codec, fps=fps, bitrate=bitrate, metadata=metadata)
         animation.save(filename, writer=writer, dpi=dpi)
 
 
 def _vector_field(q, dotx_func, doty_func, x, y, Is):
-    '''
+    r'''
     Add the vector field of the x and y derivatives in phase space.
 
     Parameters
     ----------
     q : :class:`matplotlib.quiver.Quiver`
         Phase space quiver object.
     dotx_func : function
```

## Comparing `nngt-2.6.0/nngt/plot/hive_helpers.py` & `nngt/plot/hive_helpers.py`

 * *Files 3% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# plot/hive_helpers.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/plot/hive_helpers.py
 
 from matplotlib.colors import ColorConverter
 from matplotlib.patches import PathPatch
 from matplotlib.path import Path
 
 import numpy as np
```

## Comparing `nngt-2.6.0/nngt/plot/plt_properties.py` & `nngt/plot/plt_properties.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# plot/plt_properties.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/plot/plt_properties.py
 
 """ Tools to plot graph properties """
 
 import numpy as np
 
 import nngt
 from nngt.lib import InvalidArgument, nonstring_container
@@ -124,15 +106,15 @@
         maxcounts, mincounts = counts.max(), np.min(counts[counts > 0])
         allbins.extend(bins)
 
         deg_string = deg_type[0].upper() + deg_type[1:] + " degree"
 
         if "label" not in kwargs:
             kwargs["label"] = deg_string
-    
+
         axis.bar(bins[:-1], counts, np.diff(bins), **kwargs)
     else:
         if colors is None:
             colors = palette_continuous(np.linspace(0.,0.5, len(deg_type)))
 
         if not nonstring_container(num_bins):
             num_bins = [num_bins for _ in range(len(deg_type))]
@@ -142,15 +124,15 @@
                                           weights, logx, num_bins[i])
 
             if norm:
                 counts = counts / float(np.sum(counts))
 
             maxcounts_tmp = counts.max()
             mincounts_tmp = np.min(counts[counts>0])
-            
+
             mincounts = min(mincounts, mincounts_tmp)
             maxcounts = max(maxcounts, maxcounts_tmp)
 
             allbins.extend(bins)
 
             deg_string = s_type[0].upper() + s_type[1:] + "-degree"
 
@@ -355,15 +337,15 @@
         colors = palette_continuous(np.linspace(0.05, 0.5, 2))
 
     alpha = kwargs.get("alpha", None)
 
     if alpha is None:
         kwargs["alpha"] = 0.5 if btype == "both" else 1
 
-    
+
     x = 0 if legend_location == 'left' else 1
 
     # plot
     if btype in ("node", "both"):
         ax1.bar(
             nbins[:-1], ncounts, np.diff(nbins), color=colors[0], align='edge',
             **kwargs)
@@ -402,15 +384,15 @@
         ax1.grid(False)
         ax2.grid(False)
 
         if not logx:
             ax2 = format_exponent(ax2, 'x', (1., 1.1))
             ax1 = format_exponent(ax1, 'x', (1., -0.05))
 
-    y = 1.15 if btype == "both" else 1.05 
+    y = 1.15 if btype == "both" else 1.05
 
     title = "Betweenness distribution for {}".format(network.name) \
             if title is None else title
 
     ax1.set_title(title, x=0., y=y, loc='left')
 
     plt.tight_layout()
@@ -1113,15 +1095,15 @@
         ax.set_ylim([miny - 0.01*Dy, maxy + 0.01*Dy])
 
 
 def _format_and_show(fig, num_plot, values, title, show):
     import matplotlib.pyplot as plt
 
     plt.tight_layout()
-    
+
     if title is not None:
         fig.suptitle(title)
     if show:
         plt.show()
 
 
 def _format_arg(arg, num_expected, arg_name):
```

## Comparing `nngt-2.6.0/nngt/plot/custom_plt.py` & `nngt/plot/custom_plt.py`

 * *Files 24% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# plot/custom_plt.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/plot/custom_plt.py
 
 """ Matplotlib customization """
 
 import itertools
 import logging
 
 from pkg_resources import parse_version
```

## Comparing `nngt-2.6.0/nngt/plot/plt_networks.py` & `nngt/plot/plt_networks.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,5906 +1,5856 @@
-00000000: 232d 2a2d 2063 6f64 696e 673a 7574 662d  #-*- coding:utf-
-00000010: 3820 2d2a 2d0a 230a 2320 706c 6f74 2f70  8 -*-.#.# plot/p
-00000020: 6c74 5f6e 6574 776f 726b 732e 7079 0a23  lt_networks.py.#
-00000030: 0a23 2054 6869 7320 6669 6c65 2069 7320  .# This file is 
-00000040: 7061 7274 206f 6620 7468 6520 4e4e 4754  part of the NNGT
-00000050: 2070 726f 6a65 6374 2c20 6120 6772 6170   project, a grap
-00000060: 682d 6c69 6272 6172 7920 666f 7220 7374  h-library for st
-00000070: 616e 6461 7264 697a 6564 2061 6e64 0a23  andardized and.#
-00000080: 2061 6e64 2072 6570 726f 6475 6369 626c   and reproducibl
-00000090: 6520 6772 6170 6820 616e 616c 7973 6973  e graph analysis
-000000a0: 3a20 6765 6e65 7261 7465 2061 6e64 2061  : generate and a
-000000b0: 6e61 6c79 7a65 206e 6574 776f 726b 7320  nalyze networks 
-000000c0: 7769 7468 2079 6f75 720a 2320 6661 766f  with your.# favo
-000000d0: 7269 7465 2067 7261 7068 206c 6962 7261  rite graph libra
-000000e0: 7279 2028 6772 6170 682d 746f 6f6c 2f69  ry (graph-tool/i
-000000f0: 6772 6170 682f 6e65 7477 6f72 6b78 2920  graph/networkx) 
-00000100: 6f6e 2061 6e79 2070 6c61 7466 6f72 6d2c  on any platform,
-00000110: 2077 6974 686f 7574 0a23 2061 6e79 2063   without.# any c
-00000120: 6861 6e67 6520 746f 2079 6f75 7220 636f  hange to your co
-00000130: 6465 2e0a 2320 436f 7079 7269 6768 7420  de..# Copyright 
-00000140: 2843 2920 3230 3135 2d32 3032 3220 5461  (C) 2015-2022 Ta
-00000150: 6e67 7579 2046 6172 6465 740a 230a 2320  nguy Fardet.#.# 
-00000160: 5468 6973 2070 726f 6772 616d 2069 7320  This program is 
-00000170: 6672 6565 2073 6f66 7477 6172 653a 2079  free software: y
-00000180: 6f75 2063 616e 2072 6564 6973 7472 6962  ou can redistrib
-00000190: 7574 6520 6974 2061 6e64 2f6f 7220 6d6f  ute it and/or mo
-000001a0: 6469 6679 0a23 2069 7420 756e 6465 7220  dify.# it under 
-000001b0: 7468 6520 7465 726d 7320 6f66 2074 6865  the terms of the
-000001c0: 2047 4e55 2047 656e 6572 616c 2050 7562   GNU General Pub
-000001d0: 6c69 6320 4c69 6365 6e73 6520 6173 2070  lic License as p
-000001e0: 7562 6c69 7368 6564 2062 790a 2320 7468  ublished by.# th
-000001f0: 6520 4672 6565 2053 6f66 7477 6172 6520  e Free Software 
-00000200: 466f 756e 6461 7469 6f6e 2c20 6569 7468  Foundation, eith
-00000210: 6572 2076 6572 7369 6f6e 2033 206f 6620  er version 3 of 
-00000220: 7468 6520 4c69 6365 6e73 652c 206f 720a  the License, or.
-00000230: 2320 2861 7420 796f 7572 206f 7074 696f  # (at your optio
-00000240: 6e29 2061 6e79 206c 6174 6572 2076 6572  n) any later ver
-00000250: 7369 6f6e 2e0a 230a 2320 5468 6973 2070  sion..#.# This p
-00000260: 726f 6772 616d 2069 7320 6469 7374 7269  rogram is distri
-00000270: 6275 7465 6420 696e 2074 6865 2068 6f70  buted in the hop
-00000280: 6520 7468 6174 2069 7420 7769 6c6c 2062  e that it will b
-00000290: 6520 7573 6566 756c 2c0a 2320 6275 7420  e useful,.# but 
-000002a0: 5749 5448 4f55 5420 414e 5920 5741 5252  WITHOUT ANY WARR
-000002b0: 414e 5459 3b20 7769 7468 6f75 7420 6576  ANTY; without ev
-000002c0: 656e 2074 6865 2069 6d70 6c69 6564 2077  en the implied w
-000002d0: 6172 7261 6e74 7920 6f66 0a23 204d 4552  arranty of.# MER
-000002e0: 4348 414e 5441 4249 4c49 5459 206f 7220  CHANTABILITY or 
-000002f0: 4649 544e 4553 5320 464f 5220 4120 5041  FITNESS FOR A PA
-00000300: 5254 4943 554c 4152 2050 5552 504f 5345  RTICULAR PURPOSE
-00000310: 2e20 5365 6520 7468 650a 2320 474e 5520  . See the.# GNU 
-00000320: 4765 6e65 7261 6c20 5075 626c 6963 204c  General Public L
-00000330: 6963 656e 7365 2066 6f72 206d 6f72 6520  icense for more 
-00000340: 6465 7461 696c 732e 0a23 0a23 2059 6f75  details..#.# You
-00000350: 2073 686f 756c 6420 6861 7665 2072 6563   should have rec
-00000360: 6569 7665 6420 6120 636f 7079 206f 6620  eived a copy of 
-00000370: 7468 6520 474e 5520 4765 6e65 7261 6c20  the GNU General 
-00000380: 5075 626c 6963 204c 6963 656e 7365 0a23  Public License.#
-00000390: 2061 6c6f 6e67 2077 6974 6820 7468 6973   along with this
-000003a0: 2070 726f 6772 616d 2e20 4966 206e 6f74   program. If not
-000003b0: 2c20 7365 6520 3c68 7474 703a 2f2f 7777  , see <http://ww
-000003c0: 772e 676e 752e 6f72 672f 6c69 6365 6e73  w.gnu.org/licens
-000003d0: 6573 2f3e 2e0a 0a66 726f 6d20 6974 6572  es/>...from iter
-000003e0: 746f 6f6c 7320 696d 706f 7274 2063 7963  tools import cyc
-000003f0: 6c65 0a66 726f 6d20 636f 6c6c 6563 7469  le.from collecti
-00000400: 6f6e 7320 696d 706f 7274 2064 6566 6175  ons import defau
-00000410: 6c74 6469 6374 0a66 726f 6d20 706b 675f  ltdict.from pkg_
-00000420: 7265 736f 7572 6365 7320 696d 706f 7274  resources import
-00000430: 2070 6172 7365 5f76 6572 7369 6f6e 0a0a   parse_version..
-00000440: 696d 706f 7274 206e 756d 7079 2061 7320  import numpy as 
-00000450: 6e70 0a0a 696d 706f 7274 206d 6174 706c  np..import matpl
-00000460: 6f74 6c69 6220 6173 206d 706c 0a66 726f  otlib as mpl.fro
-00000470: 6d20 6d61 7470 6c6f 746c 6962 2e61 7274  m matplotlib.art
-00000480: 6973 7420 696d 706f 7274 2041 7274 6973  ist import Artis
-00000490: 740a 6672 6f6d 206d 6174 706c 6f74 6c69  t.from matplotli
-000004a0: 622e 7061 7468 2069 6d70 6f72 7420 5061  b.path import Pa
-000004b0: 7468 0a66 726f 6d20 6d61 7470 6c6f 746c  th.from matplotl
-000004c0: 6962 2e70 6174 6368 6573 2069 6d70 6f72  ib.patches impor
-000004d0: 7420 4661 6e63 7941 7272 6f77 5061 7463  t FancyArrowPatc
-000004e0: 682c 2041 7272 6f77 5374 796c 652c 2046  h, ArrowStyle, F
-000004f0: 616e 6379 4172 726f 772c 2043 6972 636c  ancyArrow, Circl
-00000500: 650a 6672 6f6d 206d 6174 706c 6f74 6c69  e.from matplotli
-00000510: 622e 7061 7463 6865 7320 696d 706f 7274  b.patches import
-00000520: 2041 7263 2c20 5265 6775 6c61 7250 6f6c   Arc, RegularPol
-00000530: 7967 6f6e 2c20 5061 7468 5061 7463 682c  ygon, PathPatch,
-00000540: 2050 6174 6368 0a66 726f 6d20 6d61 7470   Patch.from matp
-00000550: 6c6f 746c 6962 2e63 6f6c 6c65 6374 696f  lotlib.collectio
-00000560: 6e73 2069 6d70 6f72 7420 5061 7463 6843  ns import PatchC
-00000570: 6f6c 6c65 6374 696f 6e2c 2050 6174 6843  ollection, PathC
-00000580: 6f6c 6c65 6374 696f 6e0a 6672 6f6d 206d  ollection.from m
-00000590: 6174 706c 6f74 6c69 622e 636f 6c6f 7273  atplotlib.colors
-000005a0: 2069 6d70 6f72 7420 4c69 7374 6564 436f   import ListedCo
-000005b0: 6c6f 726d 6170 2c20 4e6f 726d 616c 697a  lormap, Normaliz
-000005c0: 652c 2043 6f6c 6f72 436f 6e76 6572 7465  e, ColorConverte
-000005d0: 720a 6672 6f6d 206d 6174 706c 6f74 6c69  r.from matplotli
-000005e0: 622e 6d61 726b 6572 7320 696d 706f 7274  b.markers import
-000005f0: 204d 6172 6b65 7253 7479 6c65 0a66 726f   MarkerStyle.fro
-00000600: 6d20 6d61 7470 6c6f 746c 6962 2e74 7261  m matplotlib.tra
-00000610: 6e73 666f 726d 7320 696d 706f 7274 2041  nsforms import A
-00000620: 6666 696e 6532 440a 6672 6f6d 206d 706c  ffine2D.from mpl
-00000630: 5f74 6f6f 6c6b 6974 732e 6178 6573 5f67  _toolkits.axes_g
-00000640: 7269 6431 2069 6d70 6f72 7420 6d61 6b65  rid1 import make
-00000650: 5f61 7865 735f 6c6f 6361 7461 626c 650a  _axes_locatable.
-00000660: 0a69 6d70 6f72 7420 6e6e 6774 0a66 726f  .import nngt.fro
-00000670: 6d20 6e6e 6774 2e6c 6962 2069 6d70 6f72  m nngt.lib impor
-00000680: 7420 504f 532c 206e 6f6e 7374 7269 6e67  t POS, nonstring
-00000690: 5f63 6f6e 7461 696e 6572 2c20 6973 5f69  _container, is_i
-000006a0: 6e74 6567 6572 0a66 726f 6d20 2e63 7573  nteger.from .cus
-000006b0: 746f 6d5f 706c 7420 696d 706f 7274 2028  tom_plt import (
-000006c0: 6765 745f 636d 6170 2c20 7061 6c65 7474  get_cmap, palett
-000006d0: 655f 636f 6e74 696e 756f 7573 2c20 7061  e_continuous, pa
-000006e0: 6c65 7474 655f 6469 7363 7265 7465 2c0a  lette_discrete,.
-000006f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000700: 2020 2020 2020 2020 2066 6f72 6d61 745f           format_
-00000710: 6578 706f 6e65 6e74 290a 6672 6f6d 202e  exponent).from .
-00000720: 6368 6f72 645f 6469 6167 2069 6d70 6f72  chord_diag impor
-00000730: 7420 6368 6f72 645f 6469 6167 7261 6d20  t chord_diagram 
-00000740: 6173 205f 6368 6f72 645f 6469 6167 0a66  as _chord_diag.f
-00000750: 726f 6d20 2e68 6976 655f 6865 6c70 6572  rom .hive_helper
-00000760: 7320 696d 706f 7274 202a 0a0a 0a27 2727  s import *...'''
-00000770: 0a4e 6574 776f 726b 2070 6c6f 7474 696e  .Network plottin
-00000780: 670a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  g.==============
-00000790: 3d3d 0a0a 496d 706c 656d 656e 7465 640a  ==..Implemented.
-000007a0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a53 696d  -----------..Sim
-000007b0: 706c 6520 7265 7072 6573 656e 7461 7469  ple representati
-000007c0: 6f6e 2066 6f72 2073 7061 7469 616c 2067  on for spatial g
-000007d0: 7261 7068 732c 2072 616e 646f 6d20 6469  raphs, random di
-000007e0: 7374 7269 6275 7469 6f6e 2069 6620 6e6f  stribution if no
-000007f0: 6e2d 7370 6174 6961 6c2e 0a53 7570 706f  n-spatial..Suppo
-00000800: 7274 2066 6f72 2065 6467 652d 7369 7a65  rt for edge-size
-00000810: 2028 6163 636f 7264 696e 6720 746f 2062   (according to b
-00000820: 6574 7765 656e 6e65 7373 206f 7220 7379  etweenness or sy
-00000830: 6e61 7074 6963 2077 6569 6768 7429 2e0a  naptic weight)..
-00000840: 0a0a 4f62 6a65 6374 6976 6573 0a2d 2d2d  ..Objectives.---
-00000850: 2d2d 2d2d 2d2d 2d0a 0a49 6d70 6c65 6d65  -------..Impleme
-00000860: 6e74 2074 6865 2073 7072 696e 672d 626c  nt the spring-bl
-00000870: 6f63 6b20 6d69 6e69 6d69 7a61 7469 6f6e  ock minimization
-00000880: 2e0a 0a49 6620 6564 6765 7320 6861 7665  ...If edges have
-00000890: 2076 6172 7969 6e67 2073 697a 652c 2070   varying size, p
-000008a0: 6c6f 7420 6f6e 6c79 2074 686f 7365 2074  lot only those t
-000008b0: 6861 7420 6172 6520 7669 7369 626c 6520  hat are visible 
-000008c0: 2873 697a 6520 3e20 6d69 6e29 0a0a 2727  (size > min)..''
-000008d0: 270a 0a5f 5f61 6c6c 5f5f 203d 205b 2263  '..__all__ = ["c
-000008e0: 686f 7264 5f64 6961 6772 616d 222c 2022  hord_diagram", "
-000008f0: 6472 6177 5f6e 6574 776f 726b 222c 2022  draw_network", "
-00000900: 6869 7665 5f70 6c6f 7422 2c20 226c 6962  hive_plot", "lib
-00000910: 7261 7279 5f64 7261 7722 5d0a 0a0a 2320  rary_draw"]...# 
-00000920: 2d2d 2d2d 2d2d 2d20 230a 2320 4472 6177  ------- #.# Draw
-00000930: 696e 6720 230a 2320 2d2d 2d2d 2d2d 2d20  ing #.# ------- 
-00000940: 230a 0a64 6566 2064 7261 775f 6e65 7477  #..def draw_netw
-00000950: 6f72 6b28 6e65 7477 6f72 6b2c 206e 7369  ork(network, nsi
-00000960: 7a65 3d22 746f 7461 6c2d 6465 6772 6565  ze="total-degree
-00000970: 222c 206e 636f 6c6f 723d 4e6f 6e65 2c20  ", ncolor=None, 
-00000980: 6e73 6861 7065 3d22 6f22 2c0a 2020 2020  nshape="o",.    
-00000990: 2020 2020 2020 2020 2020 2020 2065 7369               esi
-000009a0: 7a65 3d4e 6f6e 652c 2065 636f 6c6f 723d  ze=None, ecolor=
-000009b0: 226b 222c 2063 7572 7665 645f 6564 6765  "k", curved_edge
-000009c0: 733d 4661 6c73 652c 2074 6872 6573 686f  s=False, thresho
-000009d0: 6c64 3d30 2e35 2c0a 2020 2020 2020 2020  ld=0.5,.        
-000009e0: 2020 2020 2020 2020 2064 6563 696d 6174           decimat
-000009f0: 655f 636f 6e6e 6563 7469 6f6e 733d 4e6f  e_connections=No
-00000a00: 6e65 2c20 7370 6174 6961 6c3d 5472 7565  ne, spatial=True
-00000a10: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00000a20: 2020 2072 6573 7472 6963 745f 736f 7572     restrict_sour
-00000a30: 6365 733d 4e6f 6e65 2c20 7265 7374 7269  ces=None, restri
-00000a40: 6374 5f74 6172 6765 7473 3d4e 6f6e 652c  ct_targets=None,
-00000a50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00000a60: 2020 7265 7374 7269 6374 5f6e 6f64 6573    restrict_nodes
-00000a70: 3d4e 6f6e 652c 2072 6573 7472 6963 745f  =None, restrict_
-00000a80: 6564 6765 733d 4e6f 6e65 2c0a 2020 2020  edges=None,.    
-00000a90: 2020 2020 2020 2020 2020 2020 2073 686f               sho
-00000aa0: 775f 656e 7669 726f 6e6d 656e 743d 5472  w_environment=Tr
-00000ab0: 7565 2c20 6661 7374 3d46 616c 7365 2c20  ue, fast=False, 
-00000ac0: 7369 7a65 3d28 3630 302c 2036 3030 292c  size=(600, 600),
-00000ad0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00000ae0: 2020 786c 696d 733d 4e6f 6e65 2c20 796c    xlims=None, yl
-00000af0: 696d 733d 4e6f 6e65 2c20 6470 693d 3735  ims=None, dpi=75
-00000b00: 2c20 6178 6973 3d4e 6f6e 652c 2063 6f6c  , axis=None, col
-00000b10: 6f72 6261 723d 4661 6c73 652c 0a20 2020  orbar=False,.   
-00000b20: 2020 2020 2020 2020 2020 2020 2020 6362                cb
-00000b30: 5f6c 6162 656c 3d4e 6f6e 652c 206c 6179  _label=None, lay
-00000b40: 6f75 743d 4e6f 6e65 2c20 7368 6f77 3d46  out=None, show=F
-00000b50: 616c 7365 2c20 2a2a 6b77 6172 6773 293a  alse, **kwargs):
-00000b60: 0a20 2020 2027 2727 0a20 2020 2044 7261  .    '''.    Dra
-00000b70: 7720 6120 6769 7665 6e20 6772 6170 682f  w a given graph/
-00000b80: 6e65 7477 6f72 6b2e 0a0a 2020 2020 5061  network...    Pa
-00000b90: 7261 6d65 7465 7273 0a20 2020 202d 2d2d  rameters.    ---
-00000ba0: 2d2d 2d2d 2d2d 2d0a 2020 2020 6e65 7477  -------.    netw
-00000bb0: 6f72 6b20 3a20 3a63 6c61 7373 3a60 7e6e  ork : :class:`~n
-00000bc0: 6e67 742e 4772 6170 6860 206f 7220 7375  ngt.Graph` or su
-00000bd0: 6263 6c61 7373 0a20 2020 2020 2020 2054  bclass.        T
-00000be0: 6865 2067 7261 7068 2f6e 6574 776f 726b  he graph/network
-00000bf0: 2074 6f20 706c 6f74 2e0a 2020 2020 6e73   to plot..    ns
-00000c00: 697a 6520 3a20 666c 6f61 742c 2061 7272  ize : float, arr
-00000c10: 6179 206f 6620 666c 6f61 7420 6f72 2073  ay of float or s
-00000c20: 7472 696e 672c 206f 7074 696f 6e61 6c20  tring, optional 
-00000c30: 2864 6566 6175 6c74 3a20 2274 6f74 616c  (default: "total
-00000c40: 2d64 6567 7265 6522 290a 2020 2020 2020  -degree").      
-00000c50: 2020 5369 7a65 206f 6620 7468 6520 6e6f    Size of the no
-00000c60: 6465 7320 6173 2061 2070 6572 6365 6e74  des as a percent
-00000c70: 6167 6520 6f66 2074 6865 2063 616e 7661  age of the canva
-00000c80: 7320 6c65 6e67 7468 2e20 4f74 6865 7277  s length. Otherw
-00000c90: 6973 652c 2069 740a 2020 2020 2020 2020  ise, it.        
-00000ca0: 6361 6e20 6265 2061 2073 7472 696e 6720  can be a string 
-00000cb0: 7468 6174 2063 6f72 7265 6c61 7465 7320  that correlates 
-00000cc0: 7468 6520 7369 7a65 2074 6f20 6120 6e6f  the size to a no
-00000cd0: 6465 2061 7474 7269 6275 7465 2061 6d6f  de attribute amo
-00000ce0: 6e67 0a20 2020 2020 2020 2022 696e 2f6f  ng.        "in/o
-00000cf0: 7574 2f74 6f74 616c 2d64 6567 7265 6522  ut/total-degree"
-00000d00: 2c20 2269 6e2f 6f75 742f 746f 7461 6c2d  , "in/out/total-
-00000d10: 7374 7265 6e67 7468 222c 206f 7220 2262  strength", or "b
-00000d20: 6574 7765 656e 6e65 7373 222e 0a20 2020  etweenness"..   
-00000d30: 206e 636f 6c6f 7220 3a20 666c 6f61 742c   ncolor : float,
-00000d40: 2061 7272 6179 206f 6620 666c 6f61 7473   array of floats
-00000d50: 206f 7220 7374 7269 6e67 2c20 6f70 7469   or string, opti
-00000d60: 6f6e 616c 0a20 2020 2020 2020 2043 6f6c  onal.        Col
-00000d70: 6f72 206f 6620 7468 6520 6e6f 6465 733b  or of the nodes;
-00000d80: 2069 6620 6120 666c 6f61 7420 696e 205b   if a float in [
-00000d90: 302c 2031 5d2c 2070 6f73 6974 696f 6e20  0, 1], position 
-00000da0: 6f66 2074 6865 2063 6f6c 6f72 2069 6e20  of the color in 
-00000db0: 7468 650a 2020 2020 2020 2020 6375 7272  the.        curr
-00000dc0: 656e 7420 7061 6c65 7474 652c 206f 7468  ent palette, oth
-00000dd0: 6572 7769 7365 2061 2073 7472 696e 6720  erwise a string 
-00000de0: 7468 6174 2063 6f72 7265 6c61 7465 7320  that correlates 
-00000df0: 7468 6520 636f 6c6f 7220 746f 2061 206e  the color to a n
-00000e00: 6f64 650a 2020 2020 2020 2020 6174 7472  ode.        attr
-00000e10: 6962 7574 6520 6f72 2022 696e 2f6f 7574  ibute or "in/out
-00000e20: 2f74 6f74 616c 2d64 6567 7265 6522 2c20  /total-degree", 
-00000e30: 2262 6574 7765 656e 6e65 7373 2220 616e  "betweenness" an
-00000e40: 6420 2267 726f 7570 222e 0a20 2020 2020  d "group"..     
-00000e50: 2020 2044 6566 6175 6c74 2074 6f20 7265     Default to re
-00000e60: 6420 6f72 206f 6e65 2063 6f6c 6f72 2070  d or one color p
-00000e70: 6572 2067 726f 7570 2069 6e20 7468 6520  er group in the 
-00000e80: 6772 6170 6820 6966 206e 6f74 2073 7065  graph if not spe
-00000e90: 6369 6669 6564 2e0a 2020 2020 6e73 6861  cified..    nsha
-00000ea0: 7065 203a 2063 6861 722c 2061 7272 6179  pe : char, array
-00000eb0: 206f 6620 6368 6172 732c 206f 7220 6772   of chars, or gr
-00000ec0: 6f75 7073 2c20 6f70 7469 6f6e 616c 2028  oups, optional (
-00000ed0: 6465 6661 756c 743a 2022 6f22 290a 2020  default: "o").  
-00000ee0: 2020 2020 2020 5368 6170 6520 6f66 2074        Shape of t
-00000ef0: 6865 206e 6f64 6573 2028 7365 6520 604d  he nodes (see `M
-00000f00: 6174 706c 6f74 6c69 6220 6d61 726b 6572  atplotlib marker
-00000f10: 7320 3c68 7474 703a 2f2f 6d61 7470 6c6f  s <http://matplo
-00000f20: 746c 6962 2e6f 7267 2f61 7069 2f0a 2020  tlib.org/api/.  
-00000f30: 2020 2020 2020 6d61 726b 6572 735f 6170        markers_ap
-00000f40: 692e 6874 6d6c 3f68 6967 686c 6967 6874  i.html?highlight
-00000f50: 3d6d 6172 6b65 7223 6d6f 6475 6c65 2d6d  =marker#module-m
-00000f60: 6174 706c 6f74 6c69 622e 6d61 726b 6572  atplotlib.marker
-00000f70: 733e 605f 292e 0a20 2020 2020 2020 2057  s>`_)..        W
-00000f80: 6865 6e20 7573 696e 6720 6772 6f75 7073  hen using groups
-00000f90: 2c20 7468 6579 206d 7573 7420 6265 2070  , they must be p
-00000fa0: 6169 7277 6973 6520 6469 736a 6f69 6e74  airwise disjoint
-00000fb0: 3b20 6d61 726b 6572 7320 7769 6c6c 2062  ; markers will b
-00000fc0: 650a 2020 2020 2020 2020 7365 6c65 6374  e.        select
-00000fd0: 6564 2069 7465 7261 7469 7665 6c79 2066  ed iteratively f
-00000fe0: 726f 6d20 7468 6520 6d61 7470 6c6f 746c  rom the matplotl
-00000ff0: 6962 2064 6566 6175 6c74 206d 6172 6b65  ib default marke
-00001000: 7273 2e0a 2020 2020 6e62 6f72 6465 725f  rs..    nborder_
-00001010: 636f 6c6f 7220 3a20 6368 6172 2c20 666c  color : char, fl
-00001020: 6f61 7420 6f72 2061 7272 6179 2c20 6f70  oat or array, op
-00001030: 7469 6f6e 616c 2028 6465 6661 756c 743a  tional (default:
-00001040: 2022 6b22 290a 2020 2020 2020 2020 436f   "k").        Co
-00001050: 6c6f 7220 6f66 2074 6865 206e 6f64 6527  lor of the node'
-00001060: 7320 626f 7264 6572 2075 7369 6e67 2070  s border using p
-00001070: 7265 6465 6669 6e65 6420 604d 6174 706c  redefined `Matpl
-00001080: 6f74 6c69 6220 636f 6c6f 7273 0a20 2020  otlib colors.   
-00001090: 2020 2020 203c 6874 7470 3a2f 2f6d 6174       <http://mat
-000010a0: 706c 6f74 6c69 622e 6f72 672f 6170 692f  plotlib.org/api/
-000010b0: 636f 6c6f 7273 5f61 7069 2e68 746d 6c3f  colors_api.html?
-000010c0: 6869 6768 6c69 6768 743d 636f 6c6f 720a  highlight=color.
-000010d0: 2020 2020 2020 2020 236d 6f64 756c 652d          #module-
-000010e0: 6d61 7470 6c6f 746c 6962 2e63 6f6c 6f72  matplotlib.color
-000010f0: 733e 605f 292e 0a20 2020 2020 2020 206f  s>`_)..        o
-00001100: 7220 666c 6f61 7473 2069 6e20 5b30 2c20  r floats in [0, 
-00001110: 315d 2064 6566 696e 696e 6720 7468 6520  1] defining the 
-00001120: 706f 7369 7469 6f6e 2069 6e20 7468 6520  position in the 
-00001130: 7061 6c65 7474 652e 0a20 2020 206e 626f  palette..    nbo
-00001140: 7264 6572 5f77 6964 7468 203a 2066 6c6f  rder_width : flo
-00001150: 6174 206f 7220 6172 7261 7920 6f66 2066  at or array of f
-00001160: 6c6f 6174 732c 206f 7074 696f 6e61 6c20  loats, optional 
-00001170: 2864 6566 6175 6c74 3a20 302e 3529 0a20  (default: 0.5). 
-00001180: 2020 2020 2020 2057 6964 7468 206f 6620         Width of 
-00001190: 7468 6520 626f 7264 6572 2069 6e20 7065  the border in pe
-000011a0: 7263 656e 7420 6f66 2063 616e 7661 7320  rcent of canvas 
-000011b0: 7369 7a65 2e0a 2020 2020 6573 697a 6520  size..    esize 
-000011c0: 3a20 666c 6f61 742c 2073 7472 2c20 6f72  : float, str, or
-000011d0: 2061 7272 6179 206f 6620 666c 6f61 7473   array of floats
-000011e0: 2c20 6f70 7469 6f6e 616c 2028 6465 6661  , optional (defa
-000011f0: 756c 743a 2030 2e35 290a 2020 2020 2020  ult: 0.5).      
-00001200: 2020 5769 6474 6820 6f66 2074 6865 2065    Width of the e
-00001210: 6467 6573 2069 6e20 7065 7263 656e 7420  dges in percent 
-00001220: 6f66 2063 616e 7661 7320 6c65 6e67 7468  of canvas length
-00001230: 2e20 4176 6169 6c61 626c 6520 7374 7269  . Available stri
-00001240: 6e67 2076 616c 7565 730a 2020 2020 2020  ng values.      
-00001250: 2020 6172 6520 2262 6574 7765 656e 6e65    are "betweenne
-00001260: 7373 2220 616e 6420 2277 6569 6768 7422  ss" and "weight"
-00001270: 2e0a 2020 2020 6563 6f6c 6f72 203a 2073  ..    ecolor : s
-00001280: 7472 2c20 6368 6172 2c20 666c 6f61 7420  tr, char, float 
-00001290: 6f72 2061 7272 6179 2c20 6f70 7469 6f6e  or array, option
-000012a0: 616c 2028 6465 6661 756c 743a 2022 6b22  al (default: "k"
-000012b0: 290a 2020 2020 2020 2020 4564 6765 2063  ).        Edge c
-000012c0: 6f6c 6f72 2e20 4966 2065 636f 6c6f 723d  olor. If ecolor=
-000012d0: 2267 726f 7570 7322 2c20 6564 6765 7320  "groups", edges 
-000012e0: 636f 6c6f 7220 7769 6c6c 2064 6570 656e  color will depen
-000012f0: 6420 6f6e 2074 6865 2073 6f75 7263 650a  d on the source.
-00001300: 2020 2020 2020 2020 616e 6420 7461 7267          and targ
-00001310: 6574 2067 726f 7570 732c 2069 2e65 2e20  et groups, i.e. 
-00001320: 6f6e 6c79 2065 6467 6573 2066 726f 6d20  only edges from 
-00001330: 616e 6420 746f 7761 7264 2073 616d 6520  and toward same 
-00001340: 6772 6f75 7073 2077 696c 6c0a 2020 2020  groups will.    
-00001350: 2020 2020 6861 7665 2074 6865 2073 616d      have the sam
-00001360: 6520 636f 6c6f 722e 0a20 2020 2063 7572  e color..    cur
-00001370: 7665 645f 6564 6765 7320 3a20 626f 6f6c  ved_edges : bool
-00001380: 2c20 6f70 7469 6f6e 616c 2028 6465 6661  , optional (defa
-00001390: 756c 743a 2046 616c 7365 290a 2020 2020  ult: False).    
-000013a0: 2020 2020 5768 6574 6865 7220 7468 6520      Whether the 
-000013b0: 6564 6765 7320 7368 6f75 6c64 2062 6520  edges should be 
-000013c0: 6375 7276 6564 206f 7220 7374 7261 6967  curved or straig
-000013d0: 6874 2e0a 2020 2020 7468 7265 7368 6f6c  ht..    threshol
-000013e0: 6420 3a20 666c 6f61 742c 206f 7074 696f  d : float, optio
-000013f0: 6e61 6c20 2864 6566 6175 6c74 3a20 302e  nal (default: 0.
-00001400: 3529 0a20 2020 2020 2020 2053 697a 6520  5).        Size 
-00001410: 756e 6465 7220 7768 6963 6820 6564 6765  under which edge
-00001420: 7320 6172 6520 6e6f 7420 706c 6f74 7465  s are not plotte
-00001430: 642e 0a20 2020 2064 6563 696d 6174 655f  d..    decimate_
-00001440: 636f 6e6e 6563 7469 6f6e 7320 3a20 696e  connections : in
-00001450: 742c 206f 7074 696f 6e61 6c20 2864 6566  t, optional (def
-00001460: 6175 6c74 3a20 6b65 6570 2061 6c6c 2063  ault: keep all c
-00001470: 6f6e 6e65 6374 696f 6e73 290a 2020 2020  onnections).    
-00001480: 2020 2020 506c 6f74 206f 6e6c 7920 6f6e      Plot only on
-00001490: 6520 636f 6e6e 6563 7469 6f6e 2065 7665  e connection eve
-000014a0: 7279 2060 6465 6369 6d61 7465 5f63 6f6e  ry `decimate_con
-000014b0: 6e65 6374 696f 6e73 602e 0a20 2020 2020  nections`..     
-000014c0: 2020 2055 7365 202d 3120 746f 2068 6964     Use -1 to hid
-000014d0: 6520 616c 6c20 6564 6765 732e 0a20 2020  e all edges..   
-000014e0: 2073 7061 7469 616c 203a 2062 6f6f 6c2c   spatial : bool,
-000014f0: 206f 7074 696f 6e61 6c20 2864 6566 6175   optional (defau
-00001500: 6c74 3a20 5472 7565 290a 2020 2020 2020  lt: True).      
-00001510: 2020 4966 2054 7275 652c 2075 7365 2074    If True, use t
-00001520: 6865 206e 6575 726f 6e73 2720 706f 7369  he neurons' posi
-00001530: 7469 6f6e 7320 746f 2064 7261 7720 7468  tions to draw th
-00001540: 656d 2e0a 2020 2020 7265 7374 7269 6374  em..    restrict
-00001550: 5f73 6f75 7263 6573 203a 2073 7472 2c20  _sources : str, 
-00001560: 6772 6f75 702c 206f 7220 6c69 7374 2c20  group, or list, 
-00001570: 6f70 7469 6f6e 616c 2028 6465 6661 756c  optional (defaul
-00001580: 743a 2061 6c6c 290a 2020 2020 2020 2020  t: all).        
-00001590: 4f6e 6c79 2064 7261 7720 6564 6765 7320  Only draw edges 
-000015a0: 7374 6172 7469 6e67 2066 726f 6d20 6120  starting from a 
-000015b0: 7265 7374 7269 6374 6564 2073 6574 206f  restricted set o
-000015c0: 6620 736f 7572 6365 206e 6f64 6573 2e0a  f source nodes..
-000015d0: 2020 2020 7265 7374 7269 6374 5f74 6172      restrict_tar
-000015e0: 6765 7473 203a 2073 7472 2c20 6772 6f75  gets : str, grou
-000015f0: 702c 206f 7220 6c69 7374 2c20 6f70 7469  p, or list, opti
-00001600: 6f6e 616c 2028 6465 6661 756c 743a 2061  onal (default: a
-00001610: 6c6c 290a 2020 2020 2020 2020 4f6e 6c79  ll).        Only
-00001620: 2064 7261 7720 6564 6765 7320 656e 6469   draw edges endi
-00001630: 6e67 206f 6e20 6120 7265 7374 7269 6374  ng on a restrict
-00001640: 6564 2073 6574 206f 6620 7461 7267 6574  ed set of target
-00001650: 206e 6f64 6573 2e0a 2020 2020 7265 7374   nodes..    rest
-00001660: 7269 6374 5f6e 6f64 6573 203a 2073 7472  rict_nodes : str
-00001670: 2c20 6772 6f75 702c 206f 7220 6c69 7374  , group, or list
-00001680: 2c20 6f70 7469 6f6e 616c 2028 6465 6661  , optional (defa
-00001690: 756c 743a 2070 6c6f 7420 616c 6c20 6e6f  ult: plot all no
-000016a0: 6465 7329 0a20 2020 2020 2020 204f 6e6c  des).        Onl
-000016b0: 7920 6472 6177 2061 2073 7562 7365 7420  y draw a subset 
-000016c0: 6f66 206e 6f64 6573 2e0a 2020 2020 7265  of nodes..    re
-000016d0: 7374 7269 6374 5f65 6467 6573 203a 206c  strict_edges : l
-000016e0: 6973 7420 6f66 2065 6467 6573 2c20 6f70  ist of edges, op
-000016f0: 7469 6f6e 616c 2028 6465 6661 756c 743a  tional (default:
-00001700: 2061 6c6c 290a 2020 2020 2020 2020 4f6e   all).        On
-00001710: 6c79 2064 7261 7720 6120 7375 6273 6574  ly draw a subset
-00001720: 206f 6620 6564 6765 732e 0a20 2020 2073   of edges..    s
-00001730: 686f 775f 656e 7669 726f 6e6d 656e 7420  how_environment 
-00001740: 3a20 626f 6f6c 2c20 6f70 7469 6f6e 616c  : bool, optional
-00001750: 2028 6465 6661 756c 743a 2054 7275 6529   (default: True)
-00001760: 0a20 2020 2020 2020 2050 6c6f 7420 7468  .        Plot th
-00001770: 6520 656e 7669 726f 6e6d 656e 7420 6966  e environment if
-00001780: 2074 6865 2067 7261 7068 2069 7320 7370   the graph is sp
-00001790: 6174 6961 6c2e 0a20 2020 2066 6173 7420  atial..    fast 
-000017a0: 3a20 626f 6f6c 2c20 6f70 7469 6f6e 616c  : bool, optional
-000017b0: 2028 6465 6661 756c 743a 2046 616c 7365   (default: False
-000017c0: 290a 2020 2020 2020 2020 5573 6520 6120  ).        Use a 
-000017d0: 6661 7374 6572 2061 6c67 6f72 6974 686d  faster algorithm
-000017e0: 2074 6f20 706c 6f74 2074 6865 2065 6467   to plot the edg
-000017f0: 6573 2e20 5a6f 6f6d 696e 6720 6f6e 2074  es. Zooming on t
-00001800: 6865 2064 7261 7769 6e67 206d 6164 650a  he drawing made.
-00001810: 2020 2020 2020 2020 7573 696e 6720 7468          using th
-00001820: 6973 206d 6574 686f 6420 6c65 6176 6573  is method leaves
-00001830: 2074 6865 2073 697a 6520 6f66 2074 6865   the size of the
-00001840: 206e 6f64 6573 2061 6e64 2065 6467 6573   nodes and edges
-00001850: 2075 6e63 6861 6e67 6564 2c20 6974 0a20   unchanged, it. 
-00001860: 2020 2020 2020 2069 7320 7468 6572 6566         is theref
-00001870: 6f72 6520 6e6f 7420 7265 636f 6d6d 656e  ore not recommen
-00001880: 6465 6420 7768 656e 2073 697a 6520 636f  ded when size co
-00001890: 6e73 6973 7465 6e63 7920 6d61 7474 6572  nsistency matter
-000018a0: 732c 2065 2e67 2e20 666f 720a 2020 2020  s, e.g. for.    
-000018b0: 2020 2020 736f 6d65 2073 7061 7469 616c      some spatial
-000018c0: 2072 6570 7265 7365 6e74 6174 696f 6e73   representations
-000018d0: 2e0a 2020 2020 7369 7a65 203a 2074 7570  ..    size : tup
-000018e0: 6c65 206f 6620 696e 7473 2c20 6f70 7469  le of ints, opti
-000018f0: 6f6e 616c 2028 6465 6661 756c 743a 2028  onal (default: (
-00001900: 3630 302c 3630 3029 290a 2020 2020 2020  600,600)).      
-00001910: 2020 2877 6964 7468 2c20 6865 6967 6874    (width, height
-00001920: 2920 7475 706c 6520 666f 7220 7468 6520  ) tuple for the 
-00001930: 6361 6e76 6173 2073 697a 6520 2869 6e20  canvas size (in 
-00001940: 7078 292e 0a20 2020 2064 7069 203a 2069  px)..    dpi : i
-00001950: 6e74 2c20 6f70 7469 6f6e 616c 2028 6465  nt, optional (de
-00001960: 6661 756c 743a 2037 3529 0a20 2020 2020  fault: 75).     
-00001970: 2020 2052 6573 6f6c 7574 696f 6e20 2864     Resolution (d
-00001980: 6f74 2070 6572 2069 6e63 6829 2e0a 2020  ot per inch)..  
-00001990: 2020 6178 6973 203a 206d 6174 706c 6f74    axis : matplot
-000019a0: 6c69 6220 6178 6973 2c20 6f70 7469 6f6e  lib axis, option
-000019b0: 616c 2028 6465 6661 756c 743a 2063 7265  al (default: cre
-000019c0: 6174 6520 6e65 7720 6178 6973 290a 2020  ate new axis).  
-000019d0: 2020 2020 2020 4178 6973 206f 6e20 7768        Axis on wh
-000019e0: 6963 6820 7468 6520 6e65 7477 6f72 6b20  ich the network 
-000019f0: 7769 6c6c 2062 6520 706c 6f74 7465 642e  will be plotted.
-00001a00: 0a20 2020 2063 6f6c 6f72 6261 7220 3a20  .    colorbar : 
-00001a10: 626f 6f6c 2c20 6f70 7469 6f6e 616c 2028  bool, optional (
-00001a20: 6465 6661 756c 743a 2046 616c 7365 290a  default: False).
-00001a30: 2020 2020 2020 2020 5768 6574 6865 7220          Whether 
-00001a40: 746f 2064 6973 706c 6179 2061 2063 6f6c  to display a col
-00001a50: 6f72 6261 7220 666f 7220 7468 6520 6e6f  orbar for the no
-00001a60: 6465 2063 6f6c 6f72 7320 6f72 206e 6f74  de colors or not
-00001a70: 2e0a 2020 2020 6362 5f6c 6162 656c 203a  ..    cb_label :
-00001a80: 2073 7472 2c20 6f70 7469 6f6e 616c 2028   str, optional (
-00001a90: 6465 6661 756c 743a 204e 6f6e 6529 0a20  default: None). 
-00001aa0: 2020 2020 2020 2041 206c 6162 656c 2066         A label f
-00001ab0: 6f72 2074 6865 2063 6f6c 6f72 6261 722e  or the colorbar.
-00001ac0: 0a20 2020 206c 6179 6f75 7420 3a20 7374  .    layout : st
-00001ad0: 722c 206f 7074 696f 6e61 6c20 2864 6566  r, optional (def
-00001ae0: 6175 6c74 3a20 7261 6e64 6f6d 206f 7220  ault: random or 
-00001af0: 7370 6174 6961 6c20 706f 7369 7469 6f6e  spatial position
-00001b00: 7329 0a20 2020 2020 2020 204e 616d 6520  s).        Name 
-00001b10: 6f66 2061 2073 7461 6e64 6172 6420 6c61  of a standard la
-00001b20: 796f 7574 2074 6f20 7374 7275 6374 7572  yout to structur
-00001b30: 6520 7468 6520 6e65 7477 6f72 6b2e 2041  e the network. A
-00001b40: 7661 696c 6162 6c65 206c 6179 6f75 7473  vailable layouts
-00001b50: 0a20 2020 2020 2020 2061 7265 3a20 2263  .        are: "c
-00001b60: 6972 6375 6c61 7222 206f 7220 2272 616e  ircular" or "ran
-00001b70: 646f 6d22 2e20 4966 206e 6f20 6c61 796f  dom". If no layo
-00001b80: 7574 2069 7320 7072 6f76 6964 6564 2061  ut is provided a
-00001b90: 6e64 2074 6865 206e 6574 776f 726b 0a20  nd the network. 
-00001ba0: 2020 2020 2020 2069 7320 7370 6174 6961         is spatia
-00001bb0: 6c2c 2074 6865 6e20 6e6f 6465 2070 6f73  l, then node pos
-00001bc0: 6974 696f 6e73 2077 696c 6c20 6265 2075  itions will be u
-00001bd0: 7365 6420 6279 2064 6566 6175 6c74 2e0a  sed by default..
-00001be0: 2020 2020 7368 6f77 203a 2062 6f6f 6c2c      show : bool,
-00001bf0: 206f 7074 696f 6e61 6c20 2864 6566 6175   optional (defau
-00001c00: 6c74 3a20 5472 7565 290a 2020 2020 2020  lt: True).      
-00001c10: 2020 4469 7370 6c61 7920 7468 6520 706c    Display the pl
-00001c20: 6f74 2069 6d6d 6564 6961 7465 6c79 2e0a  ot immediately..
-00001c30: 2020 2020 2a2a 6b77 6172 6773 203a 2064      **kwargs : d
-00001c40: 6963 740a 2020 2020 2020 2020 4f70 7469  ict.        Opti
-00001c50: 6f6e 616c 206b 6579 776f 7264 2061 7267  onal keyword arg
-00001c60: 756d 656e 7473 2e0a 0a20 2020 2020 2020  uments...       
-00001c70: 203d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d   ===============
-00001c80: 3d20 203d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  =  =============
-00001c90: 3d3d 3d3d 3d20 203d 3d3d 3d3d 3d3d 3d3d  =====  =========
-00001ca0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00001cb0: 3d3d 3d3d 3d3d 3d3d 0a20 2020 2020 2020  ========.       
-00001cc0: 2020 2020 2020 204e 616d 6520 2020 2020         Name     
-00001cd0: 2020 2020 2020 2020 2020 5479 7065 2020            Type  
-00001ce0: 2020 2020 2020 2020 2020 5075 7270 6f73            Purpos
-00001cf0: 6520 616e 6420 706f 7373 6962 6c65 2076  e and possible v
-00001d00: 616c 7565 730a 2020 2020 2020 2020 3d3d  alues.        ==
-00001d10: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 2020  ==============  
-00001d20: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00001d30: 3d3d 2020 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ==  ============
-00001d40: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00001d50: 3d3d 3d3d 3d0a 2020 2020 2020 2020 2020  =====.          
-00001d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001d80: 2020 2020 4465 7369 7265 6420 6e6f 6465      Desired node
-00001d90: 2063 6f6c 6f72 6d61 7020 2864 6566 6175   colormap (defau
-00001da0: 6c74 2069 730a 2020 2020 2020 2020 6e6f  lt is.        no
-00001db0: 6465 5f63 6d61 7020 2020 2020 2020 2020  de_cmap         
-00001dc0: 7374 7220 2020 2020 2020 2020 2020 2020  str             
-00001dd0: 2020 2020 226d 6167 6d61 2220 666f 7220      "magma" for 
-00001de0: 636f 6e74 696e 756f 7573 2076 6172 6961  continuous varia
-00001df0: 626c 6573 0a20 2020 2020 2020 2020 2020  bles.           
-00001e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001e20: 2020 2061 6e64 2022 5365 7431 2220 666f     and "Set1" fo
-00001e30: 7220 6772 6f75 7073 290a 2020 2020 2020  r groups).      
-00001e40: 2020 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d    --------------
-00001e50: 2d2d 2020 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  --  ------------
-00001e60: 2d2d 2d2d 2d2d 2020 2d2d 2d2d 2d2d 2d2d  ------  --------
-00001e70: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00001e80: 2d2d 2d2d 2d2d 2d2d 2d0a 2020 2020 2020  ---------.      
-00001e90: 2020 7469 746c 6520 2020 2020 2020 2020    title         
-00001ea0: 2020 2020 7374 7220 2020 2020 2020 2020      str         
-00001eb0: 2020 2020 2020 2020 5469 746c 6520 6f66          Title of
-00001ec0: 2074 6865 2070 6c6f 740a 2020 2020 2020   the plot.      
-00001ed0: 2020 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d    --------------
-00001ee0: 2d2d 2020 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  --  ------------
-00001ef0: 2d2d 2d2d 2d2d 2020 2d2d 2d2d 2d2d 2d2d  ------  --------
-00001f00: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00001f10: 2d2d 2d2d 2d2d 2d2d 2d0a 2020 2020 2020  ---------.      
-00001f20: 2020 6d61 785f 2a20 2020 2020 2020 2020    max_*         
-00001f30: 2020 2020 666c 6f61 7420 2020 2020 2020      float       
-00001f40: 2020 2020 2020 2020 4d61 7869 6d75 6d20          Maximum 
-00001f50: 7661 6c75 6520 666f 7220 606e 7369 7a65  value for `nsize
-00001f60: 6020 6f72 0a20 2020 2020 2020 2020 2020  ` or.           
-00001f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001f90: 2020 2060 6573 697a 6560 0a20 2020 2020     `esize`.     
-00001fa0: 2020 202d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d     -------------
-00001fb0: 2d2d 2d20 202d 2d2d 2d2d 2d2d 2d2d 2d2d  ---  -----------
-00001fc0: 2d2d 2d2d 2d2d 2d20 202d 2d2d 2d2d 2d2d  -------  -------
-00001fd0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00001fe0: 2d2d 2d2d 2d2d 2d2d 2d2d 0a20 2020 2020  ----------.     
-00001ff0: 2020 206d 696e 5f2a 2020 2020 2020 2020     min_*        
-00002000: 2020 2020 2066 6c6f 6174 2020 2020 2020       float      
-00002010: 2020 2020 2020 2020 204d 696e 696d 756d           Minimum
-00002020: 2076 616c 7565 2066 6f72 2060 6e73 697a   value for `nsiz
-00002030: 6560 206f 720a 2020 2020 2020 2020 2020  e` or.          
-00002040: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002060: 2020 2020 6065 7369 7a65 600a 2020 2020      `esize`.    
-00002070: 2020 2020 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d      ------------
-00002080: 2d2d 2d2d 2020 2d2d 2d2d 2d2d 2d2d 2d2d  ----  ----------
-00002090: 2d2d 2d2d 2d2d 2d2d 2020 2d2d 2d2d 2d2d  --------  ------
-000020a0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-000020b0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 2020 2020  -----------.    
-000020c0: 2020 2020 6e61 6c70 6861 2020 2020 2020      nalpha      
-000020d0: 2020 2020 2020 666c 6f61 7420 2020 2020        float     
-000020e0: 2020 2020 2020 2020 2020 4e6f 6465 206f            Node o
-000020f0: 7061 6369 7479 2069 6e20 5b30 2c20 315d  pacity in [0, 1]
-00002100: 602c 2064 6566 6175 6c74 2031 0a20 2020  `, default 1.   
-00002110: 2020 2020 202d 2d2d 2d2d 2d2d 2d2d 2d2d       -----------
-00002120: 2d2d 2d2d 2d20 202d 2d2d 2d2d 2d2d 2d2d  -----  ---------
-00002130: 2d2d 2d2d 2d2d 2d2d 2d20 202d 2d2d 2d2d  ---------  -----
-00002140: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00002150: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a20 2020  ------------.   
-00002160: 2020 2020 2065 616c 7068 6120 2020 2020       ealpha     
-00002170: 2020 2020 2020 2066 6c6f 6174 2020 2020         float    
-00002180: 2020 2020 2020 2020 2020 2045 6467 6520             Edge 
-00002190: 6f70 6163 6974 792c 2064 6566 6175 6c74  opacity, default
-000021a0: 2030 2e35 0a20 2020 2020 2020 202d 2d2d   0.5.        ---
-000021b0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d20 202d  -------------  -
-000021c0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-000021d0: 2d20 202d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  -  -------------
-000021e0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-000021f0: 2d2d 2d2d 0a20 2020 2020 2020 2020 2020  ----.           
-00002200: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002210: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002220: 2020 2043 6f6c 6f72 206f 6620 7468 6520     Color of the 
-00002230: 626f 7264 6572 2066 6f72 206e 6f64 6573  border for nodes
-00002240: 2028 6e29 0a20 2020 2020 2020 202a 626f   (n).        *bo
-00002250: 7264 6572 5f63 6f6c 6f72 2020 2020 2063  rder_color     c
-00002260: 6f6c 6f72 2020 2020 2020 2020 2020 2020  olor            
-00002270: 2020 206f 7220 6564 6765 7320 2865 292e     or edges (e).
-00002280: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000022a0: 2020 2020 2020 2020 2020 2020 2020 2044                 D
-000022b0: 6566 6175 6c74 2074 6f20 626c 6163 6b2e  efault to black.
-000022c0: 0a20 2020 2020 2020 202d 2d2d 2d2d 2d2d  .        -------
-000022d0: 2d2d 2d2d 2d2d 2d2d 2d20 202d 2d2d 2d2d  ---------  -----
-000022e0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d20 202d  -------------  -
-000022f0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00002300: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00002310: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002320: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002330: 2020 2020 2020 2020 2020 2020 2020 2042                 B
-00002340: 6f72 6465 7220 7369 7a65 2066 6f72 206e  order size for n
-00002350: 6f64 6573 2028 6e29 206f 7220 6564 6765  odes (n) or edge
-00002360: 730a 2020 2020 2020 2020 2a62 6f72 6465  s.        *borde
-00002370: 725f 7769 6474 6820 2020 2020 666c 6f61  r_width     floa
-00002380: 7420 2020 2020 2020 2020 2020 2020 2020  t               
-00002390: 2865 292e 2044 6566 6175 6c74 2074 6f20  (e). Default to 
-000023a0: 2e35 2066 6f72 206e 6f64 6573 2061 6e64  .5 for nodes and
-000023b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000023c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000023d0: 2020 2020 2020 2020 2020 2020 2020 202e                 .
-000023e0: 3320 666f 7220 6564 6765 7320 2869 6620  3 for edges (if 
-000023f0: 6066 6173 7460 2069 7320 4661 6c73 6529  `fast` is False)
-00002400: 2e0a 2020 2020 2020 2020 2d2d 2d2d 2d2d  ..        ------
-00002410: 2d2d 2d2d 2d2d 2d2d 2d2d 2020 2d2d 2d2d  ----------  ----
-00002420: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2020  --------------  
-00002430: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00002440: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00002450: 2d0a 2020 2020 2020 2020 2020 2020 2020  -.              
-00002460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002470: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002480: 5768 6574 6865 7220 746f 2075 7365 2073  Whether to use s
-00002490: 696d 706c 6520 6e6f 6465 7320 2874 6861  imple nodes (tha
-000024a0: 740a 2020 2020 2020 2020 7369 6d70 6c65  t.        simple
-000024b0: 5f6e 6f64 6573 2020 2020 2020 626f 6f6c  _nodes      bool
-000024c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000024d0: 6172 6520 616c 7761 7973 2074 6865 2073  are always the s
-000024e0: 616d 6520 7369 7a65 2920 6f72 0a20 2020  ame size) or.   
-000024f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002500: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002510: 2020 2020 2020 2020 2020 2070 6174 6368             patch
-00002520: 6573 2028 6368 616e 6765 2073 697a 6520  es (change size 
-00002530: 7769 7468 207a 6f6f 6d29 2e0a 2020 2020  with zoom)..    
-00002540: 2020 2020 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d      ============
-00002550: 3d3d 3d3d 2020 3d3d 3d3d 3d3d 3d3d 3d3d  ====  ==========
-00002560: 3d3d 3d3d 3d3d 3d3d 2020 3d3d 3d3d 3d3d  ========  ======
-00002570: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00002580: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 2020 2020  ===========.    
-00002590: 2727 270a 2020 2020 696d 706f 7274 206d  '''.    import m
-000025a0: 6174 706c 6f74 6c69 622e 7079 706c 6f74  atplotlib.pyplot
-000025b0: 2061 7320 706c 740a 0a20 2020 2023 2066   as plt..    # f
-000025c0: 6967 7572 6520 616e 6420 6178 6573 0a20  igure and axes. 
-000025d0: 2020 2073 697a 655f 696e 6368 6573 203d     size_inches =
-000025e0: 2028 7369 7a65 5b30 5d2f 666c 6f61 7428   (size[0]/float(
-000025f0: 6470 6929 2c20 7369 7a65 5b31 5d2f 666c  dpi), size[1]/fl
-00002600: 6f61 7428 6470 6929 290a 0a20 2020 2066  oat(dpi))..    f
-00002610: 6967 203d 204e 6f6e 650a 0a20 2020 2069  ig = None..    i
-00002620: 6620 6178 6973 2069 7320 4e6f 6e65 3a0a  f axis is None:.
-00002630: 2020 2020 2020 2020 6669 6720 3d20 706c          fig = pl
-00002640: 742e 6669 6775 7265 2866 6163 6563 6f6c  t.figure(facecol
-00002650: 6f72 3d27 7768 6974 6527 2c20 6669 6773  or='white', figs
-00002660: 697a 653d 7369 7a65 5f69 6e63 6865 732c  ize=size_inches,
-00002670: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002680: 2020 2020 2020 2020 2020 6470 693d 6470            dpi=dp
-00002690: 6929 0a20 2020 2020 2020 2061 7869 7320  i).        axis 
-000026a0: 3d20 6669 672e 6164 645f 7375 6270 6c6f  = fig.add_subplo
-000026b0: 7428 3131 312c 2066 7261 6d65 6f6e 3d30  t(111, frameon=0
-000026c0: 2c20 6173 7065 6374 3d31 290a 2020 2020  , aspect=1).    
-000026d0: 656c 7365 3a0a 2020 2020 2020 2020 6669  else:.        fi
-000026e0: 6720 3d20 6178 6973 2e67 6574 5f66 6967  g = axis.get_fig
-000026f0: 7572 6528 290a 0a20 2020 2066 6967 2e70  ure()..    fig.p
-00002700: 6174 6368 2e73 6574 5f76 6973 6962 6c65  atch.set_visible
-00002710: 2846 616c 7365 290a 0a20 2020 2023 2070  (False)..    # p
-00002720: 726f 6a65 6374 696f 6e73 2066 6f72 2067  rojections for g
-00002730: 656f 6772 6170 6869 6320 706c 6f74 730a  eographic plots.
-00002740: 0a20 2020 2070 726f 6a20 3d20 6b77 6172  .    proj = kwar
-00002750: 6773 2e67 6574 2822 7072 6f6a 222c 204e  gs.get("proj", N
-00002760: 6f6e 6529 0a0a 2020 2020 6b77 203d 207b  one)..    kw = {
-00002770: 7d20 6966 2070 726f 6a20 6973 204e 6f6e  } if proj is Non
-00002780: 6520 656c 7365 207b 2274 7261 6e73 666f  e else {"transfo
-00002790: 726d 223a 2070 726f 6a7d 0a0a 2020 2020  rm": proj}..    
-000027a0: 6966 2070 726f 6a20 6973 204e 6f6e 653a  if proj is None:
-000027b0: 0a20 2020 2020 2020 2061 7869 732e 7365  .        axis.se
-000027c0: 745f 6178 6973 5f6f 6666 2829 0a0a 2020  t_axis_off()..  
-000027d0: 2020 706f 7320 3d20 4e6f 6e65 0a0a 2020    pos = None..  
-000027e0: 2020 2320 6172 726f 7720 7374 796c 650a    # arrow style.
-000027f0: 2020 2020 6172 726f 7773 7479 6c65 203d      arrowstyle =
-00002800: 2022 2d7c 3e22 2069 6620 6e65 7477 6f72   "-|>" if networ
-00002810: 6b2e 6973 5f64 6972 6563 7465 6428 2920  k.is_directed() 
-00002820: 656c 7365 2022 2d22 0a0a 2020 2020 2320  else "-"..    # 
-00002830: 7265 7374 7269 6374 2073 6f75 7263 6573  restrict sources
-00002840: 2061 6e64 2074 6172 6765 7473 0a20 2020   and targets.   
-00002850: 2072 6573 7472 6963 745f 736f 7572 6365   restrict_source
-00002860: 7320 3d20 5f63 6f6e 7665 7274 5f74 6f5f  s = _convert_to_
-00002870: 6e6f 6465 7328 7265 7374 7269 6374 5f73  nodes(restrict_s
-00002880: 6f75 7263 6573 2c0a 2020 2020 2020 2020  ources,.        
-00002890: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000028a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000028b0: 2022 7265 7374 7269 6374 5f73 6f75 7263   "restrict_sourc
-000028c0: 6573 222c 206e 6574 776f 726b 290a 0a20  es", network).. 
-000028d0: 2020 2072 6573 7472 6963 745f 7461 7267     restrict_targ
-000028e0: 6574 7320 3d20 5f63 6f6e 7665 7274 5f74  ets = _convert_t
-000028f0: 6f5f 6e6f 6465 7328 7265 7374 7269 6374  o_nodes(restrict
-00002900: 5f74 6172 6765 7473 2c0a 2020 2020 2020  _targets,.      
-00002910: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002930: 2020 2022 7265 7374 7269 6374 5f74 6172     "restrict_tar
-00002940: 6765 7473 222c 206e 6574 776f 726b 290a  gets", network).
-00002950: 0a20 2020 2072 6573 7472 6963 745f 6e6f  .    restrict_no
-00002960: 6465 7320 3d20 5f63 6f6e 7665 7274 5f74  des = _convert_t
-00002970: 6f5f 6e6f 6465 7328 7265 7374 7269 6374  o_nodes(restrict
-00002980: 5f6e 6f64 6573 2c0a 2020 2020 2020 2020  _nodes,.        
-00002990: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000029a0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000029b0: 7265 7374 7269 6374 5f6e 6f64 6573 222c  restrict_nodes",
-000029c0: 206e 6574 776f 726b 290a 0a20 2020 2069   network)..    i
-000029d0: 6620 7265 7374 7269 6374 5f6e 6f64 6573  f restrict_nodes
-000029e0: 2069 7320 6e6f 7420 4e6f 6e65 2061 6e64   is not None and
-000029f0: 2072 6573 7472 6963 745f 736f 7572 6365   restrict_source
-00002a00: 7320 6973 206e 6f74 204e 6f6e 653a 0a20  s is not None:. 
-00002a10: 2020 2020 2020 2072 6573 7472 6963 745f         restrict_
-00002a20: 736f 7572 6365 7320 3d20 5c0a 2020 2020  sources = \.    
-00002a30: 2020 2020 2020 2020 7365 7428 7265 7374          set(rest
-00002a40: 7269 6374 5f6e 6f64 6573 292e 696e 7465  rict_nodes).inte
-00002a50: 7273 6563 7469 6f6e 2872 6573 7472 6963  rsection(restric
-00002a60: 745f 736f 7572 6365 7329 0a20 2020 2065  t_sources).    e
-00002a70: 6c69 6620 7265 7374 7269 6374 5f6e 6f64  lif restrict_nod
-00002a80: 6573 2069 7320 6e6f 7420 4e6f 6e65 3a0a  es is not None:.
-00002a90: 2020 2020 2020 2020 7265 7374 7269 6374          restrict
-00002aa0: 5f73 6f75 7263 6573 203d 2073 6574 2872  _sources = set(r
-00002ab0: 6573 7472 6963 745f 6e6f 6465 7329 0a0a  estrict_nodes)..
-00002ac0: 2020 2020 6966 2072 6573 7472 6963 745f      if restrict_
-00002ad0: 6e6f 6465 7320 6973 206e 6f74 204e 6f6e  nodes is not Non
-00002ae0: 6520 616e 6420 7265 7374 7269 6374 5f74  e and restrict_t
-00002af0: 6172 6765 7473 2069 7320 6e6f 7420 4e6f  argets is not No
-00002b00: 6e65 3a0a 2020 2020 2020 2020 7265 7374  ne:.        rest
-00002b10: 7269 6374 5f74 6172 6765 7473 203d 205c  rict_targets = \
-00002b20: 0a20 2020 2020 2020 2020 2020 2073 6574  .            set
-00002b30: 2872 6573 7472 6963 745f 6e6f 6465 7329  (restrict_nodes)
-00002b40: 2e69 6e74 6572 7365 6374 696f 6e28 7265  .intersection(re
-00002b50: 7374 7269 6374 5f74 6172 6765 7473 290a  strict_targets).
-00002b60: 2020 2020 656c 6966 2072 6573 7472 6963      elif restric
-00002b70: 745f 6e6f 6465 7320 6973 206e 6f74 204e  t_nodes is not N
-00002b80: 6f6e 653a 0a20 2020 2020 2020 2072 6573  one:.        res
-00002b90: 7472 6963 745f 7461 7267 6574 7320 3d20  trict_targets = 
-00002ba0: 7365 7428 7265 7374 7269 6374 5f6e 6f64  set(restrict_nod
-00002bb0: 6573 290a 0a20 2020 2023 2067 6574 206e  es)..    # get n
-00002bc0: 6f64 6573 2061 6e64 2065 6467 6573 0a20  odes and edges. 
-00002bd0: 2020 206e 203d 206e 6574 776f 726b 2e6e     n = network.n
-00002be0: 6f64 655f 6e62 2829 2069 6620 7265 7374  ode_nb() if rest
-00002bf0: 7269 6374 5f6e 6f64 6573 2069 7320 4e6f  rict_nodes is No
-00002c00: 6e65 205c 0a20 2020 2020 2020 2020 2020  ne \.           
-00002c10: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00002c20: 6c73 6520 6c65 6e28 7265 7374 7269 6374  lse len(restrict
-00002c30: 5f6e 6f64 6573 290a 0a20 2020 2061 646a  _nodes)..    adj
-00002c40: 5f6d 6174 203d 206e 6574 776f 726b 2e61  _mat = network.a
-00002c50: 646a 6163 656e 6379 5f6d 6174 7269 7828  djacency_matrix(
-00002c60: 7765 6967 6874 733d 4e6f 6e65 290a 0a20  weights=None).. 
-00002c70: 2020 2069 6620 7265 7374 7269 6374 5f73     if restrict_s
-00002c80: 6f75 7263 6573 2069 7320 6e6f 7420 4e6f  ources is not No
-00002c90: 6e65 3a0a 2020 2020 2020 2020 7265 6d6f  ne:.        remo
-00002ca0: 7665 203d 206e 702e 6172 7261 7928 0a20  ve = np.array(. 
-00002cb0: 2020 2020 2020 2020 2020 205b 3120 6966             [1 if
-00002cc0: 206e 6f64 6520 6e6f 7420 696e 2072 6573   node not in res
-00002cd0: 7472 6963 745f 736f 7572 6365 7320 656c  trict_sources el
-00002ce0: 7365 2030 0a20 2020 2020 2020 2020 2020  se 0.           
-00002cf0: 2020 666f 7220 6e6f 6465 2069 6e20 7261    for node in ra
-00002d00: 6e67 6528 6e65 7477 6f72 6b2e 6e6f 6465  nge(network.node
-00002d10: 5f6e 6228 2929 5d2c 0a20 2020 2020 2020  _nb())],.       
-00002d20: 2020 2020 2064 7479 7065 3d62 6f6f 6c29       dtype=bool)
-00002d30: 0a20 2020 2020 2020 2061 646a 5f6d 6174  .        adj_mat
-00002d40: 5b72 656d 6f76 655d 203d 2030 0a0a 2020  [remove] = 0..  
-00002d50: 2020 6966 2072 6573 7472 6963 745f 7461    if restrict_ta
-00002d60: 7267 6574 7320 6973 206e 6f74 204e 6f6e  rgets is not Non
-00002d70: 653a 0a20 2020 2020 2020 2072 656d 6f76  e:.        remov
-00002d80: 6520 3d20 6e70 2e61 7272 6179 280a 2020  e = np.array(.  
-00002d90: 2020 2020 2020 2020 2020 5b31 2069 6620            [1 if 
-00002da0: 6e6f 6465 206e 6f74 2069 6e20 7265 7374  node not in rest
-00002db0: 7269 6374 5f74 6172 6765 7473 2065 6c73  rict_targets els
-00002dc0: 6520 300a 2020 2020 2020 2020 2020 2020  e 0.            
-00002dd0: 2066 6f72 206e 6f64 6520 696e 2072 616e   for node in ran
-00002de0: 6765 286e 6574 776f 726b 2e6e 6f64 655f  ge(network.node_
-00002df0: 6e62 2829 295d 2c0a 2020 2020 2020 2020  nb())],.        
-00002e00: 2020 2020 6474 7970 653d 626f 6f6c 290a      dtype=bool).
-00002e10: 2020 2020 2020 2020 6164 6a5f 6d61 745b          adj_mat[
-00002e20: 3a2c 2072 656d 6f76 655d 203d 2030 0a0a  :, remove] = 0..
-00002e30: 2020 2020 6564 6765 7320 3d20 286e 702e      edges = (np.
-00002e40: 6172 7261 7928 6164 6a5f 6d61 742e 6e6f  array(adj_mat.no
-00002e50: 6e7a 6572 6f28 2929 2e54 2069 6620 7265  nzero()).T if re
-00002e60: 7374 7269 6374 5f65 6467 6573 2069 7320  strict_edges is 
-00002e70: 4e6f 6e65 2065 6c73 650a 2020 2020 2020  None else.      
-00002e80: 2020 2020 2020 206e 702e 6173 6172 7261         np.asarra
-00002e90: 7928 7265 7374 7269 6374 5f65 6467 6573  y(restrict_edges
-00002ea0: 2929 0a0a 2020 2020 6520 3d20 6c65 6e28  ))..    e = len(
-00002eb0: 6564 6765 7329 0a0a 2020 2020 6465 6369  edges)..    deci
-00002ec0: 6d61 7465 5f63 6f6e 6e65 6374 696f 6e73  mate_connections
-00002ed0: 203d 2031 2069 6620 6465 6369 6d61 7465   = 1 if decimate
-00002ee0: 5f63 6f6e 6e65 6374 696f 6e73 2069 7320  _connections is 
-00002ef0: 4e6f 6e65 5c0a 2020 2020 2020 2020 2020  None\.          
-00002f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002f10: 2065 6c73 6520 6465 6369 6d61 7465 5f63   else decimate_c
-00002f20: 6f6e 6e65 6374 696f 6e73 0a0a 2020 2020  onnections..    
-00002f30: 2320 6765 7420 706f 7369 7469 6f6e 7320  # get positions 
-00002f40: 2861 6c6c 2063 6173 6573 2065 7863 6570  (all cases excep
-00002f50: 7420 6369 7263 756c 6172 206c 6179 6f75  t circular layou
-00002f60: 7420 7768 6963 6820 6973 2064 6f6e 6520  t which is done 
-00002f70: 6265 6c6f 7720 7468 650a 2020 2020 2320  below the.    # 
-00002f80: 6e6f 6465 2073 697a 6573 0a20 2020 2070  node sizes.    p
-00002f90: 6f73 203d 204e 6f6e 650a 0a20 2020 2073  os = None..    s
-00002fa0: 7061 7469 616c 202a 3d20 6e65 7477 6f72  patial *= networ
-00002fb0: 6b2e 6973 5f73 7061 7469 616c 2829 0a0a  k.is_spatial()..
-00002fc0: 2020 2020 6966 206e 6f6e 7374 7269 6e67      if nonstring
-00002fd0: 5f63 6f6e 7461 696e 6572 286c 6179 6f75  _container(layou
-00002fe0: 7429 3a0a 2020 2020 2020 2020 6173 7365  t):.        asse
-00002ff0: 7274 206e 702e 7368 6170 6528 6c61 796f  rt np.shape(layo
-00003000: 7574 2920 3d3d 2028 6e2c 2032 292c 2022  ut) == (n, 2), "
-00003010: 4f6e 6520 706f 7369 7469 6f6e 2070 6572  One position per
-00003020: 206e 6f64 6520 6973 2072 6571 7569 7265   node is require
-00003030: 642e 220a 2020 2020 2020 2020 706f 7320  d.".        pos 
-00003040: 3d20 6e70 2e61 7361 7272 6179 286c 6179  = np.asarray(lay
-00003050: 6f75 7429 2e61 7374 7970 6528 666c 6f61  out).astype(floa
-00003060: 7429 0a20 2020 2020 2020 2073 7061 7469  t).        spati
-00003070: 616c 203d 2046 616c 7365 0a20 2020 2065  al = False.    e
-00003080: 6c69 6620 7370 6174 6961 6c3a 0a20 2020  lif spatial:.   
-00003090: 2020 2020 2069 6620 7368 6f77 5f65 6e76       if show_env
-000030a0: 6972 6f6e 6d65 6e74 3a0a 2020 2020 2020  ironment:.      
-000030b0: 2020 2020 2020 6e6e 6774 2e67 656f 6d65        nngt.geome
-000030c0: 7472 792e 706c 6f74 2e70 6c6f 745f 7368  try.plot.plot_sh
-000030d0: 6170 6528 6e65 7477 6f72 6b2e 7368 6170  ape(network.shap
-000030e0: 652c 2061 7869 733d 6178 6973 2c20 7368  e, axis=axis, sh
-000030f0: 6f77 3d46 616c 7365 290a 0a20 2020 2020  ow=False)..     
-00003100: 2020 206e 6f64 6573 203d 204e 6f6e 6520     nodes = None 
-00003110: 6966 2072 6573 7472 6963 745f 6e6f 6465  if restrict_node
-00003120: 7320 6973 204e 6f6e 6520 656c 7365 206c  s is None else l
-00003130: 6973 7428 7265 7374 7269 6374 5f6e 6f64  ist(restrict_nod
-00003140: 6573 290a 0a20 2020 2020 2020 2070 6f73  es)..        pos
-00003150: 203d 206e 6574 776f 726b 2e67 6574 5f70   = network.get_p
-00003160: 6f73 6974 696f 6e73 286e 6f64 6573 3d6e  ositions(nodes=n
-00003170: 6f64 6573 292e 6173 7479 7065 2866 6c6f  odes).astype(flo
-00003180: 6174 290a 2020 2020 656c 6966 206c 6179  at).    elif lay
-00003190: 6f75 7420 696e 2028 4e6f 6e65 2c20 2272  out in (None, "r
-000031a0: 616e 646f 6d22 293a 0a20 2020 2020 2020  andom"):.       
-000031b0: 2070 6f73 203d 206e 702e 7261 6e64 6f6d   pos = np.random
-000031c0: 2e75 6e69 666f 726d 2873 697a 653d 286e  .uniform(size=(n
-000031d0: 2c20 3229 2920 2d20 302e 350a 0a20 2020  , 2)) - 0.5..   
-000031e0: 2020 2020 2070 6f73 5b3a 2c20 305d 202a       pos[:, 0] *
-000031f0: 3d20 7369 7a65 5b30 5d0a 2020 2020 2020  = size[0].      
-00003200: 2020 706f 735b 3a2c 2031 5d20 2a3d 2073    pos[:, 1] *= s
-00003210: 697a 655b 315d 0a20 2020 2065 6c69 6620  ize[1].    elif 
-00003220: 6c61 796f 7574 206e 6f74 2069 6e20 2822  layout not in ("
-00003230: 6369 7263 756c 6172 222c 2022 7261 6e64  circular", "rand
-00003240: 6f6d 222c 204e 6f6e 6529 3a0a 2020 2020  om", None):.    
-00003250: 2020 2020 7261 6973 6520 5661 6c75 6545      raise ValueE
-00003260: 7272 6f72 2822 556e 6b6e 6f77 6e20 606c  rror("Unknown `l
-00003270: 6179 6f75 7460 3a20 7b7d 222e 666f 726d  ayout`: {}".form
-00003280: 6174 286c 6179 6f75 7429 290a 0a20 2020  at(layout))..   
-00003290: 2023 2067 6574 206e 6f64 6520 616e 6420   # get node and 
-000032a0: 6564 6765 2073 697a 6520 6578 7472 656d  edge size extrem
-000032b0: 6120 616e 6420 6472 6177 696e 6720 7072  a and drawing pr
-000032c0: 6f70 6572 7469 6573 0a20 2020 2073 696d  operties.    sim
-000032d0: 706c 655f 6e6f 6465 7320 3d20 6b77 6172  ple_nodes = kwar
-000032e0: 6773 2e67 6574 2822 7369 6d70 6c65 5f6e  gs.get("simple_n
-000032f0: 6f64 6573 222c 2066 6173 7429 0a0a 2020  odes", fast)..  
-00003300: 2020 6469 7374 203d 206d 696e 2873 697a    dist = min(siz
-00003310: 6529 0a0a 2020 2020 6966 2070 6f73 2069  e)..    if pos i
-00003320: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-00003330: 2020 2020 6469 7374 203d 206d 696e 2870      dist = min(p
-00003340: 6f73 5b3a 2c20 305d 2e6d 6178 2829 202d  os[:, 0].max() -
-00003350: 2070 6f73 5b3a 2c20 305d 2e6d 696e 2829   pos[:, 0].min()
-00003360: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00003370: 2020 2020 2070 6f73 5b3a 2c20 315d 2e6d       pos[:, 1].m
-00003380: 6178 2829 202d 2070 6f73 5b3a 2c20 315d  ax() - pos[:, 1]
-00003390: 2e6d 696e 2829 290a 0a20 2020 206d 6178  .min())..    max
-000033a0: 5f6e 7369 7a65 203d 206b 7761 7267 732e  _nsize = kwargs.
-000033b0: 6765 7428 226d 6178 5f6e 7369 7a65 222c  get("max_nsize",
-000033c0: 2031 3030 2069 6620 7369 6d70 6c65 5f6e   100 if simple_n
-000033d0: 6f64 6573 2065 6c73 6520 302e 3035 2a64  odes else 0.05*d
-000033e0: 6973 7429 0a20 2020 206d 696e 5f6e 7369  ist).    min_nsi
-000033f0: 7a65 203d 206b 7761 7267 732e 6765 7428  ze = kwargs.get(
-00003400: 226d 696e 5f6e 7369 7a65 222c 2030 2e32  "min_nsize", 0.2
-00003410: 2a6d 6178 5f6e 7369 7a65 290a 0a20 2020  *max_nsize)..   
-00003420: 206d 6178 5f65 7369 7a65 203d 206b 7761   max_esize = kwa
-00003430: 7267 732e 6765 7428 226d 6178 5f65 7369  rgs.get("max_esi
-00003440: 7a65 222c 2035 2069 6620 6661 7374 2065  ze", 5 if fast e
-00003450: 6c73 6520 302e 3035 2a64 6973 7429 0a20  lse 0.05*dist). 
-00003460: 2020 206d 696e 5f65 7369 7a65 203d 206b     min_esize = k
-00003470: 7761 7267 732e 6765 7428 226d 696e 5f65  wargs.get("min_e
-00003480: 7369 7a65 222c 2030 290a 0a20 2020 2069  size", 0)..    i
-00003490: 6620 6661 7374 3a0a 2020 2020 2020 2020  f fast:.        
-000034a0: 7369 6d70 6c65 5f6e 6f64 6573 203d 2054  simple_nodes = T
-000034b0: 7275 650a 2020 2020 2020 2020 6d61 785f  rue.        max_
-000034c0: 6e73 697a 6520 2a3d 2030 2e30 312a 6d69  nsize *= 0.01*mi
-000034d0: 6e28 7369 7a65 290a 2020 2020 2020 2020  n(size).        
-000034e0: 6d69 6e5f 6e73 697a 6520 2a3d 2030 2e30  min_nsize *= 0.0
-000034f0: 312a 6d69 6e28 7369 7a65 290a 2020 2020  1*min(size).    
-00003500: 2020 2020 6d61 785f 6573 697a 6520 2a3d      max_esize *=
-00003510: 2030 2e30 3035 2a6d 696e 2873 697a 6529   0.005*min(size)
-00003520: 0a20 2020 2020 2020 206d 696e 5f65 7369  .        min_esi
-00003530: 7a65 202a 3d20 302e 3030 352a 6d69 6e28  ze *= 0.005*min(
-00003540: 7369 7a65 290a 2020 2020 2020 2020 7468  size).        th
-00003550: 7265 7368 6f6c 6420 2a3d 2030 2e30 3035  reshold *= 0.005
-00003560: 2a6d 696e 2873 697a 6529 0a0a 2020 2020  *min(size)..    
-00003570: 6966 2065 7369 7a65 2069 7320 4e6f 6e65  if esize is None
-00003580: 3a0a 2020 2020 2020 2020 6573 697a 6520  :.        esize 
-00003590: 3d20 302e 352a 6d61 785f 6573 697a 650a  = 0.5*max_esize.
-000035a0: 0a20 2020 2023 2063 6972 6375 6c61 7220  .    # circular 
-000035b0: 6c61 796f 7574 0a20 2020 2069 6620 6973  layout.    if is
-000035c0: 696e 7374 616e 6365 286c 6179 6f75 742c  instance(layout,
-000035d0: 2073 7472 2920 616e 6420 6c61 796f 7574   str) and layout
-000035e0: 203d 3d20 2263 6972 6375 6c61 7222 3a0a   == "circular":.
-000035f0: 2020 2020 2020 2020 706f 7320 3d20 5f63          pos = _c
-00003600: 6972 6375 6c61 725f 6c61 796f 7574 286e  ircular_layout(n
-00003610: 6574 776f 726b 2c20 6d61 785f 6e73 697a  etwork, max_nsiz
-00003620: 6529 0a0a 2020 2020 2320 6368 6563 6b20  e)..    # check 
-00003630: 6178 6973 2065 7874 656e 740a 2020 2020  axis extent.    
-00003640: 786d 6178 203d 2070 6f73 5b3a 2c20 305d  xmax = pos[:, 0]
-00003650: 2e6d 6178 2829 0a20 2020 2078 6d69 6e20  .max().    xmin 
-00003660: 3d20 706f 735b 3a2c 2030 5d2e 6d69 6e28  = pos[:, 0].min(
-00003670: 290a 2020 2020 796d 6178 203d 2070 6f73  ).    ymax = pos
-00003680: 5b3a 2c20 315d 2e6d 6178 2829 0a20 2020  [:, 1].max().   
-00003690: 2079 6d69 6e20 3d20 706f 735b 3a2c 2031   ymin = pos[:, 1
-000036a0: 5d2e 6d69 6e28 290a 0a20 2020 2068 6569  ].min()..    hei
-000036b0: 6768 7420 3d20 796d 6178 202d 2079 6d69  ght = ymax - ymi
-000036c0: 6e0a 2020 2020 7769 6474 6820 3d20 786d  n.    width = xm
-000036d0: 6178 202d 2078 6d69 6e0a 0a20 2020 2069  ax - xmin..    i
-000036e0: 6620 6e6f 7420 7368 6f77 5f65 6e76 6972  f not show_envir
-000036f0: 6f6e 6d65 6e74 206f 7220 6e6f 7420 7370  onment or not sp
-00003700: 6174 6961 6c20 6f72 2070 726f 6a20 6973  atial or proj is
-00003710: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
-00003720: 2020 2023 2061 7869 732e 6765 745f 6461     # axis.get_da
-00003730: 7461 2829 0a20 2020 2020 2020 205f 7365  ta().        _se
-00003740: 745f 6178 5f6c 696d 2861 7869 732c 2078  t_ax_lim(axis, x
-00003750: 6d61 782c 2078 6d69 6e2c 2079 6d61 782c  max, xmin, ymax,
-00003760: 2079 6d69 6e2c 2068 6569 6768 742c 2077   ymin, height, w
-00003770: 6964 7468 2c20 786c 696d 732c 2079 6c69  idth, xlims, yli
-00003780: 6d73 2c0a 2020 2020 2020 2020 2020 2020  ms,.            
-00003790: 2020 2020 2020 2020 6d61 785f 6e73 697a          max_nsiz
-000037a0: 652c 2066 6173 7429 0a0a 2020 2020 2320  e, fast)..    # 
-000037b0: 6765 7420 6e6f 6465 2061 6e64 2065 6467  get node and edg
-000037c0: 6520 7368 6170 652f 7369 7a65 2070 726f  e shape/size pro
-000037d0: 7065 7274 6965 730a 2020 2020 6d61 726b  perties.    mark
-000037e0: 6572 732c 206e 7369 7a65 2c20 6573 697a  ers, nsize, esiz
-000037f0: 6520 3d20 5f6e 6f64 655f 6564 6765 5f73  e = _node_edge_s
-00003800: 6861 7065 5f73 697a 6528 0a20 2020 2020  hape_size(.     
-00003810: 2020 206e 6574 776f 726b 2c20 6e73 6861     network, nsha
-00003820: 7065 2c20 6e73 697a 652c 206d 6178 5f6e  pe, nsize, max_n
-00003830: 7369 7a65 2c20 6d69 6e5f 6e73 697a 652c  size, min_nsize,
-00003840: 2065 7369 7a65 2c20 6d61 785f 6573 697a   esize, max_esiz
-00003850: 652c 0a20 2020 2020 2020 206d 696e 5f65  e,.        min_e
-00003860: 7369 7a65 2c20 7265 7374 7269 6374 5f6e  size, restrict_n
-00003870: 6f64 6573 2c20 6564 6765 732c 2073 697a  odes, edges, siz
-00003880: 652c 2074 6872 6573 686f 6c64 2c0a 2020  e, threshold,.  
-00003890: 2020 2020 2020 7369 6d70 6c65 5f6e 6f64        simple_nod
-000038a0: 6573 3d73 696d 706c 655f 6e6f 6465 7329  es=simple_nodes)
-000038b0: 0a0a 2020 2020 2320 6e6f 6465 2063 6f6c  ..    # node col
-000038c0: 6f72 2069 6e66 6f72 6d61 7469 6f6e 0a20  or information. 
-000038d0: 2020 2069 6620 6e63 6f6c 6f72 2069 7320     if ncolor is 
-000038e0: 4e6f 6e65 3a0a 2020 2020 2020 2020 6966  None:.        if
-000038f0: 206e 6574 776f 726b 2e73 7472 7563 7475   network.structu
-00003900: 7265 2069 7320 6e6f 7420 4e6f 6e65 3a0a  re is not None:.
-00003910: 2020 2020 2020 2020 2020 2020 6e63 6f6c              ncol
-00003920: 6f72 203d 2022 6772 6f75 7022 0a20 2020  or = "group".   
-00003930: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00003940: 2020 2020 2020 206e 636f 6c6f 7220 3d20         ncolor = 
-00003950: 2272 220a 0a20 2020 206e 626f 7264 6572  "r"..    nborder
-00003960: 5f63 6f6c 6f72 203d 206b 7761 7267 732e  _color = kwargs.
-00003970: 6765 7428 226e 626f 7264 6572 5f63 6f6c  get("nborder_col
-00003980: 6f72 222c 2022 6b22 290a 2020 2020 6e62  or", "k").    nb
-00003990: 6f72 6465 725f 7769 6474 6820 3d20 6b77  order_width = kw
-000039a0: 6172 6773 2e67 6574 2822 6e62 6f72 6465  args.get("nborde
-000039b0: 725f 7769 6474 6822 2c20 302e 3529 0a0a  r_width", 0.5)..
-000039c0: 2020 2020 6562 6f72 6465 725f 636f 6c6f      eborder_colo
-000039d0: 7220 3d20 6b77 6172 6773 2e67 6574 2822  r = kwargs.get("
-000039e0: 6562 6f72 6465 725f 636f 6c6f 7222 2c20  eborder_color", 
-000039f0: 226b 2229 0a20 2020 2065 626f 7264 6572  "k").    eborder
-00003a00: 5f77 6964 7468 203d 206b 7761 7267 732e  _width = kwargs.
-00003a10: 6765 7428 2265 626f 7264 6572 5f77 6964  get("eborder_wid
-00003a20: 7468 222c 2030 2e33 290a 0a20 2020 2064  th", 0.3)..    d
-00003a30: 6973 6372 6574 655f 636f 6c6f 7273 2c20  iscrete_colors, 
-00003a40: 6465 6661 756c 745f 6e63 6d61 7020 3d20  default_ncmap = 
-00003a50: 5f67 6574 5f6e 636d 6170 286e 6574 776f  _get_ncmap(netwo
-00003a60: 726b 2c20 6e63 6f6c 6f72 290a 0a20 2020  rk, ncolor)..   
-00003a70: 206e 616c 7068 6120 3d20 6b77 6172 6773   nalpha = kwargs
-00003a80: 2e67 6574 2822 6e61 6c70 6861 222c 2031  .get("nalpha", 1
-00003a90: 290a 2020 2020 6561 6c70 6861 203d 206b  ).    ealpha = k
-00003aa0: 7761 7267 732e 6765 7428 2265 616c 7068  wargs.get("ealph
-00003ab0: 6122 2c20 302e 3529 0a0a 2020 2020 6e63  a", 0.5)..    nc
-00003ac0: 6d61 7020 3d20 6765 745f 636d 6170 286b  map = get_cmap(k
-00003ad0: 7761 7267 732e 6765 7428 226e 6f64 655f  wargs.get("node_
-00003ae0: 636d 6170 222c 2064 6566 6175 6c74 5f6e  cmap", default_n
-00003af0: 636d 6170 2929 0a0a 2020 2020 6e6f 6465  cmap))..    node
-00003b00: 5f63 6f6c 6f72 2c20 6e74 6963 6b73 2c20  _color, nticks, 
-00003b10: 6e74 6963 6b73 6c61 6265 6c73 2c20 6e6c  ntickslabels, nl
-00003b20: 6162 656c 203d 205f 6e6f 6465 5f63 6f6c  abel = _node_col
-00003b30: 6f72 280a 2020 2020 2020 2020 6e65 7477  or(.        netw
-00003b40: 6f72 6b2c 2072 6573 7472 6963 745f 6e6f  ork, restrict_no
-00003b50: 6465 732c 206e 636f 6c6f 722c 2064 6973  des, ncolor, dis
-00003b60: 6372 6574 655f 636f 6c6f 7273 3d64 6973  crete_colors=dis
-00003b70: 6372 6574 655f 636f 6c6f 7273 290a 0a20  crete_colors).. 
-00003b80: 2020 2069 6620 6e6f 6e73 7472 696e 675f     if nonstring_
-00003b90: 636f 6e74 6169 6e65 7228 6e63 6f6c 6f72  container(ncolor
-00003ba0: 2920 616e 6420 6e6f 7420 6c65 6e28 6e63  ) and not len(nc
-00003bb0: 6f6c 6f72 2920 696e 2028 332c 2034 293a  olor) in (3, 4):
-00003bc0: 0a20 2020 2020 2020 2061 7373 6572 7420  .        assert 
-00003bd0: 6c65 6e28 6e63 6f6c 6f72 2920 3d3d 206e  len(ncolor) == n
-00003be0: 2c20 2246 6f72 2063 6f6c 6f72 2061 7272  , "For color arr
-00003bf0: 6179 732c 206f 6e65 2022 202b 5c0a 2020  ays, one " +\.  
-00003c00: 2020 2020 2020 2020 2020 2263 6f6c 6f72            "color
-00003c10: 2070 6572 206e 6f64 6520 6973 2072 6571   per node is req
-00003c20: 7569 7265 642e 220a 2020 2020 2020 2020  uired.".        
-00003c30: 6e63 6f6c 6f72 203d 2022 6375 7374 6f6d  ncolor = "custom
-00003c40: 220a 0a20 2020 2063 203d 206e 6f64 655f  "..    c = node_
-00003c50: 636f 6c6f 720a 0a20 2020 2069 6620 6e6f  color..    if no
-00003c60: 7420 6e6f 6e73 7472 696e 675f 636f 6e74  t nonstring_cont
-00003c70: 6169 6e65 7228 6e62 6f72 6465 725f 636f  ainer(nborder_co
-00003c80: 6c6f 7229 3a0a 2020 2020 2020 2020 6e62  lor):.        nb
-00003c90: 6f72 6465 725f 636f 6c6f 7220 3d20 6e70  order_color = np
-00003ca0: 2e72 6570 6561 7428 6e62 6f72 6465 725f  .repeat(nborder_
-00003cb0: 636f 6c6f 722c 206e 290a 0a20 2020 2023  color, n)..    #
-00003cc0: 2070 7265 7061 7265 206e 6f64 6520 636f   prepare node co
-00003cd0: 6c6f 7273 0a20 2020 2069 6620 6e6f 6e73  lors.    if nons
-00003ce0: 7472 696e 675f 636f 6e74 6169 6e65 7228  tring_container(
-00003cf0: 6329 2061 6e64 206e 6f74 2069 7369 6e73  c) and not isins
-00003d00: 7461 6e63 6528 635b 305d 2c20 2873 7472  tance(c[0], (str
-00003d10: 2c20 6e70 2e6e 6461 7272 6179 2929 3a0a  , np.ndarray)):.
-00003d20: 2020 2020 2020 2020 2320 6d61 6b65 2074          # make t
-00003d30: 6865 2063 6f6c 6f72 6261 7220 666f 7220  he colorbar for 
-00003d40: 7468 6520 6e6f 6465 730a 2020 2020 2020  the nodes.      
-00003d50: 2020 636d 6170 203d 206e 636d 6170 0a20    cmap = ncmap. 
-00003d60: 2020 2020 2020 2063 6e6f 726d 203d 204e         cnorm = N
-00003d70: 6f6e 650a 0a20 2020 2020 2020 2069 6620  one..        if 
-00003d80: 6469 7363 7265 7465 5f63 6f6c 6f72 733a  discrete_colors:
-00003d90: 0a20 2020 2020 2020 2020 2020 2063 6d61  .            cma
-00003da0: 7020 3d20 5f64 6973 6372 6574 655f 636d  p = _discrete_cm
-00003db0: 6170 286c 656e 286e 7469 636b 7329 2c20  ap(len(nticks), 
-00003dc0: 6e63 6d61 702c 2064 6973 6372 6574 655f  ncmap, discrete_
-00003dd0: 636f 6c6f 7273 290a 2020 2020 2020 2020  colors).        
-00003de0: 2020 2020 636e 6f72 6d20 3d20 4e6f 726d      cnorm = Norm
-00003df0: 616c 697a 6528 6e74 6963 6b73 5b30 5d2d  alize(nticks[0]-
-00003e00: 302e 352c 206e 7469 636b 735b 2d31 5d20  0.5, nticks[-1] 
-00003e10: 2b20 302e 3529 0a20 2020 2020 2020 2065  + 0.5).        e
-00003e20: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00003e30: 2063 6e6f 726d 203d 204e 6f72 6d61 6c69   cnorm = Normali
-00003e40: 7a65 286e 702e 6d69 6e28 6329 2c20 6e70  ze(np.min(c), np
-00003e50: 2e6d 6178 2863 2929 0a20 2020 2020 2020  .max(c)).       
-00003e60: 2020 2020 2063 203d 2063 6e6f 726d 2863       c = cnorm(c
-00003e70: 290a 0a20 2020 2020 2020 2069 6620 636f  )..        if co
-00003e80: 6c6f 7262 6172 3a0a 2020 2020 2020 2020  lorbar:.        
-00003e90: 2020 2020 736d 203d 2070 6c74 2e63 6d2e      sm = plt.cm.
-00003ea0: 5363 616c 6172 4d61 7070 6162 6c65 2863  ScalarMappable(c
-00003eb0: 6d61 703d 636d 6170 2c20 6e6f 726d 3d63  map=cmap, norm=c
-00003ec0: 6e6f 726d 290a 0a20 2020 2020 2020 2020  norm)..         
-00003ed0: 2020 2069 6620 6469 7363 7265 7465 5f63     if discrete_c
-00003ee0: 6f6c 6f72 733a 0a20 2020 2020 2020 2020  olors:.         
-00003ef0: 2020 2020 2020 2073 6d2e 7365 745f 6172         sm.set_ar
-00003f00: 7261 7928 6e74 6963 6b73 290a 2020 2020  ray(nticks).    
-00003f10: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00003f20: 2020 2020 2020 2020 2020 2020 2020 736d                sm
-00003f30: 2e73 6574 5f61 7272 6179 2863 290a 0a20  .set_array(c).. 
-00003f40: 2020 2020 2020 2020 2020 2070 6c74 2e73             plt.s
-00003f50: 7562 706c 6f74 735f 6164 6a75 7374 2872  ubplots_adjust(r
-00003f60: 6967 6874 3d30 2e39 3529 0a20 2020 2020  ight=0.95).     
-00003f70: 2020 2020 2020 2064 6976 6964 6572 203d         divider =
-00003f80: 206d 616b 655f 6178 6573 5f6c 6f63 6174   make_axes_locat
-00003f90: 6162 6c65 2861 7869 7329 0a20 2020 2020  able(axis).     
-00003fa0: 2020 2020 2020 2063 6178 2020 2020 203d         cax     =
-00003fb0: 2064 6976 6964 6572 2e61 7070 656e 645f   divider.append_
-00003fc0: 6178 6573 2822 7269 6768 7422 2c20 7369  axes("right", si
-00003fd0: 7a65 3d22 3525 222c 2070 6164 3d30 2e30  ze="5%", pad=0.0
-00003fe0: 3529 0a0a 2020 2020 2020 2020 2020 2020  5)..            
-00003ff0: 6966 2064 6973 6372 6574 655f 636f 6c6f  if discrete_colo
-00004000: 7273 3a0a 2020 2020 2020 2020 2020 2020  rs:.            
-00004010: 2020 2020 6362 203d 2070 6c74 2e63 6f6c      cb = plt.col
-00004020: 6f72 6261 7228 736d 2c20 7469 636b 733d  orbar(sm, ticks=
-00004030: 6e74 6963 6b73 2c20 6361 783d 6361 782c  nticks, cax=cax,
-00004040: 2073 6872 696e 6b3d 302e 3829 0a20 2020   shrink=0.8).   
-00004050: 2020 2020 2020 2020 2020 2020 2063 622e               cb.
-00004060: 7365 745f 7469 636b 6c61 6265 6c73 286e  set_ticklabels(n
-00004070: 7469 636b 736c 6162 656c 7329 0a20 2020  tickslabels).   
-00004080: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00004090: 6e6c 6162 656c 3a0a 2020 2020 2020 2020  nlabel:.        
-000040a0: 2020 2020 2020 2020 2020 2020 6362 2e73              cb.s
-000040b0: 6574 5f6c 6162 656c 286e 6c61 6265 6c29  et_label(nlabel)
-000040c0: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
-000040d0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-000040e0: 2020 2063 6220 3d20 706c 742e 636f 6c6f     cb = plt.colo
-000040f0: 7262 6172 2873 6d2c 2063 6178 3d63 6178  rbar(sm, cax=cax
-00004100: 2c20 7368 7269 6e6b 3d30 2e38 290a 0a20  , shrink=0.8).. 
-00004110: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00004120: 6620 6362 5f6c 6162 656c 2069 7320 6e6f  f cb_label is no
-00004130: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
-00004140: 2020 2020 2020 2020 2020 2020 6362 2e61              cb.a
-00004150: 782e 7365 745f 796c 6162 656c 2863 625f  x.set_ylabel(cb_
-00004160: 6c61 6265 6c29 0a20 2020 2020 2020 2065  label).        e
-00004170: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00004180: 2063 6d69 6e2c 2063 6d61 7820 3d20 6e70   cmin, cmax = np
-00004190: 2e6d 696e 2863 292c 206e 702e 6d61 7828  .min(c), np.max(
-000041a0: 6329 0a0a 2020 2020 2020 2020 2020 2020  c)..            
-000041b0: 6966 2063 6d69 6e20 213d 2063 6d61 783a  if cmin != cmax:
-000041c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000041d0: 2063 203d 2028 6320 2d20 636d 696e 2920   c = (c - cmin) 
-000041e0: 2f20 2863 6d61 7820 2d20 636d 696e 290a  / (cmax - cmin).
-000041f0: 0a20 2020 2020 2020 2063 203d 2063 6d61  .        c = cma
-00004200: 7028 6329 0a20 2020 2065 6c73 653a 0a20  p(c).    else:. 
-00004210: 2020 2020 2020 2069 6620 6e6f 7420 6e6f         if not no
-00004220: 6e73 7472 696e 675f 636f 6e74 6169 6e65  nstring_containe
-00004230: 7228 6329 2061 6e64 206e 6f74 2069 7369  r(c) and not isi
-00004240: 6e73 7461 6e63 6528 632c 2073 7472 293a  nstance(c, str):
-00004250: 0a20 2020 2020 2020 2020 2020 206d 696e  .            min
-00004260: 6320 3d20 6e70 2e6d 696e 286e 6f64 655f  c = np.min(node_
-00004270: 636f 6c6f 7229 0a0a 2020 2020 2020 2020  color)..        
-00004280: 2020 2020 6320 3d20 6e70 2e61 7272 6179      c = np.array
-00004290: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-000042a0: 2020 5b6e 636d 6170 2828 6e6f 6465 5f63    [ncmap((node_c
-000042b0: 6f6c 6f72 202d 206d 696e 6329 2f28 6e70  olor - minc)/(np
-000042c0: 2e6d 6178 286e 6f64 655f 636f 6c6f 7229  .max(node_color)
-000042d0: 202d 206d 696e 6329 295d 2a6e 290a 0a20   - minc))]*n).. 
-000042e0: 2020 2023 2063 6865 636b 2065 6467 6520     # check edge 
-000042f0: 636f 6c6f 720a 2020 2020 6772 6f75 705f  color.    group_
-00004300: 6261 7365 6420 3d20 4661 6c73 650a 0a20  based = False.. 
-00004310: 2020 2064 6566 6175 6c74 5f65 636d 6170     default_ecmap
-00004320: 203d 2028 7061 6c65 7474 655f 6469 7363   = (palette_disc
-00004330: 7265 7465 2829 2069 6620 6e6f 7420 6e6f  rete() if not no
-00004340: 6e73 7472 696e 675f 636f 6e74 6169 6e65  nstring_containe
-00004350: 7228 6e63 6f6c 6f72 2920 616e 640a 2020  r(ncolor) and.  
-00004360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004370: 2020 2065 636f 6c6f 7220 3d3d 2022 6772     ecolor == "gr
-00004380: 6f75 7022 2065 6c73 6520 7061 6c65 7474  oup" else palett
-00004390: 655f 636f 6e74 696e 756f 7573 2829 290a  e_continuous()).
-000043a0: 0a20 2020 2069 6620 6563 6f6c 6f72 203d  .    if ecolor =
-000043b0: 3d20 2267 726f 7570 7322 206f 7220 6563  = "groups" or ec
-000043c0: 6f6c 6f72 203d 3d20 2267 726f 7570 223a  olor == "group":
-000043d0: 0a20 2020 2020 2020 2069 6620 6e65 7477  .        if netw
-000043e0: 6f72 6b2e 7374 7275 6374 7572 6520 6973  ork.structure is
-000043f0: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-00004400: 2020 2072 6169 7365 2054 7970 6545 7272     raise TypeErr
-00004410: 6f72 280a 2020 2020 2020 2020 2020 2020  or(.            
-00004420: 2020 2020 2254 6865 2067 7261 7068 206d      "The graph m
-00004430: 7573 7420 6861 7665 2061 2053 7472 7563  ust have a Struc
-00004440: 7475 7265 2f4e 6575 7261 6c50 6f70 2074  ture/NeuralPop t
-00004450: 6f20 7573 6520 220a 2020 2020 2020 2020  o use ".        
-00004460: 2020 2020 2020 2020 2260 6563 6f6c 6f72          "`ecolor
-00004470: 3d27 6772 6f75 7073 2760 2e22 290a 0a20  ='groups'`.").. 
-00004480: 2020 2020 2020 2067 726f 7570 5f62 6173         group_bas
-00004490: 6564 203d 2054 7275 650a 2020 2020 2020  ed = True.      
-000044a0: 2020 6563 6f6c 6f72 203d 207b 7d0a 0a20    ecolor = {}.. 
-000044b0: 2020 2020 2020 2066 6f72 2069 2c20 7372         for i, sr
-000044c0: 6320 696e 2065 6e75 6d65 7261 7465 286e  c in enumerate(n
-000044d0: 6574 776f 726b 2e73 7472 7563 7475 7265  etwork.structure
-000044e0: 293a 0a20 2020 2020 2020 2020 2020 2069  ):.            i
-000044f0: 6620 6e65 7477 6f72 6b2e 7374 7275 6374  f network.struct
-00004500: 7572 655b 7372 635d 2e69 6473 3a0a 2020  ure[src].ids:.  
-00004510: 2020 2020 2020 2020 2020 2020 2020 6964                id
-00004520: 7831 203d 206e 6574 776f 726b 2e73 7472  x1 = network.str
-00004530: 7563 7475 7265 5b73 7263 5d2e 6964 735b  ucture[src].ids[
-00004540: 305d 0a20 2020 2020 2020 2020 2020 2020  0].             
-00004550: 2020 2066 6f72 206a 2c20 7467 7420 696e     for j, tgt in
-00004560: 2065 6e75 6d65 7261 7465 286e 6574 776f   enumerate(netwo
-00004570: 726b 2e73 7472 7563 7475 7265 293a 0a20  rk.structure):. 
-00004580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004590: 2020 2069 6620 6e65 7477 6f72 6b2e 7374     if network.st
-000045a0: 7275 6374 7572 655b 7467 745d 2e69 6473  ructure[tgt].ids
-000045b0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000045c0: 2020 2020 2020 2020 2020 6964 7832 203d            idx2 =
-000045d0: 206e 6574 776f 726b 2e73 7472 7563 7475   network.structu
-000045e0: 7265 5b74 6774 5d2e 6964 735b 305d 0a20  re[tgt].ids[0]. 
-000045f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004600: 2020 2020 2020 2069 6620 7372 6320 3d3d         if src ==
-00004610: 2074 6774 3a0a 2020 2020 2020 2020 2020   tgt:.          
+00000000: 2320 2d2a 2d20 636f 6469 6e67 3a20 7574  # -*- coding: ut
+00000010: 662d 3820 2d2a 2d0a 2320 5350 4458 2d46  f-8 -*-.# SPDX-F
+00000020: 696c 6543 6f70 7972 6967 6874 5465 7874  ileCopyrightText
+00000030: 3a20 3230 3135 2d32 3032 3320 5461 6e67  : 2015-2023 Tang
+00000040: 7579 2046 6172 6465 740a 2320 5350 4458  uy Fardet.# SPDX
+00000050: 2d4c 6963 656e 7365 2d49 6465 6e74 6966  -License-Identif
+00000060: 6965 723a 2047 504c 2d33 2e30 2d6f 722d  ier: GPL-3.0-or-
+00000070: 6c61 7465 720a 2320 6e6e 6774 2f70 6c6f  later.# nngt/plo
+00000080: 742f 706c 745f 6e65 7477 6f72 6b73 2e70  t/plt_networks.p
+00000090: 790a 0a66 726f 6d20 6974 6572 746f 6f6c  y..from itertool
+000000a0: 7320 696d 706f 7274 2063 7963 6c65 0a66  s import cycle.f
+000000b0: 726f 6d20 636f 6c6c 6563 7469 6f6e 7320  rom collections 
+000000c0: 696d 706f 7274 2064 6566 6175 6c74 6469  import defaultdi
+000000d0: 6374 0a66 726f 6d20 706b 675f 7265 736f  ct.from pkg_reso
+000000e0: 7572 6365 7320 696d 706f 7274 2070 6172  urces import par
+000000f0: 7365 5f76 6572 7369 6f6e 0a0a 696d 706f  se_version..impo
+00000100: 7274 206e 756d 7079 2061 7320 6e70 0a0a  rt numpy as np..
+00000110: 696d 706f 7274 206d 6174 706c 6f74 6c69  import matplotli
+00000120: 6220 6173 206d 706c 0a66 726f 6d20 6d61  b as mpl.from ma
+00000130: 7470 6c6f 746c 6962 2e61 7274 6973 7420  tplotlib.artist 
+00000140: 696d 706f 7274 2041 7274 6973 740a 6672  import Artist.fr
+00000150: 6f6d 206d 6174 706c 6f74 6c69 622e 7061  om matplotlib.pa
+00000160: 7468 2069 6d70 6f72 7420 5061 7468 0a66  th import Path.f
+00000170: 726f 6d20 6d61 7470 6c6f 746c 6962 2e70  rom matplotlib.p
+00000180: 6174 6368 6573 2069 6d70 6f72 7420 4661  atches import Fa
+00000190: 6e63 7941 7272 6f77 5061 7463 682c 2041  ncyArrowPatch, A
+000001a0: 7272 6f77 5374 796c 652c 2046 616e 6379  rrowStyle, Fancy
+000001b0: 4172 726f 772c 2043 6972 636c 650a 6672  Arrow, Circle.fr
+000001c0: 6f6d 206d 6174 706c 6f74 6c69 622e 7061  om matplotlib.pa
+000001d0: 7463 6865 7320 696d 706f 7274 2041 7263  tches import Arc
+000001e0: 2c20 5265 6775 6c61 7250 6f6c 7967 6f6e  , RegularPolygon
+000001f0: 2c20 5061 7468 5061 7463 682c 2050 6174  , PathPatch, Pat
+00000200: 6368 0a66 726f 6d20 6d61 7470 6c6f 746c  ch.from matplotl
+00000210: 6962 2e63 6f6c 6c65 6374 696f 6e73 2069  ib.collections i
+00000220: 6d70 6f72 7420 5061 7463 6843 6f6c 6c65  mport PatchColle
+00000230: 6374 696f 6e2c 2050 6174 6843 6f6c 6c65  ction, PathColle
+00000240: 6374 696f 6e0a 6672 6f6d 206d 6174 706c  ction.from matpl
+00000250: 6f74 6c69 622e 636f 6c6f 7273 2069 6d70  otlib.colors imp
+00000260: 6f72 7420 4c69 7374 6564 436f 6c6f 726d  ort ListedColorm
+00000270: 6170 2c20 4e6f 726d 616c 697a 652c 2043  ap, Normalize, C
+00000280: 6f6c 6f72 436f 6e76 6572 7465 720a 6672  olorConverter.fr
+00000290: 6f6d 206d 6174 706c 6f74 6c69 622e 6d61  om matplotlib.ma
+000002a0: 726b 6572 7320 696d 706f 7274 204d 6172  rkers import Mar
+000002b0: 6b65 7253 7479 6c65 0a66 726f 6d20 6d61  kerStyle.from ma
+000002c0: 7470 6c6f 746c 6962 2e74 7261 6e73 666f  tplotlib.transfo
+000002d0: 726d 7320 696d 706f 7274 2041 6666 696e  rms import Affin
+000002e0: 6532 440a 6672 6f6d 206d 706c 5f74 6f6f  e2D.from mpl_too
+000002f0: 6c6b 6974 732e 6178 6573 5f67 7269 6431  lkits.axes_grid1
+00000300: 2069 6d70 6f72 7420 6d61 6b65 5f61 7865   import make_axe
+00000310: 735f 6c6f 6361 7461 626c 650a 0a69 6d70  s_locatable..imp
+00000320: 6f72 7420 6e6e 6774 0a66 726f 6d20 6e6e  ort nngt.from nn
+00000330: 6774 2e6c 6962 2069 6d70 6f72 7420 504f  gt.lib import PO
+00000340: 532c 206e 6f6e 7374 7269 6e67 5f63 6f6e  S, nonstring_con
+00000350: 7461 696e 6572 2c20 6973 5f69 6e74 6567  tainer, is_integ
+00000360: 6572 0a66 726f 6d20 2e63 7573 746f 6d5f  er.from .custom_
+00000370: 706c 7420 696d 706f 7274 2028 6765 745f  plt import (get_
+00000380: 636d 6170 2c20 7061 6c65 7474 655f 636f  cmap, palette_co
+00000390: 6e74 696e 756f 7573 2c20 7061 6c65 7474  ntinuous, palett
+000003a0: 655f 6469 7363 7265 7465 2c0a 2020 2020  e_discrete,.    
+000003b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000003c0: 2020 2020 2066 6f72 6d61 745f 6578 706f       format_expo
+000003d0: 6e65 6e74 290a 6672 6f6d 202e 6368 6f72  nent).from .chor
+000003e0: 645f 6469 6167 2069 6d70 6f72 7420 6368  d_diag import ch
+000003f0: 6f72 645f 6469 6167 7261 6d20 6173 205f  ord_diagram as _
+00000400: 6368 6f72 645f 6469 6167 0a66 726f 6d20  chord_diag.from 
+00000410: 2e68 6976 655f 6865 6c70 6572 7320 696d  .hive_helpers im
+00000420: 706f 7274 202a 0a0a 0a27 2727 0a4e 6574  port *...'''.Net
+00000430: 776f 726b 2070 6c6f 7474 696e 670a 3d3d  work plotting.==
+00000440: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a  ==============..
+00000450: 496d 706c 656d 656e 7465 640a 2d2d 2d2d  Implemented.----
+00000460: 2d2d 2d2d 2d2d 2d0a 0a53 696d 706c 6520  -------..Simple 
+00000470: 7265 7072 6573 656e 7461 7469 6f6e 2066  representation f
+00000480: 6f72 2073 7061 7469 616c 2067 7261 7068  or spatial graph
+00000490: 732c 2072 616e 646f 6d20 6469 7374 7269  s, random distri
+000004a0: 6275 7469 6f6e 2069 6620 6e6f 6e2d 7370  bution if non-sp
+000004b0: 6174 6961 6c2e 0a53 7570 706f 7274 2066  atial..Support f
+000004c0: 6f72 2065 6467 652d 7369 7a65 2028 6163  or edge-size (ac
+000004d0: 636f 7264 696e 6720 746f 2062 6574 7765  cording to betwe
+000004e0: 656e 6e65 7373 206f 7220 7379 6e61 7074  enness or synapt
+000004f0: 6963 2077 6569 6768 7429 2e0a 0a0a 4f62  ic weight)....Ob
+00000500: 6a65 6374 6976 6573 0a2d 2d2d 2d2d 2d2d  jectives.-------
+00000510: 2d2d 2d0a 0a49 6d70 6c65 6d65 6e74 2074  ---..Implement t
+00000520: 6865 2073 7072 696e 672d 626c 6f63 6b20  he spring-block 
+00000530: 6d69 6e69 6d69 7a61 7469 6f6e 2e0a 0a49  minimization...I
+00000540: 6620 6564 6765 7320 6861 7665 2076 6172  f edges have var
+00000550: 7969 6e67 2073 697a 652c 2070 6c6f 7420  ying size, plot 
+00000560: 6f6e 6c79 2074 686f 7365 2074 6861 7420  only those that 
+00000570: 6172 6520 7669 7369 626c 6520 2873 697a  are visible (siz
+00000580: 6520 3e20 6d69 6e29 0a0a 2727 270a 0a5f  e > min)..'''.._
+00000590: 5f61 6c6c 5f5f 203d 205b 2263 686f 7264  _all__ = ["chord
+000005a0: 5f64 6961 6772 616d 222c 2022 6472 6177  _diagram", "draw
+000005b0: 5f6e 6574 776f 726b 222c 2022 6869 7665  _network", "hive
+000005c0: 5f70 6c6f 7422 2c20 226c 6962 7261 7279  _plot", "library
+000005d0: 5f64 7261 7722 5d0a 0a0a 2320 2d2d 2d2d  _draw"]...# ----
+000005e0: 2d2d 2d20 230a 2320 4472 6177 696e 6720  --- #.# Drawing 
+000005f0: 230a 2320 2d2d 2d2d 2d2d 2d20 230a 0a64  #.# ------- #..d
+00000600: 6566 2064 7261 775f 6e65 7477 6f72 6b28  ef draw_network(
+00000610: 6e65 7477 6f72 6b2c 206e 7369 7a65 3d22  network, nsize="
+00000620: 746f 7461 6c2d 6465 6772 6565 222c 206e  total-degree", n
+00000630: 636f 6c6f 723d 4e6f 6e65 2c20 6e73 6861  color=None, nsha
+00000640: 7065 3d22 6f22 2c0a 2020 2020 2020 2020  pe="o",.        
+00000650: 2020 2020 2020 2020 2065 7369 7a65 3d4e           esize=N
+00000660: 6f6e 652c 2065 636f 6c6f 723d 226b 222c  one, ecolor="k",
+00000670: 2063 7572 7665 645f 6564 6765 733d 4661   curved_edges=Fa
+00000680: 6c73 652c 2074 6872 6573 686f 6c64 3d30  lse, threshold=0
+00000690: 2e35 2c0a 2020 2020 2020 2020 2020 2020  .5,.            
+000006a0: 2020 2020 2064 6563 696d 6174 655f 636f       decimate_co
+000006b0: 6e6e 6563 7469 6f6e 733d 4e6f 6e65 2c20  nnections=None, 
+000006c0: 7370 6174 6961 6c3d 5472 7565 2c0a 2020  spatial=True,.  
+000006d0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+000006e0: 6573 7472 6963 745f 736f 7572 6365 733d  estrict_sources=
+000006f0: 4e6f 6e65 2c20 7265 7374 7269 6374 5f74  None, restrict_t
+00000700: 6172 6765 7473 3d4e 6f6e 652c 0a20 2020  argets=None,.   
+00000710: 2020 2020 2020 2020 2020 2020 2020 7265                re
+00000720: 7374 7269 6374 5f6e 6f64 6573 3d4e 6f6e  strict_nodes=Non
+00000730: 652c 2072 6573 7472 6963 745f 6564 6765  e, restrict_edge
+00000740: 733d 4e6f 6e65 2c0a 2020 2020 2020 2020  s=None,.        
+00000750: 2020 2020 2020 2020 2073 686f 775f 656e           show_en
+00000760: 7669 726f 6e6d 656e 743d 5472 7565 2c20  vironment=True, 
+00000770: 6661 7374 3d46 616c 7365 2c20 7369 7a65  fast=False, size
+00000780: 3d28 3630 302c 2036 3030 292c 0a20 2020  =(600, 600),.   
+00000790: 2020 2020 2020 2020 2020 2020 2020 786c                xl
+000007a0: 696d 733d 4e6f 6e65 2c20 796c 696d 733d  ims=None, ylims=
+000007b0: 4e6f 6e65 2c20 6470 693d 3735 2c20 6178  None, dpi=75, ax
+000007c0: 6973 3d4e 6f6e 652c 2063 6f6c 6f72 6261  is=None, colorba
+000007d0: 723d 4661 6c73 652c 0a20 2020 2020 2020  r=False,.       
+000007e0: 2020 2020 2020 2020 2020 6362 5f6c 6162            cb_lab
+000007f0: 656c 3d4e 6f6e 652c 206c 6179 6f75 743d  el=None, layout=
+00000800: 4e6f 6e65 2c20 7368 6f77 3d46 616c 7365  None, show=False
+00000810: 2c20 2a2a 6b77 6172 6773 293a 0a20 2020  , **kwargs):.   
+00000820: 2027 2727 0a20 2020 2044 7261 7720 6120   '''.    Draw a 
+00000830: 6769 7665 6e20 6772 6170 682f 6e65 7477  given graph/netw
+00000840: 6f72 6b2e 0a0a 2020 2020 5061 7261 6d65  ork...    Parame
+00000850: 7465 7273 0a20 2020 202d 2d2d 2d2d 2d2d  ters.    -------
+00000860: 2d2d 2d0a 2020 2020 6e65 7477 6f72 6b20  ---.    network 
+00000870: 3a20 3a63 6c61 7373 3a60 7e6e 6e67 742e  : :class:`~nngt.
+00000880: 4772 6170 6860 206f 7220 7375 6263 6c61  Graph` or subcla
+00000890: 7373 0a20 2020 2020 2020 2054 6865 2067  ss.        The g
+000008a0: 7261 7068 2f6e 6574 776f 726b 2074 6f20  raph/network to 
+000008b0: 706c 6f74 2e0a 2020 2020 6e73 697a 6520  plot..    nsize 
+000008c0: 3a20 666c 6f61 742c 2061 7272 6179 206f  : float, array o
+000008d0: 6620 666c 6f61 7420 6f72 2073 7472 696e  f float or strin
+000008e0: 672c 206f 7074 696f 6e61 6c20 2864 6566  g, optional (def
+000008f0: 6175 6c74 3a20 2274 6f74 616c 2d64 6567  ault: "total-deg
+00000900: 7265 6522 290a 2020 2020 2020 2020 5369  ree").        Si
+00000910: 7a65 206f 6620 7468 6520 6e6f 6465 7320  ze of the nodes 
+00000920: 6173 2061 2070 6572 6365 6e74 6167 6520  as a percentage 
+00000930: 6f66 2074 6865 2063 616e 7661 7320 6c65  of the canvas le
+00000940: 6e67 7468 2e20 4f74 6865 7277 6973 652c  ngth. Otherwise,
+00000950: 2069 740a 2020 2020 2020 2020 6361 6e20   it.        can 
+00000960: 6265 2061 2073 7472 696e 6720 7468 6174  be a string that
+00000970: 2063 6f72 7265 6c61 7465 7320 7468 6520   correlates the 
+00000980: 7369 7a65 2074 6f20 6120 6e6f 6465 2061  size to a node a
+00000990: 7474 7269 6275 7465 2061 6d6f 6e67 0a20  ttribute among. 
+000009a0: 2020 2020 2020 2022 696e 2f6f 7574 2f74         "in/out/t
+000009b0: 6f74 616c 2d64 6567 7265 6522 2c20 2269  otal-degree", "i
+000009c0: 6e2f 6f75 742f 746f 7461 6c2d 7374 7265  n/out/total-stre
+000009d0: 6e67 7468 222c 206f 7220 2262 6574 7765  ngth", or "betwe
+000009e0: 656e 6e65 7373 222e 0a20 2020 206e 636f  enness"..    nco
+000009f0: 6c6f 7220 3a20 666c 6f61 742c 2061 7272  lor : float, arr
+00000a00: 6179 206f 6620 666c 6f61 7473 206f 7220  ay of floats or 
+00000a10: 7374 7269 6e67 2c20 6f70 7469 6f6e 616c  string, optional
+00000a20: 0a20 2020 2020 2020 2043 6f6c 6f72 206f  .        Color o
+00000a30: 6620 7468 6520 6e6f 6465 733b 2069 6620  f the nodes; if 
+00000a40: 6120 666c 6f61 7420 696e 205b 302c 2031  a float in [0, 1
+00000a50: 5d2c 2070 6f73 6974 696f 6e20 6f66 2074  ], position of t
+00000a60: 6865 2063 6f6c 6f72 2069 6e20 7468 650a  he color in the.
+00000a70: 2020 2020 2020 2020 6375 7272 656e 7420          current 
+00000a80: 7061 6c65 7474 652c 206f 7468 6572 7769  palette, otherwi
+00000a90: 7365 2061 2073 7472 696e 6720 7468 6174  se a string that
+00000aa0: 2063 6f72 7265 6c61 7465 7320 7468 6520   correlates the 
+00000ab0: 636f 6c6f 7220 746f 2061 206e 6f64 650a  color to a node.
+00000ac0: 2020 2020 2020 2020 6174 7472 6962 7574          attribut
+00000ad0: 6520 6f72 2022 696e 2f6f 7574 2f74 6f74  e or "in/out/tot
+00000ae0: 616c 2d64 6567 7265 6522 2c20 2262 6574  al-degree", "bet
+00000af0: 7765 656e 6e65 7373 2220 616e 6420 2267  weenness" and "g
+00000b00: 726f 7570 222e 0a20 2020 2020 2020 2044  roup"..        D
+00000b10: 6566 6175 6c74 2074 6f20 7265 6420 6f72  efault to red or
+00000b20: 206f 6e65 2063 6f6c 6f72 2070 6572 2067   one color per g
+00000b30: 726f 7570 2069 6e20 7468 6520 6772 6170  roup in the grap
+00000b40: 6820 6966 206e 6f74 2073 7065 6369 6669  h if not specifi
+00000b50: 6564 2e0a 2020 2020 6e73 6861 7065 203a  ed..    nshape :
+00000b60: 2063 6861 722c 2061 7272 6179 206f 6620   char, array of 
+00000b70: 6368 6172 732c 206f 7220 6772 6f75 7073  chars, or groups
+00000b80: 2c20 6f70 7469 6f6e 616c 2028 6465 6661  , optional (defa
+00000b90: 756c 743a 2022 6f22 290a 2020 2020 2020  ult: "o").      
+00000ba0: 2020 5368 6170 6520 6f66 2074 6865 206e    Shape of the n
+00000bb0: 6f64 6573 2028 7365 6520 604d 6174 706c  odes (see `Matpl
+00000bc0: 6f74 6c69 6220 6d61 726b 6572 7320 3c68  otlib markers <h
+00000bd0: 7474 703a 2f2f 6d61 7470 6c6f 746c 6962  ttp://matplotlib
+00000be0: 2e6f 7267 2f61 7069 2f0a 2020 2020 2020  .org/api/.      
+00000bf0: 2020 6d61 726b 6572 735f 6170 692e 6874    markers_api.ht
+00000c00: 6d6c 3f68 6967 686c 6967 6874 3d6d 6172  ml?highlight=mar
+00000c10: 6b65 7223 6d6f 6475 6c65 2d6d 6174 706c  ker#module-matpl
+00000c20: 6f74 6c69 622e 6d61 726b 6572 733e 605f  otlib.markers>`_
+00000c30: 292e 0a20 2020 2020 2020 2057 6865 6e20  )..        When 
+00000c40: 7573 696e 6720 6772 6f75 7073 2c20 7468  using groups, th
+00000c50: 6579 206d 7573 7420 6265 2070 6169 7277  ey must be pairw
+00000c60: 6973 6520 6469 736a 6f69 6e74 3b20 6d61  ise disjoint; ma
+00000c70: 726b 6572 7320 7769 6c6c 2062 650a 2020  rkers will be.  
+00000c80: 2020 2020 2020 7365 6c65 6374 6564 2069        selected i
+00000c90: 7465 7261 7469 7665 6c79 2066 726f 6d20  teratively from 
+00000ca0: 7468 6520 6d61 7470 6c6f 746c 6962 2064  the matplotlib d
+00000cb0: 6566 6175 6c74 206d 6172 6b65 7273 2e0a  efault markers..
+00000cc0: 2020 2020 6e62 6f72 6465 725f 636f 6c6f      nborder_colo
+00000cd0: 7220 3a20 6368 6172 2c20 666c 6f61 7420  r : char, float 
+00000ce0: 6f72 2061 7272 6179 2c20 6f70 7469 6f6e  or array, option
+00000cf0: 616c 2028 6465 6661 756c 743a 2022 6b22  al (default: "k"
+00000d00: 290a 2020 2020 2020 2020 436f 6c6f 7220  ).        Color 
+00000d10: 6f66 2074 6865 206e 6f64 6527 7320 626f  of the node's bo
+00000d20: 7264 6572 2075 7369 6e67 2070 7265 6465  rder using prede
+00000d30: 6669 6e65 6420 604d 6174 706c 6f74 6c69  fined `Matplotli
+00000d40: 6220 636f 6c6f 7273 0a20 2020 2020 2020  b colors.       
+00000d50: 203c 6874 7470 3a2f 2f6d 6174 706c 6f74   <http://matplot
+00000d60: 6c69 622e 6f72 672f 6170 692f 636f 6c6f  lib.org/api/colo
+00000d70: 7273 5f61 7069 2e68 746d 6c3f 6869 6768  rs_api.html?high
+00000d80: 6c69 6768 743d 636f 6c6f 720a 2020 2020  light=color.    
+00000d90: 2020 2020 236d 6f64 756c 652d 6d61 7470      #module-matp
+00000da0: 6c6f 746c 6962 2e63 6f6c 6f72 733e 605f  lotlib.colors>`_
+00000db0: 292e 0a20 2020 2020 2020 206f 7220 666c  )..        or fl
+00000dc0: 6f61 7473 2069 6e20 5b30 2c20 315d 2064  oats in [0, 1] d
+00000dd0: 6566 696e 696e 6720 7468 6520 706f 7369  efining the posi
+00000de0: 7469 6f6e 2069 6e20 7468 6520 7061 6c65  tion in the pale
+00000df0: 7474 652e 0a20 2020 206e 626f 7264 6572  tte..    nborder
+00000e00: 5f77 6964 7468 203a 2066 6c6f 6174 206f  _width : float o
+00000e10: 7220 6172 7261 7920 6f66 2066 6c6f 6174  r array of float
+00000e20: 732c 206f 7074 696f 6e61 6c20 2864 6566  s, optional (def
+00000e30: 6175 6c74 3a20 302e 3529 0a20 2020 2020  ault: 0.5).     
+00000e40: 2020 2057 6964 7468 206f 6620 7468 6520     Width of the 
+00000e50: 626f 7264 6572 2069 6e20 7065 7263 656e  border in percen
+00000e60: 7420 6f66 2063 616e 7661 7320 7369 7a65  t of canvas size
+00000e70: 2e0a 2020 2020 6573 697a 6520 3a20 666c  ..    esize : fl
+00000e80: 6f61 742c 2073 7472 2c20 6f72 2061 7272  oat, str, or arr
+00000e90: 6179 206f 6620 666c 6f61 7473 2c20 6f70  ay of floats, op
+00000ea0: 7469 6f6e 616c 2028 6465 6661 756c 743a  tional (default:
+00000eb0: 2030 2e35 290a 2020 2020 2020 2020 5769   0.5).        Wi
+00000ec0: 6474 6820 6f66 2074 6865 2065 6467 6573  dth of the edges
+00000ed0: 2069 6e20 7065 7263 656e 7420 6f66 2063   in percent of c
+00000ee0: 616e 7661 7320 6c65 6e67 7468 2e20 4176  anvas length. Av
+00000ef0: 6169 6c61 626c 6520 7374 7269 6e67 2076  ailable string v
+00000f00: 616c 7565 730a 2020 2020 2020 2020 6172  alues.        ar
+00000f10: 6520 2262 6574 7765 656e 6e65 7373 2220  e "betweenness" 
+00000f20: 616e 6420 2277 6569 6768 7422 2e0a 2020  and "weight"..  
+00000f30: 2020 6563 6f6c 6f72 203a 2073 7472 2c20    ecolor : str, 
+00000f40: 6368 6172 2c20 666c 6f61 7420 6f72 2061  char, float or a
+00000f50: 7272 6179 2c20 6f70 7469 6f6e 616c 2028  rray, optional (
+00000f60: 6465 6661 756c 743a 2022 6b22 290a 2020  default: "k").  
+00000f70: 2020 2020 2020 4564 6765 2063 6f6c 6f72        Edge color
+00000f80: 2e20 4966 2065 636f 6c6f 723d 2267 726f  . If ecolor="gro
+00000f90: 7570 7322 2c20 6564 6765 7320 636f 6c6f  ups", edges colo
+00000fa0: 7220 7769 6c6c 2064 6570 656e 6420 6f6e  r will depend on
+00000fb0: 2074 6865 2073 6f75 7263 650a 2020 2020   the source.    
+00000fc0: 2020 2020 616e 6420 7461 7267 6574 2067      and target g
+00000fd0: 726f 7570 732c 2069 2e65 2e20 6f6e 6c79  roups, i.e. only
+00000fe0: 2065 6467 6573 2066 726f 6d20 616e 6420   edges from and 
+00000ff0: 746f 7761 7264 2073 616d 6520 6772 6f75  toward same grou
+00001000: 7073 2077 696c 6c0a 2020 2020 2020 2020  ps will.        
+00001010: 6861 7665 2074 6865 2073 616d 6520 636f  have the same co
+00001020: 6c6f 722e 0a20 2020 2063 7572 7665 645f  lor..    curved_
+00001030: 6564 6765 7320 3a20 626f 6f6c 2c20 6f70  edges : bool, op
+00001040: 7469 6f6e 616c 2028 6465 6661 756c 743a  tional (default:
+00001050: 2046 616c 7365 290a 2020 2020 2020 2020   False).        
+00001060: 5768 6574 6865 7220 7468 6520 6564 6765  Whether the edge
+00001070: 7320 7368 6f75 6c64 2062 6520 6375 7276  s should be curv
+00001080: 6564 206f 7220 7374 7261 6967 6874 2e0a  ed or straight..
+00001090: 2020 2020 7468 7265 7368 6f6c 6420 3a20      threshold : 
+000010a0: 666c 6f61 742c 206f 7074 696f 6e61 6c20  float, optional 
+000010b0: 2864 6566 6175 6c74 3a20 302e 3529 0a20  (default: 0.5). 
+000010c0: 2020 2020 2020 2053 697a 6520 756e 6465         Size unde
+000010d0: 7220 7768 6963 6820 6564 6765 7320 6172  r which edges ar
+000010e0: 6520 6e6f 7420 706c 6f74 7465 642e 0a20  e not plotted.. 
+000010f0: 2020 2064 6563 696d 6174 655f 636f 6e6e     decimate_conn
+00001100: 6563 7469 6f6e 7320 3a20 696e 742c 206f  ections : int, o
+00001110: 7074 696f 6e61 6c20 2864 6566 6175 6c74  ptional (default
+00001120: 3a20 6b65 6570 2061 6c6c 2063 6f6e 6e65  : keep all conne
+00001130: 6374 696f 6e73 290a 2020 2020 2020 2020  ctions).        
+00001140: 506c 6f74 206f 6e6c 7920 6f6e 6520 636f  Plot only one co
+00001150: 6e6e 6563 7469 6f6e 2065 7665 7279 2060  nnection every `
+00001160: 6465 6369 6d61 7465 5f63 6f6e 6e65 6374  decimate_connect
+00001170: 696f 6e73 602e 0a20 2020 2020 2020 2055  ions`..        U
+00001180: 7365 202d 3120 746f 2068 6964 6520 616c  se -1 to hide al
+00001190: 6c20 6564 6765 732e 0a20 2020 2073 7061  l edges..    spa
+000011a0: 7469 616c 203a 2062 6f6f 6c2c 206f 7074  tial : bool, opt
+000011b0: 696f 6e61 6c20 2864 6566 6175 6c74 3a20  ional (default: 
+000011c0: 5472 7565 290a 2020 2020 2020 2020 4966  True).        If
+000011d0: 2054 7275 652c 2075 7365 2074 6865 206e   True, use the n
+000011e0: 6575 726f 6e73 2720 706f 7369 7469 6f6e  eurons' position
+000011f0: 7320 746f 2064 7261 7720 7468 656d 2e0a  s to draw them..
+00001200: 2020 2020 7265 7374 7269 6374 5f73 6f75      restrict_sou
+00001210: 7263 6573 203a 2073 7472 2c20 6772 6f75  rces : str, grou
+00001220: 702c 206f 7220 6c69 7374 2c20 6f70 7469  p, or list, opti
+00001230: 6f6e 616c 2028 6465 6661 756c 743a 2061  onal (default: a
+00001240: 6c6c 290a 2020 2020 2020 2020 4f6e 6c79  ll).        Only
+00001250: 2064 7261 7720 6564 6765 7320 7374 6172   draw edges star
+00001260: 7469 6e67 2066 726f 6d20 6120 7265 7374  ting from a rest
+00001270: 7269 6374 6564 2073 6574 206f 6620 736f  ricted set of so
+00001280: 7572 6365 206e 6f64 6573 2e0a 2020 2020  urce nodes..    
+00001290: 7265 7374 7269 6374 5f74 6172 6765 7473  restrict_targets
+000012a0: 203a 2073 7472 2c20 6772 6f75 702c 206f   : str, group, o
+000012b0: 7220 6c69 7374 2c20 6f70 7469 6f6e 616c  r list, optional
+000012c0: 2028 6465 6661 756c 743a 2061 6c6c 290a   (default: all).
+000012d0: 2020 2020 2020 2020 4f6e 6c79 2064 7261          Only dra
+000012e0: 7720 6564 6765 7320 656e 6469 6e67 206f  w edges ending o
+000012f0: 6e20 6120 7265 7374 7269 6374 6564 2073  n a restricted s
+00001300: 6574 206f 6620 7461 7267 6574 206e 6f64  et of target nod
+00001310: 6573 2e0a 2020 2020 7265 7374 7269 6374  es..    restrict
+00001320: 5f6e 6f64 6573 203a 2073 7472 2c20 6772  _nodes : str, gr
+00001330: 6f75 702c 206f 7220 6c69 7374 2c20 6f70  oup, or list, op
+00001340: 7469 6f6e 616c 2028 6465 6661 756c 743a  tional (default:
+00001350: 2070 6c6f 7420 616c 6c20 6e6f 6465 7329   plot all nodes)
+00001360: 0a20 2020 2020 2020 204f 6e6c 7920 6472  .        Only dr
+00001370: 6177 2061 2073 7562 7365 7420 6f66 206e  aw a subset of n
+00001380: 6f64 6573 2e0a 2020 2020 7265 7374 7269  odes..    restri
+00001390: 6374 5f65 6467 6573 203a 206c 6973 7420  ct_edges : list 
+000013a0: 6f66 2065 6467 6573 2c20 6f70 7469 6f6e  of edges, option
+000013b0: 616c 2028 6465 6661 756c 743a 2061 6c6c  al (default: all
+000013c0: 290a 2020 2020 2020 2020 4f6e 6c79 2064  ).        Only d
+000013d0: 7261 7720 6120 7375 6273 6574 206f 6620  raw a subset of 
+000013e0: 6564 6765 732e 0a20 2020 2073 686f 775f  edges..    show_
+000013f0: 656e 7669 726f 6e6d 656e 7420 3a20 626f  environment : bo
+00001400: 6f6c 2c20 6f70 7469 6f6e 616c 2028 6465  ol, optional (de
+00001410: 6661 756c 743a 2054 7275 6529 0a20 2020  fault: True).   
+00001420: 2020 2020 2050 6c6f 7420 7468 6520 656e       Plot the en
+00001430: 7669 726f 6e6d 656e 7420 6966 2074 6865  vironment if the
+00001440: 2067 7261 7068 2069 7320 7370 6174 6961   graph is spatia
+00001450: 6c2e 0a20 2020 2066 6173 7420 3a20 626f  l..    fast : bo
+00001460: 6f6c 2c20 6f70 7469 6f6e 616c 2028 6465  ol, optional (de
+00001470: 6661 756c 743a 2046 616c 7365 290a 2020  fault: False).  
+00001480: 2020 2020 2020 5573 6520 6120 6661 7374        Use a fast
+00001490: 6572 2061 6c67 6f72 6974 686d 2074 6f20  er algorithm to 
+000014a0: 706c 6f74 2074 6865 2065 6467 6573 2e20  plot the edges. 
+000014b0: 5a6f 6f6d 696e 6720 6f6e 2074 6865 2064  Zooming on the d
+000014c0: 7261 7769 6e67 206d 6164 650a 2020 2020  rawing made.    
+000014d0: 2020 2020 7573 696e 6720 7468 6973 206d      using this m
+000014e0: 6574 686f 6420 6c65 6176 6573 2074 6865  ethod leaves the
+000014f0: 2073 697a 6520 6f66 2074 6865 206e 6f64   size of the nod
+00001500: 6573 2061 6e64 2065 6467 6573 2075 6e63  es and edges unc
+00001510: 6861 6e67 6564 2c20 6974 0a20 2020 2020  hanged, it.     
+00001520: 2020 2069 7320 7468 6572 6566 6f72 6520     is therefore 
+00001530: 6e6f 7420 7265 636f 6d6d 656e 6465 6420  not recommended 
+00001540: 7768 656e 2073 697a 6520 636f 6e73 6973  when size consis
+00001550: 7465 6e63 7920 6d61 7474 6572 732c 2065  tency matters, e
+00001560: 2e67 2e20 666f 720a 2020 2020 2020 2020  .g. for.        
+00001570: 736f 6d65 2073 7061 7469 616c 2072 6570  some spatial rep
+00001580: 7265 7365 6e74 6174 696f 6e73 2e0a 2020  resentations..  
+00001590: 2020 7369 7a65 203a 2074 7570 6c65 206f    size : tuple o
+000015a0: 6620 696e 7473 2c20 6f70 7469 6f6e 616c  f ints, optional
+000015b0: 2028 6465 6661 756c 743a 2028 3630 302c   (default: (600,
+000015c0: 3630 3029 290a 2020 2020 2020 2020 2877  600)).        (w
+000015d0: 6964 7468 2c20 6865 6967 6874 2920 7475  idth, height) tu
+000015e0: 706c 6520 666f 7220 7468 6520 6361 6e76  ple for the canv
+000015f0: 6173 2073 697a 6520 2869 6e20 7078 292e  as size (in px).
+00001600: 0a20 2020 2064 7069 203a 2069 6e74 2c20  .    dpi : int, 
+00001610: 6f70 7469 6f6e 616c 2028 6465 6661 756c  optional (defaul
+00001620: 743a 2037 3529 0a20 2020 2020 2020 2052  t: 75).        R
+00001630: 6573 6f6c 7574 696f 6e20 2864 6f74 2070  esolution (dot p
+00001640: 6572 2069 6e63 6829 2e0a 2020 2020 6178  er inch)..    ax
+00001650: 6973 203a 206d 6174 706c 6f74 6c69 6220  is : matplotlib 
+00001660: 6178 6973 2c20 6f70 7469 6f6e 616c 2028  axis, optional (
+00001670: 6465 6661 756c 743a 2063 7265 6174 6520  default: create 
+00001680: 6e65 7720 6178 6973 290a 2020 2020 2020  new axis).      
+00001690: 2020 4178 6973 206f 6e20 7768 6963 6820    Axis on which 
+000016a0: 7468 6520 6e65 7477 6f72 6b20 7769 6c6c  the network will
+000016b0: 2062 6520 706c 6f74 7465 642e 0a20 2020   be plotted..   
+000016c0: 2063 6f6c 6f72 6261 7220 3a20 626f 6f6c   colorbar : bool
+000016d0: 2c20 6f70 7469 6f6e 616c 2028 6465 6661  , optional (defa
+000016e0: 756c 743a 2046 616c 7365 290a 2020 2020  ult: False).    
+000016f0: 2020 2020 5768 6574 6865 7220 746f 2064      Whether to d
+00001700: 6973 706c 6179 2061 2063 6f6c 6f72 6261  isplay a colorba
+00001710: 7220 666f 7220 7468 6520 6e6f 6465 2063  r for the node c
+00001720: 6f6c 6f72 7320 6f72 206e 6f74 2e0a 2020  olors or not..  
+00001730: 2020 6362 5f6c 6162 656c 203a 2073 7472    cb_label : str
+00001740: 2c20 6f70 7469 6f6e 616c 2028 6465 6661  , optional (defa
+00001750: 756c 743a 204e 6f6e 6529 0a20 2020 2020  ult: None).     
+00001760: 2020 2041 206c 6162 656c 2066 6f72 2074     A label for t
+00001770: 6865 2063 6f6c 6f72 6261 722e 0a20 2020  he colorbar..   
+00001780: 206c 6179 6f75 7420 3a20 7374 722c 206f   layout : str, o
+00001790: 7074 696f 6e61 6c20 2864 6566 6175 6c74  ptional (default
+000017a0: 3a20 7261 6e64 6f6d 206f 7220 7370 6174  : random or spat
+000017b0: 6961 6c20 706f 7369 7469 6f6e 7329 0a20  ial positions). 
+000017c0: 2020 2020 2020 204e 616d 6520 6f66 2061         Name of a
+000017d0: 2073 7461 6e64 6172 6420 6c61 796f 7574   standard layout
+000017e0: 2074 6f20 7374 7275 6374 7572 6520 7468   to structure th
+000017f0: 6520 6e65 7477 6f72 6b2e 2041 7661 696c  e network. Avail
+00001800: 6162 6c65 206c 6179 6f75 7473 0a20 2020  able layouts.   
+00001810: 2020 2020 2061 7265 3a20 2263 6972 6375       are: "circu
+00001820: 6c61 7222 206f 7220 2272 616e 646f 6d22  lar" or "random"
+00001830: 2e20 4966 206e 6f20 6c61 796f 7574 2069  . If no layout i
+00001840: 7320 7072 6f76 6964 6564 2061 6e64 2074  s provided and t
+00001850: 6865 206e 6574 776f 726b 0a20 2020 2020  he network.     
+00001860: 2020 2069 7320 7370 6174 6961 6c2c 2074     is spatial, t
+00001870: 6865 6e20 6e6f 6465 2070 6f73 6974 696f  hen node positio
+00001880: 6e73 2077 696c 6c20 6265 2075 7365 6420  ns will be used 
+00001890: 6279 2064 6566 6175 6c74 2e0a 2020 2020  by default..    
+000018a0: 7368 6f77 203a 2062 6f6f 6c2c 206f 7074  show : bool, opt
+000018b0: 696f 6e61 6c20 2864 6566 6175 6c74 3a20  ional (default: 
+000018c0: 5472 7565 290a 2020 2020 2020 2020 4469  True).        Di
+000018d0: 7370 6c61 7920 7468 6520 706c 6f74 2069  splay the plot i
+000018e0: 6d6d 6564 6961 7465 6c79 2e0a 2020 2020  mmediately..    
+000018f0: 2a2a 6b77 6172 6773 203a 2064 6963 740a  **kwargs : dict.
+00001900: 2020 2020 2020 2020 4f70 7469 6f6e 616c          Optional
+00001910: 206b 6579 776f 7264 2061 7267 756d 656e   keyword argumen
+00001920: 7473 2e0a 0a20 2020 2020 2020 203d 3d3d  ts...        ===
+00001930: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d20 203d  =============  =
+00001940: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00001950: 3d20 203d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  =  =============
+00001960: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00001970: 3d3d 3d3d 0a20 2020 2020 2020 2020 2020  ====.           
+00001980: 2020 204e 616d 6520 2020 2020 2020 2020     Name         
+00001990: 2020 2020 2020 5479 7065 2020 2020 2020        Type      
+000019a0: 2020 2020 2020 5075 7270 6f73 6520 616e        Purpose an
+000019b0: 6420 706f 7373 6962 6c65 2076 616c 7565  d possible value
+000019c0: 730a 2020 2020 2020 2020 3d3d 3d3d 3d3d  s.        ======
+000019d0: 3d3d 3d3d 3d3d 3d3d 3d3d 2020 3d3d 3d3d  ==========  ====
+000019e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 2020  ==============  
+000019f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00001a00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00001a10: 3d0a 2020 2020 2020 2020 2020 2020 2020  =.              
+00001a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001a30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001a40: 4465 7369 7265 6420 6e6f 6465 2063 6f6c  Desired node col
+00001a50: 6f72 6d61 7020 2864 6566 6175 6c74 2069  ormap (default i
+00001a60: 730a 2020 2020 2020 2020 6e6f 6465 5f63  s.        node_c
+00001a70: 6d61 7020 2020 2020 2020 2020 7374 7220  map         str 
+00001a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001a90: 226d 6167 6d61 2220 666f 7220 636f 6e74  "magma" for cont
+00001aa0: 696e 756f 7573 2076 6172 6961 626c 6573  inuous variables
+00001ab0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00001ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ad0: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+00001ae0: 6e64 2022 5365 7431 2220 666f 7220 6772  nd "Set1" for gr
+00001af0: 6f75 7073 290a 2020 2020 2020 2020 2d2d  oups).        --
+00001b00: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2020  --------------  
+00001b10: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00001b20: 2d2d 2020 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  --  ------------
+00001b30: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00001b40: 2d2d 2d2d 2d0a 2020 2020 2020 2020 7469  -----.        ti
+00001b50: 746c 6520 2020 2020 2020 2020 2020 2020  tle             
+00001b60: 7374 7220 2020 2020 2020 2020 2020 2020  str             
+00001b70: 2020 2020 5469 746c 6520 6f66 2074 6865      Title of the
+00001b80: 2070 6c6f 740a 2020 2020 2020 2020 2d2d   plot.        --
+00001b90: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2020  --------------  
+00001ba0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00001bb0: 2d2d 2020 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  --  ------------
+00001bc0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00001bd0: 2d2d 2d2d 2d0a 2020 2020 2020 2020 6d61  -----.        ma
+00001be0: 785f 2a20 2020 2020 2020 2020 2020 2020  x_*             
+00001bf0: 666c 6f61 7420 2020 2020 2020 2020 2020  float           
+00001c00: 2020 2020 4d61 7869 6d75 6d20 7661 6c75      Maximum valu
+00001c10: 6520 666f 7220 606e 7369 7a65 6020 6f72  e for `nsize` or
+00001c20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00001c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001c40: 2020 2020 2020 2020 2020 2020 2020 2060                 `
+00001c50: 6573 697a 6560 0a20 2020 2020 2020 202d  esize`.        -
+00001c60: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d20  --------------- 
+00001c70: 202d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d   ---------------
+00001c80: 2d2d 2d20 202d 2d2d 2d2d 2d2d 2d2d 2d2d  ---  -----------
+00001c90: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00001ca0: 2d2d 2d2d 2d2d 0a20 2020 2020 2020 206d  ------.        m
+00001cb0: 696e 5f2a 2020 2020 2020 2020 2020 2020  in_*            
+00001cc0: 2066 6c6f 6174 2020 2020 2020 2020 2020   float          
+00001cd0: 2020 2020 204d 696e 696d 756d 2076 616c       Minimum val
+00001ce0: 7565 2066 6f72 2060 6e73 697a 6560 206f  ue for `nsize` o
+00001cf0: 720a 2020 2020 2020 2020 2020 2020 2020  r.              
+00001d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001d20: 6065 7369 7a65 600a 2020 2020 2020 2020  `esize`.        
+00001d30: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00001d40: 2020 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d    --------------
+00001d50: 2d2d 2d2d 2020 2d2d 2d2d 2d2d 2d2d 2d2d  ----  ----------
+00001d60: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00001d70: 2d2d 2d2d 2d2d 2d0a 2020 2020 2020 2020  -------.        
+00001d80: 6e61 6c70 6861 2020 2020 2020 2020 2020  nalpha          
+00001d90: 2020 666c 6f61 7420 2020 2020 2020 2020    float         
+00001da0: 2020 2020 2020 4e6f 6465 206f 7061 6369        Node opaci
+00001db0: 7479 2069 6e20 5b30 2c20 315d 602c 2064  ty in [0, 1]`, d
+00001dc0: 6566 6175 6c74 2031 0a20 2020 2020 2020  efault 1.       
+00001dd0: 202d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d   ---------------
+00001de0: 2d20 202d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  -  -------------
+00001df0: 2d2d 2d2d 2d20 202d 2d2d 2d2d 2d2d 2d2d  -----  ---------
+00001e00: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00001e10: 2d2d 2d2d 2d2d 2d2d 0a20 2020 2020 2020  --------.       
+00001e20: 2065 616c 7068 6120 2020 2020 2020 2020   ealpha         
+00001e30: 2020 2066 6c6f 6174 2020 2020 2020 2020     float        
+00001e40: 2020 2020 2020 2045 6467 6520 6f70 6163         Edge opac
+00001e50: 6974 792c 2064 6566 6175 6c74 2030 2e35  ity, default 0.5
+00001e60: 0a20 2020 2020 2020 202d 2d2d 2d2d 2d2d  .        -------
+00001e70: 2d2d 2d2d 2d2d 2d2d 2d20 202d 2d2d 2d2d  ---------  -----
+00001e80: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d20 202d  -------------  -
+00001e90: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00001ea0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00001eb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00001ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ed0: 2020 2020 2020 2020 2020 2020 2020 2043                 C
+00001ee0: 6f6c 6f72 206f 6620 7468 6520 626f 7264  olor of the bord
+00001ef0: 6572 2066 6f72 206e 6f64 6573 2028 6e29  er for nodes (n)
+00001f00: 0a20 2020 2020 2020 202a 626f 7264 6572  .        *border
+00001f10: 5f63 6f6c 6f72 2020 2020 2063 6f6c 6f72  _color     color
+00001f20: 2020 2020 2020 2020 2020 2020 2020 206f                 o
+00001f30: 7220 6564 6765 7320 2865 292e 0a20 2020  r edges (e)..   
+00001f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001f60: 2020 2020 2020 2020 2020 2044 6566 6175             Defau
+00001f70: 6c74 2074 6f20 626c 6163 6b2e 0a20 2020  lt to black..   
+00001f80: 2020 2020 202d 2d2d 2d2d 2d2d 2d2d 2d2d       -----------
+00001f90: 2d2d 2d2d 2d20 202d 2d2d 2d2d 2d2d 2d2d  -----  ---------
+00001fa0: 2d2d 2d2d 2d2d 2d2d 2d20 202d 2d2d 2d2d  ---------  -----
+00001fb0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00001fc0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a20 2020  ------------.   
+00001fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ff0: 2020 2020 2020 2020 2020 2042 6f72 6465             Borde
+00002000: 7220 7369 7a65 2066 6f72 206e 6f64 6573  r size for nodes
+00002010: 2028 6e29 206f 7220 6564 6765 730a 2020   (n) or edges.  
+00002020: 2020 2020 2020 2a62 6f72 6465 725f 7769        *border_wi
+00002030: 6474 6820 2020 2020 666c 6f61 7420 2020  dth     float   
+00002040: 2020 2020 2020 2020 2020 2020 2865 292e              (e).
+00002050: 2044 6566 6175 6c74 2074 6f20 2e35 2066   Default to .5 f
+00002060: 6f72 206e 6f64 6573 2061 6e64 0a20 2020  or nodes and.   
+00002070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002090: 2020 2020 2020 2020 2020 202e 3320 666f             .3 fo
+000020a0: 7220 6564 6765 7320 2869 6620 6066 6173  r edges (if `fas
+000020b0: 7460 2069 7320 4661 6c73 6529 2e0a 2020  t` is False)..  
+000020c0: 2020 2020 2020 2d2d 2d2d 2d2d 2d2d 2d2d        ----------
+000020d0: 2d2d 2d2d 2d2d 2020 2d2d 2d2d 2d2d 2d2d  ------  --------
+000020e0: 2d2d 2d2d 2d2d 2d2d 2d2d 2020 2d2d 2d2d  ----------  ----
+000020f0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00002100: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 2020  -------------.  
+00002110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002120: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002130: 2020 2020 2020 2020 2020 2020 5768 6574              Whet
+00002140: 6865 7220 746f 2075 7365 2073 696d 706c  her to use simpl
+00002150: 6520 6e6f 6465 7320 2874 6861 740a 2020  e nodes (that.  
+00002160: 2020 2020 2020 7369 6d70 6c65 5f6e 6f64        simple_nod
+00002170: 6573 2020 2020 2020 626f 6f6c 2020 2020  es      bool    
+00002180: 2020 2020 2020 2020 2020 2020 6172 6520              are 
+00002190: 616c 7761 7973 2074 6865 2073 616d 6520  always the same 
+000021a0: 7369 7a65 2920 6f72 0a20 2020 2020 2020  size) or.       
+000021b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000021c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000021d0: 2020 2020 2020 2070 6174 6368 6573 2028         patches (
+000021e0: 6368 616e 6765 2073 697a 6520 7769 7468  change size with
+000021f0: 207a 6f6f 6d29 2e0a 2020 2020 2020 2020   zoom)..        
+00002200: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00002210: 2020 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d    ==============
+00002220: 3d3d 3d3d 2020 3d3d 3d3d 3d3d 3d3d 3d3d  ====  ==========
+00002230: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00002240: 3d3d 3d3d 3d3d 3d0a 2020 2020 2727 270a  =======.    '''.
+00002250: 2020 2020 696d 706f 7274 206d 6174 706c      import matpl
+00002260: 6f74 6c69 622e 7079 706c 6f74 2061 7320  otlib.pyplot as 
+00002270: 706c 740a 0a20 2020 2023 2066 6967 7572  plt..    # figur
+00002280: 6520 616e 6420 6178 6573 0a20 2020 2073  e and axes.    s
+00002290: 697a 655f 696e 6368 6573 203d 2028 7369  ize_inches = (si
+000022a0: 7a65 5b30 5d2f 666c 6f61 7428 6470 6929  ze[0]/float(dpi)
+000022b0: 2c20 7369 7a65 5b31 5d2f 666c 6f61 7428  , size[1]/float(
+000022c0: 6470 6929 290a 0a20 2020 2066 6967 203d  dpi))..    fig =
+000022d0: 204e 6f6e 650a 0a20 2020 2069 6620 6178   None..    if ax
+000022e0: 6973 2069 7320 4e6f 6e65 3a0a 2020 2020  is is None:.    
+000022f0: 2020 2020 6669 6720 3d20 706c 742e 6669      fig = plt.fi
+00002300: 6775 7265 2866 6163 6563 6f6c 6f72 3d27  gure(facecolor='
+00002310: 7768 6974 6527 2c20 6669 6773 697a 653d  white', figsize=
+00002320: 7369 7a65 5f69 6e63 6865 732c 0a20 2020  size_inches,.   
+00002330: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002340: 2020 2020 2020 6470 693d 6470 6929 0a20        dpi=dpi). 
+00002350: 2020 2020 2020 2061 7869 7320 3d20 6669         axis = fi
+00002360: 672e 6164 645f 7375 6270 6c6f 7428 3131  g.add_subplot(11
+00002370: 312c 2066 7261 6d65 6f6e 3d30 2c20 6173  1, frameon=0, as
+00002380: 7065 6374 3d31 290a 2020 2020 656c 7365  pect=1).    else
+00002390: 3a0a 2020 2020 2020 2020 6669 6720 3d20  :.        fig = 
+000023a0: 6178 6973 2e67 6574 5f66 6967 7572 6528  axis.get_figure(
+000023b0: 290a 0a20 2020 2066 6967 2e70 6174 6368  )..    fig.patch
+000023c0: 2e73 6574 5f76 6973 6962 6c65 2846 616c  .set_visible(Fal
+000023d0: 7365 290a 0a20 2020 2023 2070 726f 6a65  se)..    # proje
+000023e0: 6374 696f 6e73 2066 6f72 2067 656f 6772  ctions for geogr
+000023f0: 6170 6869 6320 706c 6f74 730a 0a20 2020  aphic plots..   
+00002400: 2070 726f 6a20 3d20 6b77 6172 6773 2e67   proj = kwargs.g
+00002410: 6574 2822 7072 6f6a 222c 204e 6f6e 6529  et("proj", None)
+00002420: 0a0a 2020 2020 6b77 203d 207b 7d20 6966  ..    kw = {} if
+00002430: 2070 726f 6a20 6973 204e 6f6e 6520 656c   proj is None el
+00002440: 7365 207b 2274 7261 6e73 666f 726d 223a  se {"transform":
+00002450: 2070 726f 6a7d 0a0a 2020 2020 6966 2070   proj}..    if p
+00002460: 726f 6a20 6973 204e 6f6e 653a 0a20 2020  roj is None:.   
+00002470: 2020 2020 2061 7869 732e 7365 745f 6178       axis.set_ax
+00002480: 6973 5f6f 6666 2829 0a0a 2020 2020 706f  is_off()..    po
+00002490: 7320 3d20 4e6f 6e65 0a0a 2020 2020 2320  s = None..    # 
+000024a0: 6172 726f 7720 7374 796c 650a 2020 2020  arrow style.    
+000024b0: 6172 726f 7773 7479 6c65 203d 2022 2d7c  arrowstyle = "-|
+000024c0: 3e22 2069 6620 6e65 7477 6f72 6b2e 6973  >" if network.is
+000024d0: 5f64 6972 6563 7465 6428 2920 656c 7365  _directed() else
+000024e0: 2022 2d22 0a0a 2020 2020 2320 7265 7374   "-"..    # rest
+000024f0: 7269 6374 2073 6f75 7263 6573 2061 6e64  rict sources and
+00002500: 2074 6172 6765 7473 0a20 2020 2072 6573   targets.    res
+00002510: 7472 6963 745f 736f 7572 6365 7320 3d20  trict_sources = 
+00002520: 5f63 6f6e 7665 7274 5f74 6f5f 6e6f 6465  _convert_to_node
+00002530: 7328 7265 7374 7269 6374 5f73 6f75 7263  s(restrict_sourc
+00002540: 6573 2c0a 2020 2020 2020 2020 2020 2020  es,.            
+00002550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002560: 2020 2020 2020 2020 2020 2020 2022 7265               "re
+00002570: 7374 7269 6374 5f73 6f75 7263 6573 222c  strict_sources",
+00002580: 206e 6574 776f 726b 290a 0a20 2020 2072   network)..    r
+00002590: 6573 7472 6963 745f 7461 7267 6574 7320  estrict_targets 
+000025a0: 3d20 5f63 6f6e 7665 7274 5f74 6f5f 6e6f  = _convert_to_no
+000025b0: 6465 7328 7265 7374 7269 6374 5f74 6172  des(restrict_tar
+000025c0: 6765 7473 2c0a 2020 2020 2020 2020 2020  gets,.          
+000025d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000025e0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000025f0: 7265 7374 7269 6374 5f74 6172 6765 7473  restrict_targets
+00002600: 222c 206e 6574 776f 726b 290a 0a20 2020  ", network)..   
+00002610: 2072 6573 7472 6963 745f 6e6f 6465 7320   restrict_nodes 
+00002620: 3d20 5f63 6f6e 7665 7274 5f74 6f5f 6e6f  = _convert_to_no
+00002630: 6465 7328 7265 7374 7269 6374 5f6e 6f64  des(restrict_nod
+00002640: 6573 2c0a 2020 2020 2020 2020 2020 2020  es,.            
+00002650: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002660: 2020 2020 2020 2020 2020 2022 7265 7374             "rest
+00002670: 7269 6374 5f6e 6f64 6573 222c 206e 6574  rict_nodes", net
+00002680: 776f 726b 290a 0a20 2020 2069 6620 7265  work)..    if re
+00002690: 7374 7269 6374 5f6e 6f64 6573 2069 7320  strict_nodes is 
+000026a0: 6e6f 7420 4e6f 6e65 2061 6e64 2072 6573  not None and res
+000026b0: 7472 6963 745f 736f 7572 6365 7320 6973  trict_sources is
+000026c0: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
+000026d0: 2020 2072 6573 7472 6963 745f 736f 7572     restrict_sour
+000026e0: 6365 7320 3d20 5c0a 2020 2020 2020 2020  ces = \.        
+000026f0: 2020 2020 7365 7428 7265 7374 7269 6374      set(restrict
+00002700: 5f6e 6f64 6573 292e 696e 7465 7273 6563  _nodes).intersec
+00002710: 7469 6f6e 2872 6573 7472 6963 745f 736f  tion(restrict_so
+00002720: 7572 6365 7329 0a20 2020 2065 6c69 6620  urces).    elif 
+00002730: 7265 7374 7269 6374 5f6e 6f64 6573 2069  restrict_nodes i
+00002740: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
+00002750: 2020 2020 7265 7374 7269 6374 5f73 6f75      restrict_sou
+00002760: 7263 6573 203d 2073 6574 2872 6573 7472  rces = set(restr
+00002770: 6963 745f 6e6f 6465 7329 0a0a 2020 2020  ict_nodes)..    
+00002780: 6966 2072 6573 7472 6963 745f 6e6f 6465  if restrict_node
+00002790: 7320 6973 206e 6f74 204e 6f6e 6520 616e  s is not None an
+000027a0: 6420 7265 7374 7269 6374 5f74 6172 6765  d restrict_targe
+000027b0: 7473 2069 7320 6e6f 7420 4e6f 6e65 3a0a  ts is not None:.
+000027c0: 2020 2020 2020 2020 7265 7374 7269 6374          restrict
+000027d0: 5f74 6172 6765 7473 203d 205c 0a20 2020  _targets = \.   
+000027e0: 2020 2020 2020 2020 2073 6574 2872 6573           set(res
+000027f0: 7472 6963 745f 6e6f 6465 7329 2e69 6e74  trict_nodes).int
+00002800: 6572 7365 6374 696f 6e28 7265 7374 7269  ersection(restri
+00002810: 6374 5f74 6172 6765 7473 290a 2020 2020  ct_targets).    
+00002820: 656c 6966 2072 6573 7472 6963 745f 6e6f  elif restrict_no
+00002830: 6465 7320 6973 206e 6f74 204e 6f6e 653a  des is not None:
+00002840: 0a20 2020 2020 2020 2072 6573 7472 6963  .        restric
+00002850: 745f 7461 7267 6574 7320 3d20 7365 7428  t_targets = set(
+00002860: 7265 7374 7269 6374 5f6e 6f64 6573 290a  restrict_nodes).
+00002870: 0a20 2020 2023 2067 6574 206e 6f64 6573  .    # get nodes
+00002880: 2061 6e64 2065 6467 6573 0a20 2020 206e   and edges.    n
+00002890: 203d 206e 6574 776f 726b 2e6e 6f64 655f   = network.node_
+000028a0: 6e62 2829 2069 6620 7265 7374 7269 6374  nb() if restrict
+000028b0: 5f6e 6f64 6573 2069 7320 4e6f 6e65 205c  _nodes is None \
+000028c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000028d0: 2020 2020 2020 2020 2020 2065 6c73 6520             else 
+000028e0: 6c65 6e28 7265 7374 7269 6374 5f6e 6f64  len(restrict_nod
+000028f0: 6573 290a 0a20 2020 2061 646a 5f6d 6174  es)..    adj_mat
+00002900: 203d 206e 6574 776f 726b 2e61 646a 6163   = network.adjac
+00002910: 656e 6379 5f6d 6174 7269 7828 7765 6967  ency_matrix(weig
+00002920: 6874 733d 4e6f 6e65 290a 0a20 2020 2069  hts=None)..    i
+00002930: 6620 7265 7374 7269 6374 5f73 6f75 7263  f restrict_sourc
+00002940: 6573 2069 7320 6e6f 7420 4e6f 6e65 3a0a  es is not None:.
+00002950: 2020 2020 2020 2020 7265 6d6f 7665 203d          remove =
+00002960: 206e 702e 6172 7261 7928 0a20 2020 2020   np.array(.     
+00002970: 2020 2020 2020 205b 3120 6966 206e 6f64         [1 if nod
+00002980: 6520 6e6f 7420 696e 2072 6573 7472 6963  e not in restric
+00002990: 745f 736f 7572 6365 7320 656c 7365 2030  t_sources else 0
+000029a0: 0a20 2020 2020 2020 2020 2020 2020 666f  .             fo
+000029b0: 7220 6e6f 6465 2069 6e20 7261 6e67 6528  r node in range(
+000029c0: 6e65 7477 6f72 6b2e 6e6f 6465 5f6e 6228  network.node_nb(
+000029d0: 2929 5d2c 0a20 2020 2020 2020 2020 2020  ))],.           
+000029e0: 2064 7479 7065 3d62 6f6f 6c29 0a20 2020   dtype=bool).   
+000029f0: 2020 2020 2061 646a 5f6d 6174 5b72 656d       adj_mat[rem
+00002a00: 6f76 655d 203d 2030 0a0a 2020 2020 6966  ove] = 0..    if
+00002a10: 2072 6573 7472 6963 745f 7461 7267 6574   restrict_target
+00002a20: 7320 6973 206e 6f74 204e 6f6e 653a 0a20  s is not None:. 
+00002a30: 2020 2020 2020 2072 656d 6f76 6520 3d20         remove = 
+00002a40: 6e70 2e61 7272 6179 280a 2020 2020 2020  np.array(.      
+00002a50: 2020 2020 2020 5b31 2069 6620 6e6f 6465        [1 if node
+00002a60: 206e 6f74 2069 6e20 7265 7374 7269 6374   not in restrict
+00002a70: 5f74 6172 6765 7473 2065 6c73 6520 300a  _targets else 0.
+00002a80: 2020 2020 2020 2020 2020 2020 2066 6f72               for
+00002a90: 206e 6f64 6520 696e 2072 616e 6765 286e   node in range(n
+00002aa0: 6574 776f 726b 2e6e 6f64 655f 6e62 2829  etwork.node_nb()
+00002ab0: 295d 2c0a 2020 2020 2020 2020 2020 2020  )],.            
+00002ac0: 6474 7970 653d 626f 6f6c 290a 2020 2020  dtype=bool).    
+00002ad0: 2020 2020 6164 6a5f 6d61 745b 3a2c 2072      adj_mat[:, r
+00002ae0: 656d 6f76 655d 203d 2030 0a0a 2020 2020  emove] = 0..    
+00002af0: 6564 6765 7320 3d20 286e 702e 6172 7261  edges = (np.arra
+00002b00: 7928 6164 6a5f 6d61 742e 6e6f 6e7a 6572  y(adj_mat.nonzer
+00002b10: 6f28 2929 2e54 2069 6620 7265 7374 7269  o()).T if restri
+00002b20: 6374 5f65 6467 6573 2069 7320 4e6f 6e65  ct_edges is None
+00002b30: 2065 6c73 650a 2020 2020 2020 2020 2020   else.          
+00002b40: 2020 206e 702e 6173 6172 7261 7928 7265     np.asarray(re
+00002b50: 7374 7269 6374 5f65 6467 6573 2929 0a0a  strict_edges))..
+00002b60: 2020 2020 6520 3d20 6c65 6e28 6564 6765      e = len(edge
+00002b70: 7329 0a0a 2020 2020 6465 6369 6d61 7465  s)..    decimate
+00002b80: 5f63 6f6e 6e65 6374 696f 6e73 203d 2031  _connections = 1
+00002b90: 2069 6620 6465 6369 6d61 7465 5f63 6f6e   if decimate_con
+00002ba0: 6e65 6374 696f 6e73 2069 7320 4e6f 6e65  nections is None
+00002bb0: 5c0a 2020 2020 2020 2020 2020 2020 2020  \.              
+00002bc0: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+00002bd0: 6520 6465 6369 6d61 7465 5f63 6f6e 6e65  e decimate_conne
+00002be0: 6374 696f 6e73 0a0a 2020 2020 2320 6765  ctions..    # ge
+00002bf0: 7420 706f 7369 7469 6f6e 7320 2861 6c6c  t positions (all
+00002c00: 2063 6173 6573 2065 7863 6570 7420 6369   cases except ci
+00002c10: 7263 756c 6172 206c 6179 6f75 7420 7768  rcular layout wh
+00002c20: 6963 6820 6973 2064 6f6e 6520 6265 6c6f  ich is done belo
+00002c30: 7720 7468 650a 2020 2020 2320 6e6f 6465  w the.    # node
+00002c40: 2073 697a 6573 0a20 2020 2070 6f73 203d   sizes.    pos =
+00002c50: 204e 6f6e 650a 0a20 2020 2073 7061 7469   None..    spati
+00002c60: 616c 202a 3d20 6e65 7477 6f72 6b2e 6973  al *= network.is
+00002c70: 5f73 7061 7469 616c 2829 0a0a 2020 2020  _spatial()..    
+00002c80: 6966 206e 6f6e 7374 7269 6e67 5f63 6f6e  if nonstring_con
+00002c90: 7461 696e 6572 286c 6179 6f75 7429 3a0a  tainer(layout):.
+00002ca0: 2020 2020 2020 2020 6173 7365 7274 206e          assert n
+00002cb0: 702e 7368 6170 6528 6c61 796f 7574 2920  p.shape(layout) 
+00002cc0: 3d3d 2028 6e2c 2032 292c 2022 4f6e 6520  == (n, 2), "One 
+00002cd0: 706f 7369 7469 6f6e 2070 6572 206e 6f64  position per nod
+00002ce0: 6520 6973 2072 6571 7569 7265 642e 220a  e is required.".
+00002cf0: 2020 2020 2020 2020 706f 7320 3d20 6e70          pos = np
+00002d00: 2e61 7361 7272 6179 286c 6179 6f75 7429  .asarray(layout)
+00002d10: 2e61 7374 7970 6528 666c 6f61 7429 0a20  .astype(float). 
+00002d20: 2020 2020 2020 2073 7061 7469 616c 203d         spatial =
+00002d30: 2046 616c 7365 0a20 2020 2065 6c69 6620   False.    elif 
+00002d40: 7370 6174 6961 6c3a 0a20 2020 2020 2020  spatial:.       
+00002d50: 2069 6620 7368 6f77 5f65 6e76 6972 6f6e   if show_environ
+00002d60: 6d65 6e74 3a0a 2020 2020 2020 2020 2020  ment:.          
+00002d70: 2020 6e6e 6774 2e67 656f 6d65 7472 792e    nngt.geometry.
+00002d80: 706c 6f74 2e70 6c6f 745f 7368 6170 6528  plot.plot_shape(
+00002d90: 6e65 7477 6f72 6b2e 7368 6170 652c 2061  network.shape, a
+00002da0: 7869 733d 6178 6973 2c20 7368 6f77 3d46  xis=axis, show=F
+00002db0: 616c 7365 290a 0a20 2020 2020 2020 206e  alse)..        n
+00002dc0: 6f64 6573 203d 204e 6f6e 6520 6966 2072  odes = None if r
+00002dd0: 6573 7472 6963 745f 6e6f 6465 7320 6973  estrict_nodes is
+00002de0: 204e 6f6e 6520 656c 7365 206c 6973 7428   None else list(
+00002df0: 7265 7374 7269 6374 5f6e 6f64 6573 290a  restrict_nodes).
+00002e00: 0a20 2020 2020 2020 2070 6f73 203d 206e  .        pos = n
+00002e10: 6574 776f 726b 2e67 6574 5f70 6f73 6974  etwork.get_posit
+00002e20: 696f 6e73 286e 6f64 6573 3d6e 6f64 6573  ions(nodes=nodes
+00002e30: 292e 6173 7479 7065 2866 6c6f 6174 290a  ).astype(float).
+00002e40: 2020 2020 656c 6966 206c 6179 6f75 7420      elif layout 
+00002e50: 696e 2028 4e6f 6e65 2c20 2272 616e 646f  in (None, "rando
+00002e60: 6d22 293a 0a20 2020 2020 2020 2070 6f73  m"):.        pos
+00002e70: 203d 206e 702e 7261 6e64 6f6d 2e75 6e69   = np.random.uni
+00002e80: 666f 726d 2873 697a 653d 286e 2c20 3229  form(size=(n, 2)
+00002e90: 2920 2d20 302e 350a 0a20 2020 2020 2020  ) - 0.5..       
+00002ea0: 2070 6f73 5b3a 2c20 305d 202a 3d20 7369   pos[:, 0] *= si
+00002eb0: 7a65 5b30 5d0a 2020 2020 2020 2020 706f  ze[0].        po
+00002ec0: 735b 3a2c 2031 5d20 2a3d 2073 697a 655b  s[:, 1] *= size[
+00002ed0: 315d 0a20 2020 2065 6c69 6620 6c61 796f  1].    elif layo
+00002ee0: 7574 206e 6f74 2069 6e20 2822 6369 7263  ut not in ("circ
+00002ef0: 756c 6172 222c 2022 7261 6e64 6f6d 222c  ular", "random",
+00002f00: 204e 6f6e 6529 3a0a 2020 2020 2020 2020   None):.        
+00002f10: 7261 6973 6520 5661 6c75 6545 7272 6f72  raise ValueError
+00002f20: 2822 556e 6b6e 6f77 6e20 606c 6179 6f75  ("Unknown `layou
+00002f30: 7460 3a20 7b7d 222e 666f 726d 6174 286c  t`: {}".format(l
+00002f40: 6179 6f75 7429 290a 0a20 2020 2023 2067  ayout))..    # g
+00002f50: 6574 206e 6f64 6520 616e 6420 6564 6765  et node and edge
+00002f60: 2073 697a 6520 6578 7472 656d 6120 616e   size extrema an
+00002f70: 6420 6472 6177 696e 6720 7072 6f70 6572  d drawing proper
+00002f80: 7469 6573 0a20 2020 2073 696d 706c 655f  ties.    simple_
+00002f90: 6e6f 6465 7320 3d20 6b77 6172 6773 2e67  nodes = kwargs.g
+00002fa0: 6574 2822 7369 6d70 6c65 5f6e 6f64 6573  et("simple_nodes
+00002fb0: 222c 2066 6173 7429 0a0a 2020 2020 6469  ", fast)..    di
+00002fc0: 7374 203d 206d 696e 2873 697a 6529 0a0a  st = min(size)..
+00002fd0: 2020 2020 6966 2070 6f73 2069 7320 6e6f      if pos is no
+00002fe0: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
+00002ff0: 6469 7374 203d 206d 696e 2870 6f73 5b3a  dist = min(pos[:
+00003000: 2c20 305d 2e6d 6178 2829 202d 2070 6f73  , 0].max() - pos
+00003010: 5b3a 2c20 305d 2e6d 696e 2829 2c0a 2020  [:, 0].min(),.  
+00003020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003030: 2070 6f73 5b3a 2c20 315d 2e6d 6178 2829   pos[:, 1].max()
+00003040: 202d 2070 6f73 5b3a 2c20 315d 2e6d 696e   - pos[:, 1].min
+00003050: 2829 290a 0a20 2020 206d 6178 5f6e 7369  ())..    max_nsi
+00003060: 7a65 203d 206b 7761 7267 732e 6765 7428  ze = kwargs.get(
+00003070: 226d 6178 5f6e 7369 7a65 222c 2031 3030  "max_nsize", 100
+00003080: 2069 6620 7369 6d70 6c65 5f6e 6f64 6573   if simple_nodes
+00003090: 2065 6c73 6520 302e 3035 2a64 6973 7429   else 0.05*dist)
+000030a0: 0a20 2020 206d 696e 5f6e 7369 7a65 203d  .    min_nsize =
+000030b0: 206b 7761 7267 732e 6765 7428 226d 696e   kwargs.get("min
+000030c0: 5f6e 7369 7a65 222c 2030 2e32 2a6d 6178  _nsize", 0.2*max
+000030d0: 5f6e 7369 7a65 290a 0a20 2020 206d 6178  _nsize)..    max
+000030e0: 5f65 7369 7a65 203d 206b 7761 7267 732e  _esize = kwargs.
+000030f0: 6765 7428 226d 6178 5f65 7369 7a65 222c  get("max_esize",
+00003100: 2035 2069 6620 6661 7374 2065 6c73 6520   5 if fast else 
+00003110: 302e 3035 2a64 6973 7429 0a20 2020 206d  0.05*dist).    m
+00003120: 696e 5f65 7369 7a65 203d 206b 7761 7267  in_esize = kwarg
+00003130: 732e 6765 7428 226d 696e 5f65 7369 7a65  s.get("min_esize
+00003140: 222c 2030 290a 0a20 2020 2069 6620 6661  ", 0)..    if fa
+00003150: 7374 3a0a 2020 2020 2020 2020 7369 6d70  st:.        simp
+00003160: 6c65 5f6e 6f64 6573 203d 2054 7275 650a  le_nodes = True.
+00003170: 2020 2020 2020 2020 6d61 785f 6e73 697a          max_nsiz
+00003180: 6520 2a3d 2030 2e30 312a 6d69 6e28 7369  e *= 0.01*min(si
+00003190: 7a65 290a 2020 2020 2020 2020 6d69 6e5f  ze).        min_
+000031a0: 6e73 697a 6520 2a3d 2030 2e30 312a 6d69  nsize *= 0.01*mi
+000031b0: 6e28 7369 7a65 290a 2020 2020 2020 2020  n(size).        
+000031c0: 6d61 785f 6573 697a 6520 2a3d 2030 2e30  max_esize *= 0.0
+000031d0: 3035 2a6d 696e 2873 697a 6529 0a20 2020  05*min(size).   
+000031e0: 2020 2020 206d 696e 5f65 7369 7a65 202a       min_esize *
+000031f0: 3d20 302e 3030 352a 6d69 6e28 7369 7a65  = 0.005*min(size
+00003200: 290a 2020 2020 2020 2020 7468 7265 7368  ).        thresh
+00003210: 6f6c 6420 2a3d 2030 2e30 3035 2a6d 696e  old *= 0.005*min
+00003220: 2873 697a 6529 0a0a 2020 2020 6966 2065  (size)..    if e
+00003230: 7369 7a65 2069 7320 4e6f 6e65 3a0a 2020  size is None:.  
+00003240: 2020 2020 2020 6573 697a 6520 3d20 302e        esize = 0.
+00003250: 352a 6d61 785f 6573 697a 650a 0a20 2020  5*max_esize..   
+00003260: 2023 2063 6972 6375 6c61 7220 6c61 796f   # circular layo
+00003270: 7574 0a20 2020 2069 6620 6973 696e 7374  ut.    if isinst
+00003280: 616e 6365 286c 6179 6f75 742c 2073 7472  ance(layout, str
+00003290: 2920 616e 6420 6c61 796f 7574 203d 3d20  ) and layout == 
+000032a0: 2263 6972 6375 6c61 7222 3a0a 2020 2020  "circular":.    
+000032b0: 2020 2020 706f 7320 3d20 5f63 6972 6375      pos = _circu
+000032c0: 6c61 725f 6c61 796f 7574 286e 6574 776f  lar_layout(netwo
+000032d0: 726b 2c20 6d61 785f 6e73 697a 6529 0a0a  rk, max_nsize)..
+000032e0: 2020 2020 2320 6368 6563 6b20 6178 6973      # check axis
+000032f0: 2065 7874 656e 740a 2020 2020 786d 6178   extent.    xmax
+00003300: 203d 2070 6f73 5b3a 2c20 305d 2e6d 6178   = pos[:, 0].max
+00003310: 2829 0a20 2020 2078 6d69 6e20 3d20 706f  ().    xmin = po
+00003320: 735b 3a2c 2030 5d2e 6d69 6e28 290a 2020  s[:, 0].min().  
+00003330: 2020 796d 6178 203d 2070 6f73 5b3a 2c20    ymax = pos[:, 
+00003340: 315d 2e6d 6178 2829 0a20 2020 2079 6d69  1].max().    ymi
+00003350: 6e20 3d20 706f 735b 3a2c 2031 5d2e 6d69  n = pos[:, 1].mi
+00003360: 6e28 290a 0a20 2020 2068 6569 6768 7420  n()..    height 
+00003370: 3d20 796d 6178 202d 2079 6d69 6e0a 2020  = ymax - ymin.  
+00003380: 2020 7769 6474 6820 3d20 786d 6178 202d    width = xmax -
+00003390: 2078 6d69 6e0a 0a20 2020 2069 6620 6e6f   xmin..    if no
+000033a0: 7420 7368 6f77 5f65 6e76 6972 6f6e 6d65  t show_environme
+000033b0: 6e74 206f 7220 6e6f 7420 7370 6174 6961  nt or not spatia
+000033c0: 6c20 6f72 2070 726f 6a20 6973 206e 6f74  l or proj is not
+000033d0: 204e 6f6e 653a 0a20 2020 2020 2020 2023   None:.        #
+000033e0: 2061 7869 732e 6765 745f 6461 7461 2829   axis.get_data()
+000033f0: 0a20 2020 2020 2020 205f 7365 745f 6178  .        _set_ax
+00003400: 5f6c 696d 2861 7869 732c 2078 6d61 782c  _lim(axis, xmax,
+00003410: 2078 6d69 6e2c 2079 6d61 782c 2079 6d69   xmin, ymax, ymi
+00003420: 6e2c 2068 6569 6768 742c 2077 6964 7468  n, height, width
+00003430: 2c20 786c 696d 732c 2079 6c69 6d73 2c0a  , xlims, ylims,.
+00003440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003450: 2020 2020 6d61 785f 6e73 697a 652c 2066      max_nsize, f
+00003460: 6173 7429 0a0a 2020 2020 2320 6765 7420  ast)..    # get 
+00003470: 6e6f 6465 2061 6e64 2065 6467 6520 7368  node and edge sh
+00003480: 6170 652f 7369 7a65 2070 726f 7065 7274  ape/size propert
+00003490: 6965 730a 2020 2020 6d61 726b 6572 732c  ies.    markers,
+000034a0: 206e 7369 7a65 2c20 6573 697a 6520 3d20   nsize, esize = 
+000034b0: 5f6e 6f64 655f 6564 6765 5f73 6861 7065  _node_edge_shape
+000034c0: 5f73 697a 6528 0a20 2020 2020 2020 206e  _size(.        n
+000034d0: 6574 776f 726b 2c20 6e73 6861 7065 2c20  etwork, nshape, 
+000034e0: 6e73 697a 652c 206d 6178 5f6e 7369 7a65  nsize, max_nsize
+000034f0: 2c20 6d69 6e5f 6e73 697a 652c 2065 7369  , min_nsize, esi
+00003500: 7a65 2c20 6d61 785f 6573 697a 652c 0a20  ze, max_esize,. 
+00003510: 2020 2020 2020 206d 696e 5f65 7369 7a65         min_esize
+00003520: 2c20 7265 7374 7269 6374 5f6e 6f64 6573  , restrict_nodes
+00003530: 2c20 6564 6765 732c 2073 697a 652c 2074  , edges, size, t
+00003540: 6872 6573 686f 6c64 2c0a 2020 2020 2020  hreshold,.      
+00003550: 2020 7369 6d70 6c65 5f6e 6f64 6573 3d73    simple_nodes=s
+00003560: 696d 706c 655f 6e6f 6465 7329 0a0a 2020  imple_nodes)..  
+00003570: 2020 2320 6e6f 6465 2063 6f6c 6f72 2069    # node color i
+00003580: 6e66 6f72 6d61 7469 6f6e 0a20 2020 2069  nformation.    i
+00003590: 6620 6e63 6f6c 6f72 2069 7320 4e6f 6e65  f ncolor is None
+000035a0: 3a0a 2020 2020 2020 2020 6966 206e 6574  :.        if net
+000035b0: 776f 726b 2e73 7472 7563 7475 7265 2069  work.structure i
+000035c0: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
+000035d0: 2020 2020 2020 2020 6e63 6f6c 6f72 203d          ncolor =
+000035e0: 2022 6772 6f75 7022 0a20 2020 2020 2020   "group".       
+000035f0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00003600: 2020 206e 636f 6c6f 7220 3d20 2272 220a     ncolor = "r".
+00003610: 0a20 2020 206e 626f 7264 6572 5f63 6f6c  .    nborder_col
+00003620: 6f72 203d 206b 7761 7267 732e 6765 7428  or = kwargs.get(
+00003630: 226e 626f 7264 6572 5f63 6f6c 6f72 222c  "nborder_color",
+00003640: 2022 6b22 290a 2020 2020 6e62 6f72 6465   "k").    nborde
+00003650: 725f 7769 6474 6820 3d20 6b77 6172 6773  r_width = kwargs
+00003660: 2e67 6574 2822 6e62 6f72 6465 725f 7769  .get("nborder_wi
+00003670: 6474 6822 2c20 302e 3529 0a0a 2020 2020  dth", 0.5)..    
+00003680: 6562 6f72 6465 725f 636f 6c6f 7220 3d20  eborder_color = 
+00003690: 6b77 6172 6773 2e67 6574 2822 6562 6f72  kwargs.get("ebor
+000036a0: 6465 725f 636f 6c6f 7222 2c20 226b 2229  der_color", "k")
+000036b0: 0a20 2020 2065 626f 7264 6572 5f77 6964  .    eborder_wid
+000036c0: 7468 203d 206b 7761 7267 732e 6765 7428  th = kwargs.get(
+000036d0: 2265 626f 7264 6572 5f77 6964 7468 222c  "eborder_width",
+000036e0: 2030 2e33 290a 0a20 2020 2064 6973 6372   0.3)..    discr
+000036f0: 6574 655f 636f 6c6f 7273 2c20 6465 6661  ete_colors, defa
+00003700: 756c 745f 6e63 6d61 7020 3d20 5f67 6574  ult_ncmap = _get
+00003710: 5f6e 636d 6170 286e 6574 776f 726b 2c20  _ncmap(network, 
+00003720: 6e63 6f6c 6f72 290a 0a20 2020 206e 616c  ncolor)..    nal
+00003730: 7068 6120 3d20 6b77 6172 6773 2e67 6574  pha = kwargs.get
+00003740: 2822 6e61 6c70 6861 222c 2031 290a 2020  ("nalpha", 1).  
+00003750: 2020 6561 6c70 6861 203d 206b 7761 7267    ealpha = kwarg
+00003760: 732e 6765 7428 2265 616c 7068 6122 2c20  s.get("ealpha", 
+00003770: 302e 3529 0a0a 2020 2020 6e63 6d61 7020  0.5)..    ncmap 
+00003780: 3d20 6765 745f 636d 6170 286b 7761 7267  = get_cmap(kwarg
+00003790: 732e 6765 7428 226e 6f64 655f 636d 6170  s.get("node_cmap
+000037a0: 222c 2064 6566 6175 6c74 5f6e 636d 6170  ", default_ncmap
+000037b0: 2929 0a0a 2020 2020 6e6f 6465 5f63 6f6c  ))..    node_col
+000037c0: 6f72 2c20 6e74 6963 6b73 2c20 6e74 6963  or, nticks, ntic
+000037d0: 6b73 6c61 6265 6c73 2c20 6e6c 6162 656c  kslabels, nlabel
+000037e0: 203d 205f 6e6f 6465 5f63 6f6c 6f72 280a   = _node_color(.
+000037f0: 2020 2020 2020 2020 6e65 7477 6f72 6b2c          network,
+00003800: 2072 6573 7472 6963 745f 6e6f 6465 732c   restrict_nodes,
+00003810: 206e 636f 6c6f 722c 2064 6973 6372 6574   ncolor, discret
+00003820: 655f 636f 6c6f 7273 3d64 6973 6372 6574  e_colors=discret
+00003830: 655f 636f 6c6f 7273 290a 0a20 2020 2069  e_colors)..    i
+00003840: 6620 6e6f 6e73 7472 696e 675f 636f 6e74  f nonstring_cont
+00003850: 6169 6e65 7228 6e63 6f6c 6f72 2920 616e  ainer(ncolor) an
+00003860: 6420 6e6f 7420 6c65 6e28 6e63 6f6c 6f72  d not len(ncolor
+00003870: 2920 696e 2028 332c 2034 293a 0a20 2020  ) in (3, 4):.   
+00003880: 2020 2020 2061 7373 6572 7420 6c65 6e28       assert len(
+00003890: 6e63 6f6c 6f72 2920 3d3d 206e 2c20 2246  ncolor) == n, "F
+000038a0: 6f72 2063 6f6c 6f72 2061 7272 6179 732c  or color arrays,
+000038b0: 206f 6e65 2022 202b 5c0a 2020 2020 2020   one " +\.      
+000038c0: 2020 2020 2020 2263 6f6c 6f72 2070 6572        "color per
+000038d0: 206e 6f64 6520 6973 2072 6571 7569 7265   node is require
+000038e0: 642e 220a 2020 2020 2020 2020 6e63 6f6c  d.".        ncol
+000038f0: 6f72 203d 2022 6375 7374 6f6d 220a 0a20  or = "custom".. 
+00003900: 2020 2063 203d 206e 6f64 655f 636f 6c6f     c = node_colo
+00003910: 720a 0a20 2020 2069 6620 6e6f 7420 6e6f  r..    if not no
+00003920: 6e73 7472 696e 675f 636f 6e74 6169 6e65  nstring_containe
+00003930: 7228 6e62 6f72 6465 725f 636f 6c6f 7229  r(nborder_color)
+00003940: 3a0a 2020 2020 2020 2020 6e62 6f72 6465  :.        nborde
+00003950: 725f 636f 6c6f 7220 3d20 6e70 2e72 6570  r_color = np.rep
+00003960: 6561 7428 6e62 6f72 6465 725f 636f 6c6f  eat(nborder_colo
+00003970: 722c 206e 290a 0a20 2020 2023 2070 7265  r, n)..    # pre
+00003980: 7061 7265 206e 6f64 6520 636f 6c6f 7273  pare node colors
+00003990: 0a20 2020 2069 6620 6e6f 6e73 7472 696e  .    if nonstrin
+000039a0: 675f 636f 6e74 6169 6e65 7228 6329 2061  g_container(c) a
+000039b0: 6e64 206e 6f74 2069 7369 6e73 7461 6e63  nd not isinstanc
+000039c0: 6528 635b 305d 2c20 2873 7472 2c20 6e70  e(c[0], (str, np
+000039d0: 2e6e 6461 7272 6179 2929 3a0a 2020 2020  .ndarray)):.    
+000039e0: 2020 2020 2320 6d61 6b65 2074 6865 2063      # make the c
+000039f0: 6f6c 6f72 6261 7220 666f 7220 7468 6520  olorbar for the 
+00003a00: 6e6f 6465 730a 2020 2020 2020 2020 636d  nodes.        cm
+00003a10: 6170 203d 206e 636d 6170 0a20 2020 2020  ap = ncmap.     
+00003a20: 2020 2063 6e6f 726d 203d 204e 6f6e 650a     cnorm = None.
+00003a30: 0a20 2020 2020 2020 2069 6620 6469 7363  .        if disc
+00003a40: 7265 7465 5f63 6f6c 6f72 733a 0a20 2020  rete_colors:.   
+00003a50: 2020 2020 2020 2020 2063 6d61 7020 3d20           cmap = 
+00003a60: 5f64 6973 6372 6574 655f 636d 6170 286c  _discrete_cmap(l
+00003a70: 656e 286e 7469 636b 7329 2c20 6e63 6d61  en(nticks), ncma
+00003a80: 702c 2064 6973 6372 6574 655f 636f 6c6f  p, discrete_colo
+00003a90: 7273 290a 2020 2020 2020 2020 2020 2020  rs).            
+00003aa0: 636e 6f72 6d20 3d20 4e6f 726d 616c 697a  cnorm = Normaliz
+00003ab0: 6528 6e74 6963 6b73 5b30 5d2d 302e 352c  e(nticks[0]-0.5,
+00003ac0: 206e 7469 636b 735b 2d31 5d20 2b20 302e   nticks[-1] + 0.
+00003ad0: 3529 0a20 2020 2020 2020 2065 6c73 653a  5).        else:
+00003ae0: 0a20 2020 2020 2020 2020 2020 2063 6e6f  .            cno
+00003af0: 726d 203d 204e 6f72 6d61 6c69 7a65 286e  rm = Normalize(n
+00003b00: 702e 6d69 6e28 6329 2c20 6e70 2e6d 6178  p.min(c), np.max
+00003b10: 2863 2929 0a20 2020 2020 2020 2020 2020  (c)).           
+00003b20: 2063 203d 2063 6e6f 726d 2863 290a 0a20   c = cnorm(c).. 
+00003b30: 2020 2020 2020 2069 6620 636f 6c6f 7262         if colorb
+00003b40: 6172 3a0a 2020 2020 2020 2020 2020 2020  ar:.            
+00003b50: 736d 203d 2070 6c74 2e63 6d2e 5363 616c  sm = plt.cm.Scal
+00003b60: 6172 4d61 7070 6162 6c65 2863 6d61 703d  arMappable(cmap=
+00003b70: 636d 6170 2c20 6e6f 726d 3d63 6e6f 726d  cmap, norm=cnorm
+00003b80: 290a 0a20 2020 2020 2020 2020 2020 2069  )..            i
+00003b90: 6620 6469 7363 7265 7465 5f63 6f6c 6f72  f discrete_color
+00003ba0: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
+00003bb0: 2020 2073 6d2e 7365 745f 6172 7261 7928     sm.set_array(
+00003bc0: 6e74 6963 6b73 290a 2020 2020 2020 2020  nticks).        
+00003bd0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00003be0: 2020 2020 2020 2020 2020 736d 2e73 6574            sm.set
+00003bf0: 5f61 7272 6179 2863 290a 0a20 2020 2020  _array(c)..     
+00003c00: 2020 2020 2020 2070 6c74 2e73 7562 706c         plt.subpl
+00003c10: 6f74 735f 6164 6a75 7374 2872 6967 6874  ots_adjust(right
+00003c20: 3d30 2e39 3529 0a20 2020 2020 2020 2020  =0.95).         
+00003c30: 2020 2064 6976 6964 6572 203d 206d 616b     divider = mak
+00003c40: 655f 6178 6573 5f6c 6f63 6174 6162 6c65  e_axes_locatable
+00003c50: 2861 7869 7329 0a20 2020 2020 2020 2020  (axis).         
+00003c60: 2020 2063 6178 2020 2020 203d 2064 6976     cax     = div
+00003c70: 6964 6572 2e61 7070 656e 645f 6178 6573  ider.append_axes
+00003c80: 2822 7269 6768 7422 2c20 7369 7a65 3d22  ("right", size="
+00003c90: 3525 222c 2070 6164 3d30 2e30 3529 0a0a  5%", pad=0.05)..
+00003ca0: 2020 2020 2020 2020 2020 2020 6966 2064              if d
+00003cb0: 6973 6372 6574 655f 636f 6c6f 7273 3a0a  iscrete_colors:.
+00003cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003cd0: 6362 203d 2070 6c74 2e63 6f6c 6f72 6261  cb = plt.colorba
+00003ce0: 7228 736d 2c20 7469 636b 733d 6e74 6963  r(sm, ticks=ntic
+00003cf0: 6b73 2c20 6361 783d 6361 782c 2073 6872  ks, cax=cax, shr
+00003d00: 696e 6b3d 302e 3829 0a20 2020 2020 2020  ink=0.8).       
+00003d10: 2020 2020 2020 2020 2063 622e 7365 745f           cb.set_
+00003d20: 7469 636b 6c61 6265 6c73 286e 7469 636b  ticklabels(ntick
+00003d30: 736c 6162 656c 7329 0a20 2020 2020 2020  slabels).       
+00003d40: 2020 2020 2020 2020 2069 6620 6e6c 6162           if nlab
+00003d50: 656c 3a0a 2020 2020 2020 2020 2020 2020  el:.            
+00003d60: 2020 2020 2020 2020 6362 2e73 6574 5f6c          cb.set_l
+00003d70: 6162 656c 286e 6c61 6265 6c29 0a20 2020  abel(nlabel).   
+00003d80: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+00003d90: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00003da0: 6178 2e67 7269 6428 4661 6c73 6529 0a20  ax.grid(False). 
+00003db0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00003dc0: 6220 3d20 706c 742e 636f 6c6f 7262 6172  b = plt.colorbar
+00003dd0: 2873 6d2c 2063 6178 3d63 6178 2c20 7368  (sm, cax=cax, sh
+00003de0: 7269 6e6b 3d30 2e38 290a 0a20 2020 2020  rink=0.8)..     
+00003df0: 2020 2020 2020 2020 2020 2069 6620 6362             if cb
+00003e00: 5f6c 6162 656c 2069 7320 6e6f 7420 4e6f  _label is not No
+00003e10: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
+00003e20: 2020 2020 2020 2020 6362 2e61 782e 7365          cb.ax.se
+00003e30: 745f 796c 6162 656c 2863 625f 6c61 6265  t_ylabel(cb_labe
+00003e40: 6c29 0a20 2020 2020 2020 2065 6c73 653a  l).        else:
+00003e50: 0a20 2020 2020 2020 2020 2020 2063 6d69  .            cmi
+00003e60: 6e2c 2063 6d61 7820 3d20 6e70 2e6d 696e  n, cmax = np.min
+00003e70: 2863 292c 206e 702e 6d61 7828 6329 0a0a  (c), np.max(c)..
+00003e80: 2020 2020 2020 2020 2020 2020 6966 2063              if c
+00003e90: 6d69 6e20 213d 2063 6d61 783a 0a20 2020  min != cmax:.   
+00003ea0: 2020 2020 2020 2020 2020 2020 2063 203d               c =
+00003eb0: 2028 6320 2d20 636d 696e 2920 2f20 2863   (c - cmin) / (c
+00003ec0: 6d61 7820 2d20 636d 696e 290a 0a20 2020  max - cmin)..   
+00003ed0: 2020 2020 2063 203d 2063 6d61 7028 6329       c = cmap(c)
+00003ee0: 0a20 2020 2065 6c73 653a 0a20 2020 2020  .    else:.     
+00003ef0: 2020 2069 6620 6e6f 7420 6e6f 6e73 7472     if not nonstr
+00003f00: 696e 675f 636f 6e74 6169 6e65 7228 6329  ing_container(c)
+00003f10: 2061 6e64 206e 6f74 2069 7369 6e73 7461   and not isinsta
+00003f20: 6e63 6528 632c 2073 7472 293a 0a20 2020  nce(c, str):.   
+00003f30: 2020 2020 2020 2020 206d 696e 6320 3d20           minc = 
+00003f40: 6e70 2e6d 696e 286e 6f64 655f 636f 6c6f  np.min(node_colo
+00003f50: 7229 0a0a 2020 2020 2020 2020 2020 2020  r)..            
+00003f60: 6320 3d20 6e70 2e61 7272 6179 280a 2020  c = np.array(.  
+00003f70: 2020 2020 2020 2020 2020 2020 2020 5b6e                [n
+00003f80: 636d 6170 2828 6e6f 6465 5f63 6f6c 6f72  cmap((node_color
+00003f90: 202d 206d 696e 6329 2f28 6e70 2e6d 6178   - minc)/(np.max
+00003fa0: 286e 6f64 655f 636f 6c6f 7229 202d 206d  (node_color) - m
+00003fb0: 696e 6329 295d 2a6e 290a 0a20 2020 2023  inc))]*n)..    #
+00003fc0: 2063 6865 636b 2065 6467 6520 636f 6c6f   check edge colo
+00003fd0: 720a 2020 2020 6772 6f75 705f 6261 7365  r.    group_base
+00003fe0: 6420 3d20 4661 6c73 650a 0a20 2020 2064  d = False..    d
+00003ff0: 6566 6175 6c74 5f65 636d 6170 203d 2028  efault_ecmap = (
+00004000: 7061 6c65 7474 655f 6469 7363 7265 7465  palette_discrete
+00004010: 2829 2069 6620 6e6f 7420 6e6f 6e73 7472  () if not nonstr
+00004020: 696e 675f 636f 6e74 6169 6e65 7228 6e63  ing_container(nc
+00004030: 6f6c 6f72 2920 616e 640a 2020 2020 2020  olor) and.      
+00004040: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00004050: 636f 6c6f 7220 3d3d 2022 6772 6f75 7022  color == "group"
+00004060: 2065 6c73 6520 7061 6c65 7474 655f 636f   else palette_co
+00004070: 6e74 696e 756f 7573 2829 290a 0a20 2020  ntinuous())..   
+00004080: 2069 6620 6563 6f6c 6f72 203d 3d20 2267   if ecolor == "g
+00004090: 726f 7570 7322 206f 7220 6563 6f6c 6f72  roups" or ecolor
+000040a0: 203d 3d20 2267 726f 7570 223a 0a20 2020   == "group":.   
+000040b0: 2020 2020 2069 6620 6e65 7477 6f72 6b2e       if network.
+000040c0: 7374 7275 6374 7572 6520 6973 204e 6f6e  structure is Non
+000040d0: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
+000040e0: 6169 7365 2054 7970 6545 7272 6f72 280a  aise TypeError(.
+000040f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004100: 2254 6865 2067 7261 7068 206d 7573 7420  "The graph must 
+00004110: 6861 7665 2061 2053 7472 7563 7475 7265  have a Structure
+00004120: 2f4e 6575 7261 6c50 6f70 2074 6f20 7573  /NeuralPop to us
+00004130: 6520 220a 2020 2020 2020 2020 2020 2020  e ".            
+00004140: 2020 2020 2260 6563 6f6c 6f72 3d27 6772      "`ecolor='gr
+00004150: 6f75 7073 2760 2e22 290a 0a20 2020 2020  oups'`.")..     
+00004160: 2020 2067 726f 7570 5f62 6173 6564 203d     group_based =
+00004170: 2054 7275 650a 2020 2020 2020 2020 6563   True.        ec
+00004180: 6f6c 6f72 203d 207b 7d0a 0a20 2020 2020  olor = {}..     
+00004190: 2020 2066 6f72 2069 2c20 7372 6320 696e     for i, src in
+000041a0: 2065 6e75 6d65 7261 7465 286e 6574 776f   enumerate(netwo
+000041b0: 726b 2e73 7472 7563 7475 7265 293a 0a20  rk.structure):. 
+000041c0: 2020 2020 2020 2020 2020 2069 6620 6e65             if ne
+000041d0: 7477 6f72 6b2e 7374 7275 6374 7572 655b  twork.structure[
+000041e0: 7372 635d 2e69 6473 3a0a 2020 2020 2020  src].ids:.      
+000041f0: 2020 2020 2020 2020 2020 6964 7831 203d            idx1 =
+00004200: 206e 6574 776f 726b 2e73 7472 7563 7475   network.structu
+00004210: 7265 5b73 7263 5d2e 6964 735b 305d 0a20  re[src].ids[0]. 
+00004220: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+00004230: 6f72 206a 2c20 7467 7420 696e 2065 6e75  or j, tgt in enu
+00004240: 6d65 7261 7465 286e 6574 776f 726b 2e73  merate(network.s
+00004250: 7472 7563 7475 7265 293a 0a20 2020 2020  tructure):.     
+00004260: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00004270: 6620 6e65 7477 6f72 6b2e 7374 7275 6374  f network.struct
+00004280: 7572 655b 7467 745d 2e69 6473 3a0a 2020  ure[tgt].ids:.  
+00004290: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000042a0: 2020 2020 2020 6964 7832 203d 206e 6574        idx2 = net
+000042b0: 776f 726b 2e73 7472 7563 7475 7265 5b74  work.structure[t
+000042c0: 6774 5d2e 6964 735b 305d 0a20 2020 2020  gt].ids[0].     
+000042d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000042e0: 2020 2069 6620 7372 6320 3d3d 2074 6774     if src == tgt
+000042f0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00004300: 2020 2020 2020 2020 2020 2020 2020 6563                ec
+00004310: 6f6c 6f72 5b28 7372 632c 2074 6774 295d  olor[(src, tgt)]
+00004320: 203d 2063 5b69 6478 315d 0a20 2020 2020   = c[idx1].     
+00004330: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004340: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00004350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004360: 2020 2020 2065 636f 6c6f 725b 2873 7263       ecolor[(src
+00004370: 2c20 7467 7429 5d20 3d20 302e 372a 635b  , tgt)] = 0.7*c[
+00004380: 6964 7831 5d20 2b20 302e 332a 635b 6964  idx1] + 0.3*c[id
+00004390: 7832 5d0a 2020 2020 656c 6966 206e 6f74  x2].    elif not
+000043a0: 206e 6f6e 7374 7269 6e67 5f63 6f6e 7461   nonstring_conta
+000043b0: 696e 6572 2865 636f 6c6f 7229 3a0a 2020  iner(ecolor):.  
+000043c0: 2020 2020 2020 6563 6f6c 6f72 203d 206e        ecolor = n
+000043d0: 702e 7265 7065 6174 2865 636f 6c6f 722c  p.repeat(ecolor,
+000043e0: 2065 290a 0a20 2020 2023 2070 6c6f 7420   e)..    # plot 
+000043f0: 6e6f 6465 730a 2020 2020 7363 6174 7465  nodes.    scatte
+00004400: 7220 3d20 5b5d 0a0a 2020 2020 6966 2073  r = []..    if s
+00004410: 696d 706c 655f 6e6f 6465 733a 0a20 2020  imple_nodes:.   
+00004420: 2020 2020 2069 6620 6e6f 6e73 7472 696e       if nonstrin
+00004430: 675f 636f 6e74 6169 6e65 7228 6e73 6861  g_container(nsha
+00004440: 7065 293a 0a20 2020 2020 2020 2020 2020  pe):.           
+00004450: 2023 206d 6174 706c 6f74 6c69 6220 7363   # matplotlib sc
+00004460: 6174 7465 7220 646f 6573 206e 6f74 2073  atter does not s
+00004470: 7570 706f 7274 206d 6172 6b65 7220 6172  upport marker ar
+00004480: 7261 7973 0a20 2020 2020 2020 2020 2020  rays.           
+00004490: 2069 6620 6973 696e 7374 616e 6365 286e   if isinstance(n
+000044a0: 7368 6170 655b 305d 2c20 6e6e 6774 2e47  shape[0], nngt.G
+000044b0: 726f 7570 293a 0a20 2020 2020 2020 2020  roup):.         
+000044c0: 2020 2020 2020 2066 6f72 2067 2069 6e20         for g in 
+000044d0: 6e73 6861 7065 3a0a 2020 2020 2020 2020  nshape:.        
+000044e0: 2020 2020 2020 2020 2020 2020 6964 7320              ids 
+000044f0: 3d20 672e 6964 7320 6966 2072 6573 7472  = g.ids if restr
+00004500: 6963 745f 6e6f 6465 7320 6973 204e 6f6e  ict_nodes is Non
+00004510: 6520 5c0a 2020 2020 2020 2020 2020 2020  e \.            
+00004520: 2020 2020 2020 2020 2020 2020 2020 656c                el
+00004530: 7365 206c 6973 7428 7365 7428 672e 6964  se list(set(g.id
+00004540: 7329 2e69 6e74 6572 7365 6374 696f 6e28  s).intersection(
+00004550: 7265 7374 7269 6374 5f6e 6f64 6573 2929  restrict_nodes))
+00004560: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00004570: 2020 2020 2020 7363 6174 7465 722e 6170        scatter.ap
+00004580: 7065 6e64 280a 2020 2020 2020 2020 2020  pend(.          
+00004590: 2020 2020 2020 2020 2020 2020 2020 6178                ax
+000045a0: 6973 2e73 6361 7474 6572 2870 6f73 5b69  is.scatter(pos[i
+000045b0: 6473 2c20 305d 2c20 706f 735b 6964 732c  ds, 0], pos[ids,
+000045c0: 2031 5d2c 2063 6f6c 6f72 3d63 5b69 6473   1], color=c[ids
+000045d0: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+000045e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000045f0: 2020 2020 2020 2020 733d 302e 352a 6e70          s=0.5*np
+00004600: 2e61 7272 6179 286e 7369 7a65 295b 6964  .array(nsize)[id
+00004610: 735d 2c0a 2020 2020 2020 2020 2020 2020  s],.            
 00004620: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004630: 2020 6563 6f6c 6f72 5b28 7372 632c 2074    ecolor[(src, t
-00004640: 6774 295d 203d 2063 5b69 6478 315d 0a20  gt)] = c[idx1]. 
-00004650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004660: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00004630: 2020 2020 2020 2020 206d 6172 6b65 723d           marker=
+00004640: 6d61 726b 6572 735b 6964 735b 305d 5d2c  markers[ids[0]],
+00004650: 207a 6f72 6465 723d 322c 0a20 2020 2020   zorder=2,.     
+00004660: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00004670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004680: 2020 2020 2020 2020 2065 636f 6c6f 725b           ecolor[
-00004690: 2873 7263 2c20 7467 7429 5d20 3d20 302e  (src, tgt)] = 0.
-000046a0: 372a 635b 6964 7831 5d20 2b20 302e 332a  7*c[idx1] + 0.3*
-000046b0: 635b 6964 7832 5d0a 2020 2020 656c 6966  c[idx2].    elif
-000046c0: 206e 6f74 206e 6f6e 7374 7269 6e67 5f63   not nonstring_c
-000046d0: 6f6e 7461 696e 6572 2865 636f 6c6f 7229  ontainer(ecolor)
-000046e0: 3a0a 2020 2020 2020 2020 6563 6f6c 6f72  :.        ecolor
-000046f0: 203d 206e 702e 7265 7065 6174 2865 636f   = np.repeat(eco
-00004700: 6c6f 722c 2065 290a 0a20 2020 2023 2070  lor, e)..    # p
-00004710: 6c6f 7420 6e6f 6465 730a 2020 2020 7363  lot nodes.    sc
-00004720: 6174 7465 7220 3d20 5b5d 0a0a 2020 2020  atter = []..    
-00004730: 6966 2073 696d 706c 655f 6e6f 6465 733a  if simple_nodes:
-00004740: 0a20 2020 2020 2020 2069 6620 6e6f 6e73  .        if nons
-00004750: 7472 696e 675f 636f 6e74 6169 6e65 7228  tring_container(
-00004760: 6e73 6861 7065 293a 0a20 2020 2020 2020  nshape):.       
-00004770: 2020 2020 2023 206d 6174 706c 6f74 6c69       # matplotli
-00004780: 6220 7363 6174 7465 7220 646f 6573 206e  b scatter does n
-00004790: 6f74 2073 7570 706f 7274 206d 6172 6b65  ot support marke
-000047a0: 7220 6172 7261 7973 0a20 2020 2020 2020  r arrays.       
-000047b0: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
-000047c0: 6365 286e 7368 6170 655b 305d 2c20 6e6e  ce(nshape[0], nn
-000047d0: 6774 2e47 726f 7570 293a 0a20 2020 2020  gt.Group):.     
-000047e0: 2020 2020 2020 2020 2020 2066 6f72 2067             for g
-000047f0: 2069 6e20 6e73 6861 7065 3a0a 2020 2020   in nshape:.    
-00004800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004810: 6964 7320 3d20 672e 6964 7320 6966 2072  ids = g.ids if r
-00004820: 6573 7472 6963 745f 6e6f 6465 7320 6973  estrict_nodes is
-00004830: 204e 6f6e 6520 5c0a 2020 2020 2020 2020   None \.        
-00004840: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004850: 2020 656c 7365 206c 6973 7428 7365 7428    else list(set(
-00004860: 672e 6964 7329 2e69 6e74 6572 7365 6374  g.ids).intersect
-00004870: 696f 6e28 7265 7374 7269 6374 5f6e 6f64  ion(restrict_nod
-00004880: 6573 2929 0a0a 2020 2020 2020 2020 2020  es))..          
-00004890: 2020 2020 2020 2020 2020 7363 6174 7465            scatte
-000048a0: 722e 6170 7065 6e64 280a 2020 2020 2020  r.append(.      
-000048b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000048c0: 2020 6178 6973 2e73 6361 7474 6572 2870    axis.scatter(p
-000048d0: 6f73 5b69 6473 2c20 305d 2c20 706f 735b  os[ids, 0], pos[
-000048e0: 6964 732c 2031 5d2c 2063 6f6c 6f72 3d63  ids, 1], color=c
-000048f0: 5b69 6473 5d2c 0a20 2020 2020 2020 2020  [ids],.         
-00004900: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004910: 2020 2020 2020 2020 2020 2020 733d 302e              s=0.
-00004920: 352a 6e70 2e61 7272 6179 286e 7369 7a65  5*np.array(nsize
-00004930: 295b 6964 735d 2c0a 2020 2020 2020 2020  )[ids],.        
-00004940: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004950: 2020 2020 2020 2020 2020 2020 206d 6172               mar
-00004960: 6b65 723d 6d61 726b 6572 735b 6964 735b  ker=markers[ids[
-00004970: 305d 5d2c 207a 6f72 6465 723d 322c 0a20  0]], zorder=2,. 
-00004980: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004990: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000049a0: 2020 2020 6564 6765 636f 6c6f 7273 3d6e      edgecolors=n
-000049b0: 626f 7264 6572 5f63 6f6c 6f72 2c0a 2020  border_color,.  
-000049c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000049d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000049e0: 2020 206c 696e 6577 6964 7468 733d 6e62     linewidths=nb
-000049f0: 6f72 6465 725f 7769 6474 682c 2061 6c70  order_width, alp
-00004a00: 6861 3d6e 616c 7068 6129 290a 2020 2020  ha=nalpha)).    
-00004a10: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00004a20: 2020 2020 2020 2020 2020 2020 2020 6964                id
-00004a30: 7320 3d20 7261 6e67 6528 6e65 7477 6f72  s = range(networ
-00004a40: 6b2e 6e6f 6465 5f6e 6228 2929 2069 6620  k.node_nb()) if 
-00004a50: 7265 7374 7269 6374 5f6e 6f64 6573 2069  restrict_nodes i
-00004a60: 7320 4e6f 6e65 205c 0a20 2020 2020 2020  s None \.       
-00004a70: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00004a80: 6c73 6520 7265 7374 7269 6374 5f6e 6f64  lse restrict_nod
-00004a90: 6573 0a0a 2020 2020 2020 2020 2020 2020  es..            
-00004aa0: 2020 2020 666f 7220 6920 696e 2069 6473      for i in ids
-00004ab0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00004ac0: 2020 2020 2020 7363 6174 7465 722e 6170        scatter.ap
-00004ad0: 7065 6e64 2861 7869 732e 7363 6174 7465  pend(axis.scatte
-00004ae0: 7228 0a20 2020 2020 2020 2020 2020 2020  r(.             
-00004af0: 2020 2020 2020 2020 2020 2070 6f73 5b69             pos[i
-00004b00: 2c20 305d 2c20 706f 735b 692c 2031 5d2c  , 0], pos[i, 1],
-00004b10: 2063 6f6c 6f72 3d63 5b69 5d2c 2073 3d30   color=c[i], s=0
-00004b20: 2e35 2a6e 7369 7a65 5b69 5d2c 0a20 2020  .5*nsize[i],.   
-00004b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004b40: 2020 2020 206d 6172 6b65 723d 6e73 6861       marker=nsha
-00004b50: 7065 5b69 5d2c 207a 6f72 6465 723d 322c  pe[i], zorder=2,
-00004b60: 2065 6467 6563 6f6c 6f72 733d 6e62 6f72   edgecolors=nbor
-00004b70: 6465 725f 636f 6c6f 725b 695d 2c0a 2020  der_color[i],.  
-00004b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004b90: 2020 2020 2020 6c69 6e65 7769 6474 6873        linewidths
-00004ba0: 3d6e 626f 7264 6572 5f77 6964 7468 2c20  =nborder_width, 
-00004bb0: 616c 7068 613d 6e61 6c70 6861 2929 0a20  alpha=nalpha)). 
-00004bc0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-00004bd0: 2020 2020 2020 2020 2073 6361 7474 6572           scatter
-00004be0: 2e61 7070 656e 6428 6178 6973 2e73 6361  .append(axis.sca
-00004bf0: 7474 6572 280a 2020 2020 2020 2020 2020  tter(.          
-00004c00: 2020 2020 2020 706f 735b 3a2c 2030 5d2c        pos[:, 0],
-00004c10: 2070 6f73 5b3a 2c20 315d 2c20 636f 6c6f   pos[:, 1], colo
-00004c20: 723d 632c 2073 3d30 2e35 2a6e 702e 6172  r=c, s=0.5*np.ar
-00004c30: 7261 7928 6e73 697a 6529 2c0a 2020 2020  ray(nsize),.    
-00004c40: 2020 2020 2020 2020 2020 2020 6d61 726b              mark
-00004c50: 6572 3d6e 7368 6170 652c 207a 6f72 6465  er=nshape, zorde
-00004c60: 723d 322c 2065 6467 6563 6f6c 6f72 3d6e  r=2, edgecolor=n
-00004c70: 626f 7264 6572 5f63 6f6c 6f72 2c0a 2020  border_color,.  
-00004c80: 2020 2020 2020 2020 2020 2020 2020 6c69                li
-00004c90: 6e65 7769 6474 6873 3d6e 626f 7264 6572  newidths=nborder
-00004ca0: 5f77 6964 7468 2c20 616c 7068 613d 6e61  _width, alpha=na
-00004cb0: 6c70 6861 2929 0a20 2020 2065 6c73 653a  lpha)).    else:
-00004cc0: 0a20 2020 2020 2020 206e 6f64 6573 203d  .        nodes =
-00004cd0: 205b 5d0a 2020 2020 2020 2020 6178 6973   [].        axis
-00004ce0: 2e73 6574 5f61 7370 6563 7428 312e 290a  .set_aspect(1.).
-00004cf0: 0a20 2020 2020 2020 2069 6620 6e65 7477  .        if netw
-00004d00: 6f72 6b2e 7374 7275 6374 7572 6520 6973  ork.structure is
-00004d10: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
-00004d20: 2020 2020 2020 2063 6f6e 7665 7274 6572         converter
-00004d30: 203d 204e 6f6e 650a 0a20 2020 2020 2020   = None..       
-00004d40: 2020 2020 2069 6620 7265 7374 7269 6374       if restrict
-00004d50: 5f6e 6f64 6573 2069 7320 6e6f 7420 4e6f  _nodes is not No
-00004d60: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
-00004d70: 2020 2020 636f 6e76 6572 7465 7220 3d20      converter = 
-00004d80: 7b6e 3a20 6920 666f 7220 692c 206e 2069  {n: i for i, n i
-00004d90: 6e20 656e 756d 6572 6174 6528 7265 7374  n enumerate(rest
-00004da0: 7269 6374 5f6e 6f64 6573 297d 0a0a 2020  rict_nodes)}..  
-00004db0: 2020 2020 2020 2020 2020 666f 7220 6772            for gr
-00004dc0: 6f75 7020 696e 206e 6574 776f 726b 2e73  oup in network.s
-00004dd0: 7472 7563 7475 7265 2e76 616c 7565 7328  tructure.values(
-00004de0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00004df0: 2020 2069 6478 203d 2067 726f 7570 2e69     idx = group.i
-00004e00: 6473 0a0a 2020 2020 2020 2020 2020 2020  ds..            
-00004e10: 2020 2020 6966 2072 6573 7472 6963 745f      if restrict_
-00004e20: 6e6f 6465 7320 6973 206e 6f74 204e 6f6e  nodes is not Non
-00004e30: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-00004e40: 2020 2020 2020 2069 6478 203d 205b 636f         idx = [co
-00004e50: 6e76 6572 7465 725b 6e5d 0a20 2020 2020  nverter[n].     
-00004e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004e70: 2020 2020 2020 666f 7220 6e20 696e 2073        for n in s
-00004e80: 6574 2872 6573 7472 6963 745f 6e6f 6465  et(restrict_node
-00004e90: 7329 2e69 6e74 6572 7365 6374 696f 6e28  s).intersection(
-00004ea0: 6964 7829 5d0a 0a20 2020 2020 2020 2020  idx)]..         
-00004eb0: 2020 2020 2020 2066 6f72 2069 2c20 6663         for i, fc
-00004ec0: 2069 6e20 7a69 7028 6964 782c 2063 5b69   in zip(idx, c[i
-00004ed0: 6478 5d29 3a0a 2020 2020 2020 2020 2020  dx]):.          
-00004ee0: 2020 2020 2020 2020 2020 6d20 3d20 4d61            m = Ma
-00004ef0: 726b 6572 5374 796c 6528 6d61 726b 6572  rkerStyle(marker
-00004f00: 735b 695d 292e 6765 745f 7061 7468 2829  s[i]).get_path()
-00004f10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00004f20: 2020 2020 2063 656e 7465 7220 3d20 6e70       center = np
-00004f30: 2e61 7665 7261 6765 286d 2e76 6572 7469  .average(m.verti
-00004f40: 6365 732c 2061 7869 733d 3029 0a20 2020  ces, axis=0).   
-00004f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004f60: 206d 203d 2050 6174 6828 6d2e 7665 7274   m = Path(m.vert
-00004f70: 6963 6573 202d 2063 656e 7465 722c 206d  ices - center, m
-00004f80: 2e63 6f64 6573 290a 2020 2020 2020 2020  .codes).        
-00004f90: 2020 2020 2020 2020 2020 2020 7472 616e              tran
-00004fa0: 7366 6f72 6d20 3d20 4166 6669 6e65 3244  sform = Affine2D
-00004fb0: 2829 2e73 6361 6c65 280a 2020 2020 2020  ().scale(.      
-00004fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004fd0: 2020 302e 352a 6e73 697a 655b 695d 292e    0.5*nsize[i]).
-00004fe0: 7472 616e 736c 6174 6528 706f 735b 695d  translate(pos[i]
-00004ff0: 5b30 5d2c 2070 6f73 5b69 5d5b 315d 290a  [0], pos[i][1]).
-00005000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005010: 2020 2020 7061 7463 6820 3d20 5061 7468      patch = Path
-00005020: 5061 7463 6828 0a20 2020 2020 2020 2020  Patch(.         
-00005030: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-00005040: 2e74 7261 6e73 666f 726d 6564 2874 7261  .transformed(tra
-00005050: 6e73 666f 726d 292c 2066 6163 6563 6f6c  nsform), facecol
-00005060: 6f72 3d66 632c 0a20 2020 2020 2020 2020  or=fc,.         
-00005070: 2020 2020 2020 2020 2020 2020 2020 206c                 l
-00005080: 773d 6e62 6f72 6465 725f 7769 6474 682c  w=nborder_width,
-00005090: 2065 6467 6563 6f6c 6f72 3d6e 626f 7264   edgecolor=nbord
-000050a0: 6572 5f63 6f6c 6f72 5b69 5d2c 0a20 2020  er_color[i],.   
-000050b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000050c0: 2020 2020 2061 6c70 6861 3d6e 616c 7068       alpha=nalph
-000050d0: 6129 0a20 2020 2020 2020 2020 2020 2020  a).             
-000050e0: 2020 2020 2020 206e 6f64 6573 2e61 7070         nodes.app
-000050f0: 656e 6428 7061 7463 6829 0a20 2020 2020  end(patch).     
-00005100: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00005110: 2020 2020 2066 6f72 2069 2c20 6369 2069       for i, ci i
-00005120: 6e20 656e 756d 6572 6174 6528 6329 3a0a  n enumerate(c):.
-00005130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005140: 6d20 3d20 4d61 726b 6572 5374 796c 6528  m = MarkerStyle(
-00005150: 6d61 726b 6572 735b 695d 292e 6765 745f  markers[i]).get_
-00005160: 7061 7468 2829 0a20 2020 2020 2020 2020  path().         
-00005170: 2020 2020 2020 2063 656e 7465 7220 3d20         center = 
-00005180: 6e70 2e61 7665 7261 6765 286d 2e76 6572  np.average(m.ver
-00005190: 7469 6365 732c 2061 7869 733d 3029 0a20  tices, axis=0). 
-000051a0: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-000051b0: 203d 2050 6174 6828 6d2e 7665 7274 6963   = Path(m.vertic
-000051c0: 6573 202d 2063 656e 7465 722c 206d 2e63  es - center, m.c
-000051d0: 6f64 6573 290a 2020 2020 2020 2020 2020  odes).          
-000051e0: 2020 2020 2020 7472 616e 7366 6f72 6d20        transform 
-000051f0: 3d20 4166 6669 6e65 3244 2829 2e73 6361  = Affine2D().sca
-00005200: 6c65 2830 2e35 2a6e 7369 7a65 5b69 5d29  le(0.5*nsize[i])
-00005210: 2e74 7261 6e73 6c61 7465 280a 2020 2020  .translate(.    
-00005220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005230: 706f 735b 692c 2030 5d2c 2070 6f73 5b69  pos[i, 0], pos[i
-00005240: 2c20 315d 290a 2020 2020 2020 2020 2020  , 1]).          
-00005250: 2020 2020 2020 7061 7463 6820 3d20 5061        patch = Pa
-00005260: 7468 5061 7463 6828 0a20 2020 2020 2020  thPatch(.       
-00005270: 2020 2020 2020 2020 2020 2020 206d 2e74               m.t
-00005280: 7261 6e73 666f 726d 6564 2874 7261 6e73  ransformed(trans
-00005290: 666f 726d 292c 2066 6163 6563 6f6c 6f72  form), facecolor
-000052a0: 3d63 692c 0a20 2020 2020 2020 2020 2020  =ci,.           
-000052b0: 2020 2020 2020 2020 206c 773d 6e62 6f72           lw=nbor
-000052c0: 6465 725f 7769 6474 682c 2065 6467 6563  der_width, edgec
-000052d0: 6f6c 6f72 3d6e 626f 7264 6572 5f63 6f6c  olor=nborder_col
-000052e0: 6f72 5b69 5d2c 2061 6c70 6861 3d6e 616c  or[i], alpha=nal
-000052f0: 7068 6129 0a20 2020 2020 2020 2020 2020  pha).           
-00005300: 2020 2020 206e 6f64 6573 2e61 7070 656e       nodes.appen
-00005310: 6428 7061 7463 6829 0a0a 2020 2020 2020  d(patch)..      
-00005320: 2020 7363 6174 7465 7220 3d20 5061 7463    scatter = Patc
-00005330: 6843 6f6c 6c65 6374 696f 6e28 6e6f 6465  hCollection(node
-00005340: 732c 206d 6174 6368 5f6f 7269 6769 6e61  s, match_origina
-00005350: 6c3d 5472 7565 2c20 616c 7068 613d 6e61  l=True, alpha=na
-00005360: 6c70 6861 290a 2020 2020 2020 2020 7363  lpha).        sc
-00005370: 6174 7465 722e 7365 745f 7a6f 7264 6572  atter.set_zorder
-00005380: 2832 290a 2020 2020 2020 2020 6178 6973  (2).        axis
-00005390: 2e61 6464 5f63 6f6c 6c65 6374 696f 6e28  .add_collection(
-000053a0: 7363 6174 7465 7229 0a0a 2020 2020 2320  scatter)..    # 
-000053b0: 6472 6177 2074 6865 2065 6467 6573 0a20  draw the edges. 
-000053c0: 2020 2061 7272 6f77 7320 3d20 5b5d 0a0a     arrows = []..
-000053d0: 2020 2020 6966 2065 2061 6e64 2064 6563      if e and dec
-000053e0: 696d 6174 655f 636f 6e6e 6563 7469 6f6e  imate_connection
-000053f0: 7320 213d 202d 313a 0a20 2020 2020 2020  s != -1:.       
-00005400: 2061 7667 5f73 697a 6520 3d20 6e70 2e61   avg_size = np.a
-00005410: 7665 7261 6765 286e 7369 7a65 290a 0a20  verage(nsize).. 
-00005420: 2020 2020 2020 2069 6620 6772 6f75 705f         if group_
-00005430: 6261 7365 643a 0a20 2020 2020 2020 2020  based:.         
-00005440: 2020 2066 6f72 2073 7263 5f6e 616d 652c     for src_name,
-00005450: 2073 7263 5f67 726f 7570 2069 6e20 6e65   src_group in ne
-00005460: 7477 6f72 6b2e 7374 7275 6374 7572 652e  twork.structure.
-00005470: 6974 656d 7328 293a 0a20 2020 2020 2020  items():.       
-00005480: 2020 2020 2020 2020 2066 6f72 2074 6774           for tgt
-00005490: 5f6e 616d 652c 2074 6774 5f67 726f 7570  _name, tgt_group
-000054a0: 2069 6e20 6e65 7477 6f72 6b2e 7374 7275   in network.stru
-000054b0: 6374 7572 652e 6974 656d 7328 293a 0a20  cture.items():. 
-000054c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000054d0: 2020 2073 5f69 6473 203d 2073 7263 5f67     s_ids = src_g
-000054e0: 726f 7570 2e69 6473 0a0a 2020 2020 2020  roup.ids..      
-000054f0: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00005500: 2072 6573 7472 6963 745f 736f 7572 6365   restrict_source
-00005510: 7320 6973 206e 6f74 204e 6f6e 653a 0a20  s is not None:. 
-00005520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005530: 2020 2020 2020 2073 5f69 6473 203d 206c         s_ids = l
-00005540: 6973 7428 7365 7428 7265 7374 7269 6374  ist(set(restrict
-00005550: 5f73 6f75 7263 6573 292e 696e 7465 7273  _sources).inters
-00005560: 6563 7469 6f6e 2873 5f69 6473 2929 0a0a  ection(s_ids))..
-00005570: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005580: 2020 2020 745f 6964 7320 3d20 7467 745f      t_ids = tgt_
-00005590: 6772 6f75 702e 6964 730a 0a20 2020 2020  group.ids..     
-000055a0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-000055b0: 6620 7265 7374 7269 6374 5f74 6172 6765  f restrict_targe
-000055c0: 7473 2069 7320 6e6f 7420 4e6f 6e65 3a0a  ts is not None:.
-000055d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000055e0: 2020 2020 2020 2020 745f 6964 7320 3d20          t_ids = 
-000055f0: 6c69 7374 2873 6574 2872 6573 7472 6963  list(set(restric
-00005600: 745f 7461 7267 6574 7329 2e69 6e74 6572  t_targets).inter
-00005610: 7365 6374 696f 6e28 745f 6964 7329 290a  section(t_ids)).
-00005620: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005630: 2020 2020 2069 6620 745f 6964 7320 616e       if t_ids an
-00005640: 6420 735f 6964 733a 0a20 2020 2020 2020  d s_ids:.       
-00005650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005660: 2073 5f6d 696e 2c20 735f 6d61 7820 3d20   s_min, s_max = 
-00005670: 6e70 2e6d 696e 2873 5f69 6473 292c 206e  np.min(s_ids), n
-00005680: 702e 6d61 7828 735f 6964 7329 202b 2031  p.max(s_ids) + 1
-00005690: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000056a0: 2020 2020 2020 2020 2074 5f6d 696e 2c20           t_min, 
-000056b0: 745f 6d61 7820 3d20 6e70 2e6d 696e 2874  t_max = np.min(t
-000056c0: 5f69 6473 292c 206e 702e 6d61 7828 745f  _ids), np.max(t_
-000056d0: 6964 7329 202b 2031 0a0a 2020 2020 2020  ids) + 1..      
-000056e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000056f0: 2020 6564 6765 7320 3d20 6e70 2e61 7272    edges = np.arr
-00005700: 6179 280a 2020 2020 2020 2020 2020 2020  ay(.            
-00005710: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005720: 6164 6a5f 6d61 745b 735f 6d69 6e3a 735f  adj_mat[s_min:s_
-00005730: 6d61 782c 2074 5f6d 696e 3a74 5f6d 6178  max, t_min:t_max
-00005740: 5d2e 6e6f 6e7a 6572 6f28 292c 0a20 2020  ].nonzero(),.   
-00005750: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005760: 2020 2020 2020 2020 2064 7479 7065 3d69           dtype=i
-00005770: 6e74 292e 540a 0a20 2020 2020 2020 2020  nt).T..         
-00005780: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00005790: 6467 6573 5b3a 2c20 305d 202b 3d20 735f  dges[:, 0] += s_
-000057a0: 6d69 6e0a 2020 2020 2020 2020 2020 2020  min.            
-000057b0: 2020 2020 2020 2020 2020 2020 6564 6765              edge
-000057c0: 735b 3a2c 2031 5d20 2b3d 2074 5f6d 696e  s[:, 1] += t_min
-000057d0: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000057e0: 2020 2020 2020 2020 2020 7374 7267 6874            strght
-000057f0: 5f65 6467 6573 2c20 7365 6c66 5f6c 6f6f  _edges, self_loo
-00005800: 7073 2c20 7374 7267 6874 5f73 697a 6573  ps, strght_sizes
-00005810: 2c20 6c6f 6f70 5f73 697a 6573 203d 205c  , loop_sizes = \
-00005820: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005830: 2020 2020 2020 2020 2020 2020 205f 7370               _sp
-00005840: 6c69 745f 6564 6765 735f 7369 7a65 7328  lit_edges_sizes(
-00005850: 6564 6765 732c 2065 7369 7a65 2c0a 2020  edges, esize,.  
+00004680: 6564 6765 636f 6c6f 7273 3d6e 626f 7264  edgecolors=nbord
+00004690: 6572 5f63 6f6c 6f72 2c0a 2020 2020 2020  er_color,.      
+000046a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000046b0: 2020 2020 2020 2020 2020 2020 2020 206c                 l
+000046c0: 696e 6577 6964 7468 733d 6e62 6f72 6465  inewidths=nborde
+000046d0: 725f 7769 6474 682c 2061 6c70 6861 3d6e  r_width, alpha=n
+000046e0: 616c 7068 6129 290a 2020 2020 2020 2020  alpha)).        
+000046f0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00004700: 2020 2020 2020 2020 2020 6964 7320 3d20            ids = 
+00004710: 7261 6e67 6528 6e65 7477 6f72 6b2e 6e6f  range(network.no
+00004720: 6465 5f6e 6228 2929 2069 6620 7265 7374  de_nb()) if rest
+00004730: 7269 6374 5f6e 6f64 6573 2069 7320 4e6f  rict_nodes is No
+00004740: 6e65 205c 0a20 2020 2020 2020 2020 2020  ne \.           
+00004750: 2020 2020 2020 2020 2020 2065 6c73 6520             else 
+00004760: 7265 7374 7269 6374 5f6e 6f64 6573 0a0a  restrict_nodes..
+00004770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004780: 666f 7220 6920 696e 2069 6473 3a0a 2020  for i in ids:.  
+00004790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000047a0: 2020 7363 6174 7465 722e 6170 7065 6e64    scatter.append
+000047b0: 2861 7869 732e 7363 6174 7465 7228 0a20  (axis.scatter(. 
+000047c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000047d0: 2020 2020 2020 2070 6f73 5b69 2c20 305d         pos[i, 0]
+000047e0: 2c20 706f 735b 692c 2031 5d2c 2063 6f6c  , pos[i, 1], col
+000047f0: 6f72 3d63 5b69 5d2c 2073 3d30 2e35 2a6e  or=c[i], s=0.5*n
+00004800: 7369 7a65 5b69 5d2c 0a20 2020 2020 2020  size[i],.       
+00004810: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004820: 206d 6172 6b65 723d 6e73 6861 7065 5b69   marker=nshape[i
+00004830: 5d2c 207a 6f72 6465 723d 322c 2065 6467  ], zorder=2, edg
+00004840: 6563 6f6c 6f72 733d 6e62 6f72 6465 725f  ecolors=nborder_
+00004850: 636f 6c6f 725b 695d 2c0a 2020 2020 2020  color[i],.      
+00004860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004870: 2020 6c69 6e65 7769 6474 6873 3d6e 626f    linewidths=nbo
+00004880: 7264 6572 5f77 6964 7468 2c20 616c 7068  rder_width, alph
+00004890: 613d 6e61 6c70 6861 2929 0a20 2020 2020  a=nalpha)).     
+000048a0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+000048b0: 2020 2020 2073 6361 7474 6572 2e61 7070       scatter.app
+000048c0: 656e 6428 6178 6973 2e73 6361 7474 6572  end(axis.scatter
+000048d0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+000048e0: 2020 706f 735b 3a2c 2030 5d2c 2070 6f73    pos[:, 0], pos
+000048f0: 5b3a 2c20 315d 2c20 636f 6c6f 723d 632c  [:, 1], color=c,
+00004900: 2073 3d30 2e35 2a6e 702e 6172 7261 7928   s=0.5*np.array(
+00004910: 6e73 697a 6529 2c0a 2020 2020 2020 2020  nsize),.        
+00004920: 2020 2020 2020 2020 6d61 726b 6572 3d6e          marker=n
+00004930: 7368 6170 652c 207a 6f72 6465 723d 322c  shape, zorder=2,
+00004940: 2065 6467 6563 6f6c 6f72 3d6e 626f 7264   edgecolor=nbord
+00004950: 6572 5f63 6f6c 6f72 2c0a 2020 2020 2020  er_color,.      
+00004960: 2020 2020 2020 2020 2020 6c69 6e65 7769            linewi
+00004970: 6474 6873 3d6e 626f 7264 6572 5f77 6964  dths=nborder_wid
+00004980: 7468 2c20 616c 7068 613d 6e61 6c70 6861  th, alpha=nalpha
+00004990: 2929 0a20 2020 2065 6c73 653a 0a20 2020  )).    else:.   
+000049a0: 2020 2020 206e 6f64 6573 203d 205b 5d0a       nodes = [].
+000049b0: 2020 2020 2020 2020 6178 6973 2e73 6574          axis.set
+000049c0: 5f61 7370 6563 7428 312e 290a 0a20 2020  _aspect(1.)..   
+000049d0: 2020 2020 2069 6620 6e65 7477 6f72 6b2e       if network.
+000049e0: 7374 7275 6374 7572 6520 6973 206e 6f74  structure is not
+000049f0: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+00004a00: 2020 2063 6f6e 7665 7274 6572 203d 204e     converter = N
+00004a10: 6f6e 650a 0a20 2020 2020 2020 2020 2020  one..           
+00004a20: 2069 6620 7265 7374 7269 6374 5f6e 6f64   if restrict_nod
+00004a30: 6573 2069 7320 6e6f 7420 4e6f 6e65 3a0a  es is not None:.
+00004a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004a50: 636f 6e76 6572 7465 7220 3d20 7b6e 3a20  converter = {n: 
+00004a60: 6920 666f 7220 692c 206e 2069 6e20 656e  i for i, n in en
+00004a70: 756d 6572 6174 6528 7265 7374 7269 6374  umerate(restrict
+00004a80: 5f6e 6f64 6573 297d 0a0a 2020 2020 2020  _nodes)}..      
+00004a90: 2020 2020 2020 666f 7220 6772 6f75 7020        for group 
+00004aa0: 696e 206e 6574 776f 726b 2e73 7472 7563  in network.struc
+00004ab0: 7475 7265 2e76 616c 7565 7328 293a 0a20  ture.values():. 
+00004ac0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00004ad0: 6478 203d 2067 726f 7570 2e69 6473 0a0a  dx = group.ids..
+00004ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004af0: 6966 2072 6573 7472 6963 745f 6e6f 6465  if restrict_node
+00004b00: 7320 6973 206e 6f74 204e 6f6e 653a 0a20  s is not None:. 
+00004b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004b20: 2020 2069 6478 203d 205b 636f 6e76 6572     idx = [conver
+00004b30: 7465 725b 6e5d 0a20 2020 2020 2020 2020  ter[n].         
+00004b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004b50: 2020 666f 7220 6e20 696e 2073 6574 2872    for n in set(r
+00004b60: 6573 7472 6963 745f 6e6f 6465 7329 2e69  estrict_nodes).i
+00004b70: 6e74 6572 7365 6374 696f 6e28 6964 7829  ntersection(idx)
+00004b80: 5d0a 0a20 2020 2020 2020 2020 2020 2020  ]..             
+00004b90: 2020 2066 6f72 2069 2c20 6663 2069 6e20     for i, fc in 
+00004ba0: 7a69 7028 6964 782c 2063 5b69 6478 5d29  zip(idx, c[idx])
+00004bb0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00004bc0: 2020 2020 2020 6d20 3d20 4d61 726b 6572        m = Marker
+00004bd0: 5374 796c 6528 6d61 726b 6572 735b 695d  Style(markers[i]
+00004be0: 292e 6765 745f 7061 7468 2829 0a20 2020  ).get_path().   
+00004bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004c00: 2063 656e 7465 7220 3d20 6e70 2e61 7665   center = np.ave
+00004c10: 7261 6765 286d 2e76 6572 7469 6365 732c  rage(m.vertices,
+00004c20: 2061 7869 733d 3029 0a20 2020 2020 2020   axis=0).       
+00004c30: 2020 2020 2020 2020 2020 2020 206d 203d               m =
+00004c40: 2050 6174 6828 6d2e 7665 7274 6963 6573   Path(m.vertices
+00004c50: 202d 2063 656e 7465 722c 206d 2e63 6f64   - center, m.cod
+00004c60: 6573 290a 2020 2020 2020 2020 2020 2020  es).            
+00004c70: 2020 2020 2020 2020 7472 616e 7366 6f72          transfor
+00004c80: 6d20 3d20 4166 6669 6e65 3244 2829 2e73  m = Affine2D().s
+00004c90: 6361 6c65 280a 2020 2020 2020 2020 2020  cale(.          
+00004ca0: 2020 2020 2020 2020 2020 2020 2020 302e                0.
+00004cb0: 352a 6e73 697a 655b 695d 292e 7472 616e  5*nsize[i]).tran
+00004cc0: 736c 6174 6528 706f 735b 695d 5b30 5d2c  slate(pos[i][0],
+00004cd0: 2070 6f73 5b69 5d5b 315d 290a 2020 2020   pos[i][1]).    
+00004ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004cf0: 7061 7463 6820 3d20 5061 7468 5061 7463  patch = PathPatc
+00004d00: 6828 0a20 2020 2020 2020 2020 2020 2020  h(.             
+00004d10: 2020 2020 2020 2020 2020 206d 2e74 7261             m.tra
+00004d20: 6e73 666f 726d 6564 2874 7261 6e73 666f  nsformed(transfo
+00004d30: 726d 292c 2066 6163 6563 6f6c 6f72 3d66  rm), facecolor=f
+00004d40: 632c 0a20 2020 2020 2020 2020 2020 2020  c,.             
+00004d50: 2020 2020 2020 2020 2020 206c 773d 6e62             lw=nb
+00004d60: 6f72 6465 725f 7769 6474 682c 2065 6467  order_width, edg
+00004d70: 6563 6f6c 6f72 3d6e 626f 7264 6572 5f63  ecolor=nborder_c
+00004d80: 6f6c 6f72 5b69 5d2c 0a20 2020 2020 2020  olor[i],.       
+00004d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004da0: 2061 6c70 6861 3d6e 616c 7068 6129 0a20   alpha=nalpha). 
+00004db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004dc0: 2020 206e 6f64 6573 2e61 7070 656e 6428     nodes.append(
+00004dd0: 7061 7463 6829 0a20 2020 2020 2020 2065  patch).        e
+00004de0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00004df0: 2066 6f72 2069 2c20 6369 2069 6e20 656e   for i, ci in en
+00004e00: 756d 6572 6174 6528 6329 3a0a 2020 2020  umerate(c):.    
+00004e10: 2020 2020 2020 2020 2020 2020 6d20 3d20              m = 
+00004e20: 4d61 726b 6572 5374 796c 6528 6d61 726b  MarkerStyle(mark
+00004e30: 6572 735b 695d 292e 6765 745f 7061 7468  ers[i]).get_path
+00004e40: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
+00004e50: 2020 2063 656e 7465 7220 3d20 6e70 2e61     center = np.a
+00004e60: 7665 7261 6765 286d 2e76 6572 7469 6365  verage(m.vertice
+00004e70: 732c 2061 7869 733d 3029 0a20 2020 2020  s, axis=0).     
+00004e80: 2020 2020 2020 2020 2020 206d 203d 2050             m = P
+00004e90: 6174 6828 6d2e 7665 7274 6963 6573 202d  ath(m.vertices -
+00004ea0: 2063 656e 7465 722c 206d 2e63 6f64 6573   center, m.codes
+00004eb0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00004ec0: 2020 7472 616e 7366 6f72 6d20 3d20 4166    transform = Af
+00004ed0: 6669 6e65 3244 2829 2e73 6361 6c65 2830  fine2D().scale(0
+00004ee0: 2e35 2a6e 7369 7a65 5b69 5d29 2e74 7261  .5*nsize[i]).tra
+00004ef0: 6e73 6c61 7465 280a 2020 2020 2020 2020  nslate(.        
+00004f00: 2020 2020 2020 2020 2020 2020 706f 735b              pos[
+00004f10: 692c 2030 5d2c 2070 6f73 5b69 2c20 315d  i, 0], pos[i, 1]
+00004f20: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00004f30: 2020 7061 7463 6820 3d20 5061 7468 5061    patch = PathPa
+00004f40: 7463 6828 0a20 2020 2020 2020 2020 2020  tch(.           
+00004f50: 2020 2020 2020 2020 206d 2e74 7261 6e73           m.trans
+00004f60: 666f 726d 6564 2874 7261 6e73 666f 726d  formed(transform
+00004f70: 292c 2066 6163 6563 6f6c 6f72 3d63 692c  ), facecolor=ci,
+00004f80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00004f90: 2020 2020 206c 773d 6e62 6f72 6465 725f       lw=nborder_
+00004fa0: 7769 6474 682c 2065 6467 6563 6f6c 6f72  width, edgecolor
+00004fb0: 3d6e 626f 7264 6572 5f63 6f6c 6f72 5b69  =nborder_color[i
+00004fc0: 5d2c 2061 6c70 6861 3d6e 616c 7068 6129  ], alpha=nalpha)
+00004fd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00004fe0: 206e 6f64 6573 2e61 7070 656e 6428 7061   nodes.append(pa
+00004ff0: 7463 6829 0a0a 2020 2020 2020 2020 7363  tch)..        sc
+00005000: 6174 7465 7220 3d20 5061 7463 6843 6f6c  atter = PatchCol
+00005010: 6c65 6374 696f 6e28 6e6f 6465 732c 206d  lection(nodes, m
+00005020: 6174 6368 5f6f 7269 6769 6e61 6c3d 5472  atch_original=Tr
+00005030: 7565 2c20 616c 7068 613d 6e61 6c70 6861  ue, alpha=nalpha
+00005040: 290a 2020 2020 2020 2020 7363 6174 7465  ).        scatte
+00005050: 722e 7365 745f 7a6f 7264 6572 2832 290a  r.set_zorder(2).
+00005060: 2020 2020 2020 2020 6178 6973 2e61 6464          axis.add
+00005070: 5f63 6f6c 6c65 6374 696f 6e28 7363 6174  _collection(scat
+00005080: 7465 7229 0a0a 2020 2020 2320 6472 6177  ter)..    # draw
+00005090: 2074 6865 2065 6467 6573 0a20 2020 2061   the edges.    a
+000050a0: 7272 6f77 7320 3d20 5b5d 0a0a 2020 2020  rrows = []..    
+000050b0: 6966 2065 2061 6e64 2064 6563 696d 6174  if e and decimat
+000050c0: 655f 636f 6e6e 6563 7469 6f6e 7320 213d  e_connections !=
+000050d0: 202d 313a 0a20 2020 2020 2020 2061 7667   -1:.        avg
+000050e0: 5f73 697a 6520 3d20 6e70 2e61 7665 7261  _size = np.avera
+000050f0: 6765 286e 7369 7a65 290a 0a20 2020 2020  ge(nsize)..     
+00005100: 2020 2069 6620 6772 6f75 705f 6261 7365     if group_base
+00005110: 643a 0a20 2020 2020 2020 2020 2020 2066  d:.            f
+00005120: 6f72 2073 7263 5f6e 616d 652c 2073 7263  or src_name, src
+00005130: 5f67 726f 7570 2069 6e20 6e65 7477 6f72  _group in networ
+00005140: 6b2e 7374 7275 6374 7572 652e 6974 656d  k.structure.item
+00005150: 7328 293a 0a20 2020 2020 2020 2020 2020  s():.           
+00005160: 2020 2020 2066 6f72 2074 6774 5f6e 616d       for tgt_nam
+00005170: 652c 2074 6774 5f67 726f 7570 2069 6e20  e, tgt_group in 
+00005180: 6e65 7477 6f72 6b2e 7374 7275 6374 7572  network.structur
+00005190: 652e 6974 656d 7328 293a 0a20 2020 2020  e.items():.     
+000051a0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+000051b0: 5f69 6473 203d 2073 7263 5f67 726f 7570  _ids = src_group
+000051c0: 2e69 6473 0a0a 2020 2020 2020 2020 2020  .ids..          
+000051d0: 2020 2020 2020 2020 2020 6966 2072 6573            if res
+000051e0: 7472 6963 745f 736f 7572 6365 7320 6973  trict_sources is
+000051f0: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
+00005200: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005210: 2020 2073 5f69 6473 203d 206c 6973 7428     s_ids = list(
+00005220: 7365 7428 7265 7374 7269 6374 5f73 6f75  set(restrict_sou
+00005230: 7263 6573 292e 696e 7465 7273 6563 7469  rces).intersecti
+00005240: 6f6e 2873 5f69 6473 2929 0a0a 2020 2020  on(s_ids))..    
+00005250: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005260: 745f 6964 7320 3d20 7467 745f 6772 6f75  t_ids = tgt_grou
+00005270: 702e 6964 730a 0a20 2020 2020 2020 2020  p.ids..         
+00005280: 2020 2020 2020 2020 2020 2069 6620 7265             if re
+00005290: 7374 7269 6374 5f74 6172 6765 7473 2069  strict_targets i
+000052a0: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
+000052b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000052c0: 2020 2020 745f 6964 7320 3d20 6c69 7374      t_ids = list
+000052d0: 2873 6574 2872 6573 7472 6963 745f 7461  (set(restrict_ta
+000052e0: 7267 6574 7329 2e69 6e74 6572 7365 6374  rgets).intersect
+000052f0: 696f 6e28 745f 6964 7329 290a 0a20 2020  ion(t_ids))..   
+00005300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005310: 2069 6620 745f 6964 7320 616e 6420 735f   if t_ids and s_
+00005320: 6964 733a 0a20 2020 2020 2020 2020 2020  ids:.           
+00005330: 2020 2020 2020 2020 2020 2020 2073 5f6d               s_m
+00005340: 696e 2c20 735f 6d61 7820 3d20 6e70 2e6d  in, s_max = np.m
+00005350: 696e 2873 5f69 6473 292c 206e 702e 6d61  in(s_ids), np.ma
+00005360: 7828 735f 6964 7329 202b 2031 0a20 2020  x(s_ids) + 1.   
+00005370: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005380: 2020 2020 2074 5f6d 696e 2c20 745f 6d61       t_min, t_ma
+00005390: 7820 3d20 6e70 2e6d 696e 2874 5f69 6473  x = np.min(t_ids
+000053a0: 292c 206e 702e 6d61 7828 745f 6964 7329  ), np.max(t_ids)
+000053b0: 202b 2031 0a0a 2020 2020 2020 2020 2020   + 1..          
+000053c0: 2020 2020 2020 2020 2020 2020 2020 6564                ed
+000053d0: 6765 7320 3d20 6e70 2e61 7272 6179 280a  ges = np.array(.
+000053e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000053f0: 2020 2020 2020 2020 2020 2020 6164 6a5f              adj_
+00005400: 6d61 745b 735f 6d69 6e3a 735f 6d61 782c  mat[s_min:s_max,
+00005410: 2074 5f6d 696e 3a74 5f6d 6178 5d2e 6e6f   t_min:t_max].no
+00005420: 6e7a 6572 6f28 292c 0a20 2020 2020 2020  nzero(),.       
+00005430: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005440: 2020 2020 2064 7479 7065 3d69 6e74 292e       dtype=int).
+00005450: 540a 0a20 2020 2020 2020 2020 2020 2020  T..             
+00005460: 2020 2020 2020 2020 2020 2065 6467 6573             edges
+00005470: 5b3a 2c20 305d 202b 3d20 735f 6d69 6e0a  [:, 0] += s_min.
+00005480: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005490: 2020 2020 2020 2020 6564 6765 735b 3a2c          edges[:,
+000054a0: 2031 5d20 2b3d 2074 5f6d 696e 0a0a 2020   1] += t_min..  
+000054b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000054c0: 2020 2020 2020 7374 7267 6874 5f65 6467        strght_edg
+000054d0: 6573 2c20 7365 6c66 5f6c 6f6f 7073 2c20  es, self_loops, 
+000054e0: 7374 7267 6874 5f73 697a 6573 2c20 6c6f  strght_sizes, lo
+000054f0: 6f70 5f73 697a 6573 203d 205c 0a20 2020  op_sizes = \.   
+00005500: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005510: 2020 2020 2020 2020 205f 7370 6c69 745f           _split_
+00005520: 6564 6765 735f 7369 7a65 7328 6564 6765  edges_sizes(edge
+00005530: 732c 2065 7369 7a65 2c0a 2020 2020 2020  s, esize,.      
+00005540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005560: 2020 2020 2020 2020 2064 6563 696d 6174           decimat
+00005570: 655f 636f 6e6e 6563 7469 6f6e 7329 0a0a  e_connections)..
+00005580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005590: 2020 2020 2020 2020 2320 706c 6f74 0a20          # plot. 
+000055a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000055b0: 2020 2020 2020 2065 6320 3d20 6563 6f6c         ec = ecol
+000055c0: 6f72 5b28 7372 635f 6e61 6d65 2c20 7467  or[(src_name, tg
+000055d0: 745f 6e61 6d65 295d 0a0a 2020 2020 2020  t_name)]..      
+000055e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000055f0: 2020 6966 206c 656e 2873 7472 6768 745f    if len(strght_
+00005600: 6564 6765 7329 2061 6e64 2066 6173 743a  edges) and fast:
+00005610: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005620: 2020 2020 2020 2020 2020 2020 2064 6c20               dl 
+00005630: 2020 2020 2020 3d20 3020 6966 2073 696d        = 0 if sim
+00005640: 706c 655f 6e6f 6465 7320 656c 7365 2030  ple_nodes else 0
+00005650: 2e35 2a6e 702e 6d61 7828 6e73 697a 6529  .5*np.max(nsize)
+00005660: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005670: 2020 2020 2020 2020 2020 2020 2061 7272               arr
+00005680: 6f77 5f78 2020 3d20 706f 735b 7374 7267  ow_x  = pos[strg
+00005690: 6874 5f65 6467 6573 5b3a 2c20 315d 2c20  ht_edges[:, 1], 
+000056a0: 305d 202d 205c 0a20 2020 2020 2020 2020  0] - \.         
+000056b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000056c0: 2020 2020 2020 2020 2020 2020 2020 706f                po
+000056d0: 735b 7374 7267 6874 5f65 6467 6573 5b3a  s[strght_edges[:
+000056e0: 2c20 305d 2c20 305d 0a20 2020 2020 2020  , 0], 0].       
+000056f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005700: 2020 2020 2061 7272 6f77 5f78 202d 3d20       arrow_x -= 
+00005710: 6e70 2e73 6967 6e28 6172 726f 775f 7829  np.sign(arrow_x)
+00005720: 202a 2064 6c0a 2020 2020 2020 2020 2020   * dl.          
+00005730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005740: 2020 6172 726f 775f 7920 203d 2070 6f73    arrow_y  = pos
+00005750: 5b73 7472 6768 745f 6564 6765 735b 3a2c  [strght_edges[:,
+00005760: 2031 5d2c 2031 5d20 2d20 5c0a 2020 2020   1], 1] - \.    
+00005770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005790: 2020 2070 6f73 5b73 7472 6768 745f 6564     pos[strght_ed
+000057a0: 6765 735b 3a2c 2030 5d2c 2031 5d0a 2020  ges[:, 0], 1].  
+000057b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000057c0: 2020 2020 2020 2020 2020 6172 726f 775f            arrow_
+000057d0: 7820 2d3d 206e 702e 7369 676e 2861 7272  x -= np.sign(arr
+000057e0: 6f77 5f79 2920 2a20 646c 0a0a 2020 2020  ow_y) * dl..    
+000057f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005800: 2020 2020 2020 2020 6178 6973 2e71 7569          axis.qui
+00005810: 7665 7228 0a20 2020 2020 2020 2020 2020  ver(.           
+00005820: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005830: 2020 2020 2070 6f73 5b73 7472 6768 745f       pos[strght_
+00005840: 6564 6765 735b 3a2c 2030 5d2c 2030 5d2c  edges[:, 0], 0],
+00005850: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
 00005860: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005870: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005880: 2020 2020 2020 2020 2020 2020 2064 6563               dec
-00005890: 696d 6174 655f 636f 6e6e 6563 7469 6f6e  imate_connection
-000058a0: 7329 0a0a 2020 2020 2020 2020 2020 2020  s)..            
-000058b0: 2020 2020 2020 2020 2020 2020 2320 706c              # pl
-000058c0: 6f74 0a20 2020 2020 2020 2020 2020 2020  ot.             
-000058d0: 2020 2020 2020 2020 2020 2065 6320 3d20             ec = 
-000058e0: 6563 6f6c 6f72 5b28 7372 635f 6e61 6d65  ecolor[(src_name
-000058f0: 2c20 7467 745f 6e61 6d65 295d 0a0a 2020  , tgt_name)]..  
-00005900: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005910: 2020 2020 2020 6966 206c 656e 2873 7472        if len(str
-00005920: 6768 745f 6564 6765 7329 2061 6e64 2066  ght_edges) and f
-00005930: 6173 743a 0a20 2020 2020 2020 2020 2020  ast:.           
-00005940: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005950: 2064 6c20 2020 2020 2020 3d20 3020 6966   dl       = 0 if
-00005960: 2073 696d 706c 655f 6e6f 6465 7320 656c   simple_nodes el
-00005970: 7365 2030 2e35 2a6e 702e 6d61 7828 6e73  se 0.5*np.max(ns
-00005980: 697a 6529 0a20 2020 2020 2020 2020 2020  ize).           
-00005990: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000059a0: 2061 7272 6f77 5f78 2020 3d20 706f 735b   arrow_x  = pos[
-000059b0: 7374 7267 6874 5f65 6467 6573 5b3a 2c20  strght_edges[:, 
-000059c0: 315d 2c20 305d 202d 205c 0a20 2020 2020  1], 0] - \.     
-000059d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005870: 2070 6f73 5b73 7472 6768 745f 6564 6765   pos[strght_edge
+00005880: 735b 3a2c 2030 5d2c 2031 5d2c 2061 7272  s[:, 0], 1], arr
+00005890: 6f77 5f78 2c0a 2020 2020 2020 2020 2020  ow_x,.          
+000058a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000058b0: 2020 2020 2020 6172 726f 775f 792c 2073        arrow_y, s
+000058c0: 6361 6c65 5f75 6e69 7473 3d27 7879 272c  cale_units='xy',
+000058d0: 2061 6e67 6c65 733d 2778 7927 2c0a 2020   angles='xy',.  
+000058e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000058f0: 2020 2020 2020 2020 2020 2020 2020 7363                sc
+00005900: 616c 653d 312c 2061 6c70 6861 3d65 616c  ale=1, alpha=eal
+00005910: 7068 612c 0a20 2020 2020 2020 2020 2020  pha,.           
+00005920: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005930: 2020 2020 2077 6964 7468 3d33 652d 332c       width=3e-3,
+00005940: 206c 696e 6577 6964 7468 733d 302e 352a   linewidths=0.5*
+00005950: 7374 7267 6874 5f73 697a 6573 2c0a 2020  strght_sizes,.  
+00005960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005970: 2020 2020 2020 2020 2020 2020 2020 6564                ed
+00005980: 6765 636f 6c6f 7273 3d65 632c 2063 6f6c  gecolors=ec, col
+00005990: 6f72 3d65 632c 207a 6f72 6465 723d 312c  or=ec, zorder=1,
+000059a0: 202a 2a6b 7729 0a20 2020 2020 2020 2020   **kw).         
+000059b0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+000059c0: 6c69 6620 6c65 6e28 7374 7267 6874 5f65  lif len(strght_e
+000059d0: 6467 6573 293a 0a20 2020 2020 2020 2020  dges):.         
 000059e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000059f0: 2020 706f 735b 7374 7267 6874 5f65 6467    pos[strght_edg
-00005a00: 6573 5b3a 2c20 305d 2c20 305d 0a20 2020  es[:, 0], 0].   
-00005a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005a20: 2020 2020 2020 2020 2061 7272 6f77 5f78           arrow_x
-00005a30: 202d 3d20 6e70 2e73 6967 6e28 6172 726f   -= np.sign(arro
-00005a40: 775f 7829 202a 2064 6c0a 2020 2020 2020  w_x) * dl.      
-00005a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005a60: 2020 2020 2020 6172 726f 775f 7920 203d        arrow_y  =
-00005a70: 2070 6f73 5b73 7472 6768 745f 6564 6765   pos[strght_edge
-00005a80: 735b 3a2c 2031 5d2c 2031 5d20 2d20 5c0a  s[:, 1], 1] - \.
-00005a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000059f0: 2020 2066 6f72 2069 2c20 2873 2c20 7429     for i, (s, t)
+00005a00: 2069 6e20 656e 756d 6572 6174 6528 7374   in enumerate(st
+00005a10: 7267 6874 5f65 6467 6573 293a 0a20 2020  rght_edges):.   
+00005a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005a30: 2020 2020 2020 2020 2020 2020 2078 732c               xs,
+00005a40: 2079 7320 3d20 706f 735b 732c 2030 5d2c   ys = pos[s, 0],
+00005a50: 2070 6f73 5b73 2c20 315d 0a20 2020 2020   pos[s, 1].     
+00005a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005a70: 2020 2020 2020 2020 2020 2078 742c 2079             xt, y
+00005a80: 7420 3d20 706f 735b 742c 2030 5d2c 2070  t = pos[t, 0], p
+00005a90: 6f73 5b74 2c20 315d 0a0a 2020 2020 2020  os[t, 1]..      
 00005aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005ab0: 2020 2020 2020 2070 6f73 5b73 7472 6768         pos[strgh
-00005ac0: 745f 6564 6765 735b 3a2c 2030 5d2c 2031  t_edges[:, 0], 1
-00005ad0: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
-00005ae0: 2020 2020 2020 2020 2020 2020 2020 6172                ar
-00005af0: 726f 775f 7820 2d3d 206e 702e 7369 676e  row_x -= np.sign
-00005b00: 2861 7272 6f77 5f79 2920 2a20 646c 0a0a  (arrow_y) * dl..
-00005b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005b20: 2020 2020 2020 2020 2020 2020 6178 6973              axis
-00005b30: 2e71 7569 7665 7228 0a20 2020 2020 2020  .quiver(.       
-00005b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005b50: 2020 2020 2020 2020 2070 6f73 5b73 7472           pos[str
-00005b60: 6768 745f 6564 6765 735b 3a2c 2030 5d2c  ght_edges[:, 0],
-00005b70: 2030 5d2c 0a20 2020 2020 2020 2020 2020   0],.           
+00005ab0: 2020 2020 2020 2020 2020 7341 203d 2030            sA = 0
+00005ac0: 2069 6620 7369 6d70 6c65 5f6e 6f64 6573   if simple_nodes
+00005ad0: 2065 6c73 6520 302e 352a 6e73 697a 655b   else 0.5*nsize[
+00005ae0: 735d 0a20 2020 2020 2020 2020 2020 2020  s].             
+00005af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005b00: 2020 2073 4220 3d20 3020 6966 2073 696d     sB = 0 if sim
+00005b10: 706c 655f 6e6f 6465 7320 656c 7365 2030  ple_nodes else 0
+00005b20: 2e35 2a6e 7369 7a65 5b74 5d0a 0a20 2020  .5*nsize[t]..   
+00005b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005b40: 2020 2020 2020 2020 2020 2020 2063 7320               cs 
+00005b50: 3d20 2761 7263 332c 7261 643d 302e 3227  = 'arc3,rad=0.2'
+00005b60: 2069 6620 6375 7276 6564 5f65 6467 6573   if curved_edges
+00005b70: 2065 6c73 6520 4e6f 6e65 0a0a 2020 2020   else None..    
 00005b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005b90: 2020 2020 2070 6f73 5b73 7472 6768 745f       pos[strght_
-00005ba0: 6564 6765 735b 3a2c 2030 5d2c 2031 5d2c  edges[:, 0], 1],
-00005bb0: 2061 7272 6f77 5f78 2c0a 2020 2020 2020   arrow_x,.      
+00005b90: 2020 2020 2020 2020 2020 2020 6173 7479              asty
+00005ba0: 6c65 203d 2041 7272 6f77 5374 796c 652e  le = ArrowStyle.
+00005bb0: 5369 6d70 6c65 280a 2020 2020 2020 2020  Simple(.        
 00005bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005bd0: 2020 2020 2020 2020 2020 6172 726f 775f            arrow_
-00005be0: 792c 2073 6361 6c65 5f75 6e69 7473 3d27  y, scale_units='
-00005bf0: 7879 272c 2061 6e67 6c65 733d 2778 7927  xy', angles='xy'
-00005c00: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00005bd0: 2020 2020 2020 2020 2020 2020 6865 6164              head
+00005be0: 5f6c 656e 6774 683d 302e 372a 7374 7267  _length=0.7*strg
+00005bf0: 6874 5f73 697a 6573 5b69 5d2c 0a20 2020  ht_sizes[i],.   
+00005c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00005c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005c20: 2020 7363 616c 653d 312c 2061 6c70 6861    scale=1, alpha
-00005c30: 3d65 616c 7068 612c 0a20 2020 2020 2020  =ealpha,.       
-00005c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005c50: 2020 2020 2020 2020 2077 6964 7468 3d33           width=3
-00005c60: 652d 332c 206c 696e 6577 6964 7468 733d  e-3, linewidths=
-00005c70: 302e 352a 7374 7267 6874 5f73 697a 6573  0.5*strght_sizes
-00005c80: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00005c20: 2068 6561 645f 7769 6474 683d 302e 372a   head_width=0.7*
+00005c30: 7374 7267 6874 5f73 697a 6573 5b69 5d2c  strght_sizes[i],
+00005c40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005c60: 2020 2020 2074 6169 6c5f 7769 6474 683d       tail_width=
+00005c70: 302e 332a 7374 7267 6874 5f73 697a 6573  0.3*strght_sizes
+00005c80: 5b69 5d29 0a0a 2020 2020 2020 2020 2020  [i])..          
 00005c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005ca0: 2020 6564 6765 636f 6c6f 7273 3d65 632c    edgecolors=ec,
-00005cb0: 2063 6f6c 6f72 3d65 632c 207a 6f72 6465   color=ec, zorde
-00005cc0: 723d 312c 202a 2a6b 7729 0a20 2020 2020  r=1, **kw).     
+00005ca0: 2020 2020 2020 6172 726f 7773 2e61 7070        arrows.app
+00005cb0: 656e 6428 4661 6e63 7941 7272 6f77 5061  end(FancyArrowPa
+00005cc0: 7463 6828 0a20 2020 2020 2020 2020 2020  tch(.           
 00005cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005ce0: 2020 2065 6c69 6620 6c65 6e28 7374 7267     elif len(strg
-00005cf0: 6874 5f65 6467 6573 293a 0a20 2020 2020  ht_edges):.     
-00005d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005d10: 2020 2020 2020 2066 6f72 2069 2c20 2873         for i, (s
-00005d20: 2c20 7429 2069 6e20 656e 756d 6572 6174  , t) in enumerat
-00005d30: 6528 7374 7267 6874 5f65 6467 6573 293a  e(strght_edges):
-00005d40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005d60: 2078 732c 2079 7320 3d20 706f 735b 732c   xs, ys = pos[s,
-00005d70: 2030 5d2c 2070 6f73 5b73 2c20 315d 0a20   0], pos[s, 1]. 
-00005d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005d90: 2020 2020 2020 2020 2020 2020 2020 2078                 x
-00005da0: 742c 2079 7420 3d20 706f 735b 742c 2030  t, yt = pos[t, 0
-00005db0: 5d2c 2070 6f73 5b74 2c20 315d 0a0a 2020  ], pos[t, 1]..  
-00005dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005dd0: 2020 2020 2020 2020 2020 2020 2020 7341                sA
-00005de0: 203d 2030 2069 6620 7369 6d70 6c65 5f6e   = 0 if simple_n
-00005df0: 6f64 6573 2065 6c73 6520 302e 352a 6e73  odes else 0.5*ns
-00005e00: 697a 655b 735d 0a20 2020 2020 2020 2020  ize[s].         
-00005e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005e20: 2020 2020 2020 2073 4220 3d20 3020 6966         sB = 0 if
-00005e30: 2073 696d 706c 655f 6e6f 6465 7320 656c   simple_nodes el
-00005e40: 7365 2030 2e35 2a6e 7369 7a65 5b74 5d0a  se 0.5*nsize[t].
-00005e50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005e70: 2063 7320 3d20 2761 7263 332c 7261 643d   cs = 'arc3,rad=
-00005e80: 302e 3227 2069 6620 6375 7276 6564 5f65  0.2' if curved_e
-00005e90: 6467 6573 2065 6c73 6520 4e6f 6e65 0a0a  dges else None..
+00005ce0: 2020 2020 2020 2020 2070 6f73 413d 2878           posA=(x
+00005cf0: 732c 2079 7329 2c20 706f 7342 3d28 7874  s, ys), posB=(xt
+00005d00: 2c20 7974 292c 0a20 2020 2020 2020 2020  , yt),.         
+00005d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005d20: 2020 2020 2020 2020 2020 2061 7272 6f77             arrow
+00005d30: 7374 796c 653d 6173 7479 6c65 2c20 636f  style=astyle, co
+00005d40: 6e6e 6563 7469 6f6e 7374 796c 653d 6373  nnectionstyle=cs
+00005d50: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00005d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005d70: 2020 2020 2020 616c 7068 613d 6561 6c70        alpha=ealp
+00005d80: 6861 2c20 6663 3d65 632c 207a 6f72 6465  ha, fc=ec, zorde
+00005d90: 723d 312c 0a20 2020 2020 2020 2020 2020  r=1,.           
+00005da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005db0: 2020 2020 2020 2020 2073 6872 696e 6b41           shrinkA
+00005dc0: 3d30 2e35 2a6e 7369 7a65 5b73 5d2c 2073  =0.5*nsize[s], s
+00005dd0: 6872 696e 6b42 3d30 2e35 2a6e 7369 7a65  hrinkB=0.5*nsize
+00005de0: 5b74 5d2c 0a20 2020 2020 2020 2020 2020  [t],.           
+00005df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005e00: 2020 2020 2020 2020 206c 773d 6562 6f72           lw=ebor
+00005e10: 6465 725f 7769 6474 682c 2065 633d 6562  der_width, ec=eb
+00005e20: 6f72 6465 725f 636f 6c6f 7229 290a 0a20  order_color)).. 
+00005e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005e40: 2020 2020 2020 2066 6f72 2069 2c20 7320         for i, s 
+00005e50: 696e 2065 6e75 6d65 7261 7465 2873 656c  in enumerate(sel
+00005e60: 665f 6c6f 6f70 7329 3a0a 2020 2020 2020  f_loops):.      
+00005e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005e80: 2020 2020 2020 6c6f 6f70 203d 205f 706c        loop = _pl
+00005e90: 6f74 5f6c 6f6f 7028 0a20 2020 2020 2020  ot_loop(.       
 00005ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005ec0: 6173 7479 6c65 203d 2041 7272 6f77 5374  astyle = ArrowSt
-00005ed0: 796c 652e 5369 6d70 6c65 280a 2020 2020  yle.Simple(.    
-00005ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005eb0: 2020 2020 2020 2020 2069 2c20 732c 2070           i, s, p
+00005ec0: 6f73 2c20 6c6f 6f70 5f73 697a 6573 2c20  os, loop_sizes, 
+00005ed0: 6e73 697a 652c 206d 6178 5f6e 7369 7a65  nsize, max_nsize
+00005ee0: 2c20 786d 6178 2c0a 2020 2020 2020 2020  , xmax,.        
 00005ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005f00: 6865 6164 5f6c 656e 6774 683d 302e 372a  head_length=0.7*
-00005f10: 7374 7267 6874 5f73 697a 6573 5b69 5d2c  strght_sizes[i],
-00005f20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005f40: 2020 2020 2068 6561 645f 7769 6474 683d       head_width=
-00005f50: 302e 372a 7374 7267 6874 5f73 697a 6573  0.7*strght_sizes
-00005f60: 5b69 5d2c 0a20 2020 2020 2020 2020 2020  [i],.           
-00005f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005f80: 2020 2020 2020 2020 2074 6169 6c5f 7769           tail_wi
-00005f90: 6474 683d 302e 332a 7374 7267 6874 5f73  dth=0.3*strght_s
-00005fa0: 697a 6573 5b69 5d29 0a0a 2020 2020 2020  izes[i])..      
-00005fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005fc0: 2020 2020 2020 2020 2020 6172 726f 7773            arrows
-00005fd0: 2e61 7070 656e 6428 4661 6e63 7941 7272  .append(FancyArr
-00005fe0: 6f77 5061 7463 6828 0a20 2020 2020 2020  owPatch(.       
-00005ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006000: 2020 2020 2020 2020 2020 2020 2070 6f73               pos
-00006010: 413d 2878 732c 2079 7329 2c20 706f 7342  A=(xs, ys), posB
-00006020: 3d28 7874 2c20 7974 292c 0a20 2020 2020  =(xt, yt),.     
-00006030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006040: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-00006050: 7272 6f77 7374 796c 653d 6173 7479 6c65  rrowstyle=astyle
-00006060: 2c20 636f 6e6e 6563 7469 6f6e 7374 796c  , connectionstyl
-00006070: 653d 6373 2c0a 2020 2020 2020 2020 2020  e=cs,.          
-00006080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006090: 2020 2020 2020 2020 2020 616c 7068 613d            alpha=
-000060a0: 6561 6c70 6861 2c20 6663 3d65 632c 207a  ealpha, fc=ec, z
-000060b0: 6f72 6465 723d 312c 0a20 2020 2020 2020  order=1,.       
-000060c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000060d0: 2020 2020 2020 2020 2020 2020 2073 6872               shr
-000060e0: 696e 6b41 3d30 2e35 2a6e 7369 7a65 5b73  inkA=0.5*nsize[s
-000060f0: 5d2c 2073 6872 696e 6b42 3d30 2e35 2a6e  ], shrinkB=0.5*n
-00006100: 7369 7a65 5b74 5d2c 0a20 2020 2020 2020  size[t],.       
-00006110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006120: 2020 2020 2020 2020 2020 2020 206c 773d               lw=
-00006130: 6562 6f72 6465 725f 7769 6474 682c 2065  eborder_width, e
-00006140: 633d 6562 6f72 6465 725f 636f 6c6f 7229  c=eborder_color)
-00006150: 290a 0a20 2020 2020 2020 2020 2020 2020  )..             
-00006160: 2020 2020 2020 2020 2020 2066 6f72 2069             for i
-00006170: 2c20 7320 696e 2065 6e75 6d65 7261 7465  , s in enumerate
-00006180: 2873 656c 665f 6c6f 6f70 7329 3a0a 2020  (self_loops):.  
-00006190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000061a0: 2020 2020 2020 2020 2020 6c6f 6f70 203d            loop =
-000061b0: 205f 706c 6f74 5f6c 6f6f 7028 0a20 2020   _plot_loop(.   
-000061c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000061d0: 2020 2020 2020 2020 2020 2020 2069 2c20               i, 
-000061e0: 732c 2070 6f73 2c20 6c6f 6f70 5f73 697a  s, pos, loop_siz
-000061f0: 6573 2c20 6e73 697a 652c 206d 6178 5f6e  es, nsize, max_n
-00006200: 7369 7a65 2c20 786d 6178 2c0a 2020 2020  size, xmax,.    
-00006210: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006220: 2020 2020 2020 2020 2020 2020 786d 696e              xmin
-00006230: 2c20 796d 6178 2c20 796d 696e 2c20 6865  , ymax, ymin, he
-00006240: 6967 6874 2c20 7769 6474 682c 2065 632c  ight, width, ec,
-00006250: 2065 616c 7068 612c 0a20 2020 2020 2020   ealpha,.       
-00006260: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006270: 2020 2020 2020 2020 2065 626f 7264 6572           eborder
-00006280: 5f77 6964 7468 2c20 6562 6f72 6465 725f  _width, eborder_
-00006290: 636f 6c6f 722c 2066 6173 742c 206e 6574  color, fast, net
-000062a0: 776f 726b 2c0a 2020 2020 2020 2020 2020  work,.          
-000062b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000062c0: 2020 2020 2020 7265 7374 7269 6374 5f6e        restrict_n
-000062d0: 6f64 6573 290a 0a20 2020 2020 2020 2020  odes)..         
-000062e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000062f0: 2020 2061 7869 732e 6164 645f 6172 7469     axis.add_arti
-00006300: 7374 286c 6f6f 7029 0a20 2020 2020 2020  st(loop).       
-00006310: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00006320: 2020 2073 7472 6768 745f 636f 6c6f 7273     strght_colors
-00006330: 2c20 6c6f 6f70 5f63 6f6c 6f72 7320 3d20  , loop_colors = 
-00006340: 5b5d 2c20 5b5d 0a0a 2020 2020 2020 2020  [], []..        
-00006350: 2020 2020 7374 7267 6874 5f65 6467 6573      strght_edges
-00006360: 2c20 7365 6c66 5f6c 6f6f 7073 2c20 7374  , self_loops, st
-00006370: 7267 6874 5f73 697a 6573 2c20 6c6f 6f70  rght_sizes, loop
-00006380: 5f73 697a 6573 203d 205c 0a20 2020 2020  _sizes = \.     
-00006390: 2020 2020 2020 2020 2020 205f 7370 6c69             _spli
-000063a0: 745f 6564 6765 735f 7369 7a65 7328 6564  t_edges_sizes(ed
-000063b0: 6765 732c 2065 7369 7a65 2c20 6465 6369  ges, esize, deci
-000063c0: 6d61 7465 5f63 6f6e 6e65 6374 696f 6e73  mate_connections
-000063d0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-000063e0: 2020 6563 6f6c 6f72 2c20 7374 7267 6874    ecolor, strght
-000063f0: 5f63 6f6c 6f72 732c 206c 6f6f 705f 636f  _colors, loop_co
-00006400: 6c6f 7273 290a 0a20 2020 2020 2020 2020  lors)..         
-00006410: 2020 2023 206b 6565 7020 6f6e 6c79 2064     # keep only d
-00006420: 6573 6972 6564 2065 6467 6573 0a20 2020  esired edges.   
-00006430: 2020 2020 2020 2020 2069 6620 4e6f 6e65           if None
-00006440: 206e 6f74 2069 6e20 2872 6573 7472 6963   not in (restric
-00006450: 745f 736f 7572 6365 732c 2072 6573 7472  t_sources, restr
-00006460: 6963 745f 7461 7267 6574 7329 3a0a 2020  ict_targets):.  
-00006470: 2020 2020 2020 2020 2020 2020 2020 6e65                ne
-00006480: 775f 6564 6765 7320 3d20 5b5d 0a20 2020  w_edges = [].   
-00006490: 2020 2020 2020 2020 2020 2020 206e 6577               new
-000064a0: 5f63 6f6c 6f72 7320 3d20 5b5d 0a0a 2020  _colors = []..  
-000064b0: 2020 2020 2020 2020 2020 2020 2020 666f                fo
-000064c0: 7220 6564 6765 2c20 6563 2069 6e20 7a69  r edge, ec in zi
-000064d0: 7028 7374 7267 6874 5f65 6467 6573 2c20  p(strght_edges, 
-000064e0: 7374 7267 6874 5f63 6f6c 6f72 7329 3a0a  strght_colors):.
-000064f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006500: 2020 2020 732c 2074 203d 2065 6467 650a      s, t = edge.
-00006510: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00006520: 2020 2020 2069 6620 7320 696e 2072 6573       if s in res
-00006530: 7472 6963 745f 736f 7572 6365 7320 616e  trict_sources an
-00006540: 6420 7420 696e 2072 6573 7472 6963 745f  d t in restrict_
-00006550: 7461 7267 6574 733a 0a20 2020 2020 2020  targets:.       
-00006560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006570: 206e 6577 5f65 6467 6573 2e61 7070 656e   new_edges.appen
-00006580: 6428 6564 6765 290a 2020 2020 2020 2020  d(edge).        
-00006590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000065a0: 6e65 775f 636f 6c6f 7273 2e61 7070 656e  new_colors.appen
-000065b0: 6428 6563 290a 0a20 2020 2020 2020 2020  d(ec)..         
-000065c0: 2020 2020 2020 2073 7472 6768 745f 6564         strght_ed
-000065d0: 6765 7320 3d20 6e70 2e61 7272 6179 286e  ges = np.array(n
-000065e0: 6577 5f65 6467 6573 2c20 6474 7970 653d  ew_edges, dtype=
-000065f0: 696e 7429 0a20 2020 2020 2020 2020 2020  int).           
-00006600: 2020 2020 2073 7472 6768 745f 636f 6c6f       strght_colo
-00006610: 7273 203d 206e 6577 5f63 6f6c 6f72 730a  rs = new_colors.
-00006620: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00006630: 2069 6620 7265 7374 7269 6374 5f6e 6f64   if restrict_nod
-00006640: 6573 2069 7320 6e6f 7420 4e6f 6e65 3a0a  es is not None:.
-00006650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006660: 2020 2020 6e6f 6465 7320 3d20 6c69 7374      nodes = list
-00006670: 2873 656c 665f 6c6f 6f70 7329 0a20 2020  (self_loops).   
-00006680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006690: 206e 6f64 6573 2e73 6f72 7428 290a 0a20   nodes.sort().. 
+00005f00: 2020 2020 2020 2020 786d 696e 2c20 796d          xmin, ym
+00005f10: 6178 2c20 796d 696e 2c20 6865 6967 6874  ax, ymin, height
+00005f20: 2c20 7769 6474 682c 2065 632c 2065 616c  , width, ec, eal
+00005f30: 7068 612c 0a20 2020 2020 2020 2020 2020  pha,.           
+00005f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005f50: 2020 2020 2065 626f 7264 6572 5f77 6964       eborder_wid
+00005f60: 7468 2c20 6562 6f72 6465 725f 636f 6c6f  th, eborder_colo
+00005f70: 722c 2066 6173 742c 206e 6574 776f 726b  r, fast, network
+00005f80: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00005f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005fa0: 2020 7265 7374 7269 6374 5f6e 6f64 6573    restrict_nodes
+00005fb0: 290a 0a20 2020 2020 2020 2020 2020 2020  )..             
+00005fc0: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+00005fd0: 7869 732e 6164 645f 6172 7469 7374 286c  xis.add_artist(l
+00005fe0: 6f6f 7029 0a20 2020 2020 2020 2065 6c73  oop).        els
+00005ff0: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
+00006000: 7472 6768 745f 636f 6c6f 7273 2c20 6c6f  trght_colors, lo
+00006010: 6f70 5f63 6f6c 6f72 7320 3d20 5b5d 2c20  op_colors = [], 
+00006020: 5b5d 0a0a 2020 2020 2020 2020 2020 2020  []..            
+00006030: 7374 7267 6874 5f65 6467 6573 2c20 7365  strght_edges, se
+00006040: 6c66 5f6c 6f6f 7073 2c20 7374 7267 6874  lf_loops, strght
+00006050: 5f73 697a 6573 2c20 6c6f 6f70 5f73 697a  _sizes, loop_siz
+00006060: 6573 203d 205c 0a20 2020 2020 2020 2020  es = \.         
+00006070: 2020 2020 2020 205f 7370 6c69 745f 6564         _split_ed
+00006080: 6765 735f 7369 7a65 7328 6564 6765 732c  ges_sizes(edges,
+00006090: 2065 7369 7a65 2c20 6465 6369 6d61 7465   esize, decimate
+000060a0: 5f63 6f6e 6e65 6374 696f 6e73 2c0a 2020  _connections,.  
+000060b0: 2020 2020 2020 2020 2020 2020 2020 6563                ec
+000060c0: 6f6c 6f72 2c20 7374 7267 6874 5f63 6f6c  olor, strght_col
+000060d0: 6f72 732c 206c 6f6f 705f 636f 6c6f 7273  ors, loop_colors
+000060e0: 290a 0a20 2020 2020 2020 2020 2020 2023  )..            #
+000060f0: 206b 6565 7020 6f6e 6c79 2064 6573 6972   keep only desir
+00006100: 6564 2065 6467 6573 0a20 2020 2020 2020  ed edges.       
+00006110: 2020 2020 2069 6620 4e6f 6e65 206e 6f74       if None not
+00006120: 2069 6e20 2872 6573 7472 6963 745f 736f   in (restrict_so
+00006130: 7572 6365 732c 2072 6573 7472 6963 745f  urces, restrict_
+00006140: 7461 7267 6574 7329 3a0a 2020 2020 2020  targets):.      
+00006150: 2020 2020 2020 2020 2020 6e65 775f 6564            new_ed
+00006160: 6765 7320 3d20 5b5d 0a20 2020 2020 2020  ges = [].       
+00006170: 2020 2020 2020 2020 206e 6577 5f63 6f6c           new_col
+00006180: 6f72 7320 3d20 5b5d 0a0a 2020 2020 2020  ors = []..      
+00006190: 2020 2020 2020 2020 2020 666f 7220 6564            for ed
+000061a0: 6765 2c20 6563 2069 6e20 7a69 7028 7374  ge, ec in zip(st
+000061b0: 7267 6874 5f65 6467 6573 2c20 7374 7267  rght_edges, strg
+000061c0: 6874 5f63 6f6c 6f72 7329 3a0a 2020 2020  ht_colors):.    
+000061d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000061e0: 732c 2074 203d 2065 6467 650a 0a20 2020  s, t = edge..   
+000061f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006200: 2069 6620 7320 696e 2072 6573 7472 6963   if s in restric
+00006210: 745f 736f 7572 6365 7320 616e 6420 7420  t_sources and t 
+00006220: 696e 2072 6573 7472 6963 745f 7461 7267  in restrict_targ
+00006230: 6574 733a 0a20 2020 2020 2020 2020 2020  ets:.           
+00006240: 2020 2020 2020 2020 2020 2020 206e 6577               new
+00006250: 5f65 6467 6573 2e61 7070 656e 6428 6564  _edges.append(ed
+00006260: 6765 290a 2020 2020 2020 2020 2020 2020  ge).            
+00006270: 2020 2020 2020 2020 2020 2020 6e65 775f              new_
+00006280: 636f 6c6f 7273 2e61 7070 656e 6428 6563  colors.append(ec
+00006290: 290a 0a20 2020 2020 2020 2020 2020 2020  )..             
+000062a0: 2020 2073 7472 6768 745f 6564 6765 7320     strght_edges 
+000062b0: 3d20 6e70 2e61 7272 6179 286e 6577 5f65  = np.array(new_e
+000062c0: 6467 6573 2c20 6474 7970 653d 696e 7429  dges, dtype=int)
+000062d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000062e0: 2073 7472 6768 745f 636f 6c6f 7273 203d   strght_colors =
+000062f0: 206e 6577 5f63 6f6c 6f72 730a 0a20 2020   new_colors..   
+00006300: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00006310: 7265 7374 7269 6374 5f6e 6f64 6573 2069  restrict_nodes i
+00006320: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
+00006330: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006340: 6e6f 6465 7320 3d20 6c69 7374 2873 656c  nodes = list(sel
+00006350: 665f 6c6f 6f70 7329 0a20 2020 2020 2020  f_loops).       
+00006360: 2020 2020 2020 2020 2020 2020 206e 6f64               nod
+00006370: 6573 2e73 6f72 7428 290a 0a20 2020 2020  es.sort()..     
+00006380: 2020 2020 2020 2020 2020 2020 2020 206e                 n
+00006390: 6577 5f6c 6f6f 7073 203d 2073 6574 2829  ew_loops = set()
+000063a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000063b0: 2020 2020 206e 6577 5f63 6f6c 6f72 7320       new_colors 
+000063c0: 3d20 5b5d 0a0a 2020 2020 2020 2020 2020  = []..          
+000063d0: 2020 2020 2020 2020 2020 666f 7220 692c            for i,
+000063e0: 206e 6f64 6520 696e 2065 6e75 6d65 7261   node in enumera
+000063f0: 7465 2872 6573 7472 6963 745f 6e6f 6465  te(restrict_node
+00006400: 7329 3a0a 2020 2020 2020 2020 2020 2020  s):.            
+00006410: 2020 2020 2020 2020 2020 2020 7374 7267              strg
+00006420: 6874 5f65 6467 6573 5b73 7472 6768 745f  ht_edges[strght_
+00006430: 6564 6765 7320 3d3d 206e 6f64 655d 203d  edges == node] =
+00006440: 2069 0a0a 2020 2020 2020 2020 2020 2020   i..            
+00006450: 2020 2020 2020 2020 2020 2020 6966 206e              if n
+00006460: 6f64 6520 696e 2073 656c 665f 6c6f 6f70  ode in self_loop
+00006470: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
+00006480: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00006490: 6478 203d 206e 6f64 6573 2e69 6e64 6578  dx = nodes.index
+000064a0: 286e 6f64 6529 0a20 2020 2020 2020 2020  (node).         
+000064b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000064c0: 2020 206e 6577 5f6c 6f6f 7073 2e61 6464     new_loops.add
+000064d0: 2869 290a 2020 2020 2020 2020 2020 2020  (i).            
+000064e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000064f0: 6e65 775f 636f 6c6f 7273 2e61 7070 656e  new_colors.appen
+00006500: 6428 6c6f 6f70 5f63 6f6c 6f72 735b 6964  d(loop_colors[id
+00006510: 785d 290a 0a20 2020 2020 2020 2020 2020  x])..           
+00006520: 2020 2020 2020 2020 2073 656c 665f 6c6f           self_lo
+00006530: 6f70 7320 3d20 6e65 775f 6c6f 6f70 730a  ops = new_loops.
+00006540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006550: 2020 2020 6c6f 6f70 5f63 6f6c 6f72 7320      loop_colors 
+00006560: 3d20 6e65 775f 636f 6c6f 7273 0a20 2020  = new_colors.   
+00006570: 2020 2020 2020 2020 2065 6c69 6620 7265           elif re
+00006580: 7374 7269 6374 5f73 6f75 7263 6573 2069  strict_sources i
+00006590: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
+000065a0: 2020 2020 2020 2020 2020 2020 6e65 775f              new_
+000065b0: 6564 6765 7320 3d20 5b5d 0a20 2020 2020  edges = [].     
+000065c0: 2020 2020 2020 2020 2020 206e 6577 5f63             new_c
+000065d0: 6f6c 6f72 7320 3d20 5b5d 0a0a 2020 2020  olors = []..    
+000065e0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
+000065f0: 6564 6765 2c20 6563 2069 6e20 7a69 7028  edge, ec in zip(
+00006600: 7374 7267 6874 5f65 6467 6573 2c20 7374  strght_edges, st
+00006610: 7267 6874 5f63 6f6c 6f72 7329 3a0a 2020  rght_colors):.  
+00006620: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006630: 2020 732c 205f 203d 2065 6467 650a 0a20    s, _ = edge.. 
+00006640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006650: 2020 2069 6620 7320 696e 2072 6573 7472     if s in restr
+00006660: 6963 745f 736f 7572 6365 733a 0a20 2020  ict_sources:.   
+00006670: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006680: 2020 2020 206e 6577 5f65 6467 6573 2e61       new_edges.a
+00006690: 7070 656e 6428 6564 6765 290a 2020 2020  ppend(edge).    
 000066a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000066b0: 2020 206e 6577 5f6c 6f6f 7073 203d 2073     new_loops = s
-000066c0: 6574 2829 0a20 2020 2020 2020 2020 2020  et().           
-000066d0: 2020 2020 2020 2020 206e 6577 5f63 6f6c           new_col
-000066e0: 6f72 7320 3d20 5b5d 0a0a 2020 2020 2020  ors = []..      
-000066f0: 2020 2020 2020 2020 2020 2020 2020 666f                fo
-00006700: 7220 692c 206e 6f64 6520 696e 2065 6e75  r i, node in enu
-00006710: 6d65 7261 7465 2872 6573 7472 6963 745f  merate(restrict_
-00006720: 6e6f 6465 7329 3a0a 2020 2020 2020 2020  nodes):.        
-00006730: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006740: 7374 7267 6874 5f65 6467 6573 5b73 7472  strght_edges[str
-00006750: 6768 745f 6564 6765 7320 3d3d 206e 6f64  ght_edges == nod
-00006760: 655d 203d 2069 0a0a 2020 2020 2020 2020  e] = i..        
-00006770: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006780: 6966 206e 6f64 6520 696e 2073 656c 665f  if node in self_
-00006790: 6c6f 6f70 733a 0a20 2020 2020 2020 2020  loops:.         
-000067a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000067b0: 2020 2069 6478 203d 206e 6f64 6573 2e69     idx = nodes.i
-000067c0: 6e64 6578 286e 6f64 6529 0a20 2020 2020  ndex(node).     
-000067d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000067e0: 2020 2020 2020 206e 6577 5f6c 6f6f 7073         new_loops
-000067f0: 2e61 6464 2869 290a 2020 2020 2020 2020  .add(i).        
-00006800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006810: 2020 2020 6e65 775f 636f 6c6f 7273 2e61      new_colors.a
-00006820: 7070 656e 6428 6c6f 6f70 5f63 6f6c 6f72  ppend(loop_color
-00006830: 735b 6964 785d 290a 0a20 2020 2020 2020  s[idx])..       
-00006840: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00006850: 665f 6c6f 6f70 7320 3d20 6e65 775f 6c6f  f_loops = new_lo
-00006860: 6f70 730a 2020 2020 2020 2020 2020 2020  ops.            
-00006870: 2020 2020 2020 2020 6c6f 6f70 5f63 6f6c          loop_col
-00006880: 6f72 7320 3d20 6e65 775f 636f 6c6f 7273  ors = new_colors
-00006890: 0a20 2020 2020 2020 2020 2020 2065 6c69  .            eli
-000068a0: 6620 7265 7374 7269 6374 5f73 6f75 7263  f restrict_sourc
-000068b0: 6573 2069 7320 6e6f 7420 4e6f 6e65 3a0a  es is not None:.
-000068c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000068d0: 6e65 775f 6564 6765 7320 3d20 5b5d 0a20  new_edges = []. 
-000068e0: 2020 2020 2020 2020 2020 2020 2020 206e                 n
-000068f0: 6577 5f63 6f6c 6f72 7320 3d20 5b5d 0a0a  ew_colors = []..
-00006900: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006910: 666f 7220 6564 6765 2c20 6563 2069 6e20  for edge, ec in 
-00006920: 7a69 7028 7374 7267 6874 5f65 6467 6573  zip(strght_edges
-00006930: 2c20 7374 7267 6874 5f63 6f6c 6f72 7329  , strght_colors)
-00006940: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00006950: 2020 2020 2020 732c 205f 203d 2065 6467        s, _ = edg
-00006960: 650a 0a20 2020 2020 2020 2020 2020 2020  e..             
-00006970: 2020 2020 2020 2069 6620 7320 696e 2072         if s in r
-00006980: 6573 7472 6963 745f 736f 7572 6365 733a  estrict_sources:
-00006990: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000069a0: 2020 2020 2020 2020 206e 6577 5f65 6467           new_edg
-000069b0: 6573 2e61 7070 656e 6428 6564 6765 290a  es.append(edge).
-000069c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000069d0: 2020 2020 2020 2020 6e65 775f 636f 6c6f          new_colo
-000069e0: 7273 2e61 7070 656e 6428 6563 290a 0a20  rs.append(ec).. 
-000069f0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00006a00: 7472 6768 745f 6564 6765 7320 3d20 6e70  trght_edges = np
-00006a10: 2e61 7272 6179 286e 6577 5f65 6467 6573  .array(new_edges
-00006a20: 2c20 6474 7970 653d 696e 7429 0a0a 2020  , dtype=int)..  
-00006a30: 2020 2020 2020 2020 2020 2020 2020 6c6f                lo
-00006a40: 6f70 5f63 6f6c 6f72 7320 3d20 5b65 6320  op_colors = [ec 
-00006a50: 666f 7220 6563 2c20 6e20 696e 207a 6970  for ec, n in zip
-00006a60: 286c 6f6f 705f 636f 6c6f 7273 2c20 7365  (loop_colors, se
-00006a70: 6c66 5f6c 6f6f 7073 290a 2020 2020 2020  lf_loops).      
+000066b0: 2020 2020 6e65 775f 636f 6c6f 7273 2e61      new_colors.a
+000066c0: 7070 656e 6428 6563 290a 0a20 2020 2020  ppend(ec)..     
+000066d0: 2020 2020 2020 2020 2020 2073 7472 6768             strgh
+000066e0: 745f 6564 6765 7320 3d20 6e70 2e61 7272  t_edges = np.arr
+000066f0: 6179 286e 6577 5f65 6467 6573 2c20 6474  ay(new_edges, dt
+00006700: 7970 653d 696e 7429 0a0a 2020 2020 2020  ype=int)..      
+00006710: 2020 2020 2020 2020 2020 6c6f 6f70 5f63            loop_c
+00006720: 6f6c 6f72 7320 3d20 5b65 6320 666f 7220  olors = [ec for 
+00006730: 6563 2c20 6e20 696e 207a 6970 286c 6f6f  ec, n in zip(loo
+00006740: 705f 636f 6c6f 7273 2c20 7365 6c66 5f6c  p_colors, self_l
+00006750: 6f6f 7073 290a 2020 2020 2020 2020 2020  oops).          
+00006760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006770: 2020 2020 2020 6966 206e 2069 6e20 7265        if n in re
+00006780: 7374 7269 6374 5f73 6f75 7263 6573 5d0a  strict_sources].
+00006790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000067a0: 7365 6c66 5f6c 6f6f 7073 2020 3d20 7365  self_loops  = se
+000067b0: 6c66 5f6c 6f6f 7073 2e69 6e74 6572 7365  lf_loops.interse
+000067c0: 6374 696f 6e28 7265 7374 7269 6374 5f73  ction(restrict_s
+000067d0: 6f75 7263 6573 290a 2020 2020 2020 2020  ources).        
+000067e0: 2020 2020 656c 6966 2072 6573 7472 6963      elif restric
+000067f0: 745f 7461 7267 6574 7320 6973 206e 6f74  t_targets is not
+00006800: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+00006810: 2020 2020 2020 206e 6577 5f65 6467 6573         new_edges
+00006820: 203d 205b 5d0a 2020 2020 2020 2020 2020   = [].          
+00006830: 2020 2020 2020 6e65 775f 636f 6c6f 7273        new_colors
+00006840: 203d 205b 5d0a 0a20 2020 2020 2020 2020   = []..         
+00006850: 2020 2020 2020 2066 6f72 2065 6467 652c         for edge,
+00006860: 2065 6320 696e 207a 6970 2873 7472 6768   ec in zip(strgh
+00006870: 745f 6564 6765 732c 2073 7472 6768 745f  t_edges, strght_
+00006880: 636f 6c6f 7273 293a 0a20 2020 2020 2020  colors):.       
+00006890: 2020 2020 2020 2020 2020 2020 205f 2c20               _, 
+000068a0: 7420 3d20 6564 6765 0a0a 2020 2020 2020  t = edge..      
+000068b0: 2020 2020 2020 2020 2020 2020 2020 6966                if
+000068c0: 2074 2069 6e20 7265 7374 7269 6374 5f74   t in restrict_t
+000068d0: 6172 6765 7473 3a0a 2020 2020 2020 2020  argets:.        
+000068e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000068f0: 6e65 775f 6564 6765 732e 6170 7065 6e64  new_edges.append
+00006900: 2865 6467 6529 0a20 2020 2020 2020 2020  (edge).         
+00006910: 2020 2020 2020 2020 2020 2020 2020 206e                 n
+00006920: 6577 5f63 6f6c 6f72 732e 6170 7065 6e64  ew_colors.append
+00006930: 2865 6329 0a0a 2020 2020 2020 2020 2020  (ec)..          
+00006940: 2020 2020 2020 7374 7267 6874 5f65 6467        strght_edg
+00006950: 6573 203d 206e 702e 6172 7261 7928 6e65  es = np.array(ne
+00006960: 775f 6564 6765 732c 2064 7479 7065 3d69  w_edges, dtype=i
+00006970: 6e74 290a 0a20 2020 2020 2020 2020 2020  nt)..           
+00006980: 2020 2020 206c 6f6f 705f 636f 6c6f 7273       loop_colors
+00006990: 203d 205b 6563 2066 6f72 2065 632c 206e   = [ec for ec, n
+000069a0: 2069 6e20 7a69 7028 6c6f 6f70 5f63 6f6c   in zip(loop_col
+000069b0: 6f72 732c 2073 656c 665f 6c6f 6f70 7329  ors, self_loops)
+000069c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000069d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000069e0: 2069 6620 6e20 696e 2072 6573 7472 6963   if n in restric
+000069f0: 745f 7461 7267 6574 735d 0a20 2020 2020  t_targets].     
+00006a00: 2020 2020 2020 2020 2020 2073 656c 665f             self_
+00006a10: 6c6f 6f70 7320 203d 2073 656c 665f 6c6f  loops  = self_lo
+00006a20: 6f70 732e 696e 7465 7273 6563 7469 6f6e  ops.intersection
+00006a30: 2872 6573 7472 6963 745f 7461 7267 6574  (restrict_target
+00006a40: 7329 0a0a 2020 2020 2020 2020 2020 2020  s)..            
+00006a50: 6966 2066 6173 743a 0a20 2020 2020 2020  if fast:.       
+00006a60: 2020 2020 2020 2020 2069 6620 6c65 6e28           if len(
+00006a70: 7374 7267 6874 5f65 6467 6573 293a 0a20  strght_edges):. 
 00006a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006a90: 2020 2020 2020 2020 2020 6966 206e 2069            if n i
-00006aa0: 6e20 7265 7374 7269 6374 5f73 6f75 7263  n restrict_sourc
-00006ab0: 6573 5d0a 2020 2020 2020 2020 2020 2020  es].            
-00006ac0: 2020 2020 7365 6c66 5f6c 6f6f 7073 2020      self_loops  
-00006ad0: 3d20 7365 6c66 5f6c 6f6f 7073 2e69 6e74  = self_loops.int
-00006ae0: 6572 7365 6374 696f 6e28 7265 7374 7269  ersection(restri
-00006af0: 6374 5f73 6f75 7263 6573 290a 2020 2020  ct_sources).    
-00006b00: 2020 2020 2020 2020 656c 6966 2072 6573          elif res
-00006b10: 7472 6963 745f 7461 7267 6574 7320 6973  trict_targets is
-00006b20: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
-00006b30: 2020 2020 2020 2020 2020 206e 6577 5f65             new_e
-00006b40: 6467 6573 203d 205b 5d0a 2020 2020 2020  dges = [].      
-00006b50: 2020 2020 2020 2020 2020 6e65 775f 636f            new_co
-00006b60: 6c6f 7273 203d 205b 5d0a 0a20 2020 2020  lors = []..     
-00006b70: 2020 2020 2020 2020 2020 2066 6f72 2065             for e
-00006b80: 6467 652c 2065 6320 696e 207a 6970 2873  dge, ec in zip(s
-00006b90: 7472 6768 745f 6564 6765 732c 2073 7472  trght_edges, str
-00006ba0: 6768 745f 636f 6c6f 7273 293a 0a20 2020  ght_colors):.   
-00006bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006bc0: 205f 2c20 7420 3d20 6564 6765 0a0a 2020   _, t = edge..  
-00006bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006be0: 2020 6966 2074 2069 6e20 7265 7374 7269    if t in restri
-00006bf0: 6374 5f74 6172 6765 7473 3a0a 2020 2020  ct_targets:.    
-00006c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006c10: 2020 2020 6e65 775f 6564 6765 732e 6170      new_edges.ap
-00006c20: 7065 6e64 2865 6467 6529 0a20 2020 2020  pend(edge).     
-00006c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006c40: 2020 206e 6577 5f63 6f6c 6f72 732e 6170     new_colors.ap
-00006c50: 7065 6e64 2865 6329 0a0a 2020 2020 2020  pend(ec)..      
-00006c60: 2020 2020 2020 2020 2020 7374 7267 6874            strght
-00006c70: 5f65 6467 6573 203d 206e 702e 6172 7261  _edges = np.arra
-00006c80: 7928 6e65 775f 6564 6765 732c 2064 7479  y(new_edges, dty
-00006c90: 7065 3d69 6e74 290a 0a20 2020 2020 2020  pe=int)..       
-00006ca0: 2020 2020 2020 2020 206c 6f6f 705f 636f           loop_co
-00006cb0: 6c6f 7273 203d 205b 6563 2066 6f72 2065  lors = [ec for e
-00006cc0: 632c 206e 2069 6e20 7a69 7028 6c6f 6f70  c, n in zip(loop
-00006cd0: 5f63 6f6c 6f72 732c 2073 656c 665f 6c6f  _colors, self_lo
-00006ce0: 6f70 7329 0a20 2020 2020 2020 2020 2020  ops).           
-00006cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006d00: 2020 2020 2069 6620 6e20 696e 2072 6573       if n in res
-00006d10: 7472 6963 745f 7461 7267 6574 735d 0a20  trict_targets]. 
-00006d20: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00006d30: 656c 665f 6c6f 6f70 7320 203d 2073 656c  elf_loops  = sel
-00006d40: 665f 6c6f 6f70 732e 696e 7465 7273 6563  f_loops.intersec
-00006d50: 7469 6f6e 2872 6573 7472 6963 745f 7461  tion(restrict_ta
-00006d60: 7267 6574 7329 0a0a 2020 2020 2020 2020  rgets)..        
-00006d70: 2020 2020 6966 2066 6173 743a 0a20 2020      if fast:.   
-00006d80: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00006d90: 6c65 6e28 7374 7267 6874 5f65 6467 6573  len(strght_edges
-00006da0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00006db0: 2020 2020 2020 2064 6c20 3d20 302e 352a         dl = 0.5*
-00006dc0: 6e70 2e6d 6178 286e 7369 7a65 2920 6966  np.max(nsize) if
-00006dd0: 206e 6f74 2073 696d 706c 655f 6e6f 6465   not simple_node
-00006de0: 7320 656c 7365 2030 2e0a 0a20 2020 2020  s else 0...     
-00006df0: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-00006e00: 7272 6f77 5f78 2020 3d20 706f 735b 7374  rrow_x  = pos[st
-00006e10: 7267 6874 5f65 6467 6573 5b3a 2c20 315d  rght_edges[:, 1]
-00006e20: 2c20 305d 202d 205c 0a20 2020 2020 2020  , 0] - \.       
-00006e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006e40: 2020 2020 2020 2020 2070 6f73 5b73 7472           pos[str
-00006e50: 6768 745f 6564 6765 735b 3a2c 2030 5d2c  ght_edges[:, 0],
-00006e60: 2030 5d0a 2020 2020 2020 2020 2020 2020   0].            
-00006e70: 2020 2020 2020 2020 6172 726f 775f 7820          arrow_x 
-00006e80: 2d3d 206e 702e 7369 676e 2861 7272 6f77  -= np.sign(arrow
-00006e90: 5f78 2920 2a20 646c 0a20 2020 2020 2020  _x) * dl.       
-00006ea0: 2020 2020 2020 2020 2020 2020 2061 7272               arr
-00006eb0: 6f77 5f79 2020 3d20 706f 735b 7374 7267  ow_y  = pos[strg
-00006ec0: 6874 5f65 6467 6573 5b3a 2c20 315d 2c20  ht_edges[:, 1], 
-00006ed0: 315d 202d 205c 0a20 2020 2020 2020 2020  1] - \.         
+00006a90: 2020 2064 6c20 3d20 302e 352a 6e70 2e6d     dl = 0.5*np.m
+00006aa0: 6178 286e 7369 7a65 2920 6966 206e 6f74  ax(nsize) if not
+00006ab0: 2073 696d 706c 655f 6e6f 6465 7320 656c   simple_nodes el
+00006ac0: 7365 2030 2e0a 0a20 2020 2020 2020 2020  se 0...         
+00006ad0: 2020 2020 2020 2020 2020 2061 7272 6f77             arrow
+00006ae0: 5f78 2020 3d20 706f 735b 7374 7267 6874  _x  = pos[strght
+00006af0: 5f65 6467 6573 5b3a 2c20 315d 2c20 305d  _edges[:, 1], 0]
+00006b00: 202d 205c 0a20 2020 2020 2020 2020 2020   - \.           
+00006b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006b20: 2020 2020 2070 6f73 5b73 7472 6768 745f       pos[strght_
+00006b30: 6564 6765 735b 3a2c 2030 5d2c 2030 5d0a  edges[:, 0], 0].
+00006b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006b50: 2020 2020 6172 726f 775f 7820 2d3d 206e      arrow_x -= n
+00006b60: 702e 7369 676e 2861 7272 6f77 5f78 2920  p.sign(arrow_x) 
+00006b70: 2a20 646c 0a20 2020 2020 2020 2020 2020  * dl.           
+00006b80: 2020 2020 2020 2020 2061 7272 6f77 5f79           arrow_y
+00006b90: 2020 3d20 706f 735b 7374 7267 6874 5f65    = pos[strght_e
+00006ba0: 6467 6573 5b3a 2c20 315d 2c20 315d 202d  dges[:, 1], 1] -
+00006bb0: 205c 0a20 2020 2020 2020 2020 2020 2020   \.             
+00006bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006bd0: 2020 2070 6f73 5b73 7472 6768 745f 6564     pos[strght_ed
+00006be0: 6765 735b 3a2c 2030 5d2c 2031 5d0a 2020  ges[:, 0], 1].  
+00006bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006c00: 2020 6172 726f 775f 7820 2d3d 206e 702e    arrow_x -= np.
+00006c10: 7369 676e 2861 7272 6f77 5f79 2920 2a20  sign(arrow_y) * 
+00006c20: 646c 0a0a 2020 2020 2020 2020 2020 2020  dl..            
+00006c30: 2020 2020 2020 2020 6178 6973 2e71 7569          axis.qui
+00006c40: 7665 7228 0a20 2020 2020 2020 2020 2020  ver(.           
+00006c50: 2020 2020 2020 2020 2020 2020 2070 6f73               pos
+00006c60: 5b73 7472 6768 745f 6564 6765 735b 3a2c  [strght_edges[:,
+00006c70: 2030 5d2c 2030 5d2c 2070 6f73 5b73 7472   0], 0], pos[str
+00006c80: 6768 745f 6564 6765 735b 3a2c 2030 5d2c  ght_edges[:, 0],
+00006c90: 2031 5d2c 0a20 2020 2020 2020 2020 2020   1],.           
+00006ca0: 2020 2020 2020 2020 2020 2020 2061 7272               arr
+00006cb0: 6f77 5f78 2c20 6172 726f 775f 792c 2073  ow_x, arrow_y, s
+00006cc0: 6361 6c65 5f75 6e69 7473 3d27 7879 272c  cale_units='xy',
+00006cd0: 2061 6e67 6c65 733d 2778 7927 2c0a 2020   angles='xy',.  
+00006ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006cf0: 2020 2020 2020 7363 616c 653d 312c 2061        scale=1, a
+00006d00: 6c70 6861 3d65 616c 7068 612c 2077 6964  lpha=ealpha, wid
+00006d10: 7468 3d33 652d 332c 0a20 2020 2020 2020  th=3e-3,.       
+00006d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006d30: 206c 696e 6577 6964 7468 733d 302e 352a   linewidths=0.5*
+00006d40: 7374 7267 6874 5f73 697a 6573 2c20 6563  strght_sizes, ec
+00006d50: 3d65 636f 6c6f 722c 2066 633d 6563 6f6c  =ecolor, fc=ecol
+00006d60: 6f72 2c0a 2020 2020 2020 2020 2020 2020  or,.            
+00006d70: 2020 2020 2020 2020 2020 2020 7a6f 7264              zord
+00006d80: 6572 3d31 290a 2020 2020 2020 2020 2020  er=1).          
+00006d90: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00006da0: 2020 2020 2020 2020 6966 206c 656e 2873          if len(s
+00006db0: 7472 6768 745f 6564 6765 7329 3a0a 2020  trght_edges):.  
+00006dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006dd0: 2020 666f 7220 692c 2028 732c 2074 2920    for i, (s, t) 
+00006de0: 696e 2065 6e75 6d65 7261 7465 2873 7472  in enumerate(str
+00006df0: 6768 745f 6564 6765 7329 3a0a 2020 2020  ght_edges):.    
+00006e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006e10: 2020 2020 7873 2c20 7973 203d 2070 6f73      xs, ys = pos
+00006e20: 5b73 2c20 305d 2c20 706f 735b 732c 2031  [s, 0], pos[s, 1
+00006e30: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
+00006e40: 2020 2020 2020 2020 2020 7874 2c20 7974            xt, yt
+00006e50: 203d 2070 6f73 5b74 2c20 305d 2c20 706f   = pos[t, 0], po
+00006e60: 735b 742c 2031 5d0a 0a20 2020 2020 2020  s[t, 1]..       
+00006e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006e80: 2061 7374 796c 6520 3d20 4172 726f 7753   astyle = ArrowS
+00006e90: 7479 6c65 2e53 696d 706c 6528 0a20 2020  tyle.Simple(.   
+00006ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006eb0: 2020 2020 2020 2020 2068 6561 645f 6c65           head_le
+00006ec0: 6e67 7468 3d30 2e37 2a73 7472 6768 745f  ngth=0.7*strght_
+00006ed0: 7369 7a65 735b 695d 2c0a 2020 2020 2020  sizes[i],.      
 00006ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006ef0: 2020 2020 2020 2070 6f73 5b73 7472 6768         pos[strgh
-00006f00: 745f 6564 6765 735b 3a2c 2030 5d2c 2031  t_edges[:, 0], 1
-00006f10: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
-00006f20: 2020 2020 2020 6172 726f 775f 7820 2d3d        arrow_x -=
-00006f30: 206e 702e 7369 676e 2861 7272 6f77 5f79   np.sign(arrow_y
-00006f40: 2920 2a20 646c 0a0a 2020 2020 2020 2020  ) * dl..        
-00006f50: 2020 2020 2020 2020 2020 2020 6178 6973              axis
-00006f60: 2e71 7569 7665 7228 0a20 2020 2020 2020  .quiver(.       
-00006f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006f80: 2070 6f73 5b73 7472 6768 745f 6564 6765   pos[strght_edge
-00006f90: 735b 3a2c 2030 5d2c 2030 5d2c 2070 6f73  s[:, 0], 0], pos
-00006fa0: 5b73 7472 6768 745f 6564 6765 735b 3a2c  [strght_edges[:,
-00006fb0: 2030 5d2c 2031 5d2c 0a20 2020 2020 2020   0], 1],.       
-00006fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006fd0: 2061 7272 6f77 5f78 2c20 6172 726f 775f   arrow_x, arrow_
-00006fe0: 792c 2073 6361 6c65 5f75 6e69 7473 3d27  y, scale_units='
-00006ff0: 7879 272c 2061 6e67 6c65 733d 2778 7927  xy', angles='xy'
-00007000: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00007010: 2020 2020 2020 2020 2020 7363 616c 653d            scale=
-00007020: 312c 2061 6c70 6861 3d65 616c 7068 612c  1, alpha=ealpha,
-00007030: 2077 6964 7468 3d33 652d 332c 0a20 2020   width=3e-3,.   
-00007040: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007050: 2020 2020 206c 696e 6577 6964 7468 733d       linewidths=
-00007060: 302e 352a 7374 7267 6874 5f73 697a 6573  0.5*strght_sizes
-00007070: 2c20 6563 3d65 636f 6c6f 722c 2066 633d  , ec=ecolor, fc=
-00007080: 6563 6f6c 6f72 2c0a 2020 2020 2020 2020  ecolor,.        
-00007090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000070a0: 7a6f 7264 6572 3d31 290a 2020 2020 2020  zorder=1).      
-000070b0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-000070c0: 2020 2020 2020 2020 2020 2020 6966 206c              if l
-000070d0: 656e 2873 7472 6768 745f 6564 6765 7329  en(strght_edges)
-000070e0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000070f0: 2020 2020 2020 666f 7220 692c 2028 732c        for i, (s,
-00007100: 2074 2920 696e 2065 6e75 6d65 7261 7465   t) in enumerate
-00007110: 2873 7472 6768 745f 6564 6765 7329 3a0a  (strght_edges):.
-00007120: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007130: 2020 2020 2020 2020 7873 2c20 7973 203d          xs, ys =
-00007140: 2070 6f73 5b73 2c20 305d 2c20 706f 735b   pos[s, 0], pos[
-00007150: 732c 2031 5d0a 2020 2020 2020 2020 2020  s, 1].          
-00007160: 2020 2020 2020 2020 2020 2020 2020 7874                xt
-00007170: 2c20 7974 203d 2070 6f73 5b74 2c20 305d  , yt = pos[t, 0]
-00007180: 2c20 706f 735b 742c 2031 5d0a 0a20 2020  , pos[t, 1]..   
-00007190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000071a0: 2020 2020 2061 7374 796c 6520 3d20 4172       astyle = Ar
-000071b0: 726f 7753 7479 6c65 2e53 696d 706c 6528  rowStyle.Simple(
-000071c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000071d0: 2020 2020 2020 2020 2020 2020 2068 6561               hea
-000071e0: 645f 6c65 6e67 7468 3d30 2e37 2a73 7472  d_length=0.7*str
-000071f0: 6768 745f 7369 7a65 735b 695d 2c0a 2020  ght_sizes[i],.  
-00007200: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007210: 2020 2020 2020 2020 2020 6865 6164 5f77            head_w
-00007220: 6964 7468 3d30 2e37 2a73 7472 6768 745f  idth=0.7*strght_
-00007230: 7369 7a65 735b 695d 2c0a 2020 2020 2020  sizes[i],.      
-00007240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007250: 2020 2020 2020 7461 696c 5f77 6964 7468        tail_width
-00007260: 3d30 2e33 2a73 7472 6768 745f 7369 7a65  =0.3*strght_size
-00007270: 735b 695d 290a 0a20 2020 2020 2020 2020  s[i])..         
-00007280: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00007290: 4120 3d20 3020 6966 2073 696d 706c 655f  A = 0 if simple_
-000072a0: 6e6f 6465 7320 656c 7365 2030 2e35 2a6e  nodes else 0.5*n
-000072b0: 7369 7a65 5b73 5d0a 2020 2020 2020 2020  size[s].        
-000072c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000072d0: 7342 203d 2030 2069 6620 7369 6d70 6c65  sB = 0 if simple
-000072e0: 5f6e 6f64 6573 2065 6c73 6520 302e 352a  _nodes else 0.5*
-000072f0: 6e73 697a 655b 745d 0a0a 2020 2020 2020  nsize[t]..      
-00007300: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007310: 2020 6373 203d 2027 6172 6333 2c72 6164    cs = 'arc3,rad
-00007320: 3d30 2e32 2720 6966 2063 7572 7665 645f  =0.2' if curved_
-00007330: 6564 6765 7320 656c 7365 204e 6f6e 650a  edges else None.
-00007340: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007350: 2020 2020 2020 2020 2061 7272 6f77 732e           arrows.
-00007360: 6170 7065 6e64 2846 616e 6379 4172 726f  append(FancyArro
-00007370: 7750 6174 6368 280a 2020 2020 2020 2020  wPatch(.        
-00007380: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007390: 2020 2020 706f 7341 3d28 7873 2c20 7973      posA=(xs, ys
-000073a0: 292c 2070 6f73 423d 2878 742c 2079 7429  ), posB=(xt, yt)
-000073b0: 2c20 6172 726f 7773 7479 6c65 3d61 7374  , arrowstyle=ast
-000073c0: 796c 652c 0a20 2020 2020 2020 2020 2020  yle,.           
-000073d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000073e0: 2063 6f6e 6e65 6374 696f 6e73 7479 6c65   connectionstyle
-000073f0: 3d63 732c 2061 6c70 6861 3d65 616c 7068  =cs, alpha=ealph
-00007400: 612c 2066 633d 6563 6f6c 6f72 5b69 5d2c  a, fc=ecolor[i],
-00007410: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007420: 2020 2020 2020 2020 2020 2020 207a 6f72               zor
-00007430: 6465 723d 312c 2073 6872 696e 6b41 3d73  der=1, shrinkA=s
-00007440: 412c 2073 6872 696e 6b42 3d73 422c 206c  A, shrinkB=sB, l
-00007450: 773d 6562 6f72 6465 725f 7769 6474 682c  w=eborder_width,
-00007460: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007470: 2020 2020 2020 2020 2020 2020 2065 633d               ec=
-00007480: 6562 6f72 6465 725f 636f 6c6f 7229 290a  eborder_color)).
-00007490: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
-000074a0: 2069 2c20 7320 696e 2065 6e75 6d65 7261   i, s in enumera
-000074b0: 7465 2873 656c 665f 6c6f 6f70 7329 3a0a  te(self_loops):.
-000074c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000074d0: 6563 203d 206c 6f6f 705f 636f 6c6f 7273  ec = loop_colors
-000074e0: 5b69 5d0a 2020 2020 2020 2020 2020 2020  [i].            
-000074f0: 2020 2020 6c6f 6f70 203d 205f 706c 6f74      loop = _plot
-00007500: 5f6c 6f6f 7028 0a20 2020 2020 2020 2020  _loop(.         
-00007510: 2020 2020 2020 2020 2020 2069 2c20 732c             i, s,
-00007520: 2070 6f73 2c20 6c6f 6f70 5f73 697a 6573   pos, loop_sizes
-00007530: 2c20 6e73 697a 652c 206d 6178 5f6e 7369  , nsize, max_nsi
-00007540: 7a65 2c20 786d 6178 2c20 786d 696e 2c0a  ze, xmax, xmin,.
-00007550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007560: 2020 2020 796d 6178 2c20 796d 696e 2c20      ymax, ymin, 
-00007570: 6865 6967 6874 2c20 7769 6474 682c 2065  height, width, e
-00007580: 632c 2065 616c 7068 612c 2065 626f 7264  c, ealpha, ebord
-00007590: 6572 5f77 6964 7468 2c0a 2020 2020 2020  er_width,.      
-000075a0: 2020 2020 2020 2020 2020 2020 2020 6562                eb
-000075b0: 6f72 6465 725f 636f 6c6f 722c 2066 6173  order_color, fas
-000075c0: 742c 206e 6574 776f 726b 2c20 7265 7374  t, network, rest
-000075d0: 7269 6374 5f6e 6f64 6573 290a 0a20 2020  rict_nodes)..   
-000075e0: 2020 2020 2020 2020 2020 2020 2061 7869               axi
-000075f0: 732e 6164 645f 6172 7469 7374 286c 6f6f  s.add_artist(loo
-00007600: 7029 0a0a 2020 2020 2320 6164 6420 7061  p)..    # add pa
-00007610: 7463 6820 6172 726f 7773 0a20 2020 2061  tch arrows.    a
-00007620: 7272 6f77 7320 3d20 5061 7463 6843 6f6c  rrows = PatchCol
-00007630: 6c65 6374 696f 6e28 6172 726f 7773 2c20  lection(arrows, 
-00007640: 6d61 7463 685f 6f72 6967 696e 616c 3d54  match_original=T
-00007650: 7275 652c 2061 6c70 6861 3d65 616c 7068  rue, alpha=ealph
-00007660: 6129 0a20 2020 2061 7272 6f77 732e 7365  a).    arrows.se
-00007670: 745f 7a6f 7264 6572 2831 290a 2020 2020  t_zorder(1).    
-00007680: 6178 6973 2e61 6464 5f63 6f6c 6c65 6374  axis.add_collect
-00007690: 696f 6e28 6172 726f 7773 290a 0a20 2020  ion(arrows)..   
-000076a0: 2069 6620 6b77 6172 6773 2e67 6574 2827   if kwargs.get('
-000076b0: 7469 6768 7427 2c20 5472 7565 293a 0a20  tight', True):. 
-000076c0: 2020 2020 2020 2070 6c74 2e74 6967 6874         plt.tight
-000076d0: 5f6c 6179 6f75 7428 290a 2020 2020 2020  _layout().      
-000076e0: 2020 706c 742e 7375 6270 6c6f 7473 5f61    plt.subplots_a
-000076f0: 646a 7573 7428 0a20 2020 2020 2020 2020  djust(.         
-00007700: 2020 2068 7370 6163 653d 302e 2c20 7773     hspace=0., ws
-00007710: 7061 6365 3d30 2e2c 206c 6566 743d 302e  pace=0., left=0.
-00007720: 2c20 7269 6768 743d 302e 3935 2069 6620  , right=0.95 if 
-00007730: 636f 6c6f 7262 6172 2065 6c73 6520 312e  colorbar else 1.
-00007740: 2c0a 2020 2020 2020 2020 2020 2020 746f  ,.            to
-00007750: 703d 312e 2c20 626f 7474 6f6d 3d30 2e29  p=1., bottom=0.)
-00007760: 0a0a 2020 2020 2320 616e 6e6f 7461 7469  ..    # annotati
-00007770: 6f6e 730a 2020 2020 616e 6e6f 7461 7469  ons.    annotati
-00007780: 6f6e 7320 3d20 6b77 6172 6773 2e67 6574  ons = kwargs.get
-00007790: 2822 616e 6e6f 7461 7469 6f6e 7322 2c0a  ("annotations",.
-000077a0: 2020 2020 2020 2020 5b73 7472 2869 2920          [str(i) 
-000077b0: 666f 7220 6920 696e 2072 616e 6765 286e  for i in range(n
-000077c0: 6574 776f 726b 2e6e 6f64 655f 6e62 2829  etwork.node_nb()
-000077d0: 295d 2069 6620 7265 7374 7269 6374 5f6e  )] if restrict_n
-000077e0: 6f64 6573 2069 7320 4e6f 6e65 0a20 2020  odes is None.   
-000077f0: 2020 2020 2065 6c73 6520 5b73 7472 2869       else [str(i
-00007800: 2920 666f 7220 6920 696e 2072 6573 7472  ) for i in restr
-00007810: 6963 745f 6e6f 6465 735d 290a 0a20 2020  ict_nodes])..   
-00007820: 2069 6620 6973 696e 7374 616e 6365 2861   if isinstance(a
-00007830: 6e6e 6f74 6174 696f 6e73 2c20 7374 7229  nnotations, str)
-00007840: 3a0a 2020 2020 2020 2020 6173 7365 7274  :.        assert
-00007850: 2061 6e6e 6f74 6174 696f 6e73 2069 6e20   annotations in 
-00007860: 6e65 7477 6f72 6b2e 6e6f 6465 5f61 7474  network.node_att
-00007870: 7269 6275 7465 732c 205c 0a20 2020 2020  ributes, \.     
-00007880: 2020 2020 2020 2022 5374 7269 6e67 2076         "String v
-00007890: 616c 7565 7320 666f 7220 6061 6e6e 6f74  alues for `annot
-000078a0: 6174 696f 6e73 6020 6d75 7374 2062 6520  ations` must be 
-000078b0: 6120 6e6f 6465 2061 7474 7269 6275 7465  a node attribute
-000078c0: 2e22 0a0a 2020 2020 2020 2020 6966 2072  ."..        if r
-000078d0: 6573 7472 6963 745f 6e6f 6465 7320 6973  estrict_nodes is
-000078e0: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-000078f0: 2020 2061 6e6e 6f74 6174 696f 6e73 203d     annotations =
-00007900: 206e 6574 776f 726b 2e6e 6f64 655f 6174   network.node_at
-00007910: 7472 6962 7574 6573 5b61 6e6e 6f74 6174  tributes[annotat
-00007920: 696f 6e73 5d0a 2020 2020 2020 2020 656c  ions].        el
-00007930: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00007940: 616e 6e6f 7461 7469 6f6e 7320 3d20 6e65  annotations = ne
-00007950: 7477 6f72 6b2e 6765 745f 6e6f 6465 5f61  twork.get_node_a
-00007960: 7474 7269 6275 7465 7328 0a20 2020 2020  ttributes(.     
-00007970: 2020 2020 2020 2020 2020 206e 6f64 6573             nodes
-00007980: 3d6c 6973 7428 7265 7374 7269 6374 5f6e  =list(restrict_n
-00007990: 6f64 6573 292c 206e 616d 653d 616e 6e6f  odes), name=anno
-000079a0: 7461 7469 6f6e 7329 0a20 2020 2065 6c69  tations).    eli
-000079b0: 6620 6c65 6e28 616e 6e6f 7461 7469 6f6e  f len(annotation
-000079c0: 7329 203d 3d20 6e65 7477 6f72 6b2e 6e6f  s) == network.no
-000079d0: 6465 5f6e 6228 2920 616e 6420 7265 7374  de_nb() and rest
-000079e0: 7269 6374 5f6e 6f64 6573 2069 7320 6e6f  rict_nodes is no
-000079f0: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
-00007a00: 616e 6e6f 7461 7469 6f6e 7320 3d20 5b61  annotations = [a
-00007a10: 6e6e 6f74 6174 696f 6e73 5b69 5d20 666f  nnotations[i] fo
-00007a20: 7220 6920 696e 2072 6573 7472 6963 745f  r i in restrict_
-00007a30: 6e6f 6465 735d 0a20 2020 2065 6c73 653a  nodes].    else:
-00007a40: 0a20 2020 2020 2020 2061 7373 6572 7420  .        assert 
-00007a50: 6c65 6e28 616e 6e6f 7461 7469 6f6e 7329  len(annotations)
-00007a60: 203d 3d20 6e2c 2022 4f6e 6520 616e 6e6f   == n, "One anno
-00007a70: 7461 7469 6f6e 2070 6572 206e 6f64 6520  tation per node 
-00007a80: 6973 2072 6571 7569 7265 642e 220a 0a20  is required.".. 
-00007a90: 2020 2061 6e6e 6f74 6174 6520 3d20 6b77     annotate = kw
-00007aa0: 6172 6773 2e67 6574 2822 616e 6e6f 7461  args.get("annota
-00007ab0: 7465 222c 2054 7275 6529 0a0a 2020 2020  te", True)..    
-00007ac0: 6966 2061 6e6e 6f74 6174 653a 0a20 2020  if annotate:.   
-00007ad0: 2020 2020 2061 6e6e 6f74 203d 2061 7869       annot = axi
-00007ae0: 732e 616e 6e6f 7461 7465 280a 2020 2020  s.annotate(.    
-00007af0: 2020 2020 2020 2020 2222 2c20 7879 3d28          "", xy=(
-00007b00: 302c 3029 2c20 7879 7465 7874 3d28 3130  0,0), xytext=(10
-00007b10: 2c31 3029 2c20 7465 7874 636f 6f72 6473  ,10), textcoords
-00007b20: 3d22 6f66 6673 6574 2070 6f69 6e74 7322  ="offset points"
-00007b30: 2c0a 2020 2020 2020 2020 2020 2020 6262  ,.            bb
-00007b40: 6f78 3d64 6963 7428 626f 7873 7479 6c65  ox=dict(boxstyle
-00007b50: 3d22 726f 756e 6422 2c20 6663 3d22 7722  ="round", fc="w"
-00007b60: 292c 0a20 2020 2020 2020 2020 2020 2061  ),.            a
-00007b70: 7272 6f77 7072 6f70 733d 6469 6374 2861  rrowprops=dict(a
-00007b80: 7272 6f77 7374 796c 653d 222d 3e22 2929  rrowstyle="->"))
-00007b90: 0a0a 2020 2020 2020 2020 616e 6e6f 742e  ..        annot.
-00007ba0: 7365 745f 7669 7369 626c 6528 4661 6c73  set_visible(Fals
-00007bb0: 6529 0a0a 2020 2020 2020 2020 6465 6620  e)..        def 
-00007bc0: 7570 6461 7465 5f61 6e6e 6f74 2869 6e64  update_annot(ind
-00007bd0: 293a 0a20 2020 2020 2020 2020 2020 2061  ):.            a
-00007be0: 6e6e 6f74 2e78 7920 3d20 706f 735b 696e  nnot.xy = pos[in
-00007bf0: 645b 2269 6e64 225d 5b30 5d5d 0a20 2020  d["ind"][0]].   
-00007c00: 2020 2020 2020 2020 2074 6578 7420 3d20           text = 
-00007c10: 225c 6e22 2e6a 6f69 6e28 5b61 6e6e 6f74  "\n".join([annot
-00007c20: 6174 696f 6e73 5b6e 5d20 666f 7220 6e20  ations[n] for n 
-00007c30: 696e 2069 6e64 5b22 696e 6422 5d5d 290a  in ind["ind"]]).
-00007c40: 2020 2020 2020 2020 2020 2020 616e 6e6f              anno
-00007c50: 742e 7365 745f 7465 7874 2874 6578 7429  t.set_text(text)
-00007c60: 0a20 2020 2020 2020 2020 2020 2061 6e6e  .            ann
-00007c70: 6f74 2e67 6574 5f62 626f 785f 7061 7463  ot.get_bbox_patc
-00007c80: 6828 292e 7365 745f 6661 6365 636f 6c6f  h().set_facecolo
-00007c90: 7228 2277 2229 0a0a 2020 2020 2020 2020  r("w")..        
-00007ca0: 6465 6620 686f 7665 7228 6576 656e 7429  def hover(event)
-00007cb0: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
-00007cc0: 2068 6f76 6572 2e62 6720 6973 204e 6f6e   hover.bg is Non
-00007cd0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-00007ce0: 2020 2023 2066 6972 7374 2072 756e 2c20     # first run, 
-00007cf0: 7361 7665 2074 6865 2063 7572 7265 6e74  save the current
-00007d00: 2070 6c6f 740a 2020 2020 2020 2020 2020   plot.          
-00007d10: 2020 2020 2020 686f 7665 722e 6267 203d        hover.bg =
-00007d20: 2066 6967 2e63 616e 7661 732e 636f 7079   fig.canvas.copy
-00007d30: 5f66 726f 6d5f 6262 6f78 2866 6967 2e62  _from_bbox(fig.b
-00007d40: 626f 7829 0a0a 2020 2020 2020 2020 2020  box)..          
-00007d50: 2020 7669 7320 3d20 616e 6e6f 742e 6765    vis = annot.ge
-00007d60: 745f 7669 7369 626c 6528 290a 2020 2020  t_visible().    
-00007d70: 2020 2020 2020 2020 6966 2065 7665 6e74          if event
-00007d80: 2e69 6e61 7865 7320 3d3d 2061 7869 733a  .inaxes == axis:
-00007d90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007da0: 2069 6620 6661 7374 206f 7220 7369 6d70   if fast or simp
-00007db0: 6c65 5f6e 6f64 6573 3a0a 2020 2020 2020  le_nodes:.      
-00007dc0: 2020 2020 2020 2020 2020 2020 2020 666f                fo
-00007dd0: 7220 7363 2069 6e20 7363 6174 7465 723a  r sc in scatter:
-00007de0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007df0: 2020 2020 2020 2020 2063 6f6e 742c 2069           cont, i
-00007e00: 6e64 203d 2073 632e 636f 6e74 6169 6e73  nd = sc.contains
-00007e10: 2865 7665 6e74 290a 2020 2020 2020 2020  (event).        
+00006ef0: 2020 2020 2020 6865 6164 5f77 6964 7468        head_width
+00006f00: 3d30 2e37 2a73 7472 6768 745f 7369 7a65  =0.7*strght_size
+00006f10: 735b 695d 2c0a 2020 2020 2020 2020 2020  s[i],.          
+00006f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006f30: 2020 7461 696c 5f77 6964 7468 3d30 2e33    tail_width=0.3
+00006f40: 2a73 7472 6768 745f 7369 7a65 735b 695d  *strght_sizes[i]
+00006f50: 290a 0a20 2020 2020 2020 2020 2020 2020  )..             
+00006f60: 2020 2020 2020 2020 2020 2073 4120 3d20             sA = 
+00006f70: 3020 6966 2073 696d 706c 655f 6e6f 6465  0 if simple_node
+00006f80: 7320 656c 7365 2030 2e35 2a6e 7369 7a65  s else 0.5*nsize
+00006f90: 5b73 5d0a 2020 2020 2020 2020 2020 2020  [s].            
+00006fa0: 2020 2020 2020 2020 2020 2020 7342 203d              sB =
+00006fb0: 2030 2069 6620 7369 6d70 6c65 5f6e 6f64   0 if simple_nod
+00006fc0: 6573 2065 6c73 6520 302e 352a 6e73 697a  es else 0.5*nsiz
+00006fd0: 655b 745d 0a0a 2020 2020 2020 2020 2020  e[t]..          
+00006fe0: 2020 2020 2020 2020 2020 2020 2020 6373                cs
+00006ff0: 203d 2027 6172 6333 2c72 6164 3d30 2e32   = 'arc3,rad=0.2
+00007000: 2720 6966 2063 7572 7665 645f 6564 6765  ' if curved_edge
+00007010: 7320 656c 7365 204e 6f6e 650a 0a20 2020  s else None..   
+00007020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007030: 2020 2020 2061 7272 6f77 732e 6170 7065       arrows.appe
+00007040: 6e64 2846 616e 6379 4172 726f 7750 6174  nd(FancyArrowPat
+00007050: 6368 280a 2020 2020 2020 2020 2020 2020  ch(.            
+00007060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007070: 706f 7341 3d28 7873 2c20 7973 292c 2070  posA=(xs, ys), p
+00007080: 6f73 423d 2878 742c 2079 7429 2c20 6172  osB=(xt, yt), ar
+00007090: 726f 7773 7479 6c65 3d61 7374 796c 652c  rowstyle=astyle,
+000070a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000070b0: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
+000070c0: 6e65 6374 696f 6e73 7479 6c65 3d63 732c  nectionstyle=cs,
+000070d0: 2061 6c70 6861 3d65 616c 7068 612c 2066   alpha=ealpha, f
+000070e0: 633d 6563 6f6c 6f72 5b69 5d2c 0a20 2020  c=ecolor[i],.   
+000070f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007100: 2020 2020 2020 2020 207a 6f72 6465 723d           zorder=
+00007110: 312c 2073 6872 696e 6b41 3d73 412c 2073  1, shrinkA=sA, s
+00007120: 6872 696e 6b42 3d73 422c 206c 773d 6562  hrinkB=sB, lw=eb
+00007130: 6f72 6465 725f 7769 6474 682c 0a20 2020  order_width,.   
+00007140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007150: 2020 2020 2020 2020 2065 633d 6562 6f72           ec=ebor
+00007160: 6465 725f 636f 6c6f 7229 290a 0a20 2020  der_color))..   
+00007170: 2020 2020 2020 2020 2066 6f72 2069 2c20           for i, 
+00007180: 7320 696e 2065 6e75 6d65 7261 7465 2873  s in enumerate(s
+00007190: 656c 665f 6c6f 6f70 7329 3a0a 2020 2020  elf_loops):.    
+000071a0: 2020 2020 2020 2020 2020 2020 6563 203d              ec =
+000071b0: 206c 6f6f 705f 636f 6c6f 7273 5b69 5d0a   loop_colors[i].
+000071c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000071d0: 6c6f 6f70 203d 205f 706c 6f74 5f6c 6f6f  loop = _plot_loo
+000071e0: 7028 0a20 2020 2020 2020 2020 2020 2020  p(.             
+000071f0: 2020 2020 2020 2069 2c20 732c 2070 6f73         i, s, pos
+00007200: 2c20 6c6f 6f70 5f73 697a 6573 2c20 6e73  , loop_sizes, ns
+00007210: 697a 652c 206d 6178 5f6e 7369 7a65 2c20  ize, max_nsize, 
+00007220: 786d 6178 2c20 786d 696e 2c0a 2020 2020  xmax, xmin,.    
+00007230: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007240: 796d 6178 2c20 796d 696e 2c20 6865 6967  ymax, ymin, heig
+00007250: 6874 2c20 7769 6474 682c 2065 632c 2065  ht, width, ec, e
+00007260: 616c 7068 612c 2065 626f 7264 6572 5f77  alpha, eborder_w
+00007270: 6964 7468 2c0a 2020 2020 2020 2020 2020  idth,.          
+00007280: 2020 2020 2020 2020 2020 6562 6f72 6465            eborde
+00007290: 725f 636f 6c6f 722c 2066 6173 742c 206e  r_color, fast, n
+000072a0: 6574 776f 726b 2c20 7265 7374 7269 6374  etwork, restrict
+000072b0: 5f6e 6f64 6573 290a 0a20 2020 2020 2020  _nodes)..       
+000072c0: 2020 2020 2020 2020 2061 7869 732e 6164           axis.ad
+000072d0: 645f 6172 7469 7374 286c 6f6f 7029 0a0a  d_artist(loop)..
+000072e0: 2020 2020 2320 6164 6420 7061 7463 6820      # add patch 
+000072f0: 6172 726f 7773 0a20 2020 2061 7272 6f77  arrows.    arrow
+00007300: 7320 3d20 5061 7463 6843 6f6c 6c65 6374  s = PatchCollect
+00007310: 696f 6e28 6172 726f 7773 2c20 6d61 7463  ion(arrows, matc
+00007320: 685f 6f72 6967 696e 616c 3d54 7275 652c  h_original=True,
+00007330: 2061 6c70 6861 3d65 616c 7068 6129 0a20   alpha=ealpha). 
+00007340: 2020 2061 7272 6f77 732e 7365 745f 7a6f     arrows.set_zo
+00007350: 7264 6572 2831 290a 2020 2020 6178 6973  rder(1).    axis
+00007360: 2e61 6464 5f63 6f6c 6c65 6374 696f 6e28  .add_collection(
+00007370: 6172 726f 7773 290a 0a20 2020 2069 6620  arrows)..    if 
+00007380: 6b77 6172 6773 2e67 6574 2827 7469 6768  kwargs.get('tigh
+00007390: 7427 2c20 5472 7565 293a 0a20 2020 2020  t', True):.     
+000073a0: 2020 2070 6c74 2e74 6967 6874 5f6c 6179     plt.tight_lay
+000073b0: 6f75 7428 290a 2020 2020 2020 2020 706c  out().        pl
+000073c0: 742e 7375 6270 6c6f 7473 5f61 646a 7573  t.subplots_adjus
+000073d0: 7428 0a20 2020 2020 2020 2020 2020 2068  t(.            h
+000073e0: 7370 6163 653d 302e 2c20 7773 7061 6365  space=0., wspace
+000073f0: 3d30 2e2c 206c 6566 743d 302e 2c20 7269  =0., left=0., ri
+00007400: 6768 743d 302e 3935 2069 6620 636f 6c6f  ght=0.95 if colo
+00007410: 7262 6172 2065 6c73 6520 312e 2c0a 2020  rbar else 1.,.  
+00007420: 2020 2020 2020 2020 2020 746f 703d 312e            top=1.
+00007430: 2c20 626f 7474 6f6d 3d30 2e29 0a0a 2020  , bottom=0.)..  
+00007440: 2020 2320 616e 6e6f 7461 7469 6f6e 730a    # annotations.
+00007450: 2020 2020 616e 6e6f 7461 7469 6f6e 7320      annotations 
+00007460: 3d20 6b77 6172 6773 2e67 6574 2822 616e  = kwargs.get("an
+00007470: 6e6f 7461 7469 6f6e 7322 2c0a 2020 2020  notations",.    
+00007480: 2020 2020 5b73 7472 2869 2920 666f 7220      [str(i) for 
+00007490: 6920 696e 2072 616e 6765 286e 6574 776f  i in range(netwo
+000074a0: 726b 2e6e 6f64 655f 6e62 2829 295d 2069  rk.node_nb())] i
+000074b0: 6620 7265 7374 7269 6374 5f6e 6f64 6573  f restrict_nodes
+000074c0: 2069 7320 4e6f 6e65 0a20 2020 2020 2020   is None.       
+000074d0: 2065 6c73 6520 5b73 7472 2869 2920 666f   else [str(i) fo
+000074e0: 7220 6920 696e 2072 6573 7472 6963 745f  r i in restrict_
+000074f0: 6e6f 6465 735d 290a 0a20 2020 2069 6620  nodes])..    if 
+00007500: 6973 696e 7374 616e 6365 2861 6e6e 6f74  isinstance(annot
+00007510: 6174 696f 6e73 2c20 7374 7229 3a0a 2020  ations, str):.  
+00007520: 2020 2020 2020 6173 7365 7274 2061 6e6e        assert ann
+00007530: 6f74 6174 696f 6e73 2069 6e20 6e65 7477  otations in netw
+00007540: 6f72 6b2e 6e6f 6465 5f61 7474 7269 6275  ork.node_attribu
+00007550: 7465 732c 205c 0a20 2020 2020 2020 2020  tes, \.         
+00007560: 2020 2022 5374 7269 6e67 2076 616c 7565     "String value
+00007570: 7320 666f 7220 6061 6e6e 6f74 6174 696f  s for `annotatio
+00007580: 6e73 6020 6d75 7374 2062 6520 6120 6e6f  ns` must be a no
+00007590: 6465 2061 7474 7269 6275 7465 2e22 0a0a  de attribute."..
+000075a0: 2020 2020 2020 2020 6966 2072 6573 7472          if restr
+000075b0: 6963 745f 6e6f 6465 7320 6973 204e 6f6e  ict_nodes is Non
+000075c0: 653a 0a20 2020 2020 2020 2020 2020 2061  e:.            a
+000075d0: 6e6e 6f74 6174 696f 6e73 203d 206e 6574  nnotations = net
+000075e0: 776f 726b 2e6e 6f64 655f 6174 7472 6962  work.node_attrib
+000075f0: 7574 6573 5b61 6e6e 6f74 6174 696f 6e73  utes[annotations
+00007600: 5d0a 2020 2020 2020 2020 656c 7365 3a0a  ].        else:.
+00007610: 2020 2020 2020 2020 2020 2020 616e 6e6f              anno
+00007620: 7461 7469 6f6e 7320 3d20 6e65 7477 6f72  tations = networ
+00007630: 6b2e 6765 745f 6e6f 6465 5f61 7474 7269  k.get_node_attri
+00007640: 6275 7465 7328 0a20 2020 2020 2020 2020  butes(.         
+00007650: 2020 2020 2020 206e 6f64 6573 3d6c 6973         nodes=lis
+00007660: 7428 7265 7374 7269 6374 5f6e 6f64 6573  t(restrict_nodes
+00007670: 292c 206e 616d 653d 616e 6e6f 7461 7469  ), name=annotati
+00007680: 6f6e 7329 0a20 2020 2065 6c69 6620 6c65  ons).    elif le
+00007690: 6e28 616e 6e6f 7461 7469 6f6e 7329 203d  n(annotations) =
+000076a0: 3d20 6e65 7477 6f72 6b2e 6e6f 6465 5f6e  = network.node_n
+000076b0: 6228 2920 616e 6420 7265 7374 7269 6374  b() and restrict
+000076c0: 5f6e 6f64 6573 2069 7320 6e6f 7420 4e6f  _nodes is not No
+000076d0: 6e65 3a0a 2020 2020 2020 2020 616e 6e6f  ne:.        anno
+000076e0: 7461 7469 6f6e 7320 3d20 5b61 6e6e 6f74  tations = [annot
+000076f0: 6174 696f 6e73 5b69 5d20 666f 7220 6920  ations[i] for i 
+00007700: 696e 2072 6573 7472 6963 745f 6e6f 6465  in restrict_node
+00007710: 735d 0a20 2020 2065 6c73 653a 0a20 2020  s].    else:.   
+00007720: 2020 2020 2061 7373 6572 7420 6c65 6e28       assert len(
+00007730: 616e 6e6f 7461 7469 6f6e 7329 203d 3d20  annotations) == 
+00007740: 6e2c 2022 4f6e 6520 616e 6e6f 7461 7469  n, "One annotati
+00007750: 6f6e 2070 6572 206e 6f64 6520 6973 2072  on per node is r
+00007760: 6571 7569 7265 642e 220a 0a20 2020 2061  equired."..    a
+00007770: 6e6e 6f74 6174 6520 3d20 6b77 6172 6773  nnotate = kwargs
+00007780: 2e67 6574 2822 616e 6e6f 7461 7465 222c  .get("annotate",
+00007790: 2054 7275 6529 0a0a 2020 2020 6966 2061   True)..    if a
+000077a0: 6e6e 6f74 6174 653a 0a20 2020 2020 2020  nnotate:.       
+000077b0: 2061 6e6e 6f74 203d 2061 7869 732e 616e   annot = axis.an
+000077c0: 6e6f 7461 7465 280a 2020 2020 2020 2020  notate(.        
+000077d0: 2020 2020 2222 2c20 7879 3d28 302c 3029      "", xy=(0,0)
+000077e0: 2c20 7879 7465 7874 3d28 3130 2c31 3029  , xytext=(10,10)
+000077f0: 2c20 7465 7874 636f 6f72 6473 3d22 6f66  , textcoords="of
+00007800: 6673 6574 2070 6f69 6e74 7322 2c0a 2020  fset points",.  
+00007810: 2020 2020 2020 2020 2020 6262 6f78 3d64            bbox=d
+00007820: 6963 7428 626f 7873 7479 6c65 3d22 726f  ict(boxstyle="ro
+00007830: 756e 6422 2c20 6663 3d22 7722 292c 0a20  und", fc="w"),. 
+00007840: 2020 2020 2020 2020 2020 2061 7272 6f77             arrow
+00007850: 7072 6f70 733d 6469 6374 2861 7272 6f77  props=dict(arrow
+00007860: 7374 796c 653d 222d 3e22 2929 0a0a 2020  style="->"))..  
+00007870: 2020 2020 2020 616e 6e6f 742e 7365 745f        annot.set_
+00007880: 7669 7369 626c 6528 4661 6c73 6529 0a0a  visible(False)..
+00007890: 2020 2020 2020 2020 6465 6620 7570 6461          def upda
+000078a0: 7465 5f61 6e6e 6f74 2869 6e64 293a 0a20  te_annot(ind):. 
+000078b0: 2020 2020 2020 2020 2020 2061 6e6e 6f74             annot
+000078c0: 2e78 7920 3d20 706f 735b 696e 645b 2269  .xy = pos[ind["i
+000078d0: 6e64 225d 5b30 5d5d 0a20 2020 2020 2020  nd"][0]].       
+000078e0: 2020 2020 2074 6578 7420 3d20 225c 6e22       text = "\n"
+000078f0: 2e6a 6f69 6e28 5b61 6e6e 6f74 6174 696f  .join([annotatio
+00007900: 6e73 5b6e 5d20 666f 7220 6e20 696e 2069  ns[n] for n in i
+00007910: 6e64 5b22 696e 6422 5d5d 290a 2020 2020  nd["ind"]]).    
+00007920: 2020 2020 2020 2020 616e 6e6f 742e 7365          annot.se
+00007930: 745f 7465 7874 2874 6578 7429 0a20 2020  t_text(text).   
+00007940: 2020 2020 2020 2020 2061 6e6e 6f74 2e67           annot.g
+00007950: 6574 5f62 626f 785f 7061 7463 6828 292e  et_bbox_patch().
+00007960: 7365 745f 6661 6365 636f 6c6f 7228 2277  set_facecolor("w
+00007970: 2229 0a0a 2020 2020 2020 2020 6465 6620  ")..        def 
+00007980: 686f 7665 7228 6576 656e 7429 3a0a 2020  hover(event):.  
+00007990: 2020 2020 2020 2020 2020 6966 2068 6f76            if hov
+000079a0: 6572 2e62 6720 6973 204e 6f6e 653a 0a20  er.bg is None:. 
+000079b0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+000079c0: 2066 6972 7374 2072 756e 2c20 7361 7665   first run, save
+000079d0: 2074 6865 2063 7572 7265 6e74 2070 6c6f   the current plo
+000079e0: 740a 2020 2020 2020 2020 2020 2020 2020  t.              
+000079f0: 2020 686f 7665 722e 6267 203d 2066 6967    hover.bg = fig
+00007a00: 2e63 616e 7661 732e 636f 7079 5f66 726f  .canvas.copy_fro
+00007a10: 6d5f 6262 6f78 2866 6967 2e62 626f 7829  m_bbox(fig.bbox)
+00007a20: 0a0a 2020 2020 2020 2020 2020 2020 7669  ..            vi
+00007a30: 7320 3d20 616e 6e6f 742e 6765 745f 7669  s = annot.get_vi
+00007a40: 7369 626c 6528 290a 2020 2020 2020 2020  sible().        
+00007a50: 2020 2020 6966 2065 7665 6e74 2e69 6e61      if event.ina
+00007a60: 7865 7320 3d3d 2061 7869 733a 0a20 2020  xes == axis:.   
+00007a70: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00007a80: 6661 7374 206f 7220 7369 6d70 6c65 5f6e  fast or simple_n
+00007a90: 6f64 6573 3a0a 2020 2020 2020 2020 2020  odes:.          
+00007aa0: 2020 2020 2020 2020 2020 666f 7220 7363            for sc
+00007ab0: 2069 6e20 7363 6174 7465 723a 0a20 2020   in scatter:.   
+00007ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007ad0: 2020 2020 2063 6f6e 742c 2069 6e64 203d       cont, ind =
+00007ae0: 2073 632e 636f 6e74 6169 6e73 2865 7665   sc.contains(eve
+00007af0: 6e74 290a 2020 2020 2020 2020 2020 2020  nt).            
+00007b00: 2020 2020 2020 2020 2020 2020 6966 2063              if c
+00007b10: 6f6e 743a 0a20 2020 2020 2020 2020 2020  ont:.           
+00007b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007b30: 2075 7064 6174 655f 616e 6e6f 7428 696e   update_annot(in
+00007b40: 6429 0a20 2020 2020 2020 2020 2020 2020  d).             
+00007b50: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+00007b60: 6967 2e63 616e 7661 732e 7265 7374 6f72  ig.canvas.restor
+00007b70: 655f 7265 6769 6f6e 2868 6f76 6572 2e62  e_region(hover.b
+00007b80: 6729 0a20 2020 2020 2020 2020 2020 2020  g).             
+00007b90: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+00007ba0: 6e6e 6f74 2e73 6574 5f76 6973 6962 6c65  nnot.set_visible
+00007bb0: 2854 7275 6529 0a20 2020 2020 2020 2020  (True).         
+00007bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007bd0: 2020 2061 7869 732e 6472 6177 5f61 7274     axis.draw_art
+00007be0: 6973 7428 616e 6e6f 7429 0a20 2020 2020  ist(annot).     
+00007bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007c00: 2020 2020 2020 2066 6967 2e63 616e 7661         fig.canva
+00007c10: 732e 626c 6974 2866 6967 2e62 626f 7829  s.blit(fig.bbox)
+00007c20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007c30: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+00007c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007c50: 2020 2020 2020 2020 2020 2069 6620 7669             if vi
+00007c60: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
+00007c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007c80: 2020 2061 6e6e 6f74 2e73 6574 5f76 6973     annot.set_vis
+00007c90: 6962 6c65 2846 616c 7365 290a 2020 2020  ible(False).    
+00007ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007cb0: 2020 2020 2020 2020 2020 2020 6669 672e              fig.
+00007cc0: 6361 6e76 6173 2e72 6573 746f 7265 5f72  canvas.restore_r
+00007cd0: 6567 696f 6e28 686f 7665 722e 6267 290a  egion(hover.bg).
+00007ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007d00: 6669 672e 6361 6e76 6173 2e62 6c69 7428  fig.canvas.blit(
+00007d10: 6669 672e 6262 6f78 290a 2020 2020 2020  fig.bbox).      
+00007d20: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+00007d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007d40: 2020 2020 636f 6e74 2c20 696e 6420 3d20      cont, ind = 
+00007d50: 7363 6174 7465 722e 636f 6e74 6169 6e73  scatter.contains
+00007d60: 2865 7665 6e74 290a 2020 2020 2020 2020  (event).        
+00007d70: 2020 2020 2020 2020 2020 2020 6966 2063              if c
+00007d80: 6f6e 743a 0a20 2020 2020 2020 2020 2020  ont:.           
+00007d90: 2020 2020 2020 2020 2020 2020 2075 7064               upd
+00007da0: 6174 655f 616e 6e6f 7428 696e 6429 0a20  ate_annot(ind). 
+00007db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007dc0: 2020 2020 2020 2066 6967 2e63 616e 7661         fig.canva
+00007dd0: 732e 7265 7374 6f72 655f 7265 6769 6f6e  s.restore_region
+00007de0: 2868 6f76 6572 2e62 6729 0a20 2020 2020  (hover.bg).     
+00007df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007e00: 2020 2061 6e6e 6f74 2e73 6574 5f76 6973     annot.set_vis
+00007e10: 6962 6c65 2854 7275 6529 0a20 2020 2020  ible(True).     
 00007e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007e30: 6966 2063 6f6e 743a 0a20 2020 2020 2020  if cont:.       
-00007e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007e50: 2020 2020 2075 7064 6174 655f 616e 6e6f       update_anno
-00007e60: 7428 696e 6429 0a20 2020 2020 2020 2020  t(ind).         
-00007e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007e80: 2020 2066 6967 2e63 616e 7661 732e 7265     fig.canvas.re
-00007e90: 7374 6f72 655f 7265 6769 6f6e 2868 6f76  store_region(hov
-00007ea0: 6572 2e62 6729 0a20 2020 2020 2020 2020  er.bg).         
-00007eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007ec0: 2020 2061 6e6e 6f74 2e73 6574 5f76 6973     annot.set_vis
-00007ed0: 6962 6c65 2854 7275 6529 0a20 2020 2020  ible(True).     
-00007ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007ef0: 2020 2020 2020 2061 7869 732e 6472 6177         axis.draw
-00007f00: 5f61 7274 6973 7428 616e 6e6f 7429 0a20  _artist(annot). 
-00007f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007f20: 2020 2020 2020 2020 2020 2066 6967 2e63             fig.c
-00007f30: 616e 7661 732e 626c 6974 2866 6967 2e62  anvas.blit(fig.b
-00007f40: 626f 7829 0a20 2020 2020 2020 2020 2020  box).           
-00007f50: 2020 2020 2020 2020 2020 2020 2065 6c73               els
-00007f60: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-00007f70: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00007f80: 6620 7669 733a 0a20 2020 2020 2020 2020  f vis:.         
-00007f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007fa0: 2020 2020 2020 2061 6e6e 6f74 2e73 6574         annot.set
-00007fb0: 5f76 6973 6962 6c65 2846 616c 7365 290a  _visible(False).
-00007fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007fe0: 6669 672e 6361 6e76 6173 2e72 6573 746f  fig.canvas.resto
-00007ff0: 7265 5f72 6567 696f 6e28 686f 7665 722e  re_region(hover.
-00008000: 6267 290a 2020 2020 2020 2020 2020 2020  bg).            
-00008010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008020: 2020 2020 6669 672e 6361 6e76 6173 2e62      fig.canvas.b
-00008030: 6c69 7428 6669 672e 6262 6f78 290a 2020  lit(fig.bbox).  
-00008040: 2020 2020 2020 2020 2020 2020 2020 656c                el
-00008050: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00008060: 2020 2020 2020 2020 636f 6e74 2c20 696e          cont, in
-00008070: 6420 3d20 7363 6174 7465 722e 636f 6e74  d = scatter.cont
-00008080: 6169 6e73 2865 7665 6e74 290a 2020 2020  ains(event).    
-00008090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000080a0: 6966 2063 6f6e 743a 0a20 2020 2020 2020  if cont:.       
-000080b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000080c0: 2075 7064 6174 655f 616e 6e6f 7428 696e   update_annot(in
-000080d0: 6429 0a20 2020 2020 2020 2020 2020 2020  d).             
-000080e0: 2020 2020 2020 2020 2020 2066 6967 2e63             fig.c
-000080f0: 616e 7661 732e 7265 7374 6f72 655f 7265  anvas.restore_re
-00008100: 6769 6f6e 2868 6f76 6572 2e62 6729 0a20  gion(hover.bg). 
-00008110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008120: 2020 2020 2020 2061 6e6e 6f74 2e73 6574         annot.set
-00008130: 5f76 6973 6962 6c65 2854 7275 6529 0a20  _visible(True). 
-00008140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008150: 2020 2020 2020 2061 7869 732e 6472 6177         axis.draw
-00008160: 5f61 7274 6973 7428 616e 6e6f 7429 0a20  _artist(annot). 
-00008170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008180: 2020 2020 2020 2066 6967 2e63 616e 7661         fig.canva
-00008190: 732e 626c 6974 2866 6967 2e62 626f 7829  s.blit(fig.bbox)
-000081a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000081b0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-000081c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000081d0: 2020 2069 6620 7669 733a 0a20 2020 2020     if vis:.     
-000081e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000081f0: 2020 2020 2020 2061 6e6e 6f74 2e73 6574         annot.set
-00008200: 5f76 6973 6962 6c65 2846 616c 7365 290a  _visible(False).
-00008210: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008220: 2020 2020 2020 2020 2020 2020 6669 672e              fig.
-00008230: 6361 6e76 6173 2e72 6573 746f 7265 5f72  canvas.restore_r
-00008240: 6567 696f 6e28 686f 7665 722e 6267 290a  egion(hover.bg).
-00008250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008260: 2020 2020 2020 2020 2020 2020 6669 672e              fig.
-00008270: 6361 6e76 6173 2e62 6c69 7428 6669 672e  canvas.blit(fig.
-00008280: 6262 6f78 290a 0a20 2020 2020 2020 2020  bbox)..         
-00008290: 2020 2020 2020 2066 6967 2e63 616e 7661         fig.canva
-000082a0: 732e 666c 7573 685f 6576 656e 7473 2829  s.flush_events()
-000082b0: 0a0a 2020 2020 2020 2020 686f 7665 722e  ..        hover.
-000082c0: 6267 203d 204e 6f6e 650a 0a20 2020 2020  bg = None..     
-000082d0: 2020 2066 6967 2e63 616e 7661 732e 6d70     fig.canvas.mp
-000082e0: 6c5f 636f 6e6e 6563 7428 226d 6f74 696f  l_connect("motio
-000082f0: 6e5f 6e6f 7469 6679 5f65 7665 6e74 222c  n_notify_event",
-00008300: 2068 6f76 6572 290a 0a20 2020 2069 6620   hover)..    if 
-00008310: 7368 6f77 3a0a 2020 2020 2020 2020 706c  show:.        pl
-00008320: 742e 7368 6f77 2829 0a0a 0a64 6566 2068  t.show()...def h
-00008330: 6976 655f 706c 6f74 286e 6574 776f 726b  ive_plot(network
-00008340: 2c20 7261 6469 616c 2c20 6178 6573 3d4e  , radial, axes=N
-00008350: 6f6e 652c 2061 7865 735f 6269 6e73 3d4e  one, axes_bins=N
-00008360: 6f6e 652c 2061 7865 735f 7261 6e67 653d  one, axes_range=
-00008370: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
-00008380: 2020 2020 6178 6573 5f61 6e67 6c65 733d      axes_angles=
-00008390: 4e6f 6e65 2c20 6178 6573 5f6c 6162 656c  None, axes_label
-000083a0: 733d 4e6f 6e65 2c20 6178 6573 5f75 6e69  s=None, axes_uni
-000083b0: 7473 3d4e 6f6e 652c 0a20 2020 2020 2020  ts=None,.       
-000083c0: 2020 2020 2020 2069 6e74 7261 5f63 6f6e         intra_con
-000083d0: 6e65 6374 696f 6e73 3d54 7275 652c 2068  nections=True, h
-000083e0: 6967 686c 6967 6874 5f6e 6f64 6573 3d4e  ighlight_nodes=N
-000083f0: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
-00008400: 2020 2068 6967 686c 6967 6874 5f65 6467     highlight_edg
-00008410: 6573 3d4e 6f6e 652c 206e 7369 7a65 3d4e  es=None, nsize=N
-00008420: 6f6e 652c 2065 7369 7a65 3d4e 6f6e 652c  one, esize=None,
-00008430: 206d 6178 5f6e 7369 7a65 3d31 302c 0a20   max_nsize=10,. 
-00008440: 2020 2020 2020 2020 2020 2020 206d 6178               max
-00008450: 5f65 7369 7a65 3d31 2c20 6178 6573 5f63  _esize=1, axes_c
-00008460: 6f6c 6f72 733d 4e6f 6e65 2c20 6564 6765  olors=None, edge
-00008470: 5f63 6f6c 6f72 733d 4e6f 6e65 2c20 6564  _colors=None, ed
-00008480: 6765 5f61 6c70 6861 3d30 2e30 352c 0a20  ge_alpha=0.05,. 
-00008490: 2020 2020 2020 2020 2020 2020 206e 626f               nbo
-000084a0: 7264 6572 5f63 6f6c 6f72 3d22 6b22 2c20  rder_color="k", 
-000084b0: 6e62 6f72 6465 725f 7769 6474 683d 302e  nborder_width=0.
-000084c0: 322c 2073 686f 775f 6e61 6d65 733d 5472  2, show_names=Tr
-000084d0: 7565 2c0a 2020 2020 2020 2020 2020 2020  ue,.            
-000084e0: 2020 7368 6f77 5f63 6972 636c 6573 3d46    show_circles=F
-000084f0: 616c 7365 2c20 6178 6973 3d4e 6f6e 652c  alse, axis=None,
-00008500: 2074 6967 6874 3d54 7275 652c 2073 686f   tight=True, sho
-00008510: 773d 4661 6c73 6529 3a0a 2020 2020 2727  w=False):.    ''
-00008520: 270a 2020 2020 4472 6177 2061 2068 6976  '.    Draw a hiv
-00008530: 6520 706c 6f74 206f 6620 7468 6520 6772  e plot of the gr
-00008540: 6170 682e 0a0a 2020 2020 4e6f 7465 0a20  aph...    Note. 
-00008550: 2020 202d 2d2d 2d0a 2020 2020 466f 7220     ----.    For 
-00008560: 6469 7265 6374 6564 206e 6574 776f 726b  directed network
-00008570: 732c 2074 6865 2064 6972 6563 7469 6f6e  s, the direction
-00008580: 206f 6620 696e 7472 612d 6178 6973 2063   of intra-axis c
-00008590: 6f6e 6e65 6374 696f 6e73 2069 730a 2020  onnections is.  
-000085a0: 2020 636f 756e 7465 722d 636c 6f63 6b77    counter-clockw
-000085b0: 6973 652e 0a20 2020 2046 6f72 2069 6e74  ise..    For int
-000085c0: 6572 2d61 7865 7320 636f 6e6e 6563 7469  er-axes connecti
-000085d0: 6f6e 732c 2074 6865 2064 6566 6175 6c74  ons, the default
-000085e0: 2065 6467 6520 636f 6c6f 7220 6973 2063   edge color is c
-000085f0: 6c6f 7365 7374 2074 6f20 7468 6520 636f  losest to the co
-00008600: 6c6f 720a 2020 2020 6f66 2074 6865 2073  lor.    of the s
-00008610: 6f75 7263 6520 6772 6f75 7020 2869 2e65  ource group (i.e
-00008620: 2e20 6672 6f6d 2061 2072 6564 2067 726f  . from a red gro
-00008630: 7570 2074 6f20 6120 626c 7565 2067 726f  up to a blue gro
-00008640: 7570 2c20 6564 6765 2063 6f6c 6f72 2077  up, edge color w
-00008650: 696c 6c0a 2020 2020 6265 2061 2072 6564  ill.    be a red
-00008660: 6469 7368 2076 696f 6c65 7420 2c20 7768  dish violet , wh
-00008670: 696c 6520 6672 6f6d 2062 6c75 6520 746f  ile from blue to
-00008680: 2072 6564 2c20 6974 2077 696c 6c20 6265   red, it will be
-00008690: 2061 2062 6c75 6569 7368 2076 696f 6c65   a blueish viole
-000086a0: 7429 2e0a 0a20 2020 2050 6172 616d 6574  t)...    Paramet
-000086b0: 6572 730a 2020 2020 2d2d 2d2d 2d2d 2d2d  ers.    --------
-000086c0: 2d2d 0a20 2020 206e 6574 776f 726b 203a  --.    network :
-000086d0: 203a 636c 6173 733a 607e 6e6e 6774 2e47   :class:`~nngt.G
-000086e0: 7261 7068 600a 2020 2020 2020 2020 4772  raph`.        Gr
-000086f0: 6170 6820 746f 2070 6c6f 742e 0a20 2020  aph to plot..   
-00008700: 2072 6164 6961 6c20 3a20 7374 722c 206c   radial : str, l
-00008710: 6973 7420 6f66 2073 7472 206f 7220 6172  ist of str or ar
-00008720: 7261 792d 6c69 6b65 0a20 2020 2020 2020  ray-like.       
-00008730: 2056 616c 7565 7320 7468 6174 2077 696c   Values that wil
-00008740: 6c20 6265 2075 7365 6420 746f 2070 6c61  l be used to pla
-00008750: 6365 2074 6865 206e 6f64 6573 206f 6e20  ce the nodes on 
-00008760: 7468 6520 6178 6573 2e20 4569 7468 6572  the axes. Either
-00008770: 206f 6e65 0a20 2020 2020 2020 2069 6465   one.        ide
-00008780: 6e74 6963 616c 2070 726f 7065 7274 7920  ntical property 
-00008790: 6973 2075 7365 6420 666f 7220 616c 6c20  is used for all 
-000087a0: 6178 6573 2028 7472 6164 6974 696f 6e61  axes (traditiona
-000087b0: 6c20 6869 7665 2070 6c6f 7429 206f 720a  l hive plot) or.
-000087c0: 2020 2020 2020 2020 6f6e 6520 7261 6469          one radi
-000087d0: 616c 2063 6f6f 7264 696e 6174 6520 7065  al coordinate pe
-000087e0: 7220 6178 6973 2069 7320 7573 6564 2028  r axis is used (
-000087f0: 6375 7374 6f6d 2068 6976 6520 706c 6f74  custom hive plot
-00008800: 292e 0a20 2020 2020 2020 2049 6620 7261  )..        If ra
-00008810: 6469 616c 2069 7320 6120 7374 7269 6e67  dial is a string
-00008820: 206f 7220 6120 6c69 7374 206f 6620 7374   or a list of st
-00008830: 7269 6e67 732c 2074 6865 6e20 7468 6573  rings, then thes
-00008840: 6520 6d75 7374 2063 6f72 7265 7370 6f6e  e must correspon
-00008850: 640a 2020 2020 2020 2020 746f 2074 6865  d.        to the
-00008860: 206e 616d 6573 206f 6620 6e6f 6465 2061   names of node a
-00008870: 7474 7269 6275 7465 7320 7374 6f72 6564  ttributes stored
-00008880: 2069 6e20 7468 6520 6772 6170 682e 0a20   in the graph.. 
-00008890: 2020 2061 7865 7320 3a20 7374 722c 206f     axes : str, o
-000088a0: 7220 6c69 7374 206f 6620 7374 722c 206f  r list of str, o
-000088b0: 7074 696f 6e61 6c20 2864 6566 6175 6c74  ptional (default
-000088c0: 3a20 6f6e 6520 7065 7220 7261 6469 616c  : one per radial
-000088d0: 2063 6f6f 7264 696e 6174 6529 0a20 2020   coordinate).   
-000088e0: 2020 2020 204e 616d 6520 6f66 2074 6865       Name of the
-000088f0: 2061 7474 7269 6275 7465 2873 2920 7468   attribute(s) th
-00008900: 6174 2077 696c 6c20 6265 2075 7365 6420  at will be used 
-00008910: 746f 206d 616b 6520 6561 6368 206f 6620  to make each of 
-00008920: 7468 6520 6178 6573 0a20 2020 2020 2020  the axes.       
-00008930: 2028 692e 652e 2065 6163 6820 6772 6f75   (i.e. each grou
-00008940: 7020 6f66 206e 6f64 6573 292e 0a20 2020  p of nodes)..   
-00008950: 2020 2020 2054 6869 7320 6361 6e20 6265       This can be
-00008960: 2065 6974 6865 7220 2267 726f 7570 7322   either "groups"
-00008970: 2069 6620 7468 6520 6772 6170 6820 6861   if the graph ha
-00008980: 7320 6120 7374 7275 6374 7572 6520 6f72  s a structure or
-00008990: 2069 7320 610a 2020 2020 2020 2020 3a63   is a.        :c
-000089a0: 6c61 7373 3a60 7e6e 6e67 742e 4e65 7477  lass:`~nngt.Netw
-000089b0: 6f72 6b60 2c20 6120 6c69 7374 206f 6620  ork`, a list of 
-000089c0: 284d 6574 6129 4772 6f75 7020 6e61 6d65  (Meta)Group name
-000089d0: 732c 206f 7220 616e 7920 286c 6973 7420  s, or any (list 
-000089e0: 6f66 290a 2020 2020 2020 2020 6e6f 6465  of).        node
-000089f0: 2061 7474 7269 6275 7465 2873 292e 0a20   attribute(s).. 
-00008a00: 2020 2020 2020 2049 6620 6120 7369 6e67         If a sing
-00008a10: 6c65 206e 6f64 6520 6174 7472 6962 7574  le node attribut
-00008a20: 6520 6973 2075 7365 642c 2060 6178 6573  e is used, `axes
-00008a30: 5f62 696e 7360 206d 7573 7420 6265 2070  _bins` must be p
-00008a40: 726f 7669 6465 6420 746f 0a20 2020 2020  rovided to.     
-00008a50: 2020 206d 616b 6520 6f6e 6520 6178 6973     make one axis
-00008a60: 2066 6f72 2065 6163 6820 7261 6e67 6520   for each range 
-00008a70: 6f66 2076 616c 7565 732e 0a20 2020 2020  of values..     
-00008a80: 2020 2049 6620 7468 6572 6520 6172 6520     If there are 
-00008a90: 6d75 6c74 6970 6c65 2072 6164 6961 6c20  multiple radial 
-00008aa0: 636f 6f72 6469 6e61 7465 732c 2074 6865  coordinates, the
-00008ab0: 6e20 6c65 6176 696e 6720 6061 7865 7360  n leaving `axes`
-00008ac0: 2062 6c61 6e63 6b0a 2020 2020 2020 2020   blanck.        
-00008ad0: 7769 6c6c 2070 6c6f 7420 616c 6c20 6e6f  will plot all no
-00008ae0: 6465 7320 6f6e 2065 6163 6820 6f66 2074  des on each of t
-00008af0: 6865 2061 7865 7320 286f 6e65 2070 6572  he axes (one per
-00008b00: 2072 6164 6961 6c20 636f 6f72 6469 6e61   radial coordina
-00008b10: 7465 292e 0a20 2020 2061 7865 735f 6269  te)..    axes_bi
-00008b20: 6e73 203a 2069 6e74 206f 7220 6172 7261  ns : int or arra
-00008b30: 792d 6c69 6b65 2c20 6f70 7469 6f6e 616c  y-like, optional
-00008b40: 2028 6465 6661 756c 743a 2061 6c6c 206e   (default: all n
-00008b50: 6f64 6573 206f 6e20 6561 6368 2061 7869  odes on each axi
-00008b60: 7329 0a20 2020 2020 2020 2052 6571 7569  s).        Requi
-00008b70: 7265 6420 6966 2074 6865 7265 2069 7320  red if there is 
-00008b80: 6120 7369 6e67 6c65 2072 6164 6961 6c20  a single radial 
-00008b90: 636f 6f72 6469 6e61 7465 2061 6e64 2061  coordinate and a
-00008ba0: 2073 696e 676c 6520 6178 6973 0a20 2020   single axis.   
-00008bb0: 2020 2020 2065 6e74 7279 3a20 7072 6f76       entry: prov
-00008bc0: 6964 6573 2074 6865 2062 696e 7320 7468  ides the bins th
-00008bd0: 6174 2077 696c 6c20 6265 2075 7365 6420  at will be used 
-00008be0: 746f 2073 6570 6172 6174 6520 7468 6520  to separate the 
-00008bf0: 6e6f 6465 730a 2020 2020 2020 2020 696e  nodes.        in
-00008c00: 746f 2067 726f 7570 7320 286f 6e65 2070  to groups (one p
-00008c10: 6572 2061 7869 7329 2e20 466f 7220 4e20  er axis). For N 
-00008c20: 6178 6573 2c20 7468 6572 6520 6d75 7374  axes, there must
-00008c30: 2074 6865 7265 666f 7265 2062 6520 4e20   therefore be N 
-00008c40: 2b20 310a 2020 2020 2020 2020 656e 7472  + 1.        entr
-00008c50: 6965 7320 696e 2060 6178 6573 5f62 696e  ies in `axes_bin
-00008c60: 7360 2c20 6f72 2060 6178 6973 5f62 696e  s`, or `axis_bin
-00008c70: 7360 206d 7573 7420 6265 2065 7175 616c  s` must be equal
-00008c80: 2074 6f20 4e2c 2069 6e20 7768 6963 680a   to N, in which.
-00008c90: 2020 2020 2020 2020 6361 7365 2074 6865          case the
-00008ca0: 206e 6f64 6573 2061 7265 2073 6570 6172   nodes are separ
-00008cb0: 6174 6564 2069 6e74 6f20 4e20 6576 656e  ated into N even
-00008cc0: 6c79 2073 697a 6564 2062 696e 732e 0a20  ly sized bins.. 
-00008cd0: 2020 2061 7865 735f 756e 6974 7320 3a20     axes_units : 
-00008ce0: 7374 722c 206f 7074 696f 6e61 6c0a 2020  str, optional.  
-00008cf0: 2020 2020 2020 556e 6974 7320 7573 6564        Units used
-00008d00: 2074 6f20 7363 616c 6520 7468 6520 6178   to scale the ax
-00008d10: 6573 2e20 4569 7468 6572 2022 6e61 7469  es. Either "nati
-00008d20: 7665 2220 746f 2068 6176 6520 7468 656d  ve" to have them
-00008d30: 2073 6361 6c65 640a 2020 2020 2020 2020   scaled.        
-00008d40: 6265 7477 6565 6e20 7468 6520 6d69 6e69  between the mini
-00008d50: 6d61 6c20 616e 6420 6d61 7869 6d61 6c20  mal and maximal 
-00008d60: 7261 6469 616c 2063 6f6f 7264 696e 6174  radial coordinat
-00008d70: 6573 2061 6d6f 6e67 2061 6c6c 2061 7865  es among all axe
-00008d80: 732c 0a20 2020 2020 2020 2022 7261 6e6b  s,.        "rank
-00008d90: 222c 2074 6f20 7573 6520 7468 6520 6d69  ", to use the mi
-00008da0: 6e20 616e 6420 6d61 7820 7261 6e6b 7320  n and max ranks 
-00008db0: 6f66 2074 6865 206e 6f64 6573 206f 6e20  of the nodes on 
-00008dc0: 616c 6c20 6178 6573 2c20 6f72 0a20 2020  all axes, or.   
-00008dd0: 2020 2020 2022 6e6f 726d 6564 222c 2074       "normed", t
-00008de0: 6f20 6861 7665 2065 6163 6820 6178 6973  o have each axis
-00008df0: 2067 6f20 6672 6f6d 207a 6572 6f20 286d   go from zero (m
-00008e00: 696e 696d 616c 206c 6f63 616c 2072 6164  inimal local rad
-00008e10: 6961 6c0a 2020 2020 2020 2020 636f 6f72  ial.        coor
-00008e20: 6469 6e61 7465 2920 746f 206f 6e65 2028  dinate) to one (
-00008e30: 6d61 7869 6d61 6c20 6c6f 6361 6c20 7261  maximal local ra
-00008e40: 6469 616c 2063 6f6f 7264 696e 6174 6529  dial coordinate)
-00008e50: 2e0a 2020 2020 2020 2020 226e 6174 6976  ..        "nativ
-00008e60: 6522 2069 7320 7468 6520 6465 6661 756c  e" is the defaul
-00008e70: 7420 6966 2074 6865 7265 2069 7320 6120  t if there is a 
-00008e80: 7369 6e67 6c65 2072 6164 6961 6c20 636f  single radial co
-00008e90: 6f72 6469 6e61 7465 2c0a 2020 2020 2020  ordinate,.      
-00008ea0: 2020 226e 6f72 6d65 6422 2069 7320 7468    "normed" is th
-00008eb0: 6520 6465 6661 756c 7420 666f 7220 6d75  e default for mu
-00008ec0: 6c74 6970 6c65 2063 6f6f 7264 696e 6174  ltiple coordinat
-00008ed0: 6573 2e0a 2020 2020 6178 6573 5f61 6e67  es..    axes_ang
-00008ee0: 6c65 7320 3a20 6c69 7374 206f 6620 616e  les : list of an
-00008ef0: 676c 6573 2c20 6f70 7469 6f6e 616c 2028  gles, optional (
-00008f00: 6465 6661 756c 743a 2061 7574 6f6d 6174  default: automat
-00008f10: 6963 290a 2020 2020 2020 2020 416e 676c  ic).        Angl
-00008f20: 6573 2066 6f72 2065 6163 6820 6f66 2074  es for each of t
-00008f30: 6865 2061 7865 732c 2062 7920 696e 6372  he axes, by incr
-00008f40: 6561 7369 6e67 2064 6567 7265 652e 2049  easing degree. I
-00008f50: 660a 2020 2020 2020 2020 6069 6e74 7261  f.        `intra
-00008f60: 5f63 6f6e 6e65 6374 696f 6e73 6020 6973  _connections` is
-00008f70: 2054 7275 652c 2074 6865 6e20 616e 676c   True, then angl
-00008f80: 6573 206f 6620 6475 706c 6963 6174 6520  es of duplicate 
-00008f90: 6178 6573 206d 7573 7420 6265 0a20 2020  axes must be.   
-00008fa0: 2020 2020 2061 646a 6163 656e 742c 2065       adjacent, e
-00008fb0: 2e67 2e20 6060 5b61 312c 2061 3162 6973  .g. ``[a1, a1bis
-00008fc0: 2c20 6132 2c20 6132 6269 732c 2061 332c  , a2, a2bis, a3,
-00008fd0: 2061 3362 6973 5d60 602e 0a20 2020 2061   a3bis]``..    a
-00008fe0: 7865 735f 6c61 6265 6c73 203a 2073 7472  xes_labels : str
-00008ff0: 206f 7220 6c69 7374 206f 6620 7374 722c   or list of str,
-00009000: 206f 7074 696f 6e61 6c0a 2020 2020 2020   optional.      
-00009010: 2020 4c61 6265 6c20 6f66 2065 6163 6820    Label of each 
-00009020: 6178 6973 2e20 466f 7220 6269 6e6e 6564  axis. For binned
-00009030: 2061 7865 732c 2069 7420 6361 6e20 6265   axes, it can be
-00009040: 2061 7574 6f6d 6174 6963 616c 6c79 2066   automatically f
-00009050: 6f72 6d61 7474 6564 0a20 2020 2020 2020  ormatted.       
-00009060: 2076 6961 2074 6865 2074 6872 6565 2065   via the three e
-00009070: 6e74 7269 6573 2060 607b 6e61 6d65 7d60  ntries ``{name}`
-00009080: 602c 2060 607b 7374 6172 747d 6060 2c20  `, ``{start}``, 
-00009090: 6060 7b73 746f 707d 6060 2e0a 2020 2020  ``{stop}``..    
-000090a0: 2020 2020 452e 672e 2022 7b6e 616d 657d      E.g. "{name}
-000090b0: 2069 6e20 5b7b 7374 6172 747d 2c20 7b73   in [{start}, {s
-000090c0: 746f 707d 5d22 2077 6f75 6c64 2067 6976  top}]" would giv
-000090d0: 6520 2243 4320 696e 205b 302c 2030 2e32  e "CC in [0, 0.2
-000090e0: 5d22 2066 6f72 0a20 2020 2020 2020 2061  ]" for.        a
-000090f0: 2066 6972 7374 2061 7869 7320 616e 6420   first axis and 
-00009100: 2243 4320 696e 205b 302e 322c 2030 2e34  "CC in [0.2, 0.4
-00009110: 5d22 2066 6f72 2061 2073 6563 6f6e 6420  ]" for a second 
-00009120: 6178 6973 2e0a 2020 2020 696e 7472 615f  axis..    intra_
-00009130: 636f 6e6e 6563 7469 6f6e 7320 3a20 626f  connections : bo
-00009140: 6f6c 2c20 6f70 7469 6f6e 616c 2028 6465  ol, optional (de
-00009150: 6661 756c 743a 2054 7275 6529 0a20 2020  fault: True).   
-00009160: 2020 2020 2053 686f 7720 636f 6e6e 6563       Show connec
-00009170: 7469 6f6e 7320 6265 7477 6565 6e20 6e6f  tions between no
-00009180: 6465 7320 6265 6c6f 6e67 696e 6720 746f  des belonging to
-00009190: 2074 6865 2073 616d 6520 6178 6973 2e20   the same axis. 
-000091a0: 4966 2074 7275 652c 0a20 2020 2020 2020  If true,.       
-000091b0: 2074 6865 6e20 6561 6368 2061 7869 7320   then each axis 
-000091c0: 6973 2064 7570 6c69 6361 7465 6420 746f  is duplicated to
-000091d0: 2064 6973 706c 6179 2069 6e74 7261 2d61   display intra-a
-000091e0: 7869 7320 636f 6e6e 6563 7469 6f6e 732e  xis connections.
-000091f0: 0a20 2020 2068 6967 686c 6967 6874 5f6e  .    highlight_n
-00009200: 6f64 6573 203a 206c 6973 7420 6f66 206e  odes : list of n
-00009210: 6f64 6573 2c20 6f70 7469 6f6e 616c 2028  odes, optional (
-00009220: 6465 6661 756c 743a 2061 6c6c 206e 6f64  default: all nod
-00009230: 6573 290a 2020 2020 2020 2020 4869 6768  es).        High
-00009240: 6c69 6768 7420 6120 7375 6273 6574 206f  light a subset o
-00009250: 6620 6e6f 6465 7320 616e 6420 7468 6569  f nodes and thei
-00009260: 7220 636f 6e6e 6563 7469 6f6e 732c 2061  r connections, a
-00009270: 6c6c 206f 7468 6572 206e 6f64 6573 0a20  ll other nodes. 
-00009280: 2020 2020 2020 2061 6e64 2063 6f6e 6e65         and conne
-00009290: 6374 696f 6e73 2077 696c 6c20 6265 2067  ctions will be g
-000092a0: 7261 792e 0a20 2020 2068 6967 686c 6967  ray..    highlig
-000092b0: 6874 5f65 6467 6573 203a 206c 6973 7420  ht_edges : list 
-000092c0: 6f66 2065 6467 6573 2c20 6f70 7469 6f6e  of edges, option
-000092d0: 616c 2028 6465 6661 756c 743a 2061 6c6c  al (default: all
-000092e0: 2065 6467 6573 290a 2020 2020 2020 2020   edges).        
-000092f0: 4869 6768 6c69 6768 7420 6120 7375 6273  Highlight a subs
-00009300: 6574 206f 6620 6564 6765 733b 2061 6c6c  et of edges; all
-00009310: 206f 7468 6572 2063 6f6e 6e65 6374 696f   other connectio
-00009320: 6e73 2077 696c 6c20 6265 2067 7261 792e  ns will be gray.
-00009330: 0a20 2020 206e 7369 7a65 203a 2066 6c6f  .    nsize : flo
-00009340: 6174 2c20 7374 722c 206f 7220 6172 7261  at, str, or arra
-00009350: 792d 6c69 6b65 2c20 6f70 7469 6f6e 616c  y-like, optional
-00009360: 2028 6465 6661 756c 743a 2061 7574 6f6d   (default: autom
-00009370: 6174 6963 290a 2020 2020 2020 2020 5369  atic).        Si
-00009380: 7a65 206f 6620 7468 6520 6e6f 6465 7320  ze of the nodes 
-00009390: 6f6e 2074 6865 2061 7865 732e 2045 6974  on the axes. Eit
-000093a0: 6865 7220 6120 6669 7865 6420 7369 7a65  her a fixed size
-000093b0: 2c20 7468 6520 6e61 6d65 206f 6620 610a  , the name of a.
-000093c0: 2020 2020 2020 2020 6e6f 6465 2061 7474          node att
-000093d0: 7269 6275 7465 2c20 6f72 2061 206c 6973  ribute, or a lis
-000093e0: 7420 6f66 2075 7365 722d 6465 6669 6e65  t of user-define
-000093f0: 6420 7661 6c75 6573 2e0a 2020 2020 6573  d values..    es
-00009400: 697a 6520 3a20 666c 6f61 7420 6f72 2073  ize : float or s
-00009410: 7472 2c20 6f70 7469 6f6e 616c 2028 6465  tr, optional (de
-00009420: 6661 756c 743a 2031 290a 2020 2020 2020  fault: 1).      
-00009430: 2020 5369 7a65 206f 6620 7468 6520 6564    Size of the ed
-00009440: 6765 732e 2045 6974 6865 7220 6120 6669  ges. Either a fi
-00009450: 7865 6420 7369 7a65 206f 7220 7468 6520  xed size or the 
-00009460: 6e61 6d65 206f 6620 616e 2065 6467 650a  name of an edge.
-00009470: 2020 2020 2020 2020 6174 7472 6962 7574          attribut
-00009480: 652e 0a20 2020 206d 6178 5f6e 7369 7a65  e..    max_nsize
-00009490: 203a 2066 6c6f 6174 2c20 6f70 7469 6f6e   : float, option
-000094a0: 616c 2028 6465 6661 756c 743a 2031 3029  al (default: 10)
-000094b0: 0a20 2020 2020 2020 204d 6178 696d 756d  .        Maximum
-000094c0: 206e 6f64 6520 7369 7a65 2069 6620 606e   node size if `n
-000094d0: 7369 7a65 6020 6973 2061 6e20 6174 7472  size` is an attr
-000094e0: 6962 7574 6520 6f72 2061 206c 6973 7420  ibute or a list 
-000094f0: 6f66 0a20 2020 2020 2020 2075 7365 722d  of.        user-
-00009500: 6465 6669 6e65 6420 7661 6c75 6573 2e0a  defined values..
-00009510: 2020 2020 6d61 785f 6573 697a 6520 3a20      max_esize : 
-00009520: 666c 6f61 742c 206f 7074 696f 6e61 6c20  float, optional 
-00009530: 2864 6566 6175 6c74 3a20 3129 0a20 2020  (default: 1).   
-00009540: 2020 2020 204d 6178 696d 756d 2065 6467       Maximum edg
-00009550: 6520 7369 7a65 2069 6620 6065 7369 7a65  e size if `esize
-00009560: 6020 6973 2061 6e20 6174 7472 6962 7574  ` is an attribut
-00009570: 652e 0a20 2020 2061 7865 735f 636f 6c6f  e..    axes_colo
-00009580: 7273 203a 2076 616c 6964 206d 6174 706c  rs : valid matpl
-00009590: 6f74 6c69 6220 636f 6c6f 722f 636f 6c6f  otlib color/colo
-000095a0: 726d 6170 2c20 6f70 7469 6f6e 616c 2028  rmap, optional (
-000095b0: 6465 6661 756c 743a 2053 6574 3129 0a20  default: Set1). 
-000095c0: 2020 2020 2020 2043 6f6c 6f72 2061 7373         Color ass
-000095d0: 6f63 6961 7465 6420 746f 2065 6163 6820  ociated to each 
-000095e0: 6178 6973 2e0a 2020 2020 6e62 6f72 6465  axis..    nborde
-000095f0: 725f 636f 6c6f 7220 3a20 6d61 7470 6c6f  r_color : matplo
-00009600: 746c 6962 2063 6f6c 6f72 2c20 6f70 7469  tlib color, opti
-00009610: 6f6e 616c 2028 6465 6661 756c 743a 2022  onal (default: "
-00009620: 6b22 290a 2020 2020 2020 2020 436f 6c6f  k").        Colo
-00009630: 7220 6f66 2074 6865 206e 6f64 6527 7320  r of the node's 
-00009640: 626f 7264 6572 2e0a 2020 2020 2020 2020  border..        
-00009650: 6f72 2066 6c6f 6174 7320 696e 205b 302c  or floats in [0,
-00009660: 2031 5d20 6465 6669 6e69 6e67 2074 6865   1] defining the
-00009670: 2070 6f73 6974 696f 6e20 696e 2074 6865   position in the
-00009680: 2070 616c 6574 7465 2e0a 2020 2020 6e62   palette..    nb
-00009690: 6f72 6465 725f 7769 6474 6820 3a20 666c  order_width : fl
-000096a0: 6f61 742c 206f 7074 696f 6e61 6c20 2864  oat, optional (d
-000096b0: 6566 6175 6c74 3a20 302e 3229 0a20 2020  efault: 0.2).   
-000096c0: 2020 2020 2057 6964 7468 206f 6620 7468       Width of th
-000096d0: 6520 626f 7264 6572 2e0a 2020 2020 6564  e border..    ed
-000096e0: 6765 5f63 6f6c 6f72 7320 3a20 7661 6c69  ge_colors : vali
-000096f0: 6420 6d61 7470 6c6f 746c 6962 2063 6f6c  d matplotlib col
-00009700: 6f72 2f63 6f6c 6f72 6d61 702c 206f 7074  or/colormap, opt
-00009710: 696f 6e61 6c20 2864 6566 6175 6c74 3a20  ional (default: 
-00009720: 6175 746f 290a 2020 2020 2020 2020 436f  auto).        Co
-00009730: 6c6f 7220 6f66 2074 6865 2065 6467 6573  lor of the edges
-00009740: 2e20 4279 2064 6566 6175 6c74 2069 7420  . By default it 
-00009750: 6973 2074 6865 2069 6e74 6572 6d65 6469  is the intermedi
-00009760: 6174 6520 636f 6c6f 7220 6265 7477 6565  ate color betwee
-00009770: 6e0a 2020 2020 2020 2020 7477 6f20 6178  n.        two ax
-00009780: 6573 2063 6f6c 6f72 732e 2054 6f20 7072  es colors. To pr
-00009790: 6f76 6964 6520 6375 7374 6f6d 2063 6f6c  ovide custom col
-000097a0: 6f72 732c 2074 6865 7920 6d75 7374 2062  ors, they must b
-000097b0: 6520 7072 6f76 6964 6564 2061 730a 2020  e provided as.  
-000097c0: 2020 2020 2020 6120 6469 6374 696f 6e6e        a dictionn
-000097d0: 6172 7920 6f66 2061 7865 7320 6564 6765  ary of axes edge
-000097e0: 7320 6060 7b28 302c 2030 293a 2022 7222  s ``{(0, 0): "r"
-000097f0: 2c20 2830 2c20 3129 3a20 2267 222c 2028  , (0, 1): "g", (
-00009800: 312c 2030 293a 2022 6222 7d60 600a 2020  1, 0): "b"}``.  
-00009810: 2020 2020 2020 7769 7468 2064 6566 6175        with defau
-00009820: 6c74 2063 6f6c 6f72 2062 6569 6e67 2062  lt color being b
-00009830: 6c61 636b 2e0a 2020 2020 6564 6765 5f61  lack..    edge_a
-00009840: 6c70 6861 203a 2066 6c6f 6174 2c20 6f70  lpha : float, op
-00009850: 7469 6f6e 616c 2028 6465 6661 756c 743a  tional (default:
-00009860: 2030 2e30 3529 0a20 2020 2020 2020 2045   0.05).        E
-00009870: 6467 6520 6f70 6163 6974 792e 0a20 2020  dge opacity..   
-00009880: 2073 686f 775f 6e61 6d65 7320 3a20 626f   show_names : bo
-00009890: 6f6c 2c20 6f70 7469 6f6e 616c 2028 6465  ol, optional (de
-000098a0: 6661 756c 743a 2054 7275 6529 0a20 2020  fault: True).   
-000098b0: 2020 2020 2053 686f 7720 6178 6573 206e       Show axes n
-000098c0: 616d 6573 2061 6e64 2070 726f 7065 7274  ames and propert
-000098d0: 6965 732e 0a20 2020 2073 686f 775f 6369  ies..    show_ci
-000098e0: 7263 6c65 7320 3a20 626f 6f6c 2c20 6f70  rcles : bool, op
-000098f0: 7469 6f6e 616c 2028 6465 6661 756c 743a  tional (default:
-00009900: 2046 616c 7365 290a 2020 2020 2020 2020   False).        
-00009910: 5368 6f77 2074 6865 2063 6972 636c 6573  Show the circles
-00009920: 2061 7373 6f63 6961 7465 6420 746f 2074   associated to t
-00009930: 6865 206d 6178 696d 756d 2076 616c 7565  he maximum value
-00009940: 206f 6620 6561 6368 2061 7869 732e 0a20   of each axis.. 
-00009950: 2020 2061 7869 7320 3a20 6d61 7470 6c6f     axis : matplo
-00009960: 746c 6962 2061 7869 732c 206f 7074 696f  tlib axis, optio
-00009970: 6e61 6c20 2864 6566 6175 6c74 3a20 6372  nal (default: cr
-00009980: 6561 7465 206e 6577 2061 7869 7329 0a20  eate new axis). 
-00009990: 2020 2020 2020 2041 7869 7320 6f6e 2077         Axis on w
-000099a0: 6869 6368 2074 6865 206e 6574 776f 726b  hich the network
-000099b0: 2077 696c 6c20 6265 2070 6c6f 7474 6564   will be plotted
-000099c0: 2e0a 2020 2020 7469 6768 7420 3a20 626f  ..    tight : bo
-000099d0: 6f6c 2c20 6f70 7469 6f6e 616c 2028 6465  ol, optional (de
-000099e0: 6661 756c 743a 2054 7275 6529 0a20 2020  fault: True).   
-000099f0: 2020 2020 2053 6574 2066 6967 7572 6520       Set figure 
-00009a00: 6c61 796f 7574 2074 6f20 7469 6768 7420  layout to tight 
-00009a10: 2873 6574 2074 6f20 4661 6c73 6520 6966  (set to False if
-00009a20: 2070 6c6f 7474 696e 6720 6d75 6c74 6970   plotting multip
-00009a30: 6c65 2061 7865 7320 6f6e 0a20 2020 2020  le axes on.     
-00009a40: 2020 2061 2073 696e 676c 6520 6669 6775     a single figu
-00009a50: 7265 292e 0a20 2020 2073 686f 7720 3a20  re)..    show : 
-00009a60: 626f 6f6c 2c20 6f70 7469 6f6e 616c 2028  bool, optional (
-00009a70: 6465 6661 756c 743a 2054 7275 6529 0a20  default: True). 
-00009a80: 2020 2020 2020 2044 6973 706c 6179 2074         Display t
-00009a90: 6865 2070 6c6f 7420 696d 6d65 6469 6174  he plot immediat
-00009aa0: 656c 792e 0a20 2020 2027 2727 0a20 2020  ely..    '''.   
-00009ab0: 2069 6d70 6f72 7420 6d61 7470 6c6f 746c   import matplotl
-00009ac0: 6962 2e70 7970 6c6f 7420 6173 2070 6c74  ib.pyplot as plt
-00009ad0: 0a0a 2020 2020 2320 6765 7420 6e75 6d65  ..    # get nume
-00009ae0: 7220 6f66 2061 7865 7320 616e 6420 7261  r of axes and ra
-00009af0: 6469 616c 2063 6f6f 7264 696e 6174 6573  dial coordinates
-00009b00: 0a20 2020 206e 756d 5f61 7865 732c 206e  .    num_axes, n
-00009b10: 756d 5f72 6164 6961 6c20 3d20 5f67 6574  um_radial = _get
-00009b20: 5f61 7865 735f 7261 6469 616c 5f63 6f6f  _axes_radial_coo
-00009b30: 7264 280a 2020 2020 2020 2020 7261 6469  rd(.        radi
-00009b40: 616c 2c20 6178 6573 2c20 6178 6573 5f62  al, axes, axes_b
-00009b50: 696e 732c 206e 6574 776f 726b 290a 0a20  ins, network).. 
-00009b60: 2020 2023 2067 6574 2061 7865 7320 6e61     # get axes na
-00009b70: 6d65 732c 2061 7373 6f63 6961 7465 6420  mes, associated 
-00009b80: 6e6f 6465 732c 2061 6e64 2072 6164 6961  nodes, and radia
-00009b90: 6c20 7661 6c75 6573 0a20 2020 2061 785f  l values.    ax_
-00009ba0: 6e61 6d65 732c 2061 785f 6e6f 6465 732c  names, ax_nodes,
-00009bb0: 2061 785f 7261 6463 6f20 3d20 5f67 6574   ax_radco = _get
-00009bc0: 5f61 7865 735f 6e6f 6465 7328 0a20 2020  _axes_nodes(.   
-00009bd0: 2020 2020 206e 6574 776f 726b 2c20 7261       network, ra
-00009be0: 6469 616c 2c20 6178 6573 2c20 6178 6573  dial, axes, axes
-00009bf0: 5f62 696e 732c 206e 756d 5f61 7865 732c  _bins, num_axes,
-00009c00: 206e 756d 5f72 6164 6961 6c29 0a0a 2020   num_radial)..  
-00009c10: 2020 2320 6765 7420 6869 6768 6c69 6768    # get highligh
-00009c20: 7465 6420 6e6f 6465 7320 616e 6420 6564  ted nodes and ed
-00009c30: 6765 730a 2020 2020 6966 2068 6967 686c  ges.    if highl
-00009c40: 6967 6874 5f6e 6f64 6573 3a0a 2020 2020  ight_nodes:.    
-00009c50: 2020 2020 6869 6768 6c69 6768 745f 6e6f      highlight_no
-00009c60: 6465 7320 3d20 7365 7428 6869 6768 6c69  des = set(highli
-00009c70: 6768 745f 6e6f 6465 7329 0a20 2020 2065  ght_nodes).    e
-00009c80: 6c73 653a 0a20 2020 2020 2020 2068 6967  lse:.        hig
-00009c90: 686c 6967 6874 5f6e 6f64 6573 3d20 7365  hlight_nodes= se
-00009ca0: 7428 290a 0a20 2020 2069 6620 6869 6768  t()..    if high
-00009cb0: 6c69 6768 745f 6564 6765 7320 6973 206e  light_edges is n
-00009cc0: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
-00009cd0: 2068 6967 686c 6967 6874 5f65 6467 6573   highlight_edges
-00009ce0: 203d 207b 7475 706c 6528 6529 2066 6f72   = {tuple(e) for
-00009cf0: 2065 2069 6e20 6869 6768 6c69 6768 745f   e in highlight_
-00009d00: 6564 6765 737d 0a0a 2020 2020 2320 6765  edges}..    # ge
-00009d10: 7420 756e 6974 732c 206d 6178 696d 756d  t units, maximum
-00009d20: 2076 616c 7565 7320 666f 7220 7468 6520   values for the 
-00009d30: 6178 6573 2c20 7265 6e6f 726d 616c 697a  axes, renormaliz
-00009d40: 6520 7261 6469 616c 2076 616c 7565 730a  e radial values.
-00009d50: 2020 2020 6966 2061 7865 735f 756e 6974      if axes_unit
-00009d60: 7320 6973 204e 6f6e 653a 0a20 2020 2020  s is None:.     
-00009d70: 2020 2061 7865 735f 756e 6974 7320 3d20     axes_units = 
-00009d80: 226e 6f72 6d65 6422 2069 6620 6e75 6d5f  "normed" if num_
-00009d90: 7261 6469 616c 203e 2031 2065 6c73 6520  radial > 1 else 
-00009da0: 226e 6174 6976 6522 0a0a 2020 2020 7261  "native"..    ra
-00009db0: 6469 616c 5f76 616c 7565 7320 3d20 5f67  dial_values = _g
-00009dc0: 6574 5f72 6164 6961 6c5f 7661 6c75 6573  et_radial_values
-00009dd0: 2861 785f 7261 6463 6f2c 2061 7865 735f  (ax_radco, axes_
-00009de0: 756e 6974 732c 206e 6574 776f 726b 290a  units, network).
-00009df0: 0a20 2020 2023 2063 6f6d 7075 7465 2074  .    # compute t
-00009e00: 6865 2061 6e67 6c65 730a 2020 2020 616e  he angles.    an
-00009e10: 676c 6573 203d 204e 6f6e 650a 0a20 2020  gles = None..   
-00009e20: 2069 6620 6178 6573 5f61 6e67 6c65 7320   if axes_angles 
-00009e30: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
-00009e40: 2064 7468 6574 6120 3d20 3220 2a20 6e70   dtheta = 2 * np
-00009e50: 2e70 6920 2f20 6e75 6d5f 6178 6573 0a0a  .pi / num_axes..
-00009e60: 2020 2020 2020 2020 6966 2069 6e74 7261          if intra
-00009e70: 5f63 6f6e 6e65 6374 696f 6e73 3a0a 2020  _connections:.  
-00009e80: 2020 2020 2020 2020 2020 616e 676c 6573            angles
-00009e90: 203d 205b 5d0a 0a20 2020 2020 2020 2020   = []..         
-00009ea0: 2020 2066 6f72 2069 2069 6e20 7261 6e67     for i in rang
-00009eb0: 6528 6e75 6d5f 6178 6573 293a 0a20 2020  e(num_axes):.   
-00009ec0: 2020 2020 2020 2020 2020 2020 2061 6e67               ang
-00009ed0: 6c65 732e 6578 7465 6e64 2828 2869 202d  les.extend(((i -
-00009ee0: 2030 2e31 3235 292a 6474 6865 7461 2c20   0.125)*dtheta, 
-00009ef0: 2869 202b 2030 2e31 3235 292a 6474 6865  (i + 0.125)*dthe
-00009f00: 7461 2929 0a20 2020 2020 2020 2065 6c73  ta)).        els
-00009f10: 653a 0a20 2020 2020 2020 2020 2020 2061  e:.            a
-00009f20: 6e67 6c65 7320 3d20 5b69 2a64 7468 6574  ngles = [i*dthet
-00009f30: 6120 666f 7220 6920 696e 2072 616e 6765  a for i in range
-00009f40: 286e 756d 5f61 7865 7329 5d0a 2020 2020  (num_axes)].    
-00009f50: 656c 7365 3a0a 2020 2020 2020 2020 616e  else:.        an
-00009f60: 676c 6573 203d 205b 612a 6e70 2e70 692f  gles = [a*np.pi/
-00009f70: 3138 3020 666f 7220 6120 696e 2061 785f  180 for a in ax_
-00009f80: 616e 676c 6573 5d0a 0a20 2020 2023 2072  angles]..    # r
-00009f90: 656e 6f72 6d61 6c69 7a65 2074 6865 2073  enormalize the s
-00009fa0: 697a 6573 0a20 2020 206e 7369 7a65 203d  izes.    nsize =
-00009fb0: 205f 6765 745f 7369 7a65 286e 7369 7a65   _get_size(nsize
-00009fc0: 2c20 6d61 785f 6e73 697a 652c 2061 785f  , max_nsize, ax_
-00009fd0: 6e6f 6465 732c 206e 6574 776f 726b 290a  nodes, network).
-00009fe0: 0a20 2020 206e 6564 6765 7320 3d20 6e65  .    nedges = ne
-00009ff0: 7477 6f72 6b2e 6564 6765 5f6e 6228 290a  twork.edge_nb().
-0000a000: 0a20 2020 2065 7369 7a65 203d 206e 702e  .    esize = np.
-0000a010: 6f6e 6573 286e 6564 6765 7329 2069 6620  ones(nedges) if 
-0000a020: 6573 697a 6520 6973 204e 6f6e 6520 656c  esize is None el
-0000a030: 7365 206e 6574 776f 726b 2e65 6467 655f  se network.edge_
-0000a040: 6174 7472 6962 7574 6573 5b65 7369 7a65  attributes[esize
-0000a050: 5d0a 2020 2020 6573 697a 6520 2a3d 206d  ].    esize *= m
-0000a060: 6178 5f65 7369 7a65 202f 2065 7369 7a65  ax_esize / esize
-0000a070: 2e6d 6178 2829 0a0a 2020 2020 6573 697a  .max()..    esiz
-0000a080: 6520 3d20 7b74 7570 6c65 2865 293a 2073  e = {tuple(e): s
-0000a090: 2066 6f72 2065 2c20 7320 696e 207a 6970   for e, s in zip
-0000a0a0: 286e 6574 776f 726b 2e65 6467 6573 5f61  (network.edges_a
-0000a0b0: 7272 6179 2c20 6573 697a 6529 7d0a 0a20  rray, esize)}.. 
-0000a0c0: 2020 2023 2067 6574 2074 6865 2063 6f6c     # get the col
-0000a0d0: 6f72 730a 2020 2020 6e63 6f6c 6f72 732c  ors.    ncolors,
-0000a0e0: 2065 636f 6c6f 7273 203d 205f 6765 745f   ecolors = _get_
-0000a0f0: 636f 6c6f 7273 2861 7865 735f 636f 6c6f  colors(axes_colo
-0000a100: 7273 2c20 6564 6765 5f63 6f6c 6f72 732c  rs, edge_colors,
-0000a110: 2061 6e67 6c65 732c 206e 756d 5f61 7865   angles, num_axe
-0000a120: 732c 0a20 2020 2020 2020 2020 2020 2020  s,.             
-0000a130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a140: 2020 2020 2020 696e 7472 615f 636f 6e6e        intra_conn
-0000a150: 6563 7469 6f6e 732c 206e 6574 776f 726b  ections, network
-0000a160: 290a 0a20 2020 2023 206d 616b 6520 7468  )..    # make th
-0000a170: 6520 6669 6775 7265 0a20 2020 2069 6620  e figure.    if 
-0000a180: 6178 6973 2069 7320 4e6f 6e65 3a0a 2020  axis is None:.  
-0000a190: 2020 2020 2020 5f2c 2061 7869 7320 3d20        _, axis = 
-0000a1a0: 706c 742e 7375 6270 6c6f 7473 2829 0a0a  plt.subplots()..
-0000a1b0: 2020 2020 2320 706c 6f74 2074 6865 206e      # plot the n
-0000a1c0: 6f64 6573 2061 6e64 2061 7865 730a 2020  odes and axes.  
-0000a1d0: 2020 6e6f 6465 5f70 6f73 2020 3d20 5b5d    node_pos  = []
-0000a1e0: 0a20 2020 206d 6178 5f72 6164 6969 203d  .    max_radii =
-0000a1f0: 205b 5d0a 0a20 2020 2066 6f72 2069 2c20   []..    for i, 
-0000a200: 286e 6e2c 2072 7229 2069 6e20 656e 756d  (nn, rr) in enum
-0000a210: 6572 6174 6528 7a69 7028 6178 5f6e 6f64  erate(zip(ax_nod
-0000a220: 6573 2c20 7261 6469 616c 5f76 616c 7565  es, radial_value
-0000a230: 7329 293a 0a20 2020 2020 2020 2069 6620  s)):.        if 
-0000a240: 6c65 6e28 6e6e 293a 0a20 2020 2020 2020  len(nn):.       
-0000a250: 2020 2020 2023 206d 6178 2072 6164 6969       # max radii
-0000a260: 0a20 2020 2020 2020 2020 2020 2072 6178  .            rax
-0000a270: 203d 206e 702e 6172 7261 7928 5b52 4d49   = np.array([RMI
-0000a280: 4e2c 2072 725b 6e6e 5d2e 6d61 7828 295d  N, rr[nn].max()]
-0000a290: 290a 0a20 2020 2020 2020 2020 2020 206d  )..            m
-0000a2a0: 6178 5f72 6164 6969 2e65 7874 656e 6428  ax_radii.extend(
-0000a2b0: 5b72 6178 5b2d 315d 5d2a 2831 202b 2069  [rax[-1]]*(1 + i
-0000a2c0: 6e74 7261 5f63 6f6e 6e65 6374 696f 6e73  ntra_connections
-0000a2d0: 2929 0a0a 2020 2020 2020 2020 2020 2020  ))..            
-0000a2e0: 2320 706c 6f74 206d 6178 2072 6164 6969  # plot max radii
-0000a2f0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-0000a300: 7368 6f77 5f63 6972 636c 6573 3a0a 2020  show_circles:.  
-0000a310: 2020 2020 2020 2020 2020 2020 2020 6161                aa
-0000a320: 203d 206e 702e 6172 616e 6765 2830 2c20   = np.arange(0, 
-0000a330: 322a 6e70 2e70 692c 2030 2e30 3229 0a20  2*np.pi, 0.02). 
-0000a340: 2020 2020 2020 2020 2020 2020 2020 2078                 x
-0000a350: 7820 3d20 7261 785b 2d31 5d2a 6e70 2e63  x = rax[-1]*np.c
-0000a360: 6f73 2861 6129 0a20 2020 2020 2020 2020  os(aa).         
-0000a370: 2020 2020 2020 2079 7920 3d20 7261 785b         yy = rax[
-0000a380: 2d31 5d2a 6e70 2e73 696e 2861 6129 0a20  -1]*np.sin(aa). 
-0000a390: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-0000a3a0: 7869 732e 706c 6f74 2878 782c 2079 792c  xis.plot(xx, yy,
-0000a3b0: 2063 6f6c 6f72 3d22 6772 6579 222c 2061   color="grey", a
-0000a3c0: 6c70 6861 3d30 2e32 2c20 7a6f 7264 6572  lpha=0.2, zorder
-0000a3d0: 3d31 290a 0a20 2020 2020 2020 2020 2020  =1)..           
-0000a3e0: 2023 2063 6f6d 7070 7574 6520 616e 676c   # comppute angl
-0000a3f0: 6573 0a20 2020 2020 2020 2020 2020 2061  es.            a
-0000a400: 6120 3d20 5b61 6e67 6c65 735b 322a 695d  a = [angles[2*i]
-0000a410: 2069 6620 696e 7472 615f 636f 6e6e 6563   if intra_connec
-0000a420: 7469 6f6e 7320 656c 7365 2061 6e67 6c65  tions else angle
-0000a430: 735b 695d 5d0a 0a20 2020 2020 2020 2020  s[i]]..         
-0000a440: 2020 2069 6620 696e 7472 615f 636f 6e6e     if intra_conn
-0000a450: 6563 7469 6f6e 733a 0a20 2020 2020 2020  ections:.       
-0000a460: 2020 2020 2020 2020 2061 6120 2b3d 205b           aa += [
-0000a470: 616e 676c 6573 5b32 2a69 2b31 5d5d 0a0a  angles[2*i+1]]..
-0000a480: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-0000a490: 6a2c 2061 2069 6e20 656e 756d 6572 6174  j, a in enumerat
-0000a4a0: 6528 6161 293a 0a20 2020 2020 2020 2020  e(aa):.         
-0000a4b0: 2020 2020 2020 2023 2070 6c6f 7420 6178         # plot ax
-0000a4c0: 6573 206c 696e 6573 0a20 2020 2020 2020  es lines.       
-0000a4d0: 2020 2020 2020 2020 206c 7720 3d20 3120           lw = 1 
-0000a4e0: 6966 206a 2025 2032 2065 6c73 6520 320a  if j % 2 else 2.
-0000a4f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000a500: 2061 7869 732e 706c 6f74 2872 6178 2a6e   axis.plot(rax*n
-0000a510: 702e 636f 7328 6129 2c20 7261 782a 6e70  p.cos(a), rax*np
-0000a520: 2e73 696e 2861 292c 2063 6f6c 6f72 3d22  .sin(a), color="
-0000a530: 6772 6579 222c 206c 773d 6c77 2c0a 2020  grey", lw=lw,.  
-0000a540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a550: 2020 2020 2020 2020 7a6f 7264 6572 3d31          zorder=1
-0000a560: 290a 0a20 2020 2020 2020 2020 2020 2020  )..             
-0000a570: 2020 2023 2063 6f6d 7075 7465 206e 6f64     # compute nod
-0000a580: 6520 706f 7369 7469 6f6e 730a 2020 2020  e positions.    
-0000a590: 2020 2020 2020 2020 2020 2020 7878 203d              xx =
-0000a5a0: 2072 722a 6e70 2e63 6f73 2861 290a 2020   rr*np.cos(a).  
-0000a5b0: 2020 2020 2020 2020 2020 2020 2020 7979                yy
-0000a5c0: 203d 2072 722a 6e70 2e73 696e 2861 290a   = rr*np.sin(a).
-0000a5d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000a5e0: 206e 6f64 655f 706f 732e 6170 7065 6e64   node_pos.append
-0000a5f0: 286e 702e 6172 7261 7928 5b78 782c 2079  (np.array([xx, y
-0000a600: 795d 292e 5429 0a0a 2020 2020 2020 2020  y]).T)..        
-0000a610: 2020 2020 2020 2020 6966 2068 6967 686c          if highl
-0000a620: 6967 6874 5f6e 6f64 6573 3a0a 2020 2020  ight_nodes:.    
-0000a630: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a640: 6772 6579 7320 3d20 6c69 7374 2873 6574  greys = list(set
-0000a650: 286e 6e29 2e64 6966 6665 7265 6e63 6528  (nn).difference(
-0000a660: 6869 6768 6c69 6768 745f 6e6f 6465 7329  highlight_nodes)
-0000a670: 290a 0a20 2020 2020 2020 2020 2020 2020  )..             
-0000a680: 2020 2020 2020 205f 706c 6f74 5f6e 6f64         _plot_nod
-0000a690: 6573 2867 7265 7973 2c20 6e73 697a 652c  es(greys, nsize,
-0000a6a0: 2078 782c 2079 792c 2022 6772 6579 222c   xx, yy, "grey",
-0000a6b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000a6c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a6d0: 206e 626f 7264 6572 5f77 6964 7468 2c20   nborder_width, 
-0000a6e0: 6e62 6f72 6465 725f 636f 6c6f 722c 2061  nborder_color, a
-0000a6f0: 7869 732c 207a 6f72 6465 723d 3329 0a0a  xis, zorder=3)..
+00007e30: 2020 2061 7869 732e 6472 6177 5f61 7274     axis.draw_art
+00007e40: 6973 7428 616e 6e6f 7429 0a20 2020 2020  ist(annot).     
+00007e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007e60: 2020 2066 6967 2e63 616e 7661 732e 626c     fig.canvas.bl
+00007e70: 6974 2866 6967 2e62 626f 7829 0a20 2020  it(fig.bbox).   
+00007e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007e90: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00007ea0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00007eb0: 6620 7669 733a 0a20 2020 2020 2020 2020  f vis:.         
+00007ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007ed0: 2020 2061 6e6e 6f74 2e73 6574 5f76 6973     annot.set_vis
+00007ee0: 6962 6c65 2846 616c 7365 290a 2020 2020  ible(False).    
+00007ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007f00: 2020 2020 2020 2020 6669 672e 6361 6e76          fig.canv
+00007f10: 6173 2e72 6573 746f 7265 5f72 6567 696f  as.restore_regio
+00007f20: 6e28 686f 7665 722e 6267 290a 2020 2020  n(hover.bg).    
+00007f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007f40: 2020 2020 2020 2020 6669 672e 6361 6e76          fig.canv
+00007f50: 6173 2e62 6c69 7428 6669 672e 6262 6f78  as.blit(fig.bbox
+00007f60: 290a 0a20 2020 2020 2020 2020 2020 2020  )..             
+00007f70: 2020 2066 6967 2e63 616e 7661 732e 666c     fig.canvas.fl
+00007f80: 7573 685f 6576 656e 7473 2829 0a0a 2020  ush_events()..  
+00007f90: 2020 2020 2020 686f 7665 722e 6267 203d        hover.bg =
+00007fa0: 204e 6f6e 650a 0a20 2020 2020 2020 2066   None..        f
+00007fb0: 6967 2e63 616e 7661 732e 6d70 6c5f 636f  ig.canvas.mpl_co
+00007fc0: 6e6e 6563 7428 226d 6f74 696f 6e5f 6e6f  nnect("motion_no
+00007fd0: 7469 6679 5f65 7665 6e74 222c 2068 6f76  tify_event", hov
+00007fe0: 6572 290a 0a20 2020 2069 6620 7368 6f77  er)..    if show
+00007ff0: 3a0a 2020 2020 2020 2020 706c 742e 7368  :.        plt.sh
+00008000: 6f77 2829 0a0a 0a64 6566 2068 6976 655f  ow()...def hive_
+00008010: 706c 6f74 286e 6574 776f 726b 2c20 7261  plot(network, ra
+00008020: 6469 616c 2c20 6178 6573 3d4e 6f6e 652c  dial, axes=None,
+00008030: 2061 7865 735f 6269 6e73 3d4e 6f6e 652c   axes_bins=None,
+00008040: 2061 7865 735f 7261 6e67 653d 4e6f 6e65   axes_range=None
+00008050: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00008060: 6178 6573 5f61 6e67 6c65 733d 4e6f 6e65  axes_angles=None
+00008070: 2c20 6178 6573 5f6c 6162 656c 733d 4e6f  , axes_labels=No
+00008080: 6e65 2c20 6178 6573 5f75 6e69 7473 3d4e  ne, axes_units=N
+00008090: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+000080a0: 2020 2069 6e74 7261 5f63 6f6e 6e65 6374     intra_connect
+000080b0: 696f 6e73 3d54 7275 652c 2068 6967 686c  ions=True, highl
+000080c0: 6967 6874 5f6e 6f64 6573 3d4e 6f6e 652c  ight_nodes=None,
+000080d0: 0a20 2020 2020 2020 2020 2020 2020 2068  .              h
+000080e0: 6967 686c 6967 6874 5f65 6467 6573 3d4e  ighlight_edges=N
+000080f0: 6f6e 652c 206e 7369 7a65 3d4e 6f6e 652c  one, nsize=None,
+00008100: 2065 7369 7a65 3d4e 6f6e 652c 206d 6178   esize=None, max
+00008110: 5f6e 7369 7a65 3d31 302c 0a20 2020 2020  _nsize=10,.     
+00008120: 2020 2020 2020 2020 206d 6178 5f65 7369           max_esi
+00008130: 7a65 3d31 2c20 6178 6573 5f63 6f6c 6f72  ze=1, axes_color
+00008140: 733d 4e6f 6e65 2c20 6564 6765 5f63 6f6c  s=None, edge_col
+00008150: 6f72 733d 4e6f 6e65 2c20 6564 6765 5f61  ors=None, edge_a
+00008160: 6c70 6861 3d30 2e30 352c 0a20 2020 2020  lpha=0.05,.     
+00008170: 2020 2020 2020 2020 206e 626f 7264 6572           nborder
+00008180: 5f63 6f6c 6f72 3d22 6b22 2c20 6e62 6f72  _color="k", nbor
+00008190: 6465 725f 7769 6474 683d 302e 322c 2073  der_width=0.2, s
+000081a0: 686f 775f 6e61 6d65 733d 5472 7565 2c0a  how_names=True,.
+000081b0: 2020 2020 2020 2020 2020 2020 2020 7368                sh
+000081c0: 6f77 5f63 6972 636c 6573 3d46 616c 7365  ow_circles=False
+000081d0: 2c20 6178 6973 3d4e 6f6e 652c 2074 6967  , axis=None, tig
+000081e0: 6874 3d54 7275 652c 2073 686f 773d 4661  ht=True, show=Fa
+000081f0: 6c73 6529 3a0a 2020 2020 2727 270a 2020  lse):.    '''.  
+00008200: 2020 4472 6177 2061 2068 6976 6520 706c    Draw a hive pl
+00008210: 6f74 206f 6620 7468 6520 6772 6170 682e  ot of the graph.
+00008220: 0a0a 2020 2020 4e6f 7465 0a20 2020 202d  ..    Note.    -
+00008230: 2d2d 2d0a 2020 2020 466f 7220 6469 7265  ---.    For dire
+00008240: 6374 6564 206e 6574 776f 726b 732c 2074  cted networks, t
+00008250: 6865 2064 6972 6563 7469 6f6e 206f 6620  he direction of 
+00008260: 696e 7472 612d 6178 6973 2063 6f6e 6e65  intra-axis conne
+00008270: 6374 696f 6e73 2069 730a 2020 2020 636f  ctions is.    co
+00008280: 756e 7465 722d 636c 6f63 6b77 6973 652e  unter-clockwise.
+00008290: 0a20 2020 2046 6f72 2069 6e74 6572 2d61  .    For inter-a
+000082a0: 7865 7320 636f 6e6e 6563 7469 6f6e 732c  xes connections,
+000082b0: 2074 6865 2064 6566 6175 6c74 2065 6467   the default edg
+000082c0: 6520 636f 6c6f 7220 6973 2063 6c6f 7365  e color is close
+000082d0: 7374 2074 6f20 7468 6520 636f 6c6f 720a  st to the color.
+000082e0: 2020 2020 6f66 2074 6865 2073 6f75 7263      of the sourc
+000082f0: 6520 6772 6f75 7020 2869 2e65 2e20 6672  e group (i.e. fr
+00008300: 6f6d 2061 2072 6564 2067 726f 7570 2074  om a red group t
+00008310: 6f20 6120 626c 7565 2067 726f 7570 2c20  o a blue group, 
+00008320: 6564 6765 2063 6f6c 6f72 2077 696c 6c0a  edge color will.
+00008330: 2020 2020 6265 2061 2072 6564 6469 7368      be a reddish
+00008340: 2076 696f 6c65 7420 2c20 7768 696c 6520   violet , while 
+00008350: 6672 6f6d 2062 6c75 6520 746f 2072 6564  from blue to red
+00008360: 2c20 6974 2077 696c 6c20 6265 2061 2062  , it will be a b
+00008370: 6c75 6569 7368 2076 696f 6c65 7429 2e0a  lueish violet)..
+00008380: 0a20 2020 2050 6172 616d 6574 6572 730a  .    Parameters.
+00008390: 2020 2020 2d2d 2d2d 2d2d 2d2d 2d2d 0a20      ----------. 
+000083a0: 2020 206e 6574 776f 726b 203a 203a 636c     network : :cl
+000083b0: 6173 733a 607e 6e6e 6774 2e47 7261 7068  ass:`~nngt.Graph
+000083c0: 600a 2020 2020 2020 2020 4772 6170 6820  `.        Graph 
+000083d0: 746f 2070 6c6f 742e 0a20 2020 2072 6164  to plot..    rad
+000083e0: 6961 6c20 3a20 7374 722c 206c 6973 7420  ial : str, list 
+000083f0: 6f66 2073 7472 206f 7220 6172 7261 792d  of str or array-
+00008400: 6c69 6b65 0a20 2020 2020 2020 2056 616c  like.        Val
+00008410: 7565 7320 7468 6174 2077 696c 6c20 6265  ues that will be
+00008420: 2075 7365 6420 746f 2070 6c61 6365 2074   used to place t
+00008430: 6865 206e 6f64 6573 206f 6e20 7468 6520  he nodes on the 
+00008440: 6178 6573 2e20 4569 7468 6572 206f 6e65  axes. Either one
+00008450: 0a20 2020 2020 2020 2069 6465 6e74 6963  .        identic
+00008460: 616c 2070 726f 7065 7274 7920 6973 2075  al property is u
+00008470: 7365 6420 666f 7220 616c 6c20 6178 6573  sed for all axes
+00008480: 2028 7472 6164 6974 696f 6e61 6c20 6869   (traditional hi
+00008490: 7665 2070 6c6f 7429 206f 720a 2020 2020  ve plot) or.    
+000084a0: 2020 2020 6f6e 6520 7261 6469 616c 2063      one radial c
+000084b0: 6f6f 7264 696e 6174 6520 7065 7220 6178  oordinate per ax
+000084c0: 6973 2069 7320 7573 6564 2028 6375 7374  is is used (cust
+000084d0: 6f6d 2068 6976 6520 706c 6f74 292e 0a20  om hive plot).. 
+000084e0: 2020 2020 2020 2049 6620 7261 6469 616c         If radial
+000084f0: 2069 7320 6120 7374 7269 6e67 206f 7220   is a string or 
+00008500: 6120 6c69 7374 206f 6620 7374 7269 6e67  a list of string
+00008510: 732c 2074 6865 6e20 7468 6573 6520 6d75  s, then these mu
+00008520: 7374 2063 6f72 7265 7370 6f6e 640a 2020  st correspond.  
+00008530: 2020 2020 2020 746f 2074 6865 206e 616d        to the nam
+00008540: 6573 206f 6620 6e6f 6465 2061 7474 7269  es of node attri
+00008550: 6275 7465 7320 7374 6f72 6564 2069 6e20  butes stored in 
+00008560: 7468 6520 6772 6170 682e 0a20 2020 2061  the graph..    a
+00008570: 7865 7320 3a20 7374 722c 206f 7220 6c69  xes : str, or li
+00008580: 7374 206f 6620 7374 722c 206f 7074 696f  st of str, optio
+00008590: 6e61 6c20 2864 6566 6175 6c74 3a20 6f6e  nal (default: on
+000085a0: 6520 7065 7220 7261 6469 616c 2063 6f6f  e per radial coo
+000085b0: 7264 696e 6174 6529 0a20 2020 2020 2020  rdinate).       
+000085c0: 204e 616d 6520 6f66 2074 6865 2061 7474   Name of the att
+000085d0: 7269 6275 7465 2873 2920 7468 6174 2077  ribute(s) that w
+000085e0: 696c 6c20 6265 2075 7365 6420 746f 206d  ill be used to m
+000085f0: 616b 6520 6561 6368 206f 6620 7468 6520  ake each of the 
+00008600: 6178 6573 0a20 2020 2020 2020 2028 692e  axes.        (i.
+00008610: 652e 2065 6163 6820 6772 6f75 7020 6f66  e. each group of
+00008620: 206e 6f64 6573 292e 0a20 2020 2020 2020   nodes)..       
+00008630: 2054 6869 7320 6361 6e20 6265 2065 6974   This can be eit
+00008640: 6865 7220 2267 726f 7570 7322 2069 6620  her "groups" if 
+00008650: 7468 6520 6772 6170 6820 6861 7320 6120  the graph has a 
+00008660: 7374 7275 6374 7572 6520 6f72 2069 7320  structure or is 
+00008670: 610a 2020 2020 2020 2020 3a63 6c61 7373  a.        :class
+00008680: 3a60 7e6e 6e67 742e 4e65 7477 6f72 6b60  :`~nngt.Network`
+00008690: 2c20 6120 6c69 7374 206f 6620 284d 6574  , a list of (Met
+000086a0: 6129 4772 6f75 7020 6e61 6d65 732c 206f  a)Group names, o
+000086b0: 7220 616e 7920 286c 6973 7420 6f66 290a  r any (list of).
+000086c0: 2020 2020 2020 2020 6e6f 6465 2061 7474          node att
+000086d0: 7269 6275 7465 2873 292e 0a20 2020 2020  ribute(s)..     
+000086e0: 2020 2049 6620 6120 7369 6e67 6c65 206e     If a single n
+000086f0: 6f64 6520 6174 7472 6962 7574 6520 6973  ode attribute is
+00008700: 2075 7365 642c 2060 6178 6573 5f62 696e   used, `axes_bin
+00008710: 7360 206d 7573 7420 6265 2070 726f 7669  s` must be provi
+00008720: 6465 6420 746f 0a20 2020 2020 2020 206d  ded to.        m
+00008730: 616b 6520 6f6e 6520 6178 6973 2066 6f72  ake one axis for
+00008740: 2065 6163 6820 7261 6e67 6520 6f66 2076   each range of v
+00008750: 616c 7565 732e 0a20 2020 2020 2020 2049  alues..        I
+00008760: 6620 7468 6572 6520 6172 6520 6d75 6c74  f there are mult
+00008770: 6970 6c65 2072 6164 6961 6c20 636f 6f72  iple radial coor
+00008780: 6469 6e61 7465 732c 2074 6865 6e20 6c65  dinates, then le
+00008790: 6176 696e 6720 6061 7865 7360 2062 6c61  aving `axes` bla
+000087a0: 6e63 6b0a 2020 2020 2020 2020 7769 6c6c  nck.        will
+000087b0: 2070 6c6f 7420 616c 6c20 6e6f 6465 7320   plot all nodes 
+000087c0: 6f6e 2065 6163 6820 6f66 2074 6865 2061  on each of the a
+000087d0: 7865 7320 286f 6e65 2070 6572 2072 6164  xes (one per rad
+000087e0: 6961 6c20 636f 6f72 6469 6e61 7465 292e  ial coordinate).
+000087f0: 0a20 2020 2061 7865 735f 6269 6e73 203a  .    axes_bins :
+00008800: 2069 6e74 206f 7220 6172 7261 792d 6c69   int or array-li
+00008810: 6b65 2c20 6f70 7469 6f6e 616c 2028 6465  ke, optional (de
+00008820: 6661 756c 743a 2061 6c6c 206e 6f64 6573  fault: all nodes
+00008830: 206f 6e20 6561 6368 2061 7869 7329 0a20   on each axis). 
+00008840: 2020 2020 2020 2052 6571 7569 7265 6420         Required 
+00008850: 6966 2074 6865 7265 2069 7320 6120 7369  if there is a si
+00008860: 6e67 6c65 2072 6164 6961 6c20 636f 6f72  ngle radial coor
+00008870: 6469 6e61 7465 2061 6e64 2061 2073 696e  dinate and a sin
+00008880: 676c 6520 6178 6973 0a20 2020 2020 2020  gle axis.       
+00008890: 2065 6e74 7279 3a20 7072 6f76 6964 6573   entry: provides
+000088a0: 2074 6865 2062 696e 7320 7468 6174 2077   the bins that w
+000088b0: 696c 6c20 6265 2075 7365 6420 746f 2073  ill be used to s
+000088c0: 6570 6172 6174 6520 7468 6520 6e6f 6465  eparate the node
+000088d0: 730a 2020 2020 2020 2020 696e 746f 2067  s.        into g
+000088e0: 726f 7570 7320 286f 6e65 2070 6572 2061  roups (one per a
+000088f0: 7869 7329 2e20 466f 7220 4e20 6178 6573  xis). For N axes
+00008900: 2c20 7468 6572 6520 6d75 7374 2074 6865  , there must the
+00008910: 7265 666f 7265 2062 6520 4e20 2b20 310a  refore be N + 1.
+00008920: 2020 2020 2020 2020 656e 7472 6965 7320          entries 
+00008930: 696e 2060 6178 6573 5f62 696e 7360 2c20  in `axes_bins`, 
+00008940: 6f72 2060 6178 6973 5f62 696e 7360 206d  or `axis_bins` m
+00008950: 7573 7420 6265 2065 7175 616c 2074 6f20  ust be equal to 
+00008960: 4e2c 2069 6e20 7768 6963 680a 2020 2020  N, in which.    
+00008970: 2020 2020 6361 7365 2074 6865 206e 6f64      case the nod
+00008980: 6573 2061 7265 2073 6570 6172 6174 6564  es are separated
+00008990: 2069 6e74 6f20 4e20 6576 656e 6c79 2073   into N evenly s
+000089a0: 697a 6564 2062 696e 732e 0a20 2020 2061  ized bins..    a
+000089b0: 7865 735f 756e 6974 7320 3a20 7374 722c  xes_units : str,
+000089c0: 206f 7074 696f 6e61 6c0a 2020 2020 2020   optional.      
+000089d0: 2020 556e 6974 7320 7573 6564 2074 6f20    Units used to 
+000089e0: 7363 616c 6520 7468 6520 6178 6573 2e20  scale the axes. 
+000089f0: 4569 7468 6572 2022 6e61 7469 7665 2220  Either "native" 
+00008a00: 746f 2068 6176 6520 7468 656d 2073 6361  to have them sca
+00008a10: 6c65 640a 2020 2020 2020 2020 6265 7477  led.        betw
+00008a20: 6565 6e20 7468 6520 6d69 6e69 6d61 6c20  een the minimal 
+00008a30: 616e 6420 6d61 7869 6d61 6c20 7261 6469  and maximal radi
+00008a40: 616c 2063 6f6f 7264 696e 6174 6573 2061  al coordinates a
+00008a50: 6d6f 6e67 2061 6c6c 2061 7865 732c 0a20  mong all axes,. 
+00008a60: 2020 2020 2020 2022 7261 6e6b 222c 2074         "rank", t
+00008a70: 6f20 7573 6520 7468 6520 6d69 6e20 616e  o use the min an
+00008a80: 6420 6d61 7820 7261 6e6b 7320 6f66 2074  d max ranks of t
+00008a90: 6865 206e 6f64 6573 206f 6e20 616c 6c20  he nodes on all 
+00008aa0: 6178 6573 2c20 6f72 0a20 2020 2020 2020  axes, or.       
+00008ab0: 2022 6e6f 726d 6564 222c 2074 6f20 6861   "normed", to ha
+00008ac0: 7665 2065 6163 6820 6178 6973 2067 6f20  ve each axis go 
+00008ad0: 6672 6f6d 207a 6572 6f20 286d 696e 696d  from zero (minim
+00008ae0: 616c 206c 6f63 616c 2072 6164 6961 6c0a  al local radial.
+00008af0: 2020 2020 2020 2020 636f 6f72 6469 6e61          coordina
+00008b00: 7465 2920 746f 206f 6e65 2028 6d61 7869  te) to one (maxi
+00008b10: 6d61 6c20 6c6f 6361 6c20 7261 6469 616c  mal local radial
+00008b20: 2063 6f6f 7264 696e 6174 6529 2e0a 2020   coordinate)..  
+00008b30: 2020 2020 2020 226e 6174 6976 6522 2069        "native" i
+00008b40: 7320 7468 6520 6465 6661 756c 7420 6966  s the default if
+00008b50: 2074 6865 7265 2069 7320 6120 7369 6e67   there is a sing
+00008b60: 6c65 2072 6164 6961 6c20 636f 6f72 6469  le radial coordi
+00008b70: 6e61 7465 2c0a 2020 2020 2020 2020 226e  nate,.        "n
+00008b80: 6f72 6d65 6422 2069 7320 7468 6520 6465  ormed" is the de
+00008b90: 6661 756c 7420 666f 7220 6d75 6c74 6970  fault for multip
+00008ba0: 6c65 2063 6f6f 7264 696e 6174 6573 2e0a  le coordinates..
+00008bb0: 2020 2020 6178 6573 5f61 6e67 6c65 7320      axes_angles 
+00008bc0: 3a20 6c69 7374 206f 6620 616e 676c 6573  : list of angles
+00008bd0: 2c20 6f70 7469 6f6e 616c 2028 6465 6661  , optional (defa
+00008be0: 756c 743a 2061 7574 6f6d 6174 6963 290a  ult: automatic).
+00008bf0: 2020 2020 2020 2020 416e 676c 6573 2066          Angles f
+00008c00: 6f72 2065 6163 6820 6f66 2074 6865 2061  or each of the a
+00008c10: 7865 732c 2062 7920 696e 6372 6561 7369  xes, by increasi
+00008c20: 6e67 2064 6567 7265 652e 2049 660a 2020  ng degree. If.  
+00008c30: 2020 2020 2020 6069 6e74 7261 5f63 6f6e        `intra_con
+00008c40: 6e65 6374 696f 6e73 6020 6973 2054 7275  nections` is Tru
+00008c50: 652c 2074 6865 6e20 616e 676c 6573 206f  e, then angles o
+00008c60: 6620 6475 706c 6963 6174 6520 6178 6573  f duplicate axes
+00008c70: 206d 7573 7420 6265 0a20 2020 2020 2020   must be.       
+00008c80: 2061 646a 6163 656e 742c 2065 2e67 2e20   adjacent, e.g. 
+00008c90: 6060 5b61 312c 2061 3162 6973 2c20 6132  ``[a1, a1bis, a2
+00008ca0: 2c20 6132 6269 732c 2061 332c 2061 3362  , a2bis, a3, a3b
+00008cb0: 6973 5d60 602e 0a20 2020 2061 7865 735f  is]``..    axes_
+00008cc0: 6c61 6265 6c73 203a 2073 7472 206f 7220  labels : str or 
+00008cd0: 6c69 7374 206f 6620 7374 722c 206f 7074  list of str, opt
+00008ce0: 696f 6e61 6c0a 2020 2020 2020 2020 4c61  ional.        La
+00008cf0: 6265 6c20 6f66 2065 6163 6820 6178 6973  bel of each axis
+00008d00: 2e20 466f 7220 6269 6e6e 6564 2061 7865  . For binned axe
+00008d10: 732c 2069 7420 6361 6e20 6265 2061 7574  s, it can be aut
+00008d20: 6f6d 6174 6963 616c 6c79 2066 6f72 6d61  omatically forma
+00008d30: 7474 6564 0a20 2020 2020 2020 2076 6961  tted.        via
+00008d40: 2074 6865 2074 6872 6565 2065 6e74 7269   the three entri
+00008d50: 6573 2060 607b 6e61 6d65 7d60 602c 2060  es ``{name}``, `
+00008d60: 607b 7374 6172 747d 6060 2c20 6060 7b73  `{start}``, ``{s
+00008d70: 746f 707d 6060 2e0a 2020 2020 2020 2020  top}``..        
+00008d80: 452e 672e 2022 7b6e 616d 657d 2069 6e20  E.g. "{name} in 
+00008d90: 5b7b 7374 6172 747d 2c20 7b73 746f 707d  [{start}, {stop}
+00008da0: 5d22 2077 6f75 6c64 2067 6976 6520 2243  ]" would give "C
+00008db0: 4320 696e 205b 302c 2030 2e32 5d22 2066  C in [0, 0.2]" f
+00008dc0: 6f72 0a20 2020 2020 2020 2061 2066 6972  or.        a fir
+00008dd0: 7374 2061 7869 7320 616e 6420 2243 4320  st axis and "CC 
+00008de0: 696e 205b 302e 322c 2030 2e34 5d22 2066  in [0.2, 0.4]" f
+00008df0: 6f72 2061 2073 6563 6f6e 6420 6178 6973  or a second axis
+00008e00: 2e0a 2020 2020 696e 7472 615f 636f 6e6e  ..    intra_conn
+00008e10: 6563 7469 6f6e 7320 3a20 626f 6f6c 2c20  ections : bool, 
+00008e20: 6f70 7469 6f6e 616c 2028 6465 6661 756c  optional (defaul
+00008e30: 743a 2054 7275 6529 0a20 2020 2020 2020  t: True).       
+00008e40: 2053 686f 7720 636f 6e6e 6563 7469 6f6e   Show connection
+00008e50: 7320 6265 7477 6565 6e20 6e6f 6465 7320  s between nodes 
+00008e60: 6265 6c6f 6e67 696e 6720 746f 2074 6865  belonging to the
+00008e70: 2073 616d 6520 6178 6973 2e20 4966 2074   same axis. If t
+00008e80: 7275 652c 0a20 2020 2020 2020 2074 6865  rue,.        the
+00008e90: 6e20 6561 6368 2061 7869 7320 6973 2064  n each axis is d
+00008ea0: 7570 6c69 6361 7465 6420 746f 2064 6973  uplicated to dis
+00008eb0: 706c 6179 2069 6e74 7261 2d61 7869 7320  play intra-axis 
+00008ec0: 636f 6e6e 6563 7469 6f6e 732e 0a20 2020  connections..   
+00008ed0: 2068 6967 686c 6967 6874 5f6e 6f64 6573   highlight_nodes
+00008ee0: 203a 206c 6973 7420 6f66 206e 6f64 6573   : list of nodes
+00008ef0: 2c20 6f70 7469 6f6e 616c 2028 6465 6661  , optional (defa
+00008f00: 756c 743a 2061 6c6c 206e 6f64 6573 290a  ult: all nodes).
+00008f10: 2020 2020 2020 2020 4869 6768 6c69 6768          Highligh
+00008f20: 7420 6120 7375 6273 6574 206f 6620 6e6f  t a subset of no
+00008f30: 6465 7320 616e 6420 7468 6569 7220 636f  des and their co
+00008f40: 6e6e 6563 7469 6f6e 732c 2061 6c6c 206f  nnections, all o
+00008f50: 7468 6572 206e 6f64 6573 0a20 2020 2020  ther nodes.     
+00008f60: 2020 2061 6e64 2063 6f6e 6e65 6374 696f     and connectio
+00008f70: 6e73 2077 696c 6c20 6265 2067 7261 792e  ns will be gray.
+00008f80: 0a20 2020 2068 6967 686c 6967 6874 5f65  .    highlight_e
+00008f90: 6467 6573 203a 206c 6973 7420 6f66 2065  dges : list of e
+00008fa0: 6467 6573 2c20 6f70 7469 6f6e 616c 2028  dges, optional (
+00008fb0: 6465 6661 756c 743a 2061 6c6c 2065 6467  default: all edg
+00008fc0: 6573 290a 2020 2020 2020 2020 4869 6768  es).        High
+00008fd0: 6c69 6768 7420 6120 7375 6273 6574 206f  light a subset o
+00008fe0: 6620 6564 6765 733b 2061 6c6c 206f 7468  f edges; all oth
+00008ff0: 6572 2063 6f6e 6e65 6374 696f 6e73 2077  er connections w
+00009000: 696c 6c20 6265 2067 7261 792e 0a20 2020  ill be gray..   
+00009010: 206e 7369 7a65 203a 2066 6c6f 6174 2c20   nsize : float, 
+00009020: 7374 722c 206f 7220 6172 7261 792d 6c69  str, or array-li
+00009030: 6b65 2c20 6f70 7469 6f6e 616c 2028 6465  ke, optional (de
+00009040: 6661 756c 743a 2061 7574 6f6d 6174 6963  fault: automatic
+00009050: 290a 2020 2020 2020 2020 5369 7a65 206f  ).        Size o
+00009060: 6620 7468 6520 6e6f 6465 7320 6f6e 2074  f the nodes on t
+00009070: 6865 2061 7865 732e 2045 6974 6865 7220  he axes. Either 
+00009080: 6120 6669 7865 6420 7369 7a65 2c20 7468  a fixed size, th
+00009090: 6520 6e61 6d65 206f 6620 610a 2020 2020  e name of a.    
+000090a0: 2020 2020 6e6f 6465 2061 7474 7269 6275      node attribu
+000090b0: 7465 2c20 6f72 2061 206c 6973 7420 6f66  te, or a list of
+000090c0: 2075 7365 722d 6465 6669 6e65 6420 7661   user-defined va
+000090d0: 6c75 6573 2e0a 2020 2020 6573 697a 6520  lues..    esize 
+000090e0: 3a20 666c 6f61 7420 6f72 2073 7472 2c20  : float or str, 
+000090f0: 6f70 7469 6f6e 616c 2028 6465 6661 756c  optional (defaul
+00009100: 743a 2031 290a 2020 2020 2020 2020 5369  t: 1).        Si
+00009110: 7a65 206f 6620 7468 6520 6564 6765 732e  ze of the edges.
+00009120: 2045 6974 6865 7220 6120 6669 7865 6420   Either a fixed 
+00009130: 7369 7a65 206f 7220 7468 6520 6e61 6d65  size or the name
+00009140: 206f 6620 616e 2065 6467 650a 2020 2020   of an edge.    
+00009150: 2020 2020 6174 7472 6962 7574 652e 0a20      attribute.. 
+00009160: 2020 206d 6178 5f6e 7369 7a65 203a 2066     max_nsize : f
+00009170: 6c6f 6174 2c20 6f70 7469 6f6e 616c 2028  loat, optional (
+00009180: 6465 6661 756c 743a 2031 3029 0a20 2020  default: 10).   
+00009190: 2020 2020 204d 6178 696d 756d 206e 6f64       Maximum nod
+000091a0: 6520 7369 7a65 2069 6620 606e 7369 7a65  e size if `nsize
+000091b0: 6020 6973 2061 6e20 6174 7472 6962 7574  ` is an attribut
+000091c0: 6520 6f72 2061 206c 6973 7420 6f66 0a20  e or a list of. 
+000091d0: 2020 2020 2020 2075 7365 722d 6465 6669         user-defi
+000091e0: 6e65 6420 7661 6c75 6573 2e0a 2020 2020  ned values..    
+000091f0: 6d61 785f 6573 697a 6520 3a20 666c 6f61  max_esize : floa
+00009200: 742c 206f 7074 696f 6e61 6c20 2864 6566  t, optional (def
+00009210: 6175 6c74 3a20 3129 0a20 2020 2020 2020  ault: 1).       
+00009220: 204d 6178 696d 756d 2065 6467 6520 7369   Maximum edge si
+00009230: 7a65 2069 6620 6065 7369 7a65 6020 6973  ze if `esize` is
+00009240: 2061 6e20 6174 7472 6962 7574 652e 0a20   an attribute.. 
+00009250: 2020 2061 7865 735f 636f 6c6f 7273 203a     axes_colors :
+00009260: 2076 616c 6964 206d 6174 706c 6f74 6c69   valid matplotli
+00009270: 6220 636f 6c6f 722f 636f 6c6f 726d 6170  b color/colormap
+00009280: 2c20 6f70 7469 6f6e 616c 2028 6465 6661  , optional (defa
+00009290: 756c 743a 2053 6574 3129 0a20 2020 2020  ult: Set1).     
+000092a0: 2020 2043 6f6c 6f72 2061 7373 6f63 6961     Color associa
+000092b0: 7465 6420 746f 2065 6163 6820 6178 6973  ted to each axis
+000092c0: 2e0a 2020 2020 6e62 6f72 6465 725f 636f  ..    nborder_co
+000092d0: 6c6f 7220 3a20 6d61 7470 6c6f 746c 6962  lor : matplotlib
+000092e0: 2063 6f6c 6f72 2c20 6f70 7469 6f6e 616c   color, optional
+000092f0: 2028 6465 6661 756c 743a 2022 6b22 290a   (default: "k").
+00009300: 2020 2020 2020 2020 436f 6c6f 7220 6f66          Color of
+00009310: 2074 6865 206e 6f64 6527 7320 626f 7264   the node's bord
+00009320: 6572 2e0a 2020 2020 2020 2020 6f72 2066  er..        or f
+00009330: 6c6f 6174 7320 696e 205b 302c 2031 5d20  loats in [0, 1] 
+00009340: 6465 6669 6e69 6e67 2074 6865 2070 6f73  defining the pos
+00009350: 6974 696f 6e20 696e 2074 6865 2070 616c  ition in the pal
+00009360: 6574 7465 2e0a 2020 2020 6e62 6f72 6465  ette..    nborde
+00009370: 725f 7769 6474 6820 3a20 666c 6f61 742c  r_width : float,
+00009380: 206f 7074 696f 6e61 6c20 2864 6566 6175   optional (defau
+00009390: 6c74 3a20 302e 3229 0a20 2020 2020 2020  lt: 0.2).       
+000093a0: 2057 6964 7468 206f 6620 7468 6520 626f   Width of the bo
+000093b0: 7264 6572 2e0a 2020 2020 6564 6765 5f63  rder..    edge_c
+000093c0: 6f6c 6f72 7320 3a20 7661 6c69 6420 6d61  olors : valid ma
+000093d0: 7470 6c6f 746c 6962 2063 6f6c 6f72 2f63  tplotlib color/c
+000093e0: 6f6c 6f72 6d61 702c 206f 7074 696f 6e61  olormap, optiona
+000093f0: 6c20 2864 6566 6175 6c74 3a20 6175 746f  l (default: auto
+00009400: 290a 2020 2020 2020 2020 436f 6c6f 7220  ).        Color 
+00009410: 6f66 2074 6865 2065 6467 6573 2e20 4279  of the edges. By
+00009420: 2064 6566 6175 6c74 2069 7420 6973 2074   default it is t
+00009430: 6865 2069 6e74 6572 6d65 6469 6174 6520  he intermediate 
+00009440: 636f 6c6f 7220 6265 7477 6565 6e0a 2020  color between.  
+00009450: 2020 2020 2020 7477 6f20 6178 6573 2063        two axes c
+00009460: 6f6c 6f72 732e 2054 6f20 7072 6f76 6964  olors. To provid
+00009470: 6520 6375 7374 6f6d 2063 6f6c 6f72 732c  e custom colors,
+00009480: 2074 6865 7920 6d75 7374 2062 6520 7072   they must be pr
+00009490: 6f76 6964 6564 2061 730a 2020 2020 2020  ovided as.      
+000094a0: 2020 6120 6469 6374 696f 6e6e 6172 7920    a dictionnary 
+000094b0: 6f66 2061 7865 7320 6564 6765 7320 6060  of axes edges ``
+000094c0: 7b28 302c 2030 293a 2022 7222 2c20 2830  {(0, 0): "r", (0
+000094d0: 2c20 3129 3a20 2267 222c 2028 312c 2030  , 1): "g", (1, 0
+000094e0: 293a 2022 6222 7d60 600a 2020 2020 2020  ): "b"}``.      
+000094f0: 2020 7769 7468 2064 6566 6175 6c74 2063    with default c
+00009500: 6f6c 6f72 2062 6569 6e67 2062 6c61 636b  olor being black
+00009510: 2e0a 2020 2020 6564 6765 5f61 6c70 6861  ..    edge_alpha
+00009520: 203a 2066 6c6f 6174 2c20 6f70 7469 6f6e   : float, option
+00009530: 616c 2028 6465 6661 756c 743a 2030 2e30  al (default: 0.0
+00009540: 3529 0a20 2020 2020 2020 2045 6467 6520  5).        Edge 
+00009550: 6f70 6163 6974 792e 0a20 2020 2073 686f  opacity..    sho
+00009560: 775f 6e61 6d65 7320 3a20 626f 6f6c 2c20  w_names : bool, 
+00009570: 6f70 7469 6f6e 616c 2028 6465 6661 756c  optional (defaul
+00009580: 743a 2054 7275 6529 0a20 2020 2020 2020  t: True).       
+00009590: 2053 686f 7720 6178 6573 206e 616d 6573   Show axes names
+000095a0: 2061 6e64 2070 726f 7065 7274 6965 732e   and properties.
+000095b0: 0a20 2020 2073 686f 775f 6369 7263 6c65  .    show_circle
+000095c0: 7320 3a20 626f 6f6c 2c20 6f70 7469 6f6e  s : bool, option
+000095d0: 616c 2028 6465 6661 756c 743a 2046 616c  al (default: Fal
+000095e0: 7365 290a 2020 2020 2020 2020 5368 6f77  se).        Show
+000095f0: 2074 6865 2063 6972 636c 6573 2061 7373   the circles ass
+00009600: 6f63 6961 7465 6420 746f 2074 6865 206d  ociated to the m
+00009610: 6178 696d 756d 2076 616c 7565 206f 6620  aximum value of 
+00009620: 6561 6368 2061 7869 732e 0a20 2020 2061  each axis..    a
+00009630: 7869 7320 3a20 6d61 7470 6c6f 746c 6962  xis : matplotlib
+00009640: 2061 7869 732c 206f 7074 696f 6e61 6c20   axis, optional 
+00009650: 2864 6566 6175 6c74 3a20 6372 6561 7465  (default: create
+00009660: 206e 6577 2061 7869 7329 0a20 2020 2020   new axis).     
+00009670: 2020 2041 7869 7320 6f6e 2077 6869 6368     Axis on which
+00009680: 2074 6865 206e 6574 776f 726b 2077 696c   the network wil
+00009690: 6c20 6265 2070 6c6f 7474 6564 2e0a 2020  l be plotted..  
+000096a0: 2020 7469 6768 7420 3a20 626f 6f6c 2c20    tight : bool, 
+000096b0: 6f70 7469 6f6e 616c 2028 6465 6661 756c  optional (defaul
+000096c0: 743a 2054 7275 6529 0a20 2020 2020 2020  t: True).       
+000096d0: 2053 6574 2066 6967 7572 6520 6c61 796f   Set figure layo
+000096e0: 7574 2074 6f20 7469 6768 7420 2873 6574  ut to tight (set
+000096f0: 2074 6f20 4661 6c73 6520 6966 2070 6c6f   to False if plo
+00009700: 7474 696e 6720 6d75 6c74 6970 6c65 2061  tting multiple a
+00009710: 7865 7320 6f6e 0a20 2020 2020 2020 2061  xes on.        a
+00009720: 2073 696e 676c 6520 6669 6775 7265 292e   single figure).
+00009730: 0a20 2020 2073 686f 7720 3a20 626f 6f6c  .    show : bool
+00009740: 2c20 6f70 7469 6f6e 616c 2028 6465 6661  , optional (defa
+00009750: 756c 743a 2054 7275 6529 0a20 2020 2020  ult: True).     
+00009760: 2020 2044 6973 706c 6179 2074 6865 2070     Display the p
+00009770: 6c6f 7420 696d 6d65 6469 6174 656c 792e  lot immediately.
+00009780: 0a20 2020 2027 2727 0a20 2020 2069 6d70  .    '''.    imp
+00009790: 6f72 7420 6d61 7470 6c6f 746c 6962 2e70  ort matplotlib.p
+000097a0: 7970 6c6f 7420 6173 2070 6c74 0a0a 2020  yplot as plt..  
+000097b0: 2020 2320 6765 7420 6e75 6d65 7220 6f66    # get numer of
+000097c0: 2061 7865 7320 616e 6420 7261 6469 616c   axes and radial
+000097d0: 2063 6f6f 7264 696e 6174 6573 0a20 2020   coordinates.   
+000097e0: 206e 756d 5f61 7865 732c 206e 756d 5f72   num_axes, num_r
+000097f0: 6164 6961 6c20 3d20 5f67 6574 5f61 7865  adial = _get_axe
+00009800: 735f 7261 6469 616c 5f63 6f6f 7264 280a  s_radial_coord(.
+00009810: 2020 2020 2020 2020 7261 6469 616c 2c20          radial, 
+00009820: 6178 6573 2c20 6178 6573 5f62 696e 732c  axes, axes_bins,
+00009830: 206e 6574 776f 726b 290a 0a20 2020 2023   network)..    #
+00009840: 2067 6574 2061 7865 7320 6e61 6d65 732c   get axes names,
+00009850: 2061 7373 6f63 6961 7465 6420 6e6f 6465   associated node
+00009860: 732c 2061 6e64 2072 6164 6961 6c20 7661  s, and radial va
+00009870: 6c75 6573 0a20 2020 2061 785f 6e61 6d65  lues.    ax_name
+00009880: 732c 2061 785f 6e6f 6465 732c 2061 785f  s, ax_nodes, ax_
+00009890: 7261 6463 6f20 3d20 5f67 6574 5f61 7865  radco = _get_axe
+000098a0: 735f 6e6f 6465 7328 0a20 2020 2020 2020  s_nodes(.       
+000098b0: 206e 6574 776f 726b 2c20 7261 6469 616c   network, radial
+000098c0: 2c20 6178 6573 2c20 6178 6573 5f62 696e  , axes, axes_bin
+000098d0: 732c 206e 756d 5f61 7865 732c 206e 756d  s, num_axes, num
+000098e0: 5f72 6164 6961 6c29 0a0a 2020 2020 2320  _radial)..    # 
+000098f0: 6765 7420 6869 6768 6c69 6768 7465 6420  get highlighted 
+00009900: 6e6f 6465 7320 616e 6420 6564 6765 730a  nodes and edges.
+00009910: 2020 2020 6966 2068 6967 686c 6967 6874      if highlight
+00009920: 5f6e 6f64 6573 3a0a 2020 2020 2020 2020  _nodes:.        
+00009930: 6869 6768 6c69 6768 745f 6e6f 6465 7320  highlight_nodes 
+00009940: 3d20 7365 7428 6869 6768 6c69 6768 745f  = set(highlight_
+00009950: 6e6f 6465 7329 0a20 2020 2065 6c73 653a  nodes).    else:
+00009960: 0a20 2020 2020 2020 2068 6967 686c 6967  .        highlig
+00009970: 6874 5f6e 6f64 6573 3d20 7365 7428 290a  ht_nodes= set().
+00009980: 0a20 2020 2069 6620 6869 6768 6c69 6768  .    if highligh
+00009990: 745f 6564 6765 7320 6973 206e 6f74 204e  t_edges is not N
+000099a0: 6f6e 653a 0a20 2020 2020 2020 2068 6967  one:.        hig
+000099b0: 686c 6967 6874 5f65 6467 6573 203d 207b  hlight_edges = {
+000099c0: 7475 706c 6528 6529 2066 6f72 2065 2069  tuple(e) for e i
+000099d0: 6e20 6869 6768 6c69 6768 745f 6564 6765  n highlight_edge
+000099e0: 737d 0a0a 2020 2020 2320 6765 7420 756e  s}..    # get un
+000099f0: 6974 732c 206d 6178 696d 756d 2076 616c  its, maximum val
+00009a00: 7565 7320 666f 7220 7468 6520 6178 6573  ues for the axes
+00009a10: 2c20 7265 6e6f 726d 616c 697a 6520 7261  , renormalize ra
+00009a20: 6469 616c 2076 616c 7565 730a 2020 2020  dial values.    
+00009a30: 6966 2061 7865 735f 756e 6974 7320 6973  if axes_units is
+00009a40: 204e 6f6e 653a 0a20 2020 2020 2020 2061   None:.        a
+00009a50: 7865 735f 756e 6974 7320 3d20 226e 6f72  xes_units = "nor
+00009a60: 6d65 6422 2069 6620 6e75 6d5f 7261 6469  med" if num_radi
+00009a70: 616c 203e 2031 2065 6c73 6520 226e 6174  al > 1 else "nat
+00009a80: 6976 6522 0a0a 2020 2020 7261 6469 616c  ive"..    radial
+00009a90: 5f76 616c 7565 7320 3d20 5f67 6574 5f72  _values = _get_r
+00009aa0: 6164 6961 6c5f 7661 6c75 6573 2861 785f  adial_values(ax_
+00009ab0: 7261 6463 6f2c 2061 7865 735f 756e 6974  radco, axes_unit
+00009ac0: 732c 206e 6574 776f 726b 290a 0a20 2020  s, network)..   
+00009ad0: 2023 2063 6f6d 7075 7465 2074 6865 2061   # compute the a
+00009ae0: 6e67 6c65 730a 2020 2020 616e 676c 6573  ngles.    angles
+00009af0: 203d 204e 6f6e 650a 0a20 2020 2069 6620   = None..    if 
+00009b00: 6178 6573 5f61 6e67 6c65 7320 6973 204e  axes_angles is N
+00009b10: 6f6e 653a 0a20 2020 2020 2020 2064 7468  one:.        dth
+00009b20: 6574 6120 3d20 3220 2a20 6e70 2e70 6920  eta = 2 * np.pi 
+00009b30: 2f20 6e75 6d5f 6178 6573 0a0a 2020 2020  / num_axes..    
+00009b40: 2020 2020 6966 2069 6e74 7261 5f63 6f6e      if intra_con
+00009b50: 6e65 6374 696f 6e73 3a0a 2020 2020 2020  nections:.      
+00009b60: 2020 2020 2020 616e 676c 6573 203d 205b        angles = [
+00009b70: 5d0a 0a20 2020 2020 2020 2020 2020 2066  ]..            f
+00009b80: 6f72 2069 2069 6e20 7261 6e67 6528 6e75  or i in range(nu
+00009b90: 6d5f 6178 6573 293a 0a20 2020 2020 2020  m_axes):.       
+00009ba0: 2020 2020 2020 2020 2061 6e67 6c65 732e           angles.
+00009bb0: 6578 7465 6e64 2828 2869 202d 2030 2e31  extend(((i - 0.1
+00009bc0: 3235 292a 6474 6865 7461 2c20 2869 202b  25)*dtheta, (i +
+00009bd0: 2030 2e31 3235 292a 6474 6865 7461 2929   0.125)*dtheta))
+00009be0: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+00009bf0: 2020 2020 2020 2020 2020 2061 6e67 6c65             angle
+00009c00: 7320 3d20 5b69 2a64 7468 6574 6120 666f  s = [i*dtheta fo
+00009c10: 7220 6920 696e 2072 616e 6765 286e 756d  r i in range(num
+00009c20: 5f61 7865 7329 5d0a 2020 2020 656c 7365  _axes)].    else
+00009c30: 3a0a 2020 2020 2020 2020 616e 676c 6573  :.        angles
+00009c40: 203d 205b 612a 6e70 2e70 692f 3138 3020   = [a*np.pi/180 
+00009c50: 666f 7220 6120 696e 2061 785f 616e 676c  for a in ax_angl
+00009c60: 6573 5d0a 0a20 2020 2023 2072 656e 6f72  es]..    # renor
+00009c70: 6d61 6c69 7a65 2074 6865 2073 697a 6573  malize the sizes
+00009c80: 0a20 2020 206e 7369 7a65 203d 205f 6765  .    nsize = _ge
+00009c90: 745f 7369 7a65 286e 7369 7a65 2c20 6d61  t_size(nsize, ma
+00009ca0: 785f 6e73 697a 652c 2061 785f 6e6f 6465  x_nsize, ax_node
+00009cb0: 732c 206e 6574 776f 726b 290a 0a20 2020  s, network)..   
+00009cc0: 206e 6564 6765 7320 3d20 6e65 7477 6f72   nedges = networ
+00009cd0: 6b2e 6564 6765 5f6e 6228 290a 0a20 2020  k.edge_nb()..   
+00009ce0: 2065 7369 7a65 203d 206e 702e 6f6e 6573   esize = np.ones
+00009cf0: 286e 6564 6765 7329 2069 6620 6573 697a  (nedges) if esiz
+00009d00: 6520 6973 204e 6f6e 6520 656c 7365 206e  e is None else n
+00009d10: 6574 776f 726b 2e65 6467 655f 6174 7472  etwork.edge_attr
+00009d20: 6962 7574 6573 5b65 7369 7a65 5d0a 2020  ibutes[esize].  
+00009d30: 2020 6573 697a 6520 2a3d 206d 6178 5f65    esize *= max_e
+00009d40: 7369 7a65 202f 2065 7369 7a65 2e6d 6178  size / esize.max
+00009d50: 2829 0a0a 2020 2020 6573 697a 6520 3d20  ()..    esize = 
+00009d60: 7b74 7570 6c65 2865 293a 2073 2066 6f72  {tuple(e): s for
+00009d70: 2065 2c20 7320 696e 207a 6970 286e 6574   e, s in zip(net
+00009d80: 776f 726b 2e65 6467 6573 5f61 7272 6179  work.edges_array
+00009d90: 2c20 6573 697a 6529 7d0a 0a20 2020 2023  , esize)}..    #
+00009da0: 2067 6574 2074 6865 2063 6f6c 6f72 730a   get the colors.
+00009db0: 2020 2020 6e63 6f6c 6f72 732c 2065 636f      ncolors, eco
+00009dc0: 6c6f 7273 203d 205f 6765 745f 636f 6c6f  lors = _get_colo
+00009dd0: 7273 2861 7865 735f 636f 6c6f 7273 2c20  rs(axes_colors, 
+00009de0: 6564 6765 5f63 6f6c 6f72 732c 2061 6e67  edge_colors, ang
+00009df0: 6c65 732c 206e 756d 5f61 7865 732c 0a20  les, num_axes,. 
+00009e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009e20: 2020 696e 7472 615f 636f 6e6e 6563 7469    intra_connecti
+00009e30: 6f6e 732c 206e 6574 776f 726b 290a 0a20  ons, network).. 
+00009e40: 2020 2023 206d 616b 6520 7468 6520 6669     # make the fi
+00009e50: 6775 7265 0a20 2020 2069 6620 6178 6973  gure.    if axis
+00009e60: 2069 7320 4e6f 6e65 3a0a 2020 2020 2020   is None:.      
+00009e70: 2020 5f2c 2061 7869 7320 3d20 706c 742e    _, axis = plt.
+00009e80: 7375 6270 6c6f 7473 2829 0a0a 2020 2020  subplots()..    
+00009e90: 2320 706c 6f74 2074 6865 206e 6f64 6573  # plot the nodes
+00009ea0: 2061 6e64 2061 7865 730a 2020 2020 6e6f   and axes.    no
+00009eb0: 6465 5f70 6f73 2020 3d20 5b5d 0a20 2020  de_pos  = [].   
+00009ec0: 206d 6178 5f72 6164 6969 203d 205b 5d0a   max_radii = [].
+00009ed0: 0a20 2020 2066 6f72 2069 2c20 286e 6e2c  .    for i, (nn,
+00009ee0: 2072 7229 2069 6e20 656e 756d 6572 6174   rr) in enumerat
+00009ef0: 6528 7a69 7028 6178 5f6e 6f64 6573 2c20  e(zip(ax_nodes, 
+00009f00: 7261 6469 616c 5f76 616c 7565 7329 293a  radial_values)):
+00009f10: 0a20 2020 2020 2020 2069 6620 6c65 6e28  .        if len(
+00009f20: 6e6e 293a 0a20 2020 2020 2020 2020 2020  nn):.           
+00009f30: 2023 206d 6178 2072 6164 6969 0a20 2020   # max radii.   
+00009f40: 2020 2020 2020 2020 2072 6178 203d 206e           rax = n
+00009f50: 702e 6172 7261 7928 5b52 4d49 4e2c 2072  p.array([RMIN, r
+00009f60: 725b 6e6e 5d2e 6d61 7828 295d 290a 0a20  r[nn].max()]).. 
+00009f70: 2020 2020 2020 2020 2020 206d 6178 5f72             max_r
+00009f80: 6164 6969 2e65 7874 656e 6428 5b72 6178  adii.extend([rax
+00009f90: 5b2d 315d 5d2a 2831 202b 2069 6e74 7261  [-1]]*(1 + intra
+00009fa0: 5f63 6f6e 6e65 6374 696f 6e73 2929 0a0a  _connections))..
+00009fb0: 2020 2020 2020 2020 2020 2020 2320 706c              # pl
+00009fc0: 6f74 206d 6178 2072 6164 6969 0a20 2020  ot max radii.   
+00009fd0: 2020 2020 2020 2020 2069 6620 7368 6f77           if show
+00009fe0: 5f63 6972 636c 6573 3a0a 2020 2020 2020  _circles:.      
+00009ff0: 2020 2020 2020 2020 2020 6161 203d 206e            aa = n
+0000a000: 702e 6172 616e 6765 2830 2c20 322a 6e70  p.arange(0, 2*np
+0000a010: 2e70 692c 2030 2e30 3229 0a20 2020 2020  .pi, 0.02).     
+0000a020: 2020 2020 2020 2020 2020 2078 7820 3d20             xx = 
+0000a030: 7261 785b 2d31 5d2a 6e70 2e63 6f73 2861  rax[-1]*np.cos(a
+0000a040: 6129 0a20 2020 2020 2020 2020 2020 2020  a).             
+0000a050: 2020 2079 7920 3d20 7261 785b 2d31 5d2a     yy = rax[-1]*
+0000a060: 6e70 2e73 696e 2861 6129 0a20 2020 2020  np.sin(aa).     
+0000a070: 2020 2020 2020 2020 2020 2061 7869 732e             axis.
+0000a080: 706c 6f74 2878 782c 2079 792c 2063 6f6c  plot(xx, yy, col
+0000a090: 6f72 3d22 6772 6579 222c 2061 6c70 6861  or="grey", alpha
+0000a0a0: 3d30 2e32 2c20 7a6f 7264 6572 3d31 290a  =0.2, zorder=1).
+0000a0b0: 0a20 2020 2020 2020 2020 2020 2023 2063  .            # c
+0000a0c0: 6f6d 7070 7574 6520 616e 676c 6573 0a20  omppute angles. 
+0000a0d0: 2020 2020 2020 2020 2020 2061 6120 3d20             aa = 
+0000a0e0: 5b61 6e67 6c65 735b 322a 695d 2069 6620  [angles[2*i] if 
+0000a0f0: 696e 7472 615f 636f 6e6e 6563 7469 6f6e  intra_connection
+0000a100: 7320 656c 7365 2061 6e67 6c65 735b 695d  s else angles[i]
+0000a110: 5d0a 0a20 2020 2020 2020 2020 2020 2069  ]..            i
+0000a120: 6620 696e 7472 615f 636f 6e6e 6563 7469  f intra_connecti
+0000a130: 6f6e 733a 0a20 2020 2020 2020 2020 2020  ons:.           
+0000a140: 2020 2020 2061 6120 2b3d 205b 616e 676c       aa += [angl
+0000a150: 6573 5b32 2a69 2b31 5d5d 0a0a 2020 2020  es[2*i+1]]..    
+0000a160: 2020 2020 2020 2020 666f 7220 6a2c 2061          for j, a
+0000a170: 2069 6e20 656e 756d 6572 6174 6528 6161   in enumerate(aa
+0000a180: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+0000a190: 2020 2023 2070 6c6f 7420 6178 6573 206c     # plot axes l
+0000a1a0: 696e 6573 0a20 2020 2020 2020 2020 2020  ines.           
+0000a1b0: 2020 2020 206c 7720 3d20 3120 6966 206a       lw = 1 if j
+0000a1c0: 2025 2032 2065 6c73 6520 320a 0a20 2020   % 2 else 2..   
+0000a1d0: 2020 2020 2020 2020 2020 2020 2061 7869               axi
+0000a1e0: 732e 706c 6f74 2872 6178 2a6e 702e 636f  s.plot(rax*np.co
+0000a1f0: 7328 6129 2c20 7261 782a 6e70 2e73 696e  s(a), rax*np.sin
+0000a200: 2861 292c 2063 6f6c 6f72 3d22 6772 6579  (a), color="grey
+0000a210: 222c 206c 773d 6c77 2c0a 2020 2020 2020  ", lw=lw,.      
+0000a220: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a230: 2020 2020 7a6f 7264 6572 3d31 290a 0a20      zorder=1).. 
+0000a240: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+0000a250: 2063 6f6d 7075 7465 206e 6f64 6520 706f   compute node po
+0000a260: 7369 7469 6f6e 730a 2020 2020 2020 2020  sitions.        
+0000a270: 2020 2020 2020 2020 7878 203d 2072 722a          xx = rr*
+0000a280: 6e70 2e63 6f73 2861 290a 2020 2020 2020  np.cos(a).      
+0000a290: 2020 2020 2020 2020 2020 7979 203d 2072            yy = r
+0000a2a0: 722a 6e70 2e73 696e 2861 290a 0a20 2020  r*np.sin(a)..   
+0000a2b0: 2020 2020 2020 2020 2020 2020 206e 6f64               nod
+0000a2c0: 655f 706f 732e 6170 7065 6e64 286e 702e  e_pos.append(np.
+0000a2d0: 6172 7261 7928 5b78 782c 2079 795d 292e  array([xx, yy]).
+0000a2e0: 5429 0a0a 2020 2020 2020 2020 2020 2020  T)..            
+0000a2f0: 2020 2020 6966 2068 6967 686c 6967 6874      if highlight
+0000a300: 5f6e 6f64 6573 3a0a 2020 2020 2020 2020  _nodes:.        
+0000a310: 2020 2020 2020 2020 2020 2020 6772 6579              grey
+0000a320: 7320 3d20 6c69 7374 2873 6574 286e 6e29  s = list(set(nn)
+0000a330: 2e64 6966 6665 7265 6e63 6528 6869 6768  .difference(high
+0000a340: 6c69 6768 745f 6e6f 6465 7329 290a 0a20  light_nodes)).. 
+0000a350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a360: 2020 205f 706c 6f74 5f6e 6f64 6573 2867     _plot_nodes(g
+0000a370: 7265 7973 2c20 6e73 697a 652c 2078 782c  reys, nsize, xx,
+0000a380: 2079 792c 2022 6772 6579 222c 0a20 2020   yy, "grey",.   
+0000a390: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a3a0: 2020 2020 2020 2020 2020 2020 206e 626f               nbo
+0000a3b0: 7264 6572 5f77 6964 7468 2c20 6e62 6f72  rder_width, nbor
+0000a3c0: 6465 725f 636f 6c6f 722c 2061 7869 732c  der_color, axis,
+0000a3d0: 207a 6f72 6465 723d 3329 0a0a 2020 2020   zorder=3)..    
+0000a3e0: 2020 2020 2020 2020 2020 2020 686c 6768              hlgh
+0000a3f0: 7420 3d20 286e 6e20 6966 206e 6f74 2068  t = (nn if not h
+0000a400: 6967 686c 6967 6874 5f6e 6f64 6573 0a20  ighlight_nodes. 
+0000a410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a420: 2020 2020 2020 2020 656c 7365 206c 6973          else lis
+0000a430: 7428 6869 6768 6c69 6768 745f 6e6f 6465  t(highlight_node
+0000a440: 732e 696e 7465 7273 6563 7469 6f6e 286e  s.intersection(n
+0000a450: 6e29 2929 0a0a 2020 2020 2020 2020 2020  n)))..          
+0000a460: 2020 2020 2020 5f70 6c6f 745f 6e6f 6465        _plot_node
+0000a470: 7328 686c 6768 742c 206e 7369 7a65 2c20  s(hlght, nsize, 
+0000a480: 7878 2c20 7979 2c20 6e63 6f6c 6f72 735b  xx, yy, ncolors[
+0000a490: 695d 2c0a 2020 2020 2020 2020 2020 2020  i],.            
+0000a4a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a4b0: 6e62 6f72 6465 725f 7769 6474 682c 206e  nborder_width, n
+0000a4c0: 626f 7264 6572 5f63 6f6c 6f72 2c20 6178  border_color, ax
+0000a4d0: 6973 2c20 7a6f 7264 6572 3d34 290a 2020  is, zorder=4).  
+0000a4e0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+0000a4f0: 2020 2020 2020 2020 6e6f 6465 5f70 6f73          node_pos
+0000a500: 2e65 7874 656e 6428 5b5b 5d5d 2a28 3120  .extend([[]]*(1 
+0000a510: 2b20 696e 7472 615f 636f 6e6e 6563 7469  + intra_connecti
+0000a520: 6f6e 7329 290a 2020 2020 2020 2020 2020  ons)).          
+0000a530: 2020 6d61 785f 7261 6469 692e 6578 7465    max_radii.exte
+0000a540: 6e64 285b 524d 494e 5d2a 2831 202b 2069  nd([RMIN]*(1 + i
+0000a550: 6e74 7261 5f63 6f6e 6e65 6374 696f 6e73  ntra_connections
+0000a560: 2929 0a0a 2020 2020 2320 706c 6f74 2074  ))..    # plot t
+0000a570: 6865 2065 6467 6573 0a20 2020 2078 732c  he edges.    xs,
+0000a580: 2079 7320 3d20 5b5d 2c20 5b5d 0a0a 2020   ys = [], []..  
+0000a590: 2020 666f 7220 692c 206e 3120 696e 2065    for i, n1 in e
+0000a5a0: 6e75 6d65 7261 7465 2861 785f 6e6f 6465  numerate(ax_node
+0000a5b0: 7329 3a0a 2020 2020 2020 2020 7461 7267  s):.        targ
+0000a5c0: 6574 7320 3d20 6178 5f6e 6f64 6573 2069  ets = ax_nodes i
+0000a5d0: 6620 6e65 7477 6f72 6b2e 6973 5f64 6972  f network.is_dir
+0000a5e0: 6563 7465 6428 2920 656c 7365 2061 785f  ected() else ax_
+0000a5f0: 6e6f 6465 735b 693a 5d0a 0a20 2020 2020  nodes[i:]..     
+0000a600: 2020 2066 6f72 206a 2c20 6e32 2069 6e20     for j, n2 in 
+0000a610: 656e 756d 6572 6174 6528 6178 5f6e 6f64  enumerate(ax_nod
+0000a620: 6573 293a 0a20 2020 2020 2020 2020 2020  es):.           
+0000a630: 2023 2069 676e 6f72 6520 6920 3d20 6a20   # ignore i = j 
+0000a640: 6966 2069 6e74 7261 5f63 6f6e 6e65 6374  if intra_connect
+0000a650: 696f 6e73 2069 7320 5472 7565 0a20 2020  ions is True.   
+0000a660: 2020 2020 2020 2020 2069 6620 6920 3d3d           if i ==
+0000a670: 206a 2061 6e64 206e 6f74 2069 6e74 7261   j and not intra
+0000a680: 5f63 6f6e 6e65 6374 696f 6e73 3a0a 2020  _connections:.  
+0000a690: 2020 2020 2020 2020 2020 2020 2020 636f                co
+0000a6a0: 6e74 696e 7565 0a0a 2020 2020 2020 2020  ntinue..        
+0000a6b0: 2020 2020 2320 6669 6e64 2077 6869 6368      # find which
+0000a6c0: 2061 7865 7320 7368 6f75 6c64 2062 6520   axes should be 
+0000a6d0: 7573 6564 0a20 2020 2020 2020 2020 2020  used.           
+0000a6e0: 2069 6478 5f73 2c20 6964 785f 7420 3d20   idx_s, idx_t = 
+0000a6f0: 5f67 6574 5f61 785f 616e 676c 6573 280a  _get_ax_angles(.
 0000a700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a710: 686c 6768 7420 3d20 286e 6e20 6966 206e  hlght = (nn if n
-0000a720: 6f74 2068 6967 686c 6967 6874 5f6e 6f64  ot highlight_nod
-0000a730: 6573 0a20 2020 2020 2020 2020 2020 2020  es.             
-0000a740: 2020 2020 2020 2020 2020 2020 656c 7365              else
-0000a750: 206c 6973 7428 6869 6768 6c69 6768 745f   list(highlight_
-0000a760: 6e6f 6465 732e 696e 7465 7273 6563 7469  nodes.intersecti
-0000a770: 6f6e 286e 6e29 2929 0a0a 2020 2020 2020  on(nn)))..      
-0000a780: 2020 2020 2020 2020 2020 5f70 6c6f 745f            _plot_
-0000a790: 6e6f 6465 7328 686c 6768 742c 206e 7369  nodes(hlght, nsi
-0000a7a0: 7a65 2c20 7878 2c20 7979 2c20 6e63 6f6c  ze, xx, yy, ncol
-0000a7b0: 6f72 735b 695d 2c0a 2020 2020 2020 2020  ors[i],.        
-0000a7c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a7d0: 2020 2020 6e62 6f72 6465 725f 7769 6474      nborder_widt
-0000a7e0: 682c 206e 626f 7264 6572 5f63 6f6c 6f72  h, nborder_color
-0000a7f0: 2c20 6178 6973 2c20 7a6f 7264 6572 3d34  , axis, zorder=4
-0000a800: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
-0000a810: 2020 2020 2020 2020 2020 2020 6e6f 6465              node
-0000a820: 5f70 6f73 2e65 7874 656e 6428 5b5b 5d5d  _pos.extend([[]]
-0000a830: 2a28 3120 2b20 696e 7472 615f 636f 6e6e  *(1 + intra_conn
-0000a840: 6563 7469 6f6e 7329 290a 2020 2020 2020  ections)).      
-0000a850: 2020 2020 2020 6d61 785f 7261 6469 692e        max_radii.
-0000a860: 6578 7465 6e64 285b 524d 494e 5d2a 2831  extend([RMIN]*(1
-0000a870: 202b 2069 6e74 7261 5f63 6f6e 6e65 6374   + intra_connect
-0000a880: 696f 6e73 2929 0a0a 2020 2020 2320 706c  ions))..    # pl
-0000a890: 6f74 2074 6865 2065 6467 6573 0a20 2020  ot the edges.   
-0000a8a0: 2078 732c 2079 7320 3d20 5b5d 2c20 5b5d   xs, ys = [], []
-0000a8b0: 0a0a 2020 2020 666f 7220 692c 206e 3120  ..    for i, n1 
-0000a8c0: 696e 2065 6e75 6d65 7261 7465 2861 785f  in enumerate(ax_
-0000a8d0: 6e6f 6465 7329 3a0a 2020 2020 2020 2020  nodes):.        
-0000a8e0: 7461 7267 6574 7320 3d20 6178 5f6e 6f64  targets = ax_nod
-0000a8f0: 6573 2069 6620 6e65 7477 6f72 6b2e 6973  es if network.is
-0000a900: 5f64 6972 6563 7465 6428 2920 656c 7365  _directed() else
-0000a910: 2061 785f 6e6f 6465 735b 693a 5d0a 0a20   ax_nodes[i:].. 
-0000a920: 2020 2020 2020 2066 6f72 206a 2c20 6e32         for j, n2
-0000a930: 2069 6e20 656e 756d 6572 6174 6528 6178   in enumerate(ax
-0000a940: 5f6e 6f64 6573 293a 0a20 2020 2020 2020  _nodes):.       
-0000a950: 2020 2020 2023 2069 676e 6f72 6520 6920       # ignore i 
-0000a960: 3d20 6a20 6966 2069 6e74 7261 5f63 6f6e  = j if intra_con
-0000a970: 6e65 6374 696f 6e73 2069 7320 5472 7565  nections is True
-0000a980: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-0000a990: 6920 3d3d 206a 2061 6e64 206e 6f74 2069  i == j and not i
-0000a9a0: 6e74 7261 5f63 6f6e 6e65 6374 696f 6e73  ntra_connections
-0000a9b0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0000a9c0: 2020 636f 6e74 696e 7565 0a0a 2020 2020    continue..    
-0000a9d0: 2020 2020 2020 2020 2320 6669 6e64 2077          # find w
-0000a9e0: 6869 6368 2061 7865 7320 7368 6f75 6c64  hich axes should
-0000a9f0: 2062 6520 7573 6564 0a20 2020 2020 2020   be used.       
-0000aa00: 2020 2020 2069 6478 5f73 2c20 6964 785f       idx_s, idx_
-0000aa10: 7420 3d20 5f67 6574 5f61 785f 616e 676c  t = _get_ax_angl
-0000aa20: 6573 280a 2020 2020 2020 2020 2020 2020  es(.            
-0000aa30: 2020 2020 616e 676c 6573 2c20 692c 206a      angles, i, j
-0000aa40: 2c20 696e 7472 615f 636f 6e6e 6563 7469  , intra_connecti
-0000aa50: 6f6e 7329 0a0a 2020 2020 2020 2020 2020  ons)..          
-0000aa60: 2020 2320 6765 7420 7468 6520 6564 6765    # get the edge
-0000aa70: 730a 2020 2020 2020 2020 2020 2020 6564  s.            ed
-0000aa80: 6765 7320 3d20 6e65 7477 6f72 6b2e 6765  ges = network.ge
-0000aa90: 745f 6564 6765 7328 736f 7572 6365 5f6e  t_edges(source_n
-0000aaa0: 6f64 653d 6e31 2c20 7461 7267 6574 5f6e  ode=n1, target_n
-0000aab0: 6f64 653d 6e32 290a 0a20 2020 2020 2020  ode=n2)..       
-0000aac0: 2020 2020 2069 6620 6c65 6e28 6564 6765       if len(edge
-0000aad0: 7329 3a0a 2020 2020 2020 2020 2020 2020  s):.            
-0000aae0: 2020 2020 636f 6c6f 7220 3d20 6563 6f6c      color = ecol
-0000aaf0: 6f72 735b 2869 2c20 6a29 5d0a 0a20 2020  ors[(i, j)]..   
-0000ab00: 2020 2020 2020 2020 2020 2020 2070 6174               pat
-0000ab10: 6873 5f67 7265 7973 203d 205b 5d0a 2020  hs_greys = [].  
-0000ab20: 2020 2020 2020 2020 2020 2020 2020 7061                pa
-0000ab30: 7468 735f 6867 686c 7420 3d20 5b5d 0a0a  ths_hghlt = []..
+0000a710: 616e 676c 6573 2c20 692c 206a 2c20 696e  angles, i, j, in
+0000a720: 7472 615f 636f 6e6e 6563 7469 6f6e 7329  tra_connections)
+0000a730: 0a0a 2020 2020 2020 2020 2020 2020 2320  ..            # 
+0000a740: 6765 7420 7468 6520 6564 6765 730a 2020  get the edges.  
+0000a750: 2020 2020 2020 2020 2020 6564 6765 7320            edges 
+0000a760: 3d20 6e65 7477 6f72 6b2e 6765 745f 6564  = network.get_ed
+0000a770: 6765 7328 736f 7572 6365 5f6e 6f64 653d  ges(source_node=
+0000a780: 6e31 2c20 7461 7267 6574 5f6e 6f64 653d  n1, target_node=
+0000a790: 6e32 290a 0a20 2020 2020 2020 2020 2020  n2)..           
+0000a7a0: 2069 6620 6c65 6e28 6564 6765 7329 3a0a   if len(edges):.
+0000a7b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a7c0: 636f 6c6f 7220 3d20 6563 6f6c 6f72 735b  color = ecolors[
+0000a7d0: 2869 2c20 6a29 5d0a 0a20 2020 2020 2020  (i, j)]..       
+0000a7e0: 2020 2020 2020 2020 2070 6174 6873 5f67           paths_g
+0000a7f0: 7265 7973 203d 205b 5d0a 2020 2020 2020  reys = [].      
+0000a800: 2020 2020 2020 2020 2020 7061 7468 735f            paths_
+0000a810: 6867 686c 7420 3d20 5b5d 0a0a 2020 2020  hghlt = []..    
+0000a820: 2020 2020 2020 2020 2020 2020 6c77 203d              lw =
+0000a830: 205b 5d0a 0a20 2020 2020 2020 2020 2020   []..           
+0000a840: 2020 2020 2066 6f72 2028 6e73 2c20 6e74       for (ns, nt
+0000a850: 2920 696e 2065 6467 6573 3a0a 2020 2020  ) in edges:.    
+0000a860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a870: 7073 7461 7274 203d 206e 6f64 655f 706f  pstart = node_po
+0000a880: 735b 6964 785f 735d 5b6e 735d 0a20 2020  s[idx_s][ns].   
+0000a890: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a8a0: 2070 7374 6f70 2020 3d20 6e6f 6465 5f70   pstop  = node_p
+0000a8b0: 6f73 5b69 6478 5f74 5d5b 6e74 5d0a 0a20  os[idx_t][nt].. 
+0000a8c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a8d0: 2020 2063 6f6e 7461 696e 7320 3d20 5472     contains = Tr
+0000a8e0: 7565 0a0a 2020 2020 2020 2020 2020 2020  ue..            
+0000a8f0: 2020 2020 2020 2020 6966 2068 6967 686c          if highl
+0000a900: 6967 6874 5f65 6467 6573 2069 7320 6e6f  ight_edges is no
+0000a910: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
+0000a920: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a930: 636f 6e74 6169 6e73 203d 2028 6e73 2c20  contains = (ns, 
+0000a940: 6e74 2920 696e 2068 6967 686c 6967 6874  nt) in highlight
+0000a950: 5f65 6467 6573 0a20 2020 2020 2020 2020  _edges.         
+0000a960: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
+0000a970: 6869 6768 6c69 6768 745f 6e6f 6465 7320  highlight_nodes 
+0000a980: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
+0000a990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a9a0: 2020 2020 2063 6f6e 7461 696e 7320 3d20       contains = 
+0000a9b0: 5c0a 2020 2020 2020 2020 2020 2020 2020  \.              
+0000a9c0: 2020 2020 2020 2020 2020 2020 2020 6e73                ns
+0000a9d0: 2069 6e20 6869 6768 6c69 6768 745f 6e6f   in highlight_no
+0000a9e0: 6465 7320 6f72 206e 7420 696e 2068 6967  des or nt in hig
+0000a9f0: 686c 6967 6874 5f6e 6f64 6573 0a0a 2020  hlight_nodes..  
+0000aa00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000aa10: 2020 6966 2068 6967 686c 6967 6874 5f65    if highlight_e
+0000aa20: 6467 6573 2069 7320 4e6f 6e65 206f 7220  dges is None or 
+0000aa30: 636f 6e74 6169 6e73 3a0a 2020 2020 2020  contains:.      
+0000aa40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000aa50: 2020 7061 7468 735f 6867 686c 742e 6170    paths_hghlt.ap
+0000aa60: 7065 6e64 285f 706c 6f74 5f62 657a 6965  pend(_plot_bezie
+0000aa70: 7228 0a20 2020 2020 2020 2020 2020 2020  r(.             
+0000aa80: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+0000aa90: 7374 6172 742c 2070 7374 6f70 2c20 616e  start, pstop, an
+0000aaa0: 676c 6573 5b69 6478 5f73 5d2c 2061 6e67  gles[idx_s], ang
+0000aab0: 6c65 735b 6964 785f 745d 2c0a 2020 2020  les[idx_t],.    
+0000aac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000aad0: 2020 2020 2020 2020 7261 6469 616c 5f76          radial_v
+0000aae0: 616c 7565 735b 695d 5b6e 735d 2c20 7261  alues[i][ns], ra
+0000aaf0: 6469 616c 5f76 616c 7565 735b 6a5d 5b6e  dial_values[j][n
+0000ab00: 745d 2c20 692c 206a 2c0a 2020 2020 2020  t], i, j,.      
+0000ab10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ab20: 2020 2020 2020 6e75 6d5f 6178 6573 2c20        num_axes, 
+0000ab30: 7873 2c20 7973 2929 0a0a 2020 2020 2020  xs, ys))..      
 0000ab40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ab50: 6c77 203d 205b 5d0a 0a20 2020 2020 2020  lw = []..       
-0000ab60: 2020 2020 2020 2020 2066 6f72 2028 6e73           for (ns
-0000ab70: 2c20 6e74 2920 696e 2065 6467 6573 3a0a  , nt) in edges:.
-0000ab80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ab90: 2020 2020 7073 7461 7274 203d 206e 6f64      pstart = nod
-0000aba0: 655f 706f 735b 6964 785f 735d 5b6e 735d  e_pos[idx_s][ns]
-0000abb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000abc0: 2020 2020 2070 7374 6f70 2020 3d20 6e6f       pstop  = no
-0000abd0: 6465 5f70 6f73 5b69 6478 5f74 5d5b 6e74  de_pos[idx_t][nt
-0000abe0: 5d0a 0a20 2020 2020 2020 2020 2020 2020  ]..             
-0000abf0: 2020 2020 2020 2063 6f6e 7461 696e 7320         contains 
-0000ac00: 3d20 5472 7565 0a0a 2020 2020 2020 2020  = True..        
-0000ac10: 2020 2020 2020 2020 2020 2020 6966 2068              if h
-0000ac20: 6967 686c 6967 6874 5f65 6467 6573 2069  ighlight_edges i
-0000ac30: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-0000ac40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ac50: 2020 2020 636f 6e74 6169 6e73 203d 2028      contains = (
-0000ac60: 6e73 2c20 6e74 2920 696e 2068 6967 686c  ns, nt) in highl
-0000ac70: 6967 6874 5f65 6467 6573 0a20 2020 2020  ight_edges.     
-0000ac80: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-0000ac90: 6c69 6620 6869 6768 6c69 6768 745f 6e6f  lif highlight_no
-0000aca0: 6465 7320 6973 206e 6f74 204e 6f6e 653a  des is not None:
-0000acb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000acc0: 2020 2020 2020 2020 2063 6f6e 7461 696e           contain
-0000acd0: 7320 3d20 5c0a 2020 2020 2020 2020 2020  s = \.          
-0000ace0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000acf0: 2020 6e73 2069 6e20 6869 6768 6c69 6768    ns in highligh
-0000ad00: 745f 6e6f 6465 7320 6f72 206e 7420 696e  t_nodes or nt in
-0000ad10: 2068 6967 686c 6967 6874 5f6e 6f64 6573   highlight_nodes
-0000ad20: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000ad30: 2020 2020 2020 6966 2068 6967 686c 6967        if highlig
-0000ad40: 6874 5f65 6467 6573 2069 7320 4e6f 6e65  ht_edges is None
-0000ad50: 206f 7220 636f 6e74 6169 6e73 3a0a 2020   or contains:.  
-0000ad60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ad70: 2020 2020 2020 7061 7468 735f 6867 686c        paths_hghl
-0000ad80: 742e 6170 7065 6e64 285f 706c 6f74 5f62  t.append(_plot_b
-0000ad90: 657a 6965 7228 0a20 2020 2020 2020 2020  ezier(.         
-0000ada0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000adb0: 2020 2070 7374 6172 742c 2070 7374 6f70     pstart, pstop
-0000adc0: 2c20 616e 676c 6573 5b69 6478 5f73 5d2c  , angles[idx_s],
-0000add0: 2061 6e67 6c65 735b 6964 785f 745d 2c0a   angles[idx_t],.
-0000ade0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000adf0: 2020 2020 2020 2020 2020 2020 7261 6469              radi
-0000ae00: 616c 5f76 616c 7565 735b 695d 5b6e 735d  al_values[i][ns]
-0000ae10: 2c20 7261 6469 616c 5f76 616c 7565 735b  , radial_values[
-0000ae20: 6a5d 5b6e 745d 2c20 692c 206a 2c0a 2020  j][nt], i, j,.  
-0000ae30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ae40: 2020 2020 2020 2020 2020 6e75 6d5f 6178            num_ax
-0000ae50: 6573 2c20 7873 2c20 7973 2929 0a0a 2020  es, xs, ys))..  
-0000ae60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ae70: 2020 2020 2020 6c77 2e61 7070 656e 6428        lw.append(
-0000ae80: 6573 697a 655b 286e 732c 206e 7429 5d29  esize[(ns, nt)])
-0000ae90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000aea0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-0000aeb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000aec0: 2020 2070 6174 6873 5f67 7265 7973 2e61     paths_greys.a
-0000aed0: 7070 656e 6428 5f70 6c6f 745f 6265 7a69  ppend(_plot_bezi
-0000aee0: 6572 280a 2020 2020 2020 2020 2020 2020  er(.            
-0000aef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000af00: 7073 7461 7274 2c20 7073 746f 702c 2061  pstart, pstop, a
-0000af10: 6e67 6c65 735b 6964 785f 735d 2c20 616e  ngles[idx_s], an
-0000af20: 676c 6573 5b69 6478 5f74 5d2c 0a20 2020  gles[idx_t],.   
-0000af30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000af40: 2020 2020 2020 2020 2072 6164 6961 6c5f           radial_
-0000af50: 7661 6c75 6573 5b69 5d5b 6e73 5d2c 2072  values[i][ns], r
-0000af60: 6164 6961 6c5f 7661 6c75 6573 5b6a 5d5b  adial_values[j][
-0000af70: 6e74 5d2c 2069 2c20 6a2c 0a20 2020 2020  nt], i, j,.     
-0000af80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000af90: 2020 2020 2020 206e 756d 5f61 7865 732c         num_axes,
-0000afa0: 2078 732c 2079 7329 290a 0a20 2020 2020   xs, ys))..     
-0000afb0: 2020 2020 2020 2020 2020 2069 6620 7061             if pa
-0000afc0: 7468 735f 6772 6579 733a 0a20 2020 2020  ths_greys:.     
-0000afd0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-0000afe0: 636f 6c20 3d20 5061 7468 436f 6c6c 6563  col = PathCollec
-0000aff0: 7469 6f6e 280a 2020 2020 2020 2020 2020  tion(.          
-0000b000: 2020 2020 2020 2020 2020 2020 2020 7061                pa
-0000b010: 7468 735f 6772 6579 732c 2066 6163 6563  ths_greys, facec
-0000b020: 6f6c 6f72 733d 226e 6f6e 6522 2c20 6564  olors="none", ed
-0000b030: 6765 636f 6c6f 7273 3d22 6772 6579 222c  gecolors="grey",
-0000b040: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000b050: 2020 2020 2020 2020 2061 6c70 6861 3d30           alpha=0
-0000b060: 2e31 2a65 6467 655f 616c 7068 612c 207a  .1*edge_alpha, z
-0000b070: 6f72 6465 723d 3129 0a0a 2020 2020 2020  order=1)..      
-0000b080: 2020 2020 2020 2020 2020 2020 2020 6178                ax
-0000b090: 6973 2e61 6464 5f63 6f6c 6c65 6374 696f  is.add_collectio
-0000b0a0: 6e28 7063 6f6c 290a 0a20 2020 2020 2020  n(pcol)..       
-0000b0b0: 2020 2020 2020 2020 2061 6c70 6861 203d           alpha =
-0000b0c0: 2030 2e37 2069 6620 6869 6768 6c69 6768   0.7 if highligh
-0000b0d0: 745f 6e6f 6465 7320 656c 7365 2065 6467  t_nodes else edg
-0000b0e0: 655f 616c 7068 610a 0a20 2020 2020 2020  e_alpha..       
-0000b0f0: 2020 2020 2020 2020 2070 636f 6c20 3d20           pcol = 
-0000b100: 5061 7468 436f 6c6c 6563 7469 6f6e 2870  PathCollection(p
-0000b110: 6174 6873 5f68 6768 6c74 2c20 6661 6365  aths_hghlt, face
-0000b120: 636f 6c6f 7273 3d22 6e6f 6e65 222c 206c  colors="none", l
-0000b130: 773d 6c77 2c0a 2020 2020 2020 2020 2020  w=lw,.          
-0000b140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b150: 2020 2020 2020 2020 2020 2020 6564 6765              edge
-0000b160: 636f 6c6f 7273 3d63 6f6c 6f72 2c20 616c  colors=color, al
-0000b170: 7068 613d 616c 7068 612c 207a 6f72 6465  pha=alpha, zorde
-0000b180: 723d 3229 0a0a 2020 2020 2020 2020 2020  r=2)..          
-0000b190: 2020 2020 2020 6178 6973 2e61 6464 5f63        axis.add_c
-0000b1a0: 6f6c 6c65 6374 696f 6e28 7063 6f6c 290a  ollection(pcol).
-0000b1b0: 0a20 2020 205f 7365 745f 6e61 6d65 735f  .    _set_names_
-0000b1c0: 6c69 6d73 2861 785f 6e61 6d65 732c 2061  lims(ax_names, a
-0000b1d0: 6e67 6c65 732c 206d 6178 5f72 6164 6969  ngles, max_radii
-0000b1e0: 2c20 7873 2c20 7973 2c20 696e 7472 615f  , xs, ys, intra_
-0000b1f0: 636f 6e6e 6563 7469 6f6e 732c 0a20 2020  connections,.   
-0000b200: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b210: 2073 686f 775f 6e61 6d65 732c 2061 7869   show_names, axi
-0000b220: 732c 2073 686f 775f 6369 7263 6c65 7329  s, show_circles)
-0000b230: 0a0a 0a20 2020 2061 7869 732e 7365 745f  ...    axis.set_
-0000b240: 6173 7065 6374 2831 290a 2020 2020 6178  aspect(1).    ax
-0000b250: 6973 2e61 7869 7328 276f 6666 2729 0a0a  is.axis('off')..
-0000b260: 2020 2020 6966 2074 6967 6874 3a0a 2020      if tight:.  
-0000b270: 2020 2020 2020 706c 742e 7469 6768 745f        plt.tight_
-0000b280: 6c61 796f 7574 2829 0a0a 2020 2020 6966  layout()..    if
-0000b290: 2073 686f 773a 0a20 2020 2020 2020 2070   show:.        p
-0000b2a0: 6c74 2e73 686f 7728 290a 0a0a 6465 6620  lt.show()...def 
-0000b2b0: 6c69 6272 6172 795f 6472 6177 286e 6574  library_draw(net
-0000b2c0: 776f 726b 2c20 6e73 697a 653d 2274 6f74  work, nsize="tot
-0000b2d0: 616c 2d64 6567 7265 6522 2c20 6e63 6f6c  al-degree", ncol
-0000b2e0: 6f72 3d4e 6f6e 652c 206e 7368 6170 653d  or=None, nshape=
-0000b2f0: 226f 222c 0a20 2020 2020 2020 2020 2020  "o",.           
-0000b300: 2020 2020 2020 6e62 6f72 6465 725f 636f        nborder_co
-0000b310: 6c6f 723d 226b 222c 206e 626f 7264 6572  lor="k", nborder
-0000b320: 5f77 6964 7468 3d30 2e35 2c20 6573 697a  _width=0.5, esiz
-0000b330: 653d 312e 2c20 6563 6f6c 6f72 3d22 6b22  e=1., ecolor="k"
-0000b340: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000b350: 2020 2065 616c 7068 613d 302e 352c 2063     ealpha=0.5, c
-0000b360: 7572 7665 645f 6564 6765 733d 4661 6c73  urved_edges=Fals
-0000b370: 652c 2074 6872 6573 686f 6c64 3d30 2e35  e, threshold=0.5
-0000b380: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000b390: 2020 2064 6563 696d 6174 655f 636f 6e6e     decimate_conn
-0000b3a0: 6563 7469 6f6e 733d 4e6f 6e65 2c20 7370  ections=None, sp
-0000b3b0: 6174 6961 6c3d 5472 7565 2c0a 2020 2020  atial=True,.    
-0000b3c0: 2020 2020 2020 2020 2020 2020 2072 6573               res
-0000b3d0: 7472 6963 745f 736f 7572 6365 733d 4e6f  trict_sources=No
-0000b3e0: 6e65 2c20 7265 7374 7269 6374 5f74 6172  ne, restrict_tar
-0000b3f0: 6765 7473 3d4e 6f6e 652c 0a20 2020 2020  gets=None,.     
-0000b400: 2020 2020 2020 2020 2020 2020 7265 7374              rest
-0000b410: 7269 6374 5f6e 6f64 6573 3d4e 6f6e 652c  rict_nodes=None,
-0000b420: 2072 6573 7472 6963 745f 6564 6765 733d   restrict_edges=
-0000b430: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
-0000b440: 2020 2020 2020 2073 686f 775f 656e 7669         show_envi
-0000b450: 726f 6e6d 656e 743d 5472 7565 2c20 7369  ronment=True, si
-0000b460: 7a65 3d28 3630 302c 2036 3030 292c 2078  ze=(600, 600), x
-0000b470: 6c69 6d73 3d4e 6f6e 652c 0a20 2020 2020  lims=None,.     
-0000b480: 2020 2020 2020 2020 2020 2020 796c 696d              ylim
-0000b490: 733d 4e6f 6e65 2c20 6470 693d 3735 2c20  s=None, dpi=75, 
-0000b4a0: 6178 6973 3d4e 6f6e 652c 2063 6f6c 6f72  axis=None, color
-0000b4b0: 6261 723d 4661 6c73 652c 0a20 2020 2020  bar=False,.     
-0000b4c0: 2020 2020 2020 2020 2020 2020 7368 6f77              show
-0000b4d0: 5f6c 6162 656c 733d 4661 6c73 652c 206c  _labels=False, l
-0000b4e0: 6179 6f75 743d 4e6f 6e65 2c20 7368 6f77  ayout=None, show
-0000b4f0: 3d46 616c 7365 2c20 2a2a 6b77 6172 6773  =False, **kwargs
-0000b500: 293a 0a20 2020 2027 2727 0a20 2020 2044  ):.    '''.    D
-0000b510: 7261 7720 6120 6769 7665 6e20 3a63 6c61  raw a given :cla
-0000b520: 7373 3a60 7e6e 6e67 742e 4772 6170 6860  ss:`~nngt.Graph`
-0000b530: 2075 7369 6e67 2074 6865 2075 6e64 6572   using the under
-0000b540: 6c79 696e 6720 6c69 6272 6172 7927 7320  lying library's 
-0000b550: 6472 6177 696e 670a 2020 2020 6675 6e63  drawing.    func
-0000b560: 7469 6f6e 732e 0a0a 2020 2020 2e2e 2076  tions...    .. v
-0000b570: 6572 7369 6f6e 6164 6465 643a 3a20 322e  ersionadded:: 2.
-0000b580: 300a 0a20 2020 202e 2e20 7761 726e 696e  0..    .. warnin
-0000b590: 673a 3a0a 2020 2020 2020 2020 5768 656e  g::.        When
-0000b5a0: 2075 7369 6e67 2069 6772 6170 6820 6f72   using igraph or
-0000b5b0: 2067 7261 7068 2d74 6f6f 6c2c 2069 6620   graph-tool, if 
-0000b5c0: 796f 7520 7761 6e74 2074 6f20 7573 6520  you want to use 
-0000b5d0: 7468 6520 6061 7869 7360 0a20 2020 2020  the `axis`.     
-0000b5e0: 2020 2061 7267 756d 656e 742c 2074 6865     argument, the
-0000b5f0: 6e20 796f 7520 6d75 7374 2066 6972 7374  n you must first
-0000b600: 2073 7769 7463 6820 7468 6520 6d61 7470   switch the matp
-0000b610: 6c6f 746c 6962 2062 6163 6b65 6e64 2074  lotlib backend t
-0000b620: 6f20 6974 730a 2020 2020 2020 2020 6361  o its.        ca
-0000b630: 6972 6f20 7665 7273 696f 6e20 7573 696e  iro version usin
-0000b640: 6720 652e 672e 2060 6070 6c74 2e73 7769  g e.g. ``plt.swi
-0000b650: 7463 685f 6261 636b 656e 6428 2251 7435  tch_backend("Qt5
-0000b660: 4361 6972 6f22 2960 6020 6966 2079 6f75  Cairo")`` if you
-0000b670: 720a 2020 2020 2020 2020 6e6f 726d 616c  r.        normal
-0000b680: 2062 6163 6b65 6e64 2069 7320 5174 3520   backend is Qt5 
-0000b690: 2822 5174 3541 6767 2229 2e0a 0a20 2020  ("Qt5Agg")...   
-0000b6a0: 2050 6172 616d 6574 6572 730a 2020 2020   Parameters.    
-0000b6b0: 2d2d 2d2d 2d2d 2d2d 2d2d 0a20 2020 206e  ----------.    n
-0000b6c0: 6574 776f 726b 203a 203a 636c 6173 733a  etwork : :class:
-0000b6d0: 607e 6e6e 6774 2e47 7261 7068 6020 6f72  `~nngt.Graph` or
-0000b6e0: 2073 7562 636c 6173 730a 2020 2020 2020   subclass.      
-0000b6f0: 2020 5468 6520 6772 6170 682f 6e65 7477    The graph/netw
-0000b700: 6f72 6b20 746f 2070 6c6f 742e 0a20 2020  ork to plot..   
-0000b710: 206e 7369 7a65 203a 2066 6c6f 6174 2c20   nsize : float, 
-0000b720: 6172 7261 7920 6f66 2066 6c6f 6174 206f  array of float o
-0000b730: 7220 7374 7269 6e67 2c20 6f70 7469 6f6e  r string, option
-0000b740: 616c 2028 6465 6661 756c 743a 2022 746f  al (default: "to
-0000b750: 7461 6c2d 6465 6772 6565 2229 0a20 2020  tal-degree").   
-0000b760: 2020 2020 2053 697a 6520 6f66 2074 6865       Size of the
-0000b770: 206e 6f64 6573 2061 7320 6120 7065 7263   nodes as a perc
-0000b780: 656e 7461 6765 206f 6620 7468 6520 6361  entage of the ca
-0000b790: 6e76 6173 206c 656e 6774 682e 204f 7468  nvas length. Oth
-0000b7a0: 6572 7769 7365 2c20 6974 0a20 2020 2020  erwise, it.     
-0000b7b0: 2020 2063 616e 2062 6520 6120 7374 7269     can be a stri
-0000b7c0: 6e67 2074 6861 7420 636f 7272 656c 6174  ng that correlat
-0000b7d0: 6573 2074 6865 2073 697a 6520 746f 2061  es the size to a
-0000b7e0: 206e 6f64 6520 6174 7472 6962 7574 6520   node attribute 
-0000b7f0: 616d 6f6e 670a 2020 2020 2020 2020 2269  among.        "i
-0000b800: 6e2f 6f75 742f 746f 7461 6c2d 6465 6772  n/out/total-degr
-0000b810: 6565 222c 206f 7220 2262 6574 7765 656e  ee", or "between
-0000b820: 6e65 7373 222e 0a20 2020 206e 636f 6c6f  ness"..    ncolo
-0000b830: 7220 3a20 666c 6f61 742c 2061 7272 6179  r : float, array
-0000b840: 206f 6620 666c 6f61 7473 206f 7220 7374   of floats or st
-0000b850: 7269 6e67 2c20 6f70 7469 6f6e 616c 2028  ring, optional (
-0000b860: 6465 6661 756c 743a 2030 2e35 290a 2020  default: 0.5).  
-0000b870: 2020 2020 2020 436f 6c6f 7220 6f66 2074        Color of t
-0000b880: 6865 206e 6f64 6573 3b20 6966 2061 2066  he nodes; if a f
-0000b890: 6c6f 6174 2069 6e20 5b30 2c20 315d 2c20  loat in [0, 1], 
-0000b8a0: 706f 7369 7469 6f6e 206f 6620 7468 6520  position of the 
-0000b8b0: 636f 6c6f 7220 696e 2074 6865 0a20 2020  color in the.   
-0000b8c0: 2020 2020 2063 7572 7265 6e74 2070 616c       current pal
-0000b8d0: 6574 7465 2c20 6f74 6865 7277 6973 6520  ette, otherwise 
-0000b8e0: 6120 7374 7269 6e67 2074 6861 7420 636f  a string that co
-0000b8f0: 7272 656c 6174 6573 2074 6865 2063 6f6c  rrelates the col
-0000b900: 6f72 2074 6f20 6120 6e6f 6465 0a20 2020  or to a node.   
-0000b910: 2020 2020 2061 7474 7269 6275 7465 206f       attribute o
-0000b920: 7220 2269 6e2f 6f75 742f 746f 7461 6c2d  r "in/out/total-
-0000b930: 6465 6772 6565 222c 2022 6265 7477 6565  degree", "betwee
-0000b940: 6e6e 6573 7322 2061 6e64 2022 6772 6f75  nness" and "grou
-0000b950: 7022 2e0a 2020 2020 2020 2020 4465 6661  p"..        Defa
-0000b960: 756c 7420 746f 2072 6564 206f 7220 6f6e  ult to red or on
-0000b970: 6520 636f 6c6f 7220 7065 7220 6772 6f75  e color per grou
-0000b980: 7020 696e 2074 6865 2067 7261 7068 2069  p in the graph i
-0000b990: 6620 6e6f 7420 7370 6563 6966 6965 642e  f not specified.
-0000b9a0: 0a20 2020 206e 7368 6170 6520 3a20 6368  .    nshape : ch
-0000b9b0: 6172 2c20 6172 7261 7920 6f66 2063 6861  ar, array of cha
-0000b9c0: 7273 2c20 6f72 2067 726f 7570 732c 206f  rs, or groups, o
-0000b9d0: 7074 696f 6e61 6c20 2864 6566 6175 6c74  ptional (default
-0000b9e0: 3a20 226f 2229 0a20 2020 2020 2020 2053  : "o").        S
-0000b9f0: 6861 7065 206f 6620 7468 6520 6e6f 6465  hape of the node
-0000ba00: 7320 2873 6565 2060 4d61 7470 6c6f 746c  s (see `Matplotl
-0000ba10: 6962 206d 6172 6b65 7273 203c 6874 7470  ib markers <http
-0000ba20: 3a2f 2f6d 6174 706c 6f74 6c69 622e 6f72  ://matplotlib.or
-0000ba30: 672f 6170 692f 0a20 2020 2020 2020 206d  g/api/.        m
-0000ba40: 6172 6b65 7273 5f61 7069 2e68 746d 6c3f  arkers_api.html?
-0000ba50: 6869 6768 6c69 6768 743d 6d61 726b 6572  highlight=marker
-0000ba60: 236d 6f64 756c 652d 6d61 7470 6c6f 746c  #module-matplotl
-0000ba70: 6962 2e6d 6172 6b65 7273 3e60 5f29 2e0a  ib.markers>`_)..
-0000ba80: 2020 2020 2020 2020 5768 656e 2075 7369          When usi
-0000ba90: 6e67 2067 726f 7570 732c 2074 6865 7920  ng groups, they 
-0000baa0: 6d75 7374 2062 6520 7061 6972 7769 7365  must be pairwise
-0000bab0: 2064 6973 6a6f 696e 743b 206d 6172 6b65   disjoint; marke
-0000bac0: 7273 2077 696c 6c20 6265 0a20 2020 2020  rs will be.     
-0000bad0: 2020 2073 656c 6563 7465 6420 6974 6572     selected iter
-0000bae0: 6174 6976 656c 7920 6672 6f6d 2074 6865  atively from the
-0000baf0: 206d 6174 706c 6f74 6c69 6220 6465 6661   matplotlib defa
-0000bb00: 756c 7420 6d61 726b 6572 732e 0a20 2020  ult markers..   
-0000bb10: 206e 626f 7264 6572 5f63 6f6c 6f72 203a   nborder_color :
-0000bb20: 2063 6861 722c 2066 6c6f 6174 206f 7220   char, float or 
-0000bb30: 6172 7261 792c 206f 7074 696f 6e61 6c20  array, optional 
-0000bb40: 2864 6566 6175 6c74 3a20 226b 2229 0a20  (default: "k"). 
-0000bb50: 2020 2020 2020 2043 6f6c 6f72 206f 6620         Color of 
-0000bb60: 7468 6520 6e6f 6465 2773 2062 6f72 6465  the node's borde
-0000bb70: 7220 7573 696e 6720 7072 6564 6566 696e  r using predefin
-0000bb80: 6564 2060 4d61 7470 6c6f 746c 6962 2063  ed `Matplotlib c
-0000bb90: 6f6c 6f72 730a 2020 2020 2020 2020 3c68  olors.        <h
-0000bba0: 7474 703a 2f2f 6d61 7470 6c6f 746c 6962  ttp://matplotlib
-0000bbb0: 2e6f 7267 2f61 7069 2f63 6f6c 6f72 735f  .org/api/colors_
-0000bbc0: 6170 692e 6874 6d6c 3f68 6967 686c 6967  api.html?highlig
-0000bbd0: 6874 3d63 6f6c 6f72 0a20 2020 2020 2020  ht=color.       
-0000bbe0: 2023 6d6f 6475 6c65 2d6d 6174 706c 6f74   #module-matplot
-0000bbf0: 6c69 622e 636f 6c6f 7273 3e60 5f29 2e0a  lib.colors>`_)..
-0000bc00: 2020 2020 2020 2020 6f72 2066 6c6f 6174          or float
-0000bc10: 7320 696e 205b 302c 2031 5d20 6465 6669  s in [0, 1] defi
-0000bc20: 6e69 6e67 2074 6865 2070 6f73 6974 696f  ning the positio
-0000bc30: 6e20 696e 2074 6865 2070 616c 6574 7465  n in the palette
-0000bc40: 2e0a 2020 2020 6e62 6f72 6465 725f 7769  ..    nborder_wi
-0000bc50: 6474 6820 3a20 666c 6f61 7420 6f72 2061  dth : float or a
-0000bc60: 7272 6179 206f 6620 666c 6f61 7473 2c20  rray of floats, 
-0000bc70: 6f70 7469 6f6e 616c 2028 6465 6661 756c  optional (defaul
-0000bc80: 743a 2030 2e35 290a 2020 2020 2020 2020  t: 0.5).        
-0000bc90: 5769 6474 6820 6f66 2074 6865 2062 6f72  Width of the bor
-0000bca0: 6465 7220 696e 2070 6572 6365 6e74 206f  der in percent o
-0000bcb0: 6620 6361 6e76 6173 2073 697a 652e 0a20  f canvas size.. 
-0000bcc0: 2020 2065 7369 7a65 203a 2066 6c6f 6174     esize : float
-0000bcd0: 2c20 7374 722c 206f 7220 6172 7261 7920  , str, or array 
-0000bce0: 6f66 2066 6c6f 6174 732c 206f 7074 696f  of floats, optio
-0000bcf0: 6e61 6c20 2864 6566 6175 6c74 3a20 302e  nal (default: 0.
-0000bd00: 3529 0a20 2020 2020 2020 2057 6964 7468  5).        Width
-0000bd10: 206f 6620 7468 6520 6564 6765 7320 696e   of the edges in
-0000bd20: 2070 6572 6365 6e74 206f 6620 6361 6e76   percent of canv
-0000bd30: 6173 206c 656e 6774 682e 2041 7661 696c  as length. Avail
-0000bd40: 6162 6c65 2073 7472 696e 6720 7661 6c75  able string valu
-0000bd50: 6573 0a20 2020 2020 2020 2061 7265 2022  es.        are "
-0000bd60: 6265 7477 6565 6e6e 6573 7322 2061 6e64  betweenness" and
-0000bd70: 2022 7765 6967 6874 222e 0a20 2020 2065   "weight"..    e
-0000bd80: 636f 6c6f 7220 3a20 7374 722c 2063 6861  color : str, cha
-0000bd90: 722c 2066 6c6f 6174 206f 7220 6172 7261  r, float or arra
-0000bda0: 792c 206f 7074 696f 6e61 6c20 2864 6566  y, optional (def
-0000bdb0: 6175 6c74 3a20 226b 2229 0a20 2020 2020  ault: "k").     
-0000bdc0: 2020 2045 6467 6520 636f 6c6f 722e 2049     Edge color. I
-0000bdd0: 6620 6563 6f6c 6f72 3d22 6772 6f75 7073  f ecolor="groups
-0000bde0: 222c 2065 6467 6573 2063 6f6c 6f72 2077  ", edges color w
-0000bdf0: 696c 6c20 6465 7065 6e64 206f 6e20 7468  ill depend on th
-0000be00: 6520 736f 7572 6365 0a20 2020 2020 2020  e source.       
-0000be10: 2061 6e64 2074 6172 6765 7420 6772 6f75   and target grou
-0000be20: 7073 2c20 692e 652e 206f 6e6c 7920 6564  ps, i.e. only ed
-0000be30: 6765 7320 6672 6f6d 2061 6e64 2074 6f77  ges from and tow
-0000be40: 6172 6420 7361 6d65 2067 726f 7570 7320  ard same groups 
-0000be50: 7769 6c6c 0a20 2020 2020 2020 2068 6176  will.        hav
-0000be60: 6520 7468 6520 7361 6d65 2063 6f6c 6f72  e the same color
-0000be70: 2e0a 2020 2020 7468 7265 7368 6f6c 6420  ..    threshold 
-0000be80: 3a20 666c 6f61 742c 206f 7074 696f 6e61  : float, optiona
-0000be90: 6c20 2864 6566 6175 6c74 3a20 302e 3529  l (default: 0.5)
-0000bea0: 0a20 2020 2020 2020 2053 697a 6520 756e  .        Size un
-0000beb0: 6465 7220 7768 6963 6820 6564 6765 7320  der which edges 
-0000bec0: 6172 6520 6e6f 7420 706c 6f74 7465 642e  are not plotted.
-0000bed0: 0a20 2020 2064 6563 696d 6174 655f 636f  .    decimate_co
-0000bee0: 6e6e 6563 7469 6f6e 7320 3a20 696e 742c  nnections : int,
-0000bef0: 206f 7074 696f 6e61 6c20 2864 6566 6175   optional (defau
-0000bf00: 6c74 3a20 6b65 6570 2061 6c6c 2063 6f6e  lt: keep all con
-0000bf10: 6e65 6374 696f 6e73 290a 2020 2020 2020  nections).      
-0000bf20: 2020 506c 6f74 206f 6e6c 7920 6f6e 6520    Plot only one 
-0000bf30: 636f 6e6e 6563 7469 6f6e 2065 7665 7279  connection every
-0000bf40: 2060 6465 6369 6d61 7465 5f63 6f6e 6e65   `decimate_conne
-0000bf50: 6374 696f 6e73 602e 0a20 2020 2020 2020  ctions`..       
-0000bf60: 2055 7365 202d 3120 746f 2068 6964 6520   Use -1 to hide 
-0000bf70: 616c 6c20 6564 6765 732e 0a20 2020 2073  all edges..    s
-0000bf80: 7061 7469 616c 203a 2062 6f6f 6c2c 206f  patial : bool, o
-0000bf90: 7074 696f 6e61 6c20 2864 6566 6175 6c74  ptional (default
-0000bfa0: 3a20 5472 7565 290a 2020 2020 2020 2020  : True).        
-0000bfb0: 4966 2054 7275 652c 2075 7365 2074 6865  If True, use the
-0000bfc0: 206e 6575 726f 6e73 2720 706f 7369 7469   neurons' positi
-0000bfd0: 6f6e 7320 746f 2064 7261 7720 7468 656d  ons to draw them
-0000bfe0: 2e0a 2020 2020 7265 7374 7269 6374 5f73  ..    restrict_s
-0000bff0: 6f75 7263 6573 203a 2073 7472 2c20 6772  ources : str, gr
-0000c000: 6f75 702c 206f 7220 6c69 7374 2c20 6f70  oup, or list, op
-0000c010: 7469 6f6e 616c 2028 6465 6661 756c 743a  tional (default:
-0000c020: 2061 6c6c 290a 2020 2020 2020 2020 4f6e   all).        On
-0000c030: 6c79 2064 7261 7720 6564 6765 7320 7374  ly draw edges st
-0000c040: 6172 7469 6e67 2066 726f 6d20 6120 7265  arting from a re
-0000c050: 7374 7269 6374 6564 2073 6574 206f 6620  stricted set of 
-0000c060: 736f 7572 6365 206e 6f64 6573 2e0a 2020  source nodes..  
-0000c070: 2020 7265 7374 7269 6374 5f74 6172 6765    restrict_targe
-0000c080: 7473 203a 2073 7472 2c20 6772 6f75 702c  ts : str, group,
-0000c090: 206f 7220 6c69 7374 2c20 6f70 7469 6f6e   or list, option
-0000c0a0: 616c 2028 6465 6661 756c 743a 2061 6c6c  al (default: all
-0000c0b0: 290a 2020 2020 2020 2020 4f6e 6c79 2064  ).        Only d
-0000c0c0: 7261 7720 6564 6765 7320 656e 6469 6e67  raw edges ending
-0000c0d0: 206f 6e20 6120 7265 7374 7269 6374 6564   on a restricted
-0000c0e0: 2073 6574 206f 6620 7461 7267 6574 206e   set of target n
-0000c0f0: 6f64 6573 2e0a 2020 2020 7265 7374 7269  odes..    restri
-0000c100: 6374 5f6e 6f64 6573 203a 2073 7472 2c20  ct_nodes : str, 
-0000c110: 6772 6f75 702c 206f 7220 6c69 7374 2c20  group, or list, 
-0000c120: 6f70 7469 6f6e 616c 2028 6465 6661 756c  optional (defaul
-0000c130: 743a 2070 6c6f 7420 616c 6c20 6e6f 6465  t: plot all node
-0000c140: 7329 0a20 2020 2020 2020 204f 6e6c 7920  s).        Only 
-0000c150: 6472 6177 2061 2073 7562 7365 7420 6f66  draw a subset of
-0000c160: 206e 6f64 6573 2e0a 2020 2020 7265 7374   nodes..    rest
-0000c170: 7269 6374 5f65 6467 6573 203a 206c 6973  rict_edges : lis
-0000c180: 7420 6f66 2065 6467 6573 2c20 6f70 7469  t of edges, opti
-0000c190: 6f6e 616c 2028 6465 6661 756c 743a 2061  onal (default: a
-0000c1a0: 6c6c 290a 2020 2020 2020 2020 4f6e 6c79  ll).        Only
-0000c1b0: 2064 7261 7720 6120 7375 6273 6574 206f   draw a subset o
-0000c1c0: 6620 6564 6765 732e 0a20 2020 2073 686f  f edges..    sho
-0000c1d0: 775f 656e 7669 726f 6e6d 656e 7420 3a20  w_environment : 
-0000c1e0: 626f 6f6c 2c20 6f70 7469 6f6e 616c 2028  bool, optional (
-0000c1f0: 6465 6661 756c 743a 2054 7275 6529 0a20  default: True). 
-0000c200: 2020 2020 2020 2050 6c6f 7420 7468 6520         Plot the 
-0000c210: 656e 7669 726f 6e6d 656e 7420 6966 2074  environment if t
-0000c220: 6865 2067 7261 7068 2069 7320 7370 6174  he graph is spat
-0000c230: 6961 6c2e 0a20 2020 2073 697a 6520 3a20  ial..    size : 
-0000c240: 7475 706c 6520 6f66 2069 6e74 732c 206f  tuple of ints, o
-0000c250: 7074 696f 6e61 6c20 2864 6566 6175 6c74  ptional (default
-0000c260: 3a20 2836 3030 2c20 3630 3029 290a 2020  : (600, 600)).  
-0000c270: 2020 2020 2020 2877 6964 7468 2c20 6865        (width, he
-0000c280: 6967 6874 2920 7475 706c 6520 666f 7220  ight) tuple for 
-0000c290: 7468 6520 6361 6e76 6173 2073 697a 6520  the canvas size 
-0000c2a0: 2869 6e20 7078 292e 0a20 2020 2064 7069  (in px)..    dpi
-0000c2b0: 203a 2069 6e74 2c20 6f70 7469 6f6e 616c   : int, optional
-0000c2c0: 2028 6465 6661 756c 743a 2037 3529 0a20   (default: 75). 
-0000c2d0: 2020 2020 2020 2052 6573 6f6c 7574 696f         Resolutio
-0000c2e0: 6e20 2864 6f74 2070 6572 2069 6e63 6829  n (dot per inch)
-0000c2f0: 2e0a 2020 2020 636f 6c6f 7262 6172 203a  ..    colorbar :
-0000c300: 2062 6f6f 6c2c 206f 7074 696f 6e61 6c20   bool, optional 
-0000c310: 2864 6566 6175 6c74 3a20 4661 6c73 6529  (default: False)
-0000c320: 0a20 2020 2020 2020 2057 6865 7468 6572  .        Whether
-0000c330: 2074 6f20 6469 7370 6c61 7920 6120 636f   to display a co
-0000c340: 6c6f 7262 6172 2066 6f72 2074 6865 206e  lorbar for the n
-0000c350: 6f64 6520 636f 6c6f 7273 206f 7220 6e6f  ode colors or no
-0000c360: 742e 0a20 2020 2061 7869 7320 3a20 6d61  t..    axis : ma
-0000c370: 7470 6c6f 746c 6962 2061 7869 732c 206f  tplotlib axis, o
-0000c380: 7074 696f 6e61 6c20 2864 6566 6175 6c74  ptional (default
-0000c390: 3a20 6372 6561 7465 206e 6577 2061 7869  : create new axi
-0000c3a0: 7329 0a20 2020 2020 2020 2041 7869 7320  s).        Axis 
-0000c3b0: 6f6e 2077 6869 6368 2074 6865 206e 6574  on which the net
-0000c3c0: 776f 726b 2077 696c 6c20 6265 2070 6c6f  work will be plo
-0000c3d0: 7474 6564 2e0a 2020 2020 6c61 796f 7574  tted..    layout
-0000c3e0: 203a 2073 7472 2c20 6f70 7469 6f6e 616c   : str, optional
-0000c3f0: 2028 6465 6661 756c 743a 206c 6962 7261   (default: libra
-0000c400: 7279 2d64 6570 656e 6465 6e74 206f 7220  ry-dependent or 
-0000c410: 7370 6174 6961 6c20 706f 7369 7469 6f6e  spatial position
-0000c420: 7329 0a20 2020 2020 2020 204e 616d 6520  s).        Name 
-0000c430: 6f66 2061 2073 7461 6e64 6172 6420 6c61  of a standard la
-0000c440: 796f 7574 2074 6f20 7374 7275 6374 7572  yout to structur
-0000c450: 6520 7468 6520 6e65 7477 6f72 6b2e 2041  e the network. A
-0000c460: 7661 696c 6162 6c65 206c 6179 6f75 7473  vailable layouts
-0000c470: 0a20 2020 2020 2020 2061 7265 3a20 2263  .        are: "c
-0000c480: 6972 6375 6c61 7222 2c20 2273 7072 696e  ircular", "sprin
-0000c490: 672d 626c 6f63 6b22 2c20 2272 616e 646f  g-block", "rando
-0000c4a0: 6d22 2e20 4966 206e 6f20 6c61 796f 7574  m". If no layout
-0000c4b0: 2069 730a 2020 2020 2020 2020 7072 6f76   is.        prov
-0000c4c0: 6964 6564 2061 6e64 2074 6865 206e 6574  ided and the net
-0000c4d0: 776f 726b 2069 7320 7370 6174 6961 6c2c  work is spatial,
-0000c4e0: 2074 6865 6e20 6e6f 6465 2070 6f73 6974   then node posit
-0000c4f0: 696f 6e73 2077 696c 6c20 6265 0a20 2020  ions will be.   
-0000c500: 2020 2020 2075 7365 6420 6279 2064 6566       used by def
-0000c510: 6175 6c74 2e0a 2020 2020 7368 6f77 203a  ault..    show :
-0000c520: 2062 6f6f 6c2c 206f 7074 696f 6e61 6c20   bool, optional 
-0000c530: 2864 6566 6175 6c74 3a20 5472 7565 290a  (default: True).
-0000c540: 2020 2020 2020 2020 4469 7370 6c61 7920          Display 
-0000c550: 7468 6520 706c 6f74 2069 6d6d 6564 6961  the plot immedia
-0000c560: 7465 6c79 2e0a 2020 2020 2a2a 6b77 6172  tely..    **kwar
-0000c570: 6773 203a 2064 6963 740a 2020 2020 2020  gs : dict.      
-0000c580: 2020 4f70 7469 6f6e 616c 206b 6579 776f    Optional keywo
-0000c590: 7264 2061 7267 756d 656e 7473 2e0a 0a20  rd arguments... 
-0000c5a0: 2020 2020 2020 203d 3d3d 3d3d 3d3d 3d3d         =========
-0000c5b0: 3d3d 3d3d 3d3d 3d20 203d 3d3d 3d3d 3d3d  =======  =======
-0000c5c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d20 203d 3d3d  ===========  ===
-0000c5d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0000c5e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a20  ==============. 
-0000c5f0: 2020 2020 2020 2020 2020 2020 204e 616d               Nam
-0000c600: 6520 2020 2020 2020 2020 2020 2020 2020  e               
-0000c610: 5479 7065 2020 2020 2020 2020 2020 2020  Type            
-0000c620: 5075 7270 6f73 6520 616e 6420 706f 7373  Purpose and poss
-0000c630: 6962 6c65 2076 616c 7565 730a 2020 2020  ible values.    
-0000c640: 2020 2020 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d      ============
-0000c650: 3d3d 3d3d 2020 3d3d 3d3d 3d3d 3d3d 3d3d  ====  ==========
-0000c660: 3d3d 3d3d 3d3d 3d3d 2020 3d3d 3d3d 3d3d  ========  ======
-0000c670: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0000c680: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 2020 2020  ===========.    
-0000c690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c6a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c6b0: 2020 2020 2020 2020 2020 4465 7369 7265            Desire
-0000c6c0: 6420 6e6f 6465 2063 6f6c 6f72 6d61 7020  d node colormap 
-0000c6d0: 2864 6566 6175 6c74 2069 730a 2020 2020  (default is.    
-0000c6e0: 2020 2020 6e6f 6465 5f63 6d61 7020 2020      node_cmap   
-0000c6f0: 2020 2020 2020 7374 7220 2020 2020 2020        str       
-0000c700: 2020 2020 2020 2020 2020 226d 6167 6d61            "magma
-0000c710: 2220 666f 7220 636f 6e74 696e 756f 7573  " for continuous
-0000c720: 2076 6172 6961 626c 6573 0a20 2020 2020   variables.     
+0000ab50: 2020 6c77 2e61 7070 656e 6428 6573 697a    lw.append(esiz
+0000ab60: 655b 286e 732c 206e 7429 5d29 0a20 2020  e[(ns, nt)]).   
+0000ab70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ab80: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+0000ab90: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+0000aba0: 6174 6873 5f67 7265 7973 2e61 7070 656e  aths_greys.appen
+0000abb0: 6428 5f70 6c6f 745f 6265 7a69 6572 280a  d(_plot_bezier(.
+0000abc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000abd0: 2020 2020 2020 2020 2020 2020 7073 7461              psta
+0000abe0: 7274 2c20 7073 746f 702c 2061 6e67 6c65  rt, pstop, angle
+0000abf0: 735b 6964 785f 735d 2c20 616e 676c 6573  s[idx_s], angles
+0000ac00: 5b69 6478 5f74 5d2c 0a20 2020 2020 2020  [idx_t],.       
+0000ac10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ac20: 2020 2020 2072 6164 6961 6c5f 7661 6c75       radial_valu
+0000ac30: 6573 5b69 5d5b 6e73 5d2c 2072 6164 6961  es[i][ns], radia
+0000ac40: 6c5f 7661 6c75 6573 5b6a 5d5b 6e74 5d2c  l_values[j][nt],
+0000ac50: 2069 2c20 6a2c 0a20 2020 2020 2020 2020   i, j,.         
+0000ac60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ac70: 2020 206e 756d 5f61 7865 732c 2078 732c     num_axes, xs,
+0000ac80: 2079 7329 290a 0a20 2020 2020 2020 2020   ys))..         
+0000ac90: 2020 2020 2020 2069 6620 7061 7468 735f         if paths_
+0000aca0: 6772 6579 733a 0a20 2020 2020 2020 2020  greys:.         
+0000acb0: 2020 2020 2020 2020 2020 2070 636f 6c20             pcol 
+0000acc0: 3d20 5061 7468 436f 6c6c 6563 7469 6f6e  = PathCollection
+0000acd0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+0000ace0: 2020 2020 2020 2020 2020 7061 7468 735f            paths_
+0000acf0: 6772 6579 732c 2066 6163 6563 6f6c 6f72  greys, facecolor
+0000ad00: 733d 226e 6f6e 6522 2c20 6564 6765 636f  s="none", edgeco
+0000ad10: 6c6f 7273 3d22 6772 6579 222c 0a20 2020  lors="grey",.   
+0000ad20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ad30: 2020 2020 2061 6c70 6861 3d30 2e31 2a65       alpha=0.1*e
+0000ad40: 6467 655f 616c 7068 612c 207a 6f72 6465  dge_alpha, zorde
+0000ad50: 723d 3129 0a0a 2020 2020 2020 2020 2020  r=1)..          
+0000ad60: 2020 2020 2020 2020 2020 6178 6973 2e61            axis.a
+0000ad70: 6464 5f63 6f6c 6c65 6374 696f 6e28 7063  dd_collection(pc
+0000ad80: 6f6c 290a 0a20 2020 2020 2020 2020 2020  ol)..           
+0000ad90: 2020 2020 2061 6c70 6861 203d 2030 2e37       alpha = 0.7
+0000ada0: 2069 6620 6869 6768 6c69 6768 745f 6e6f   if highlight_no
+0000adb0: 6465 7320 656c 7365 2065 6467 655f 616c  des else edge_al
+0000adc0: 7068 610a 0a20 2020 2020 2020 2020 2020  pha..           
+0000add0: 2020 2020 2070 636f 6c20 3d20 5061 7468       pcol = Path
+0000ade0: 436f 6c6c 6563 7469 6f6e 2870 6174 6873  Collection(paths
+0000adf0: 5f68 6768 6c74 2c20 6661 6365 636f 6c6f  _hghlt, facecolo
+0000ae00: 7273 3d22 6e6f 6e65 222c 206c 773d 6c77  rs="none", lw=lw
+0000ae10: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000ae20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ae30: 2020 2020 2020 2020 6564 6765 636f 6c6f          edgecolo
+0000ae40: 7273 3d63 6f6c 6f72 2c20 616c 7068 613d  rs=color, alpha=
+0000ae50: 616c 7068 612c 207a 6f72 6465 723d 3229  alpha, zorder=2)
+0000ae60: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000ae70: 2020 6178 6973 2e61 6464 5f63 6f6c 6c65    axis.add_colle
+0000ae80: 6374 696f 6e28 7063 6f6c 290a 0a20 2020  ction(pcol)..   
+0000ae90: 205f 7365 745f 6e61 6d65 735f 6c69 6d73   _set_names_lims
+0000aea0: 2861 785f 6e61 6d65 732c 2061 6e67 6c65  (ax_names, angle
+0000aeb0: 732c 206d 6178 5f72 6164 6969 2c20 7873  s, max_radii, xs
+0000aec0: 2c20 7973 2c20 696e 7472 615f 636f 6e6e  , ys, intra_conn
+0000aed0: 6563 7469 6f6e 732c 0a20 2020 2020 2020  ections,.       
+0000aee0: 2020 2020 2020 2020 2020 2020 2073 686f               sho
+0000aef0: 775f 6e61 6d65 732c 2061 7869 732c 2073  w_names, axis, s
+0000af00: 686f 775f 6369 7263 6c65 7329 0a0a 0a20  how_circles)... 
+0000af10: 2020 2061 7869 732e 7365 745f 6173 7065     axis.set_aspe
+0000af20: 6374 2831 290a 2020 2020 6178 6973 2e61  ct(1).    axis.a
+0000af30: 7869 7328 276f 6666 2729 0a0a 2020 2020  xis('off')..    
+0000af40: 6966 2074 6967 6874 3a0a 2020 2020 2020  if tight:.      
+0000af50: 2020 706c 742e 7469 6768 745f 6c61 796f    plt.tight_layo
+0000af60: 7574 2829 0a0a 2020 2020 6966 2073 686f  ut()..    if sho
+0000af70: 773a 0a20 2020 2020 2020 2070 6c74 2e73  w:.        plt.s
+0000af80: 686f 7728 290a 0a0a 6465 6620 6c69 6272  how()...def libr
+0000af90: 6172 795f 6472 6177 286e 6574 776f 726b  ary_draw(network
+0000afa0: 2c20 6e73 697a 653d 2274 6f74 616c 2d64  , nsize="total-d
+0000afb0: 6567 7265 6522 2c20 6e63 6f6c 6f72 3d4e  egree", ncolor=N
+0000afc0: 6f6e 652c 206e 7368 6170 653d 226f 222c  one, nshape="o",
+0000afd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000afe0: 2020 6e62 6f72 6465 725f 636f 6c6f 723d    nborder_color=
+0000aff0: 226b 222c 206e 626f 7264 6572 5f77 6964  "k", nborder_wid
+0000b000: 7468 3d30 2e35 2c20 6573 697a 653d 312e  th=0.5, esize=1.
+0000b010: 2c20 6563 6f6c 6f72 3d22 6b22 2c0a 2020  , ecolor="k",.  
+0000b020: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0000b030: 616c 7068 613d 302e 352c 2063 7572 7665  alpha=0.5, curve
+0000b040: 645f 6564 6765 733d 4661 6c73 652c 2074  d_edges=False, t
+0000b050: 6872 6573 686f 6c64 3d30 2e35 2c0a 2020  hreshold=0.5,.  
+0000b060: 2020 2020 2020 2020 2020 2020 2020 2064                 d
+0000b070: 6563 696d 6174 655f 636f 6e6e 6563 7469  ecimate_connecti
+0000b080: 6f6e 733d 4e6f 6e65 2c20 7370 6174 6961  ons=None, spatia
+0000b090: 6c3d 5472 7565 2c0a 2020 2020 2020 2020  l=True,.        
+0000b0a0: 2020 2020 2020 2020 2072 6573 7472 6963           restric
+0000b0b0: 745f 736f 7572 6365 733d 4e6f 6e65 2c20  t_sources=None, 
+0000b0c0: 7265 7374 7269 6374 5f74 6172 6765 7473  restrict_targets
+0000b0d0: 3d4e 6f6e 652c 0a20 2020 2020 2020 2020  =None,.         
+0000b0e0: 2020 2020 2020 2020 7265 7374 7269 6374          restrict
+0000b0f0: 5f6e 6f64 6573 3d4e 6f6e 652c 2072 6573  _nodes=None, res
+0000b100: 7472 6963 745f 6564 6765 733d 4e6f 6e65  trict_edges=None
+0000b110: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000b120: 2020 2073 686f 775f 656e 7669 726f 6e6d     show_environm
+0000b130: 656e 743d 5472 7565 2c20 7369 7a65 3d28  ent=True, size=(
+0000b140: 3630 302c 2036 3030 292c 2078 6c69 6d73  600, 600), xlims
+0000b150: 3d4e 6f6e 652c 0a20 2020 2020 2020 2020  =None,.         
+0000b160: 2020 2020 2020 2020 796c 696d 733d 4e6f          ylims=No
+0000b170: 6e65 2c20 6470 693d 3735 2c20 6178 6973  ne, dpi=75, axis
+0000b180: 3d4e 6f6e 652c 2063 6f6c 6f72 6261 723d  =None, colorbar=
+0000b190: 4661 6c73 652c 0a20 2020 2020 2020 2020  False,.         
+0000b1a0: 2020 2020 2020 2020 7368 6f77 5f6c 6162          show_lab
+0000b1b0: 656c 733d 4661 6c73 652c 206c 6179 6f75  els=False, layou
+0000b1c0: 743d 4e6f 6e65 2c20 7368 6f77 3d46 616c  t=None, show=Fal
+0000b1d0: 7365 2c20 2a2a 6b77 6172 6773 293a 0a20  se, **kwargs):. 
+0000b1e0: 2020 2027 2727 0a20 2020 2044 7261 7720     '''.    Draw 
+0000b1f0: 6120 6769 7665 6e20 3a63 6c61 7373 3a60  a given :class:`
+0000b200: 7e6e 6e67 742e 4772 6170 6860 2075 7369  ~nngt.Graph` usi
+0000b210: 6e67 2074 6865 2075 6e64 6572 6c79 696e  ng the underlyin
+0000b220: 6720 6c69 6272 6172 7927 7320 6472 6177  g library's draw
+0000b230: 696e 670a 2020 2020 6675 6e63 7469 6f6e  ing.    function
+0000b240: 732e 0a0a 2020 2020 2e2e 2076 6572 7369  s...    .. versi
+0000b250: 6f6e 6164 6465 643a 3a20 322e 300a 0a20  onadded:: 2.0.. 
+0000b260: 2020 202e 2e20 7761 726e 696e 673a 3a0a     .. warning::.
+0000b270: 2020 2020 2020 2020 5768 656e 2075 7369          When usi
+0000b280: 6e67 2069 6772 6170 6820 6f72 2067 7261  ng igraph or gra
+0000b290: 7068 2d74 6f6f 6c2c 2069 6620 796f 7520  ph-tool, if you 
+0000b2a0: 7761 6e74 2074 6f20 7573 6520 7468 6520  want to use the 
+0000b2b0: 6061 7869 7360 0a20 2020 2020 2020 2061  `axis`.        a
+0000b2c0: 7267 756d 656e 742c 2074 6865 6e20 796f  rgument, then yo
+0000b2d0: 7520 6d75 7374 2066 6972 7374 2073 7769  u must first swi
+0000b2e0: 7463 6820 7468 6520 6d61 7470 6c6f 746c  tch the matplotl
+0000b2f0: 6962 2062 6163 6b65 6e64 2074 6f20 6974  ib backend to it
+0000b300: 730a 2020 2020 2020 2020 6361 6972 6f20  s.        cairo 
+0000b310: 7665 7273 696f 6e20 7573 696e 6720 652e  version using e.
+0000b320: 672e 2060 6070 6c74 2e73 7769 7463 685f  g. ``plt.switch_
+0000b330: 6261 636b 656e 6428 2251 7435 4361 6972  backend("Qt5Cair
+0000b340: 6f22 2960 6020 6966 2079 6f75 720a 2020  o")`` if your.  
+0000b350: 2020 2020 2020 6e6f 726d 616c 2062 6163        normal bac
+0000b360: 6b65 6e64 2069 7320 5174 3520 2822 5174  kend is Qt5 ("Qt
+0000b370: 3541 6767 2229 2e0a 0a20 2020 2050 6172  5Agg")...    Par
+0000b380: 616d 6574 6572 730a 2020 2020 2d2d 2d2d  ameters.    ----
+0000b390: 2d2d 2d2d 2d2d 0a20 2020 206e 6574 776f  ------.    netwo
+0000b3a0: 726b 203a 203a 636c 6173 733a 607e 6e6e  rk : :class:`~nn
+0000b3b0: 6774 2e47 7261 7068 6020 6f72 2073 7562  gt.Graph` or sub
+0000b3c0: 636c 6173 730a 2020 2020 2020 2020 5468  class.        Th
+0000b3d0: 6520 6772 6170 682f 6e65 7477 6f72 6b20  e graph/network 
+0000b3e0: 746f 2070 6c6f 742e 0a20 2020 206e 7369  to plot..    nsi
+0000b3f0: 7a65 203a 2066 6c6f 6174 2c20 6172 7261  ze : float, arra
+0000b400: 7920 6f66 2066 6c6f 6174 206f 7220 7374  y of float or st
+0000b410: 7269 6e67 2c20 6f70 7469 6f6e 616c 2028  ring, optional (
+0000b420: 6465 6661 756c 743a 2022 746f 7461 6c2d  default: "total-
+0000b430: 6465 6772 6565 2229 0a20 2020 2020 2020  degree").       
+0000b440: 2053 697a 6520 6f66 2074 6865 206e 6f64   Size of the nod
+0000b450: 6573 2061 7320 6120 7065 7263 656e 7461  es as a percenta
+0000b460: 6765 206f 6620 7468 6520 6361 6e76 6173  ge of the canvas
+0000b470: 206c 656e 6774 682e 204f 7468 6572 7769   length. Otherwi
+0000b480: 7365 2c20 6974 0a20 2020 2020 2020 2063  se, it.        c
+0000b490: 616e 2062 6520 6120 7374 7269 6e67 2074  an be a string t
+0000b4a0: 6861 7420 636f 7272 656c 6174 6573 2074  hat correlates t
+0000b4b0: 6865 2073 697a 6520 746f 2061 206e 6f64  he size to a nod
+0000b4c0: 6520 6174 7472 6962 7574 6520 616d 6f6e  e attribute amon
+0000b4d0: 670a 2020 2020 2020 2020 2269 6e2f 6f75  g.        "in/ou
+0000b4e0: 742f 746f 7461 6c2d 6465 6772 6565 222c  t/total-degree",
+0000b4f0: 206f 7220 2262 6574 7765 656e 6e65 7373   or "betweenness
+0000b500: 222e 0a20 2020 206e 636f 6c6f 7220 3a20  "..    ncolor : 
+0000b510: 666c 6f61 742c 2061 7272 6179 206f 6620  float, array of 
+0000b520: 666c 6f61 7473 206f 7220 7374 7269 6e67  floats or string
+0000b530: 2c20 6f70 7469 6f6e 616c 2028 6465 6661  , optional (defa
+0000b540: 756c 743a 2030 2e35 290a 2020 2020 2020  ult: 0.5).      
+0000b550: 2020 436f 6c6f 7220 6f66 2074 6865 206e    Color of the n
+0000b560: 6f64 6573 3b20 6966 2061 2066 6c6f 6174  odes; if a float
+0000b570: 2069 6e20 5b30 2c20 315d 2c20 706f 7369   in [0, 1], posi
+0000b580: 7469 6f6e 206f 6620 7468 6520 636f 6c6f  tion of the colo
+0000b590: 7220 696e 2074 6865 0a20 2020 2020 2020  r in the.       
+0000b5a0: 2063 7572 7265 6e74 2070 616c 6574 7465   current palette
+0000b5b0: 2c20 6f74 6865 7277 6973 6520 6120 7374  , otherwise a st
+0000b5c0: 7269 6e67 2074 6861 7420 636f 7272 656c  ring that correl
+0000b5d0: 6174 6573 2074 6865 2063 6f6c 6f72 2074  ates the color t
+0000b5e0: 6f20 6120 6e6f 6465 0a20 2020 2020 2020  o a node.       
+0000b5f0: 2061 7474 7269 6275 7465 206f 7220 2269   attribute or "i
+0000b600: 6e2f 6f75 742f 746f 7461 6c2d 6465 6772  n/out/total-degr
+0000b610: 6565 222c 2022 6265 7477 6565 6e6e 6573  ee", "betweennes
+0000b620: 7322 2061 6e64 2022 6772 6f75 7022 2e0a  s" and "group"..
+0000b630: 2020 2020 2020 2020 4465 6661 756c 7420          Default 
+0000b640: 746f 2072 6564 206f 7220 6f6e 6520 636f  to red or one co
+0000b650: 6c6f 7220 7065 7220 6772 6f75 7020 696e  lor per group in
+0000b660: 2074 6865 2067 7261 7068 2069 6620 6e6f   the graph if no
+0000b670: 7420 7370 6563 6966 6965 642e 0a20 2020  t specified..   
+0000b680: 206e 7368 6170 6520 3a20 6368 6172 2c20   nshape : char, 
+0000b690: 6172 7261 7920 6f66 2063 6861 7273 2c20  array of chars, 
+0000b6a0: 6f72 2067 726f 7570 732c 206f 7074 696f  or groups, optio
+0000b6b0: 6e61 6c20 2864 6566 6175 6c74 3a20 226f  nal (default: "o
+0000b6c0: 2229 0a20 2020 2020 2020 2053 6861 7065  ").        Shape
+0000b6d0: 206f 6620 7468 6520 6e6f 6465 7320 2873   of the nodes (s
+0000b6e0: 6565 2060 4d61 7470 6c6f 746c 6962 206d  ee `Matplotlib m
+0000b6f0: 6172 6b65 7273 203c 6874 7470 3a2f 2f6d  arkers <http://m
+0000b700: 6174 706c 6f74 6c69 622e 6f72 672f 6170  atplotlib.org/ap
+0000b710: 692f 0a20 2020 2020 2020 206d 6172 6b65  i/.        marke
+0000b720: 7273 5f61 7069 2e68 746d 6c3f 6869 6768  rs_api.html?high
+0000b730: 6c69 6768 743d 6d61 726b 6572 236d 6f64  light=marker#mod
+0000b740: 756c 652d 6d61 7470 6c6f 746c 6962 2e6d  ule-matplotlib.m
+0000b750: 6172 6b65 7273 3e60 5f29 2e0a 2020 2020  arkers>`_)..    
+0000b760: 2020 2020 5768 656e 2075 7369 6e67 2067      When using g
+0000b770: 726f 7570 732c 2074 6865 7920 6d75 7374  roups, they must
+0000b780: 2062 6520 7061 6972 7769 7365 2064 6973   be pairwise dis
+0000b790: 6a6f 696e 743b 206d 6172 6b65 7273 2077  joint; markers w
+0000b7a0: 696c 6c20 6265 0a20 2020 2020 2020 2073  ill be.        s
+0000b7b0: 656c 6563 7465 6420 6974 6572 6174 6976  elected iterativ
+0000b7c0: 656c 7920 6672 6f6d 2074 6865 206d 6174  ely from the mat
+0000b7d0: 706c 6f74 6c69 6220 6465 6661 756c 7420  plotlib default 
+0000b7e0: 6d61 726b 6572 732e 0a20 2020 206e 626f  markers..    nbo
+0000b7f0: 7264 6572 5f63 6f6c 6f72 203a 2063 6861  rder_color : cha
+0000b800: 722c 2066 6c6f 6174 206f 7220 6172 7261  r, float or arra
+0000b810: 792c 206f 7074 696f 6e61 6c20 2864 6566  y, optional (def
+0000b820: 6175 6c74 3a20 226b 2229 0a20 2020 2020  ault: "k").     
+0000b830: 2020 2043 6f6c 6f72 206f 6620 7468 6520     Color of the 
+0000b840: 6e6f 6465 2773 2062 6f72 6465 7220 7573  node's border us
+0000b850: 696e 6720 7072 6564 6566 696e 6564 2060  ing predefined `
+0000b860: 4d61 7470 6c6f 746c 6962 2063 6f6c 6f72  Matplotlib color
+0000b870: 730a 2020 2020 2020 2020 3c68 7474 703a  s.        <http:
+0000b880: 2f2f 6d61 7470 6c6f 746c 6962 2e6f 7267  //matplotlib.org
+0000b890: 2f61 7069 2f63 6f6c 6f72 735f 6170 692e  /api/colors_api.
+0000b8a0: 6874 6d6c 3f68 6967 686c 6967 6874 3d63  html?highlight=c
+0000b8b0: 6f6c 6f72 0a20 2020 2020 2020 2023 6d6f  olor.        #mo
+0000b8c0: 6475 6c65 2d6d 6174 706c 6f74 6c69 622e  dule-matplotlib.
+0000b8d0: 636f 6c6f 7273 3e60 5f29 2e0a 2020 2020  colors>`_)..    
+0000b8e0: 2020 2020 6f72 2066 6c6f 6174 7320 696e      or floats in
+0000b8f0: 205b 302c 2031 5d20 6465 6669 6e69 6e67   [0, 1] defining
+0000b900: 2074 6865 2070 6f73 6974 696f 6e20 696e   the position in
+0000b910: 2074 6865 2070 616c 6574 7465 2e0a 2020   the palette..  
+0000b920: 2020 6e62 6f72 6465 725f 7769 6474 6820    nborder_width 
+0000b930: 3a20 666c 6f61 7420 6f72 2061 7272 6179  : float or array
+0000b940: 206f 6620 666c 6f61 7473 2c20 6f70 7469   of floats, opti
+0000b950: 6f6e 616c 2028 6465 6661 756c 743a 2030  onal (default: 0
+0000b960: 2e35 290a 2020 2020 2020 2020 5769 6474  .5).        Widt
+0000b970: 6820 6f66 2074 6865 2062 6f72 6465 7220  h of the border 
+0000b980: 696e 2070 6572 6365 6e74 206f 6620 6361  in percent of ca
+0000b990: 6e76 6173 2073 697a 652e 0a20 2020 2065  nvas size..    e
+0000b9a0: 7369 7a65 203a 2066 6c6f 6174 2c20 7374  size : float, st
+0000b9b0: 722c 206f 7220 6172 7261 7920 6f66 2066  r, or array of f
+0000b9c0: 6c6f 6174 732c 206f 7074 696f 6e61 6c20  loats, optional 
+0000b9d0: 2864 6566 6175 6c74 3a20 302e 3529 0a20  (default: 0.5). 
+0000b9e0: 2020 2020 2020 2057 6964 7468 206f 6620         Width of 
+0000b9f0: 7468 6520 6564 6765 7320 696e 2070 6572  the edges in per
+0000ba00: 6365 6e74 206f 6620 6361 6e76 6173 206c  cent of canvas l
+0000ba10: 656e 6774 682e 2041 7661 696c 6162 6c65  ength. Available
+0000ba20: 2073 7472 696e 6720 7661 6c75 6573 0a20   string values. 
+0000ba30: 2020 2020 2020 2061 7265 2022 6265 7477         are "betw
+0000ba40: 6565 6e6e 6573 7322 2061 6e64 2022 7765  eenness" and "we
+0000ba50: 6967 6874 222e 0a20 2020 2065 636f 6c6f  ight"..    ecolo
+0000ba60: 7220 3a20 7374 722c 2063 6861 722c 2066  r : str, char, f
+0000ba70: 6c6f 6174 206f 7220 6172 7261 792c 206f  loat or array, o
+0000ba80: 7074 696f 6e61 6c20 2864 6566 6175 6c74  ptional (default
+0000ba90: 3a20 226b 2229 0a20 2020 2020 2020 2045  : "k").        E
+0000baa0: 6467 6520 636f 6c6f 722e 2049 6620 6563  dge color. If ec
+0000bab0: 6f6c 6f72 3d22 6772 6f75 7073 222c 2065  olor="groups", e
+0000bac0: 6467 6573 2063 6f6c 6f72 2077 696c 6c20  dges color will 
+0000bad0: 6465 7065 6e64 206f 6e20 7468 6520 736f  depend on the so
+0000bae0: 7572 6365 0a20 2020 2020 2020 2061 6e64  urce.        and
+0000baf0: 2074 6172 6765 7420 6772 6f75 7073 2c20   target groups, 
+0000bb00: 692e 652e 206f 6e6c 7920 6564 6765 7320  i.e. only edges 
+0000bb10: 6672 6f6d 2061 6e64 2074 6f77 6172 6420  from and toward 
+0000bb20: 7361 6d65 2067 726f 7570 7320 7769 6c6c  same groups will
+0000bb30: 0a20 2020 2020 2020 2068 6176 6520 7468  .        have th
+0000bb40: 6520 7361 6d65 2063 6f6c 6f72 2e0a 2020  e same color..  
+0000bb50: 2020 7468 7265 7368 6f6c 6420 3a20 666c    threshold : fl
+0000bb60: 6f61 742c 206f 7074 696f 6e61 6c20 2864  oat, optional (d
+0000bb70: 6566 6175 6c74 3a20 302e 3529 0a20 2020  efault: 0.5).   
+0000bb80: 2020 2020 2053 697a 6520 756e 6465 7220       Size under 
+0000bb90: 7768 6963 6820 6564 6765 7320 6172 6520  which edges are 
+0000bba0: 6e6f 7420 706c 6f74 7465 642e 0a20 2020  not plotted..   
+0000bbb0: 2064 6563 696d 6174 655f 636f 6e6e 6563   decimate_connec
+0000bbc0: 7469 6f6e 7320 3a20 696e 742c 206f 7074  tions : int, opt
+0000bbd0: 696f 6e61 6c20 2864 6566 6175 6c74 3a20  ional (default: 
+0000bbe0: 6b65 6570 2061 6c6c 2063 6f6e 6e65 6374  keep all connect
+0000bbf0: 696f 6e73 290a 2020 2020 2020 2020 506c  ions).        Pl
+0000bc00: 6f74 206f 6e6c 7920 6f6e 6520 636f 6e6e  ot only one conn
+0000bc10: 6563 7469 6f6e 2065 7665 7279 2060 6465  ection every `de
+0000bc20: 6369 6d61 7465 5f63 6f6e 6e65 6374 696f  cimate_connectio
+0000bc30: 6e73 602e 0a20 2020 2020 2020 2055 7365  ns`..        Use
+0000bc40: 202d 3120 746f 2068 6964 6520 616c 6c20   -1 to hide all 
+0000bc50: 6564 6765 732e 0a20 2020 2073 7061 7469  edges..    spati
+0000bc60: 616c 203a 2062 6f6f 6c2c 206f 7074 696f  al : bool, optio
+0000bc70: 6e61 6c20 2864 6566 6175 6c74 3a20 5472  nal (default: Tr
+0000bc80: 7565 290a 2020 2020 2020 2020 4966 2054  ue).        If T
+0000bc90: 7275 652c 2075 7365 2074 6865 206e 6575  rue, use the neu
+0000bca0: 726f 6e73 2720 706f 7369 7469 6f6e 7320  rons' positions 
+0000bcb0: 746f 2064 7261 7720 7468 656d 2e0a 2020  to draw them..  
+0000bcc0: 2020 7265 7374 7269 6374 5f73 6f75 7263    restrict_sourc
+0000bcd0: 6573 203a 2073 7472 2c20 6772 6f75 702c  es : str, group,
+0000bce0: 206f 7220 6c69 7374 2c20 6f70 7469 6f6e   or list, option
+0000bcf0: 616c 2028 6465 6661 756c 743a 2061 6c6c  al (default: all
+0000bd00: 290a 2020 2020 2020 2020 4f6e 6c79 2064  ).        Only d
+0000bd10: 7261 7720 6564 6765 7320 7374 6172 7469  raw edges starti
+0000bd20: 6e67 2066 726f 6d20 6120 7265 7374 7269  ng from a restri
+0000bd30: 6374 6564 2073 6574 206f 6620 736f 7572  cted set of sour
+0000bd40: 6365 206e 6f64 6573 2e0a 2020 2020 7265  ce nodes..    re
+0000bd50: 7374 7269 6374 5f74 6172 6765 7473 203a  strict_targets :
+0000bd60: 2073 7472 2c20 6772 6f75 702c 206f 7220   str, group, or 
+0000bd70: 6c69 7374 2c20 6f70 7469 6f6e 616c 2028  list, optional (
+0000bd80: 6465 6661 756c 743a 2061 6c6c 290a 2020  default: all).  
+0000bd90: 2020 2020 2020 4f6e 6c79 2064 7261 7720        Only draw 
+0000bda0: 6564 6765 7320 656e 6469 6e67 206f 6e20  edges ending on 
+0000bdb0: 6120 7265 7374 7269 6374 6564 2073 6574  a restricted set
+0000bdc0: 206f 6620 7461 7267 6574 206e 6f64 6573   of target nodes
+0000bdd0: 2e0a 2020 2020 7265 7374 7269 6374 5f6e  ..    restrict_n
+0000bde0: 6f64 6573 203a 2073 7472 2c20 6772 6f75  odes : str, grou
+0000bdf0: 702c 206f 7220 6c69 7374 2c20 6f70 7469  p, or list, opti
+0000be00: 6f6e 616c 2028 6465 6661 756c 743a 2070  onal (default: p
+0000be10: 6c6f 7420 616c 6c20 6e6f 6465 7329 0a20  lot all nodes). 
+0000be20: 2020 2020 2020 204f 6e6c 7920 6472 6177         Only draw
+0000be30: 2061 2073 7562 7365 7420 6f66 206e 6f64   a subset of nod
+0000be40: 6573 2e0a 2020 2020 7265 7374 7269 6374  es..    restrict
+0000be50: 5f65 6467 6573 203a 206c 6973 7420 6f66  _edges : list of
+0000be60: 2065 6467 6573 2c20 6f70 7469 6f6e 616c   edges, optional
+0000be70: 2028 6465 6661 756c 743a 2061 6c6c 290a   (default: all).
+0000be80: 2020 2020 2020 2020 4f6e 6c79 2064 7261          Only dra
+0000be90: 7720 6120 7375 6273 6574 206f 6620 6564  w a subset of ed
+0000bea0: 6765 732e 0a20 2020 2073 686f 775f 656e  ges..    show_en
+0000beb0: 7669 726f 6e6d 656e 7420 3a20 626f 6f6c  vironment : bool
+0000bec0: 2c20 6f70 7469 6f6e 616c 2028 6465 6661  , optional (defa
+0000bed0: 756c 743a 2054 7275 6529 0a20 2020 2020  ult: True).     
+0000bee0: 2020 2050 6c6f 7420 7468 6520 656e 7669     Plot the envi
+0000bef0: 726f 6e6d 656e 7420 6966 2074 6865 2067  ronment if the g
+0000bf00: 7261 7068 2069 7320 7370 6174 6961 6c2e  raph is spatial.
+0000bf10: 0a20 2020 2073 697a 6520 3a20 7475 706c  .    size : tupl
+0000bf20: 6520 6f66 2069 6e74 732c 206f 7074 696f  e of ints, optio
+0000bf30: 6e61 6c20 2864 6566 6175 6c74 3a20 2836  nal (default: (6
+0000bf40: 3030 2c20 3630 3029 290a 2020 2020 2020  00, 600)).      
+0000bf50: 2020 2877 6964 7468 2c20 6865 6967 6874    (width, height
+0000bf60: 2920 7475 706c 6520 666f 7220 7468 6520  ) tuple for the 
+0000bf70: 6361 6e76 6173 2073 697a 6520 2869 6e20  canvas size (in 
+0000bf80: 7078 292e 0a20 2020 2064 7069 203a 2069  px)..    dpi : i
+0000bf90: 6e74 2c20 6f70 7469 6f6e 616c 2028 6465  nt, optional (de
+0000bfa0: 6661 756c 743a 2037 3529 0a20 2020 2020  fault: 75).     
+0000bfb0: 2020 2052 6573 6f6c 7574 696f 6e20 2864     Resolution (d
+0000bfc0: 6f74 2070 6572 2069 6e63 6829 2e0a 2020  ot per inch)..  
+0000bfd0: 2020 636f 6c6f 7262 6172 203a 2062 6f6f    colorbar : boo
+0000bfe0: 6c2c 206f 7074 696f 6e61 6c20 2864 6566  l, optional (def
+0000bff0: 6175 6c74 3a20 4661 6c73 6529 0a20 2020  ault: False).   
+0000c000: 2020 2020 2057 6865 7468 6572 2074 6f20       Whether to 
+0000c010: 6469 7370 6c61 7920 6120 636f 6c6f 7262  display a colorb
+0000c020: 6172 2066 6f72 2074 6865 206e 6f64 6520  ar for the node 
+0000c030: 636f 6c6f 7273 206f 7220 6e6f 742e 0a20  colors or not.. 
+0000c040: 2020 2061 7869 7320 3a20 6d61 7470 6c6f     axis : matplo
+0000c050: 746c 6962 2061 7869 732c 206f 7074 696f  tlib axis, optio
+0000c060: 6e61 6c20 2864 6566 6175 6c74 3a20 6372  nal (default: cr
+0000c070: 6561 7465 206e 6577 2061 7869 7329 0a20  eate new axis). 
+0000c080: 2020 2020 2020 2041 7869 7320 6f6e 2077         Axis on w
+0000c090: 6869 6368 2074 6865 206e 6574 776f 726b  hich the network
+0000c0a0: 2077 696c 6c20 6265 2070 6c6f 7474 6564   will be plotted
+0000c0b0: 2e0a 2020 2020 6c61 796f 7574 203a 2073  ..    layout : s
+0000c0c0: 7472 2c20 6f70 7469 6f6e 616c 2028 6465  tr, optional (de
+0000c0d0: 6661 756c 743a 206c 6962 7261 7279 2d64  fault: library-d
+0000c0e0: 6570 656e 6465 6e74 206f 7220 7370 6174  ependent or spat
+0000c0f0: 6961 6c20 706f 7369 7469 6f6e 7329 0a20  ial positions). 
+0000c100: 2020 2020 2020 204e 616d 6520 6f66 2061         Name of a
+0000c110: 2073 7461 6e64 6172 6420 6c61 796f 7574   standard layout
+0000c120: 2074 6f20 7374 7275 6374 7572 6520 7468   to structure th
+0000c130: 6520 6e65 7477 6f72 6b2e 2041 7661 696c  e network. Avail
+0000c140: 6162 6c65 206c 6179 6f75 7473 0a20 2020  able layouts.   
+0000c150: 2020 2020 2061 7265 3a20 2263 6972 6375       are: "circu
+0000c160: 6c61 7222 2c20 2273 7072 696e 672d 626c  lar", "spring-bl
+0000c170: 6f63 6b22 2c20 2272 616e 646f 6d22 2e20  ock", "random". 
+0000c180: 4966 206e 6f20 6c61 796f 7574 2069 730a  If no layout is.
+0000c190: 2020 2020 2020 2020 7072 6f76 6964 6564          provided
+0000c1a0: 2061 6e64 2074 6865 206e 6574 776f 726b   and the network
+0000c1b0: 2069 7320 7370 6174 6961 6c2c 2074 6865   is spatial, the
+0000c1c0: 6e20 6e6f 6465 2070 6f73 6974 696f 6e73  n node positions
+0000c1d0: 2077 696c 6c20 6265 0a20 2020 2020 2020   will be.       
+0000c1e0: 2075 7365 6420 6279 2064 6566 6175 6c74   used by default
+0000c1f0: 2e0a 2020 2020 7368 6f77 203a 2062 6f6f  ..    show : boo
+0000c200: 6c2c 206f 7074 696f 6e61 6c20 2864 6566  l, optional (def
+0000c210: 6175 6c74 3a20 5472 7565 290a 2020 2020  ault: True).    
+0000c220: 2020 2020 4469 7370 6c61 7920 7468 6520      Display the 
+0000c230: 706c 6f74 2069 6d6d 6564 6961 7465 6c79  plot immediately
+0000c240: 2e0a 2020 2020 2a2a 6b77 6172 6773 203a  ..    **kwargs :
+0000c250: 2064 6963 740a 2020 2020 2020 2020 4f70   dict.        Op
+0000c260: 7469 6f6e 616c 206b 6579 776f 7264 2061  tional keyword a
+0000c270: 7267 756d 656e 7473 2e0a 0a20 2020 2020  rguments...     
+0000c280: 2020 203d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d     =============
+0000c290: 3d3d 3d20 203d 3d3d 3d3d 3d3d 3d3d 3d3d  ===  ===========
+0000c2a0: 3d3d 3d3d 3d3d 3d20 203d 3d3d 3d3d 3d3d  =======  =======
+0000c2b0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0000c2c0: 3d3d 3d3d 3d3d 3d3d 3d3d 0a20 2020 2020  ==========.     
+0000c2d0: 2020 2020 2020 2020 204e 616d 6520 2020           Name   
+0000c2e0: 2020 2020 2020 2020 2020 2020 5479 7065              Type
+0000c2f0: 2020 2020 2020 2020 2020 2020 5075 7270              Purp
+0000c300: 6f73 6520 616e 6420 706f 7373 6962 6c65  ose and possible
+0000c310: 2076 616c 7565 730a 2020 2020 2020 2020   values.        
+0000c320: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0000c330: 2020 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d    ==============
+0000c340: 3d3d 3d3d 2020 3d3d 3d3d 3d3d 3d3d 3d3d  ====  ==========
+0000c350: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0000c360: 3d3d 3d3d 3d3d 3d0a 2020 2020 2020 2020  =======.        
+0000c370: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c390: 2020 2020 2020 4465 7369 7265 6420 6e6f        Desired no
+0000c3a0: 6465 2063 6f6c 6f72 6d61 7020 2864 6566  de colormap (def
+0000c3b0: 6175 6c74 2069 730a 2020 2020 2020 2020  ault is.        
+0000c3c0: 6e6f 6465 5f63 6d61 7020 2020 2020 2020  node_cmap       
+0000c3d0: 2020 7374 7220 2020 2020 2020 2020 2020    str           
+0000c3e0: 2020 2020 2020 226d 6167 6d61 2220 666f        "magma" fo
+0000c3f0: 7220 636f 6e74 696e 756f 7573 2076 6172  r continuous var
+0000c400: 6961 626c 6573 0a20 2020 2020 2020 2020  iables.         
+0000c410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c420: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c430: 2020 2020 2061 6e64 2022 5365 7431 2220       and "Set1" 
+0000c440: 666f 7220 6772 6f75 7073 290a 2020 2020  for groups).    
+0000c450: 2020 2020 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d      ------------
+0000c460: 2d2d 2d2d 2020 2d2d 2d2d 2d2d 2d2d 2d2d  ----  ----------
+0000c470: 2d2d 2d2d 2d2d 2d2d 2020 2d2d 2d2d 2d2d  --------  ------
+0000c480: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+0000c490: 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 2020 2020  -----------.    
+0000c4a0: 2020 2020 7469 746c 6520 2020 2020 2020      title       
+0000c4b0: 2020 2020 2020 7374 7220 2020 2020 2020        str       
+0000c4c0: 2020 2020 2020 2020 2020 5469 746c 6520            Title 
+0000c4d0: 6f66 2074 6865 2070 6c6f 740a 2020 2020  of the plot.    
+0000c4e0: 2020 2020 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d      ------------
+0000c4f0: 2d2d 2d2d 2020 2d2d 2d2d 2d2d 2d2d 2d2d  ----  ----------
+0000c500: 2d2d 2d2d 2d2d 2d2d 2020 2d2d 2d2d 2d2d  --------  ------
+0000c510: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+0000c520: 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 2020 2020  -----------.    
+0000c530: 2020 2020 6d61 785f 2a20 2020 2020 2020      max_*       
+0000c540: 2020 2020 2020 666c 6f61 7420 2020 2020        float     
+0000c550: 2020 2020 2020 2020 2020 4d61 7869 6d75            Maximu
+0000c560: 6d20 7661 6c75 6520 666f 7220 606e 7369  m value for `nsi
+0000c570: 7a65 6020 6f72 0a20 2020 2020 2020 2020  ze` or.         
+0000c580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c590: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c5a0: 2020 2020 2060 6573 697a 6560 0a20 2020       `esize`.   
+0000c5b0: 2020 2020 202d 2d2d 2d2d 2d2d 2d2d 2d2d       -----------
+0000c5c0: 2d2d 2d2d 2d20 202d 2d2d 2d2d 2d2d 2d2d  -----  ---------
+0000c5d0: 2d2d 2d2d 2d2d 2d2d 2d20 202d 2d2d 2d2d  ---------  -----
+0000c5e0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+0000c5f0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a20 2020  ------------.   
+0000c600: 2020 2020 206d 696e 5f2a 2020 2020 2020       min_*      
+0000c610: 2020 2020 2020 2066 6c6f 6174 2020 2020         float    
+0000c620: 2020 2020 2020 2020 2020 204d 696e 696d             Minim
+0000c630: 756d 2076 616c 7565 2066 6f72 2060 6e73  um value for `ns
+0000c640: 697a 6560 206f 720a 2020 2020 2020 2020  ize` or.        
+0000c650: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c660: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c670: 2020 2020 2020 6065 7369 7a65 600a 2020        `esize`.  
+0000c680: 2020 2020 2020 2d2d 2d2d 2d2d 2d2d 2d2d        ----------
+0000c690: 2d2d 2d2d 2d2d 2020 2d2d 2d2d 2d2d 2d2d  ------  --------
+0000c6a0: 2d2d 2d2d 2d2d 2d2d 2d2d 2020 2d2d 2d2d  ----------  ----
+0000c6b0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+0000c6c0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 2020  -------------.  
+0000c6d0: 2020 2020 2020 616e 6e6f 7461 7465 2020        annotate  
+0000c6e0: 2020 2020 2020 2020 626f 6f6c 2020 2020          bool    
+0000c6f0: 2020 2020 2020 2020 2020 2020 5573 6520              Use 
+0000c700: 616e 6e6f 7461 7469 6f6e 7320 746f 2073  annotations to s
+0000c710: 686f 7720 6e6f 6465 0a20 2020 2020 2020  how node.       
+0000c720: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0000c730: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c740: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c750: 2020 2020 2020 2020 2061 6e64 2022 5365           and "Se
-0000c760: 7431 2220 666f 7220 6772 6f75 7073 290a  t1" for groups).
-0000c770: 2020 2020 2020 2020 2d2d 2d2d 2d2d 2d2d          --------
-0000c780: 2d2d 2d2d 2d2d 2d2d 2020 2d2d 2d2d 2d2d  --------  ------
-0000c790: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2020 2d2d  ------------  --
+0000c740: 2020 2020 2020 2069 6e66 6f72 6d61 7469         informati
+0000c750: 6f6e 2028 6465 6661 756c 743a 2054 7275  on (default: Tru
+0000c760: 6529 0a20 2020 2020 2020 202d 2d2d 2d2d  e).        -----
+0000c770: 2d2d 2d2d 2d2d 2d2d 2d2d 2d20 202d 2d2d  -----------  ---
+0000c780: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d20  --------------- 
+0000c790: 202d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d   ---------------
 0000c7a0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-0000c7b0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a  ---------------.
-0000c7c0: 2020 2020 2020 2020 7469 746c 6520 2020          title   
-0000c7d0: 2020 2020 2020 2020 2020 7374 7220 2020            str   
-0000c7e0: 2020 2020 2020 2020 2020 2020 2020 5469                Ti
-0000c7f0: 746c 6520 6f66 2074 6865 2070 6c6f 740a  tle of the plot.
-0000c800: 2020 2020 2020 2020 2d2d 2d2d 2d2d 2d2d          --------
-0000c810: 2d2d 2d2d 2d2d 2d2d 2020 2d2d 2d2d 2d2d  --------  ------
-0000c820: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2020 2d2d  ------------  --
-0000c830: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-0000c840: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a  ---------------.
-0000c850: 2020 2020 2020 2020 6d61 785f 2a20 2020          max_*   
-0000c860: 2020 2020 2020 2020 2020 666c 6f61 7420            float 
-0000c870: 2020 2020 2020 2020 2020 2020 2020 4d61                Ma
-0000c880: 7869 6d75 6d20 7661 6c75 6520 666f 7220  ximum value for 
-0000c890: 606e 7369 7a65 6020 6f72 0a20 2020 2020  `nsize` or.     
-0000c8a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c8b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c8c0: 2020 2020 2020 2020 2060 6573 697a 6560           `esize`
-0000c8d0: 0a20 2020 2020 2020 202d 2d2d 2d2d 2d2d  .        -------
-0000c8e0: 2d2d 2d2d 2d2d 2d2d 2d20 202d 2d2d 2d2d  ---------  -----
-0000c8f0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d20 202d  -------------  -
-0000c900: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-0000c910: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-0000c920: 0a20 2020 2020 2020 206d 696e 5f2a 2020  .        min_*  
-0000c930: 2020 2020 2020 2020 2020 2066 6c6f 6174             float
-0000c940: 2020 2020 2020 2020 2020 2020 2020 204d                 M
-0000c950: 696e 696d 756d 2076 616c 7565 2066 6f72  inimum value for
-0000c960: 2060 6e73 697a 6560 206f 720a 2020 2020   `nsize` or.    
-0000c970: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c980: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c990: 2020 2020 2020 2020 2020 6065 7369 7a65            `esize
-0000c9a0: 600a 2020 2020 2020 2020 2d2d 2d2d 2d2d  `.        ------
-0000c9b0: 2d2d 2d2d 2d2d 2d2d 2d2d 2020 2d2d 2d2d  ----------  ----
-0000c9c0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2020  --------------  
-0000c9d0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-0000c9e0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-0000c9f0: 2d0a 2020 2020 2020 2020 616e 6e6f 7461  -.        annota
-0000ca00: 7465 2020 2020 2020 2020 2020 626f 6f6c  te          bool
-0000ca10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ca20: 5573 6520 616e 6e6f 7461 7469 6f6e 7320  Use annotations 
-0000ca30: 746f 2073 686f 7720 6e6f 6465 0a20 2020  to show node.   
-0000ca40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ca50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ca60: 2020 2020 2020 2020 2020 2069 6e66 6f72             infor
-0000ca70: 6d61 7469 6f6e 2028 6465 6661 756c 743a  mation (default:
-0000ca80: 2054 7275 6529 0a20 2020 2020 2020 202d   True).        -
-0000ca90: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d20  --------------- 
-0000caa0: 202d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d   ---------------
-0000cab0: 2d2d 2d20 202d 2d2d 2d2d 2d2d 2d2d 2d2d  ---  -----------
-0000cac0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-0000cad0: 2d2d 2d2d 2d2d 0a20 2020 2020 2020 2020  ------.         
-0000cae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000caf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cb00: 2020 2020 2049 6e66 6f72 6d61 7469 6f6e       Information
-0000cb10: 2074 6861 7420 7769 6c6c 2062 6520 6469   that will be di
-0000cb20: 7370 6c61 7965 640a 2020 2020 2020 2020  splayed.        
-0000cb30: 616e 6e6f 7461 7469 6f6e 7320 2020 2020  annotations     
-0000cb40: 2020 7374 7220 6f72 206c 6973 7420 2020    str or list   
-0000cb50: 2020 2020 2020 7375 6368 2061 7320 6120        such as a 
-0000cb60: 6e6f 6465 2061 7474 7269 6275 7465 206f  node attribute o
-0000cb70: 7220 6120 6c69 7374 0a20 2020 2020 2020  r a list.       
-0000cb80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cb90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cba0: 2020 2020 2020 206f 6620 7661 6c75 6573         of values
-0000cbb0: 2e20 2864 6566 6175 6c74 3a20 6e6f 6465  . (default: node
-0000cbc0: 2069 6429 0a20 2020 2020 2020 203d 3d3d   id).        ===
-0000cbd0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d20 203d  =============  =
-0000cbe0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0000cbf0: 3d20 203d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  =  =============
-0000cc00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0000cc10: 3d3d 3d3d 0a20 2020 2027 2727 0a20 2020  ====.    '''.   
-0000cc20: 2069 6d70 6f72 7420 6d61 7470 6c6f 746c   import matplotl
-0000cc30: 6962 2e70 7970 6c6f 7420 6173 2070 6c74  ib.pyplot as plt
-0000cc40: 0a0a 2020 2020 2320 6261 636b 656e 6420  ..    # backend 
-0000cc50: 616e 6420 6178 6973 0a20 2020 2074 7279  and axis.    try
-0000cc60: 3a0a 2020 2020 2020 2020 696d 706f 7274  :.        import
-0000cc70: 2069 6772 6170 680a 2020 2020 2020 2020   igraph.        
-0000cc80: 6967 7620 3d20 7061 7273 655f 7665 7273  igv = parse_vers
-0000cc90: 696f 6e28 6967 7261 7068 2e5f 5f76 6572  ion(igraph.__ver
-0000cca0: 7369 6f6e 5f5f 290a 2020 2020 6578 6365  sion__).    exce
-0000ccb0: 7074 3a0a 2020 2020 2020 2020 6967 7620  pt:.        igv 
-0000ccc0: 3d20 7061 7273 655f 7665 7273 696f 6e28  = parse_version(
-0000ccd0: 2731 2e30 2729 0a0a 2020 2020 6d69 6e5f  '1.0')..    min_
-0000cce0: 6967 5f76 6572 7369 6f6e 203d 2070 6172  ig_version = par
-0000ccf0: 7365 5f76 6572 7369 6f6e 2827 302e 3130  se_version('0.10
-0000cd00: 2e30 2729 0a0a 2020 2020 6967 5f74 6573  .0')..    ig_tes
-0000cd10: 7420 3d20 6e6e 6774 2e67 6574 5f63 6f6e  t = nngt.get_con
-0000cd20: 6669 6728 2262 6163 6b65 6e64 2229 203d  fig("backend") =
-0000cd30: 3d20 2269 6772 6170 6822 2061 6e64 2069  = "igraph" and i
-0000cd40: 6776 203c 206d 696e 5f69 675f 7665 7273  gv < min_ig_vers
-0000cd50: 696f 6e0a 0a20 2020 2069 6620 6e6e 6774  ion..    if nngt
-0000cd60: 2e67 6574 5f63 6f6e 6669 6728 2262 6163  .get_config("bac
-0000cd70: 6b65 6e64 2229 203d 3d20 2267 7261 7068  kend") == "graph
-0000cd80: 2d74 6f6f 6c22 206f 7220 6967 5f74 6573  -tool" or ig_tes
-0000cd90: 743a 0a20 2020 2020 2020 206d 706c 5f62  t:.        mpl_b
-0000cda0: 6163 6b65 6e64 203d 206d 706c 2e67 6574  ackend = mpl.get
-0000cdb0: 5f62 6163 6b65 6e64 2829 0a0a 2020 2020  _backend()..    
-0000cdc0: 2020 2020 6966 206d 706c 5f62 6163 6b65      if mpl_backe
-0000cdd0: 6e64 2e73 7461 7274 7377 6974 6828 2251  nd.startswith("Q
-0000cde0: 7434 2229 3a0a 2020 2020 2020 2020 2020  t4"):.          
-0000cdf0: 2020 6966 206d 706c 5f62 6163 6b65 6e64    if mpl_backend
-0000ce00: 2021 3d20 2251 7434 4361 6972 6f22 3a0a   != "Qt4Cairo":.
-0000ce10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ce20: 706c 742e 7377 6974 6368 5f62 6163 6b65  plt.switch_backe
-0000ce30: 6e64 2822 5174 3443 6169 726f 2229 0a20  nd("Qt4Cairo"). 
-0000ce40: 2020 2020 2020 2065 6c69 6620 6d70 6c5f         elif mpl_
-0000ce50: 6261 636b 656e 642e 7374 6172 7473 7769  backend.startswi
-0000ce60: 7468 2822 5174 3522 293a 0a20 2020 2020  th("Qt5"):.     
-0000ce70: 2020 2020 2020 2069 6620 6d70 6c5f 6261         if mpl_ba
-0000ce80: 636b 656e 6420 213d 2022 5174 3543 6169  ckend != "Qt5Cai
-0000ce90: 726f 223a 0a20 2020 2020 2020 2020 2020  ro":.           
-0000cea0: 2020 2020 2070 6c74 2e73 7769 7463 685f       plt.switch_
-0000ceb0: 6261 636b 656e 6428 2251 7435 4361 6972  backend("Qt5Cair
-0000cec0: 6f22 290a 2020 2020 2020 2020 656c 6966  o").        elif
-0000ced0: 206d 706c 5f62 6163 6b65 6e64 2e73 7461   mpl_backend.sta
-0000cee0: 7274 7377 6974 6828 2251 7422 293a 0a20  rtswith("Qt"):. 
-0000cef0: 2020 2020 2020 2020 2020 2069 6620 6d70             if mp
-0000cf00: 6c5f 6261 636b 656e 6420 213d 2022 5174  l_backend != "Qt
-0000cf10: 4361 6972 6f22 3a0a 2020 2020 2020 2020  Cairo":.        
-0000cf20: 2020 2020 2020 2020 706c 742e 7377 6974          plt.swit
-0000cf30: 6368 5f62 6163 6b65 6e64 2822 5174 4361  ch_backend("QtCa
-0000cf40: 6972 6f22 290a 2020 2020 2020 2020 656c  iro").        el
-0000cf50: 6966 206d 706c 5f62 6163 6b65 6e64 2e73  if mpl_backend.s
-0000cf60: 7461 7274 7377 6974 6828 2247 544b 3322  tartswith("GTK3"
-0000cf70: 293a 0a20 2020 2020 2020 2020 2020 2069  ):.            i
-0000cf80: 6620 6d70 6c5f 6261 636b 656e 6420 213d  f mpl_backend !=
-0000cf90: 2022 4754 4b33 4361 6972 6f22 3a0a 2020   "GTK3Cairo":.  
-0000cfa0: 2020 2020 2020 2020 2020 2020 2020 706c                pl
-0000cfb0: 742e 7377 6974 6368 5f62 6163 6b65 6e64  t.switch_backend
-0000cfc0: 2822 4754 4b33 4361 6972 6f22 290a 2020  ("GTK3Cairo").  
-0000cfd0: 2020 2020 2020 656c 6966 206d 706c 5f62        elif mpl_b
-0000cfe0: 6163 6b65 6e64 2e73 7461 7274 7377 6974  ackend.startswit
-0000cff0: 6828 2247 544b 3422 293a 0a20 2020 2020  h("GTK4"):.     
-0000d000: 2020 2020 2020 2069 6620 6d70 6c5f 6261         if mpl_ba
-0000d010: 636b 656e 6420 213d 2022 4754 4b34 4361  ckend != "GTK4Ca
-0000d020: 6972 6f22 3a0a 2020 2020 2020 2020 2020  iro":.          
-0000d030: 2020 2020 2020 706c 742e 7377 6974 6368        plt.switch
-0000d040: 5f62 6163 6b65 6e64 2822 4754 4b34 4361  _backend("GTK4Ca
-0000d050: 6972 6f22 290a 2020 2020 2020 2020 656c  iro").        el
-0000d060: 6966 206d 706c 5f62 6163 6b65 6e64 2021  if mpl_backend !
-0000d070: 3d20 2263 6169 726f 223a 0a20 2020 2020  = "cairo":.     
-0000d080: 2020 2020 2020 2070 6c74 2e73 7769 7463         plt.switc
-0000d090: 685f 6261 636b 656e 6428 2263 6169 726f  h_backend("cairo
-0000d0a0: 2229 0a0a 2020 2020 6966 2061 7869 7320  ")..    if axis 
-0000d0b0: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
-0000d0c0: 2073 697a 655f 696e 6368 6573 203d 2028   size_inches = (
-0000d0d0: 7369 7a65 5b30 5d2f 666c 6f61 7428 6470  size[0]/float(dp
-0000d0e0: 6929 2c20 7369 7a65 5b31 5d2f 666c 6f61  i), size[1]/floa
-0000d0f0: 7428 6470 6929 290a 2020 2020 2020 2020  t(dpi)).        
-0000d100: 6669 672c 2061 7869 7320 3d20 706c 742e  fig, axis = plt.
-0000d110: 7375 6270 6c6f 7473 2866 6967 7369 7a65  subplots(figsize
-0000d120: 3d73 697a 655f 696e 6368 6573 290a 0a20  =size_inches).. 
-0000d130: 2020 2061 7869 732e 6178 6973 2827 6f66     axis.axis('of
-0000d140: 6627 290a 0a20 2020 2023 2064 6566 6175  f')..    # defau
-0000d150: 6c74 2070 6c6f 740a 2020 2020 6966 206e  lt plot.    if n
-0000d160: 6e67 742e 6765 745f 636f 6e66 6967 2822  ngt.get_config("
-0000d170: 6261 636b 656e 6422 2920 3d3d 2022 6e6e  backend") == "nn
-0000d180: 6774 223a 0a20 2020 2020 2020 2064 7261  gt":.        dra
-0000d190: 775f 6e65 7477 6f72 6b28 0a20 2020 2020  w_network(.     
-0000d1a0: 2020 2020 2020 206e 6574 776f 726b 2c20         network, 
-0000d1b0: 6e73 697a 653d 6e73 697a 652c 206e 636f  nsize=nsize, nco
-0000d1c0: 6c6f 723d 6e63 6f6c 6f72 2c20 6e73 6861  lor=ncolor, nsha
-0000d1d0: 7065 3d6e 7368 6170 652c 0a20 2020 2020  pe=nshape,.     
-0000d1e0: 2020 2020 2020 206e 626f 7264 6572 5f63         nborder_c
-0000d1f0: 6f6c 6f72 3d6e 626f 7264 6572 5f63 6f6c  olor=nborder_col
-0000d200: 6f72 2c20 6e62 6f72 6465 725f 7769 6474  or, nborder_widt
-0000d210: 683d 6e62 6f72 6465 725f 7769 6474 682c  h=nborder_width,
-0000d220: 0a20 2020 2020 2020 2020 2020 2065 7369  .            esi
-0000d230: 7a65 3d65 7369 7a65 2c20 6563 6f6c 6f72  ze=esize, ecolor
-0000d240: 3d65 636f 6c6f 722c 2063 7572 7665 645f  =ecolor, curved_
-0000d250: 6564 6765 733d 6375 7276 6564 5f65 6467  edges=curved_edg
-0000d260: 6573 2c0a 2020 2020 2020 2020 2020 2020  es,.            
-0000d270: 7468 7265 7368 6f6c 643d 7468 7265 7368  threshold=thresh
-0000d280: 6f6c 642c 2064 6563 696d 6174 655f 636f  old, decimate_co
-0000d290: 6e6e 6563 7469 6f6e 733d 6465 6369 6d61  nnections=decima
-0000d2a0: 7465 5f63 6f6e 6e65 6374 696f 6e73 2c0a  te_connections,.
-0000d2b0: 2020 2020 2020 2020 2020 2020 7370 6174              spat
-0000d2c0: 6961 6c3d 7370 6174 6961 6c2c 2072 6573  ial=spatial, res
-0000d2d0: 7472 6963 745f 6e6f 6465 733d 7265 7374  trict_nodes=rest
-0000d2e0: 7269 6374 5f6e 6f64 6573 2c0a 2020 2020  rict_nodes,.    
-0000d2f0: 2020 2020 2020 2020 7368 6f77 5f65 6e76          show_env
-0000d300: 6972 6f6e 6d65 6e74 3d73 686f 775f 656e  ironment=show_en
-0000d310: 7669 726f 6e6d 656e 742c 2073 697a 653d  vironment, size=
-0000d320: 7369 7a65 2c20 6178 6973 3d61 7869 732c  size, axis=axis,
-0000d330: 0a20 2020 2020 2020 2020 2020 206c 6179  .            lay
-0000d340: 6f75 743d 6c61 796f 7574 2c20 7368 6f77  out=layout, show
-0000d350: 3d73 686f 772c 202a 2a6b 7761 7267 7329  =show, **kwargs)
-0000d360: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-0000d370: 0a0a 2020 2020 2320 6f74 6865 7277 6973  ..    # otherwis
-0000d380: 652c 2070 7265 6170 7265 2064 6174 610a  e, preapre data.
-0000d390: 2020 2020 7265 7374 7269 6374 5f6e 6f64      restrict_nod
-0000d3a0: 6573 203d 205f 636f 6e76 6572 745f 746f  es = _convert_to
-0000d3b0: 5f6e 6f64 6573 2872 6573 7472 6963 745f  _nodes(restrict_
-0000d3c0: 6e6f 6465 732c 0a20 2020 2020 2020 2020  nodes,.         
-0000d3d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d3e0: 2020 2020 2020 2020 2020 2020 2020 2272                "r
-0000d3f0: 6573 7472 6963 745f 6e6f 6465 7322 2c20  estrict_nodes", 
-0000d400: 6e65 7477 6f72 6b29 0a0a 2020 2020 2320  network)..    # 
-0000d410: 7368 697a 6520 616e 6420 7368 6170 650a  shize and shape.
-0000d420: 2020 2020 6d61 785f 6e73 697a 6520 3d20      max_nsize = 
-0000d430: 6b77 6172 6773 2e67 6574 2822 6d61 785f  kwargs.get("max_
-0000d440: 6e73 697a 6522 2c20 3529 0a20 2020 206d  nsize", 5).    m
-0000d450: 696e 5f6e 7369 7a65 203d 206b 7761 7267  in_nsize = kwarg
-0000d460: 732e 6765 7428 226d 696e 5f6e 7369 7a65  s.get("min_nsize
-0000d470: 222c 204e 6f6e 6529 0a0a 2020 2020 6d61  ", None)..    ma
-0000d480: 785f 6573 697a 6520 3d20 6b77 6172 6773  x_esize = kwargs
-0000d490: 2e67 6574 2822 6d61 785f 6573 697a 6522  .get("max_esize"
-0000d4a0: 2c20 3229 0a20 2020 206d 696e 5f65 7369  , 2).    min_esi
-0000d4b0: 7a65 203d 206b 7761 7267 732e 6765 7428  ze = kwargs.get(
-0000d4c0: 226d 696e 5f65 7369 7a65 222c 2030 290a  "min_esize", 0).
-0000d4d0: 0a20 2020 206d 6172 6b65 7273 2c20 6e73  .    markers, ns
-0000d4e0: 697a 652c 2065 7369 7a65 203d 205f 6e6f  ize, esize = _no
-0000d4f0: 6465 5f65 6467 655f 7368 6170 655f 7369  de_edge_shape_si
-0000d500: 7a65 280a 2020 2020 2020 2020 6e65 7477  ze(.        netw
-0000d510: 6f72 6b2c 206e 7368 6170 652c 206e 7369  ork, nshape, nsi
-0000d520: 7a65 2c20 6d61 785f 6e73 697a 652c 206d  ze, max_nsize, m
-0000d530: 696e 5f6e 7369 7a65 2c20 6573 697a 652c  in_nsize, esize,
-0000d540: 206d 6178 5f65 7369 7a65 2c0a 2020 2020   max_esize,.    
-0000d550: 2020 2020 6d69 6e5f 6573 697a 652c 2072      min_esize, r
-0000d560: 6573 7472 6963 745f 6e6f 6465 732c 2072  estrict_nodes, r
-0000d570: 6573 7472 6963 745f 6564 6765 732c 2073  estrict_edges, s
-0000d580: 697a 652c 2074 6872 6573 686f 6c64 290a  ize, threshold).
-0000d590: 0a20 2020 2023 206e 6f64 6520 636f 6c6f  .    # node colo
-0000d5a0: 7220 696e 666f 726d 6174 696f 6e0a 2020  r information.  
-0000d5b0: 2020 6966 206e 636f 6c6f 7220 6973 204e    if ncolor is N
-0000d5c0: 6f6e 653a 0a20 2020 2020 2020 2069 6620  one:.        if 
-0000d5d0: 6e65 7477 6f72 6b2e 7374 7275 6374 7572  network.structur
-0000d5e0: 6520 6973 206e 6f74 204e 6f6e 653a 0a20  e is not None:. 
-0000d5f0: 2020 2020 2020 2020 2020 206e 636f 6c6f             ncolo
-0000d600: 7220 3d20 2267 726f 7570 220a 2020 2020  r = "group".    
-0000d610: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-0000d620: 2020 2020 2020 6e63 6f6c 6f72 203d 2022        ncolor = "
-0000d630: 7222 0a0a 2020 2020 6469 7363 7265 7465  r"..    discrete
-0000d640: 5f63 6f6c 6f72 732c 2064 6566 6175 6c74  _colors, default
-0000d650: 5f6e 636d 6170 203d 205f 6765 745f 6e63  _ncmap = _get_nc
-0000d660: 6d61 7028 6e65 7477 6f72 6b2c 206e 636f  map(network, nco
-0000d670: 6c6f 7229 0a0a 2020 2020 6e63 6d61 7020  lor)..    ncmap 
-0000d680: 3d20 6765 745f 636d 6170 286b 7761 7267  = get_cmap(kwarg
-0000d690: 732e 6765 7428 226e 6f64 655f 636d 6170  s.get("node_cmap
-0000d6a0: 222c 2064 6566 6175 6c74 5f6e 636d 6170  ", default_ncmap
-0000d6b0: 2929 0a0a 2020 2020 6e6f 6465 5f63 6f6c  ))..    node_col
-0000d6c0: 6f72 2c20 6e74 6963 6b73 2c20 6e74 6963  or, nticks, ntic
-0000d6d0: 6b73 6c61 6265 6c73 2c20 6e6c 6162 656c  kslabels, nlabel
-0000d6e0: 203d 205f 6e6f 6465 5f63 6f6c 6f72 280a   = _node_color(.
-0000d6f0: 2020 2020 2020 2020 6e65 7477 6f72 6b2c          network,
-0000d700: 2072 6573 7472 6963 745f 6e6f 6465 732c   restrict_nodes,
-0000d710: 206e 636f 6c6f 722c 2064 6973 6372 6574   ncolor, discret
-0000d720: 655f 636f 6c6f 7273 3d64 6973 6372 6574  e_colors=discret
-0000d730: 655f 636f 6c6f 7273 290a 0a20 2020 2023  e_colors)..    #
-0000d740: 2065 6467 6520 636f 6c6f 720a 2020 2020   edge color.    
-0000d750: 6563 6f6c 6f72 203d 205f 6564 6765 5f70  ecolor = _edge_p
-0000d760: 726f 7028 6e65 7477 6f72 6b2c 2065 636f  rop(network, eco
-0000d770: 6c6f 7229 0a20 2020 2065 7369 7a65 2020  lor).    esize  
-0000d780: 3d20 5f65 6467 655f 7072 6f70 286e 6574  = _edge_prop(net
-0000d790: 776f 726b 2c20 6573 697a 6529 0a0a 2020  work, esize)..  
-0000d7a0: 2020 6966 206e 6f6e 7374 7269 6e67 5f63    if nonstring_c
-0000d7b0: 6f6e 7461 696e 6572 2865 7369 7a65 2920  ontainer(esize) 
-0000d7c0: 616e 6420 6c65 6e28 6573 697a 6529 3a0a  and len(esize):.
-0000d7d0: 2020 2020 2020 2020 6573 697a 6520 2a3d          esize *=
-0000d7e0: 206d 6178 5f65 7369 7a65 202f 206e 702e   max_esize / np.
-0000d7f0: 6d61 7828 6573 697a 6529 0a0a 2020 2020  max(esize)..    
-0000d800: 2320 656e 7669 726f 6e6d 656e 740a 2020  # environment.  
-0000d810: 2020 6966 2073 7061 7469 616c 2061 6e64    if spatial and
-0000d820: 206e 6574 776f 726b 2e69 735f 7370 6174   network.is_spat
-0000d830: 6961 6c28 293a 0a20 2020 2020 2020 2069  ial():.        i
-0000d840: 6620 7368 6f77 5f65 6e76 6972 6f6e 6d65  f show_environme
-0000d850: 6e74 3a0a 2020 2020 2020 2020 2020 2020  nt:.            
-0000d860: 6e6e 6774 2e67 656f 6d65 7472 792e 706c  nngt.geometry.pl
-0000d870: 6f74 2e70 6c6f 745f 7368 6170 6528 6e65  ot.plot_shape(ne
-0000d880: 7477 6f72 6b2e 7368 6170 652c 2061 7869  twork.shape, axi
-0000d890: 733d 6178 6973 2c20 7368 6f77 3d46 616c  s=axis, show=Fal
-0000d8a0: 7365 290a 0a20 2020 2023 2064 6f20 7468  se)..    # do th
-0000d8b0: 6520 706c 6f74 0a20 2020 2069 6620 6e6e  e plot.    if nn
-0000d8c0: 6774 2e67 6574 5f63 6f6e 6669 6728 2262  gt.get_config("b
-0000d8d0: 6163 6b65 6e64 2229 203d 3d20 2267 7261  ackend") == "gra
-0000d8e0: 7068 2d74 6f6f 6c22 3a0a 2020 2020 2020  ph-tool":.      
-0000d8f0: 2020 6672 6f6d 2067 7261 7068 5f74 6f6f    from graph_too
-0000d900: 6c2e 6472 6177 2069 6d70 6f72 7420 2867  l.draw import (g
-0000d910: 7261 7068 5f64 7261 772c 2073 6664 705f  raph_draw, sfdp_
-0000d920: 6c61 796f 7574 2c20 7261 6e64 6f6d 5f6c  layout, random_l
-0000d930: 6179 6f75 7429 0a0a 2020 2020 2020 2020  ayout)..        
-0000d940: 6772 6170 6820 3d20 6e65 7477 6f72 6b2e  graph = network.
-0000d950: 6772 6170 680a 0a20 2020 2020 2020 2023  graph..        #
-0000d960: 2072 6573 697a 650a 2020 2020 2020 2020   resize.        
-0000d970: 6966 206e 6f6e 7374 7269 6e67 5f63 6f6e  if nonstring_con
-0000d980: 7461 696e 6572 286e 7369 7a65 293a 0a20  tainer(nsize):. 
-0000d990: 2020 2020 2020 2020 2020 206e 7369 7a65             nsize
-0000d9a0: 202a 3d20 302e 3035 0a0a 2020 2020 2020   *= 0.05..      
-0000d9b0: 2020 6e62 6f72 6465 725f 7769 6474 6820    nborder_width 
-0000d9c0: 2a3d 2030 2e31 0a0a 2020 2020 2020 2020  *= 0.1..        
-0000d9d0: 6573 697a 6520 2a3d 2030 2e30 320a 0a20  esize *= 0.02.. 
-0000d9e0: 2020 2020 2020 2023 2070 6f73 6974 696f         # positio
-0000d9f0: 6e73 0a20 2020 2020 2020 2070 6f73 203d  ns.        pos =
-0000da00: 204e 6f6e 650a 0a20 2020 2020 2020 2069   None..        i
-0000da10: 6620 6c61 796f 7574 2069 7320 4e6f 6e65  f layout is None
-0000da20: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
-0000da30: 2069 7369 6e73 7461 6e63 6528 6e65 7477   isinstance(netw
-0000da40: 6f72 6b2c 206e 6e67 742e 5370 6174 6961  ork, nngt.Spatia
-0000da50: 6c47 7261 7068 2920 616e 6420 7370 6174  lGraph) and spat
-0000da60: 6961 6c3a 0a20 2020 2020 2020 2020 2020  ial:.           
-0000da70: 2020 2020 2078 7920 203d 206e 6574 776f       xy  = netwo
-0000da80: 726b 2e67 6574 5f70 6f73 6974 696f 6e73  rk.get_positions
-0000da90: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
-0000daa0: 2020 2070 6f73 203d 2067 7261 7068 2e6e     pos = graph.n
-0000dab0: 6577 5f76 7028 2276 6563 746f 723c 646f  ew_vp("vector<do
-0000dac0: 7562 6c65 3e22 2c20 7661 6c73 3d78 7929  uble>", vals=xy)
-0000dad0: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
-0000dae0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-0000daf0: 2020 2077 6569 6768 7473 203d 2028 4e6f     weights = (No
-0000db00: 6e65 2069 6620 6e6f 7420 6e65 7477 6f72  ne if not networ
-0000db10: 6b2e 6973 5f77 6569 6768 7465 6428 290a  k.is_weighted().
-0000db20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000db30: 2020 2020 2020 2020 2020 2065 6c73 6520             else 
-0000db40: 6772 6170 682e 6564 6765 5f70 726f 7065  graph.edge_prope
-0000db50: 7274 6965 735b 2777 6569 6768 7427 5d29  rties['weight'])
-0000db60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000db70: 2070 6f73 203d 2073 6664 705f 6c61 796f   pos = sfdp_layo
-0000db80: 7574 2867 7261 7068 2c20 6577 6569 6768  ut(graph, eweigh
-0000db90: 743d 7765 6967 6874 7329 0a20 2020 2020  t=weights).     
-0000dba0: 2020 2065 6c69 6620 6c61 796f 7574 203d     elif layout =
-0000dbb0: 3d20 2272 616e 646f 6d22 3a0a 2020 2020  = "random":.    
-0000dbc0: 2020 2020 2020 2020 706f 7320 3d20 7261          pos = ra
-0000dbd0: 6e64 6f6d 5f6c 6179 6f75 7428 6772 6170  ndom_layout(grap
-0000dbe0: 6829 0a20 2020 2020 2020 2065 6c69 6620  h).        elif 
-0000dbf0: 6c61 796f 7574 203d 3d20 2263 6972 6375  layout == "circu
-0000dc00: 6c61 7222 3a0a 2020 2020 2020 2020 2020  lar":.          
-0000dc10: 2020 706f 7320 3d20 6772 6170 682e 6e65    pos = graph.ne
-0000dc20: 775f 7670 2822 7665 6374 6f72 3c64 6f75  w_vp("vector<dou
-0000dc30: 626c 653e 222c 0a20 2020 2020 2020 2020  ble>",.         
-0000dc40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dc50: 2020 2020 2020 7661 6c73 3d5f 6369 7263        vals=_circ
-0000dc60: 756c 6172 5f6c 6179 6f75 7428 6e65 7477  ular_layout(netw
-0000dc70: 6f72 6b2c 206e 7369 7a65 2929 0a20 2020  ork, nsize)).   
-0000dc80: 2020 2020 2065 6c69 6620 6e6f 6e73 7472       elif nonstr
-0000dc90: 696e 675f 636f 6e74 6169 6e65 7228 6c61  ing_container(la
-0000dca0: 796f 7574 293a 0a20 2020 2020 2020 2020  yout):.         
-0000dcb0: 2020 2061 7373 6572 7420 6e70 2e73 6861     assert np.sha
-0000dcc0: 7065 286c 6179 6f75 7429 203d 3d20 286e  pe(layout) == (n
-0000dcd0: 6574 776f 726b 2e6e 6f64 655f 6e62 2829  etwork.node_nb()
-0000dce0: 2c20 3229 2c20 5c0a 2020 2020 2020 2020  , 2), \.        
-0000dcf0: 2020 2020 2020 2020 224f 6e65 2070 6f73          "One pos
-0000dd00: 6974 696f 6e20 7065 7220 6e6f 6465 2069  ition per node i
-0000dd10: 6e20 7468 6520 6e65 7477 6f72 6b20 6973  n the network is
-0000dd20: 2072 6571 7569 7265 642e 220a 2020 2020   required.".    
-0000dd30: 2020 2020 2020 2020 706f 7320 3d20 6772          pos = gr
-0000dd40: 6170 682e 6e65 775f 7670 2822 7665 6374  aph.new_vp("vect
-0000dd50: 6f72 3c64 6f75 626c 653e 222c 2076 616c  or<double>", val
-0000dd60: 733d 6c61 796f 7574 290a 2020 2020 2020  s=layout).      
-0000dd70: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-0000dd80: 2020 2020 2320 7370 7269 6e67 2062 6c6f      # spring blo
-0000dd90: 636b 0a20 2020 2020 2020 2020 2020 2077  ck.            w
-0000dda0: 6569 6768 7473 203d 2028 4e6f 6e65 2069  eights = (None i
-0000ddb0: 6620 6e6f 7420 6e65 7477 6f72 6b2e 6973  f not network.is
-0000ddc0: 5f77 6569 6768 7465 6428 290a 2020 2020  _weighted().    
-0000ddd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dde0: 2020 2065 6c73 6520 6772 6170 682e 6564     else graph.ed
-0000ddf0: 6765 5f70 726f 7065 7274 6965 735b 2777  ge_properties['w
-0000de00: 6569 6768 7427 5d29 0a20 2020 2020 2020  eight']).       
-0000de10: 2020 2020 2070 6f73 203d 2073 6664 705f       pos = sfdp_
-0000de20: 6c61 796f 7574 2867 7261 7068 2c20 6577  layout(graph, ew
-0000de30: 6569 6768 743d 7765 6967 6874 7329 0a0a  eight=weights)..
-0000de40: 2020 2020 2020 2020 636f 6e76 6572 745f          convert_
-0000de50: 7368 6170 6520 3d20 7b0a 2020 2020 2020  shape = {.      
-0000de60: 2020 2020 2020 226f 223a 2022 6369 7263        "o": "circ
-0000de70: 6c65 222c 0a20 2020 2020 2020 2020 2020  le",.           
-0000de80: 2022 7622 3a20 2274 7269 616e 676c 6522   "v": "triangle"
-0000de90: 2c0a 2020 2020 2020 2020 2020 2020 225e  ,.            "^
-0000dea0: 223a 2022 7472 6961 6e67 6c65 222c 0a20  ": "triangle",. 
-0000deb0: 2020 2020 2020 2020 2020 2022 7322 3a20             "s": 
-0000dec0: 2273 7175 6172 6522 2c0a 2020 2020 2020  "square",.      
-0000ded0: 2020 2020 2020 2270 223a 2022 7065 6e74        "p": "pent
-0000dee0: 6167 6f6e 222c 0a20 2020 2020 2020 2020  agon",.         
-0000def0: 2020 2022 6822 3a20 2268 6578 6167 6f6e     "h": "hexagon
-0000df00: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
-0000df10: 4822 3a20 2268 6578 6167 6f6e 222c 0a20  H": "hexagon",. 
-0000df20: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
-0000df30: 2020 7368 6170 655f 6469 6374 203d 2064    shape_dict = d
-0000df40: 6566 6175 6c74 6469 6374 280a 2020 2020  efaultdict(.    
-0000df50: 2020 2020 2020 2020 6c61 6d62 6461 206b          lambda k
-0000df60: 3a20 2263 6972 636c 6522 2069 6620 6b20  : "circle" if k 
-0000df70: 6e6f 7420 696e 2063 6f6e 7665 7274 5f73  not in convert_s
-0000df80: 6861 7065 2e76 616c 7565 7328 2920 656c  hape.values() el
-0000df90: 7365 206b 290a 0a20 2020 2020 2020 2066  se k)..        f
-0000dfa0: 6f72 206b 2c20 7620 696e 2063 6f6e 7665  or k, v in conve
-0000dfb0: 7274 5f73 6861 7065 2e69 7465 6d73 2829  rt_shape.items()
-0000dfc0: 3a0a 2020 2020 2020 2020 2020 2020 7368  :.            sh
-0000dfd0: 6170 655f 6469 6374 5b6b 5d20 3d20 760a  ape_dict[k] = v.
-0000dfe0: 0a20 2020 2020 2020 2076 7072 6f70 7320  .        vprops 
-0000dff0: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-0000e000: 2273 6861 7065 223a 2073 6861 7065 5f64  "shape": shape_d
-0000e010: 6963 745b 6e73 6861 7065 5d2c 0a20 2020  ict[nshape],.   
-0000e020: 2020 2020 2020 2020 2022 6669 6c6c 5f63           "fill_c
-0000e030: 6f6c 6f72 223a 205f 746f 5f67 745f 7072  olor": _to_gt_pr
-0000e040: 6f70 2867 7261 7068 2c20 6e6f 6465 5f63  op(graph, node_c
-0000e050: 6f6c 6f72 2c20 6e63 6d61 702c 2063 6f6c  olor, ncmap, col
-0000e060: 6f72 3d54 7275 6529 2c0a 2020 2020 2020  or=True),.      
-0000e070: 2020 2020 2020 2263 6f6c 6f72 223a 205f        "color": _
-0000e080: 746f 5f67 745f 7072 6f70 2867 7261 7068  to_gt_prop(graph
-0000e090: 2c20 6e62 6f72 6465 725f 636f 6c6f 722c  , nborder_color,
-0000e0a0: 206e 636d 6170 2c20 636f 6c6f 723d 5472   ncmap, color=Tr
-0000e0b0: 7565 292c 0a20 2020 2020 2020 2020 2020  ue),.           
-0000e0c0: 2022 7369 7a65 223a 205f 746f 5f67 745f   "size": _to_gt_
-0000e0d0: 7072 6f70 2867 7261 7068 2c20 6e73 697a  prop(graph, nsiz
-0000e0e0: 652c 206e 636d 6170 292c 0a20 2020 2020  e, ncmap),.     
-0000e0f0: 2020 2020 2020 2022 7065 6e5f 7769 6474         "pen_widt
-0000e100: 6822 3a20 5f74 6f5f 6774 5f70 726f 7028  h": _to_gt_prop(
-0000e110: 6772 6170 682c 206e 626f 7264 6572 5f77  graph, nborder_w
-0000e120: 6964 7468 2c20 6e63 6d61 7029 2c0a 2020  idth, ncmap),.  
-0000e130: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
-0000e140: 2069 6620 7670 726f 7073 5b22 6669 6c6c   if vprops["fill
-0000e150: 5f63 6f6c 6f72 225d 2069 7320 4e6f 6e65  _color"] is None
-0000e160: 3a0a 2020 2020 2020 2020 2020 2020 7670  :.            vp
-0000e170: 726f 7073 5b22 6669 6c6c 5f63 6f6c 6f72  rops["fill_color
-0000e180: 225d 203d 205b 302e 3634 3036 3235 2c20  "] = [0.640625, 
-0000e190: 302c 2030 2c20 302e 395d 0a0a 2020 2020  0, 0, 0.9]..    
-0000e1a0: 2020 2020 6570 726f 7073 203d 204e 6f6e      eprops = Non
-0000e1b0: 6520 6966 206e 6574 776f 726b 2e65 6467  e if network.edg
-0000e1c0: 655f 6e62 2829 203d 3d20 3020 656c 7365  e_nb() == 0 else
-0000e1d0: 207b 0a20 2020 2020 2020 2020 2020 2022   {.            "
-0000e1e0: 636f 6c6f 7222 3a20 5f74 6f5f 6774 5f70  color": _to_gt_p
-0000e1f0: 726f 7028 6772 6170 682c 2065 636f 6c6f  rop(graph, ecolo
-0000e200: 722c 2070 616c 6574 7465 5f63 6f6e 7469  r, palette_conti
-0000e210: 6e75 6f75 7328 292c 0a20 2020 2020 2020  nuous(),.       
-0000e220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e230: 2020 2020 2020 2020 2020 7074 7970 653d            ptype=
-0000e240: 2765 6467 6527 2c20 636f 6c6f 723d 5472  'edge', color=Tr
-0000e250: 7565 292c 0a20 2020 2020 2020 2020 2020  ue),.           
-0000e260: 2022 7065 6e5f 7769 6474 6822 3a20 5f74   "pen_width": _t
-0000e270: 6f5f 6774 5f70 726f 7028 6772 6170 682c  o_gt_prop(graph,
-0000e280: 2065 7369 7a65 2c20 4e6f 6e65 2c20 7074   esize, None, pt
-0000e290: 7970 653d 2765 6467 6527 292c 0a20 2020  ype='edge'),.   
-0000e2a0: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
-0000e2b0: 6966 2072 6573 7472 6963 745f 6564 6765  if restrict_edge
-0000e2c0: 7320 6973 206e 6f74 204e 6f6e 653a 0a20  s is not None:. 
-0000e2d0: 2020 2020 2020 2020 2020 2065 6669 6c74             efilt
-0000e2e0: 203d 206e 6574 776f 726b 2e67 7261 7068   = network.graph
-0000e2f0: 2e6e 6577 5f65 7028 0a20 2020 2020 2020  .new_ep(.       
-0000e300: 2020 2020 2020 2020 2022 626f 6f6c 222c           "bool",
-0000e310: 2076 616c 733d 6e70 2e7a 6572 6f73 286e   vals=np.zeros(n
-0000e320: 6574 776f 726b 2e65 6467 655f 6e62 2829  etwork.edge_nb()
-0000e330: 2c20 6474 7970 653d 626f 6f6c 2929 0a20  , dtype=bool)). 
-0000e340: 2020 2020 2020 2020 2020 2065 6964 7320             eids 
-0000e350: 3d20 5b6e 6574 776f 726b 2e65 6467 655f  = [network.edge_
-0000e360: 6964 2865 2920 666f 7220 6520 696e 2072  id(e) for e in r
-0000e370: 6573 7472 6963 745f 6564 6765 735d 0a0a  estrict_edges]..
-0000e380: 2020 2020 2020 2020 2020 2020 6566 696c              efil
-0000e390: 742e 615b 6569 6473 5d20 3d20 310a 0a20  t.a[eids] = 1.. 
-0000e3a0: 2020 2020 2020 2020 2020 206e 6574 776f             netwo
-0000e3b0: 726b 2e67 7261 7068 2e73 6574 5f65 6467  rk.graph.set_edg
-0000e3c0: 655f 6669 6c74 6572 2865 6669 6c74 290a  e_filter(efilt).
-0000e3d0: 0a20 2020 2020 2020 2067 7261 7068 5f64  .        graph_d
-0000e3e0: 7261 7728 6e65 7477 6f72 6b2e 6772 6170  raw(network.grap
-0000e3f0: 682c 2070 6f73 3d70 6f73 2c20 7670 726f  h, pos=pos, vpro
-0000e400: 7073 3d76 7072 6f70 732c 2065 7072 6f70  ps=vprops, eprop
-0000e410: 733d 6570 726f 7073 2c0a 2020 2020 2020  s=eprops,.      
-0000e420: 2020 2020 2020 2020 2020 2020 206f 7574               out
-0000e430: 7075 745f 7369 7a65 3d73 697a 652c 206d  put_size=size, m
-0000e440: 706c 6669 673d 6178 6973 290a 0a20 2020  plfig=axis)..   
-0000e450: 2020 2020 2069 6620 7265 7374 7269 6374       if restrict
-0000e460: 5f65 6467 6573 2069 7320 6e6f 7420 4e6f  _edges is not No
-0000e470: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
-0000e480: 2320 636c 6561 7220 6564 6765 2066 696c  # clear edge fil
-0000e490: 7465 720a 2020 2020 2020 2020 2020 2020  ter.            
-0000e4a0: 6e65 7477 6f72 6b2e 6772 6170 682e 7365  network.graph.se
-0000e4b0: 745f 6564 6765 5f66 696c 7465 7228 4e6f  t_edge_filter(No
-0000e4c0: 6e65 290a 2020 2020 656c 6966 206e 6e67  ne).    elif nng
-0000e4d0: 742e 6765 745f 636f 6e66 6967 2822 6261  t.get_config("ba
-0000e4e0: 636b 656e 6422 2920 3d3d 2022 6e65 7477  ckend") == "netw
-0000e4f0: 6f72 6b78 223a 0a20 2020 2020 2020 2069  orkx":.        i
-0000e500: 6d70 6f72 7420 6e65 7477 6f72 6b78 2061  mport networkx a
-0000e510: 7320 6e78 0a0a 2020 2020 2020 2020 706f  s nx..        po
-0000e520: 7320 3d20 4e6f 6e65 0a0a 2020 2020 2020  s = None..      
-0000e530: 2020 6966 206c 6179 6f75 7420 6973 204e    if layout is N
-0000e540: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
-0000e550: 2069 6620 6973 696e 7374 616e 6365 286e   if isinstance(n
-0000e560: 6574 776f 726b 2c20 6e6e 6774 2e53 7061  etwork, nngt.Spa
-0000e570: 7469 616c 4772 6170 6829 2061 6e64 2073  tialGraph) and s
-0000e580: 7061 7469 616c 3a0a 2020 2020 2020 2020  patial:.        
-0000e590: 2020 2020 2020 2020 7879 2020 3d20 6e65          xy  = ne
-0000e5a0: 7477 6f72 6b2e 6765 745f 706f 7369 7469  twork.get_positi
-0000e5b0: 6f6e 7328 290a 2020 2020 2020 2020 2020  ons().          
-0000e5c0: 2020 2020 2020 706f 7320 3d20 7b69 3a20        pos = {i: 
-0000e5d0: 636f 6f72 6473 2066 6f72 2069 2c20 636f  coords for i, co
-0000e5e0: 6f72 6473 2069 6e20 656e 756d 6572 6174  ords in enumerat
-0000e5f0: 6528 7879 297d 0a20 2020 2020 2020 2065  e(xy)}.        e
-0000e600: 6c69 6620 6c61 796f 7574 203d 3d20 2263  lif layout == "c
-0000e610: 6972 6375 6c61 7222 3a0a 2020 2020 2020  ircular":.      
-0000e620: 2020 2020 2020 706f 7320 3d20 6e78 2e63        pos = nx.c
-0000e630: 6972 6375 6c61 725f 6c61 796f 7574 286e  ircular_layout(n
-0000e640: 6574 776f 726b 2e67 7261 7068 290a 2020  etwork.graph).  
-0000e650: 2020 2020 2020 656c 6966 206c 6179 6f75        elif layou
-0000e660: 7420 3d3d 2022 7261 6e64 6f6d 223a 0a20  t == "random":. 
-0000e670: 2020 2020 2020 2020 2020 2070 6f73 203d             pos =
-0000e680: 206e 782e 7261 6e64 6f6d 5f6c 6179 6f75   nx.random_layou
-0000e690: 7428 6e65 7477 6f72 6b2e 6772 6170 6829  t(network.graph)
-0000e6a0: 0a20 2020 2020 2020 2065 6c69 6620 6e6f  .        elif no
-0000e6b0: 6e73 7472 696e 675f 636f 6e74 6169 6e65  nstring_containe
-0000e6c0: 7228 6c61 796f 7574 293a 0a20 2020 2020  r(layout):.     
-0000e6d0: 2020 2020 2020 2061 7373 6572 7420 6e70         assert np
-0000e6e0: 2e73 6861 7065 286c 6179 6f75 7429 203d  .shape(layout) =
-0000e6f0: 3d20 286e 6574 776f 726b 2e6e 6f64 655f  = (network.node_
-0000e700: 6e62 2829 2c20 3229 2c20 5c0a 2020 2020  nb(), 2), \.    
-0000e710: 2020 2020 2020 2020 2020 2020 224f 6e65              "One
-0000e720: 2070 6f73 6974 696f 6e20 7065 7220 6e6f   position per no
-0000e730: 6465 2069 6e20 7468 6520 6e65 7477 6f72  de in the networ
-0000e740: 6b20 6973 2072 6571 7569 7265 642e 220a  k is required.".
-0000e750: 2020 2020 2020 2020 2020 2020 706f 7320              pos 
-0000e760: 3d20 7b69 3a20 636f 6f72 6473 2066 6f72  = {i: coords for
-0000e770: 2069 2c20 636f 6f72 6473 2069 6e20 656e   i, coords in en
-0000e780: 756d 6572 6174 6528 6c61 796f 7574 297d  umerate(layout)}
-0000e790: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-0000e7a0: 2020 2020 2020 2020 2020 2070 6f73 203d             pos =
-0000e7b0: 206e 782e 7370 7269 6e67 5f6c 6179 6f75   nx.spring_layou
-0000e7c0: 7428 6e65 7477 6f72 6b2e 6772 6170 6829  t(network.graph)
-0000e7d0: 0a0a 2020 2020 2020 2020 2320 6e6f 726d  ..        # norm
-0000e7e0: 616c 697a 6520 7369 7a65 7320 636f 6d70  alize sizes comp
-0000e7f0: 6172 6564 2074 6f20 6967 7261 7068 0a20  ared to igraph. 
-0000e800: 2020 2020 2020 206e 7369 7a65 203d 205f         nsize = _
-0000e810: 7363 616c 655f 6e6f 6465 5f73 697a 6528  scale_node_size(
-0000e820: 6e73 697a 6529 0a0a 2020 2020 2020 2020  nsize)..        
-0000e830: 6e62 6f72 6465 725f 7769 6474 6820 3d20  nborder_width = 
-0000e840: 5f73 6361 6c65 5f6e 6f64 655f 7369 7a65  _scale_node_size
-0000e850: 286e 626f 7264 6572 5f77 6964 7468 2c20  (nborder_width, 
-0000e860: 3229 0a0a 2020 2020 2020 2020 6564 6765  2)..        edge
-0000e870: 7320 3d20 4e6f 6e65 2069 6620 7265 7374  s = None if rest
-0000e880: 7269 6374 5f65 6467 6573 2069 7320 4e6f  rict_edges is No
-0000e890: 6e65 2065 6c73 6520 6c69 7374 2872 6573  ne else list(res
-0000e8a0: 7472 6963 745f 6564 6765 7329 0a0a 2020  trict_edges)..  
-0000e8b0: 2020 2020 2020 6e78 2e64 7261 775f 6e65        nx.draw_ne
-0000e8c0: 7477 6f72 6b78 280a 2020 2020 2020 2020  tworkx(.        
-0000e8d0: 2020 2020 6e65 7477 6f72 6b2e 6772 6170      network.grap
-0000e8e0: 682c 2070 6f73 3d70 6f73 2c20 6178 3d61  h, pos=pos, ax=a
-0000e8f0: 7869 732c 206e 6f64 656c 6973 743d 7265  xis, nodelist=re
-0000e900: 7374 7269 6374 5f6e 6f64 6573 2c0a 2020  strict_nodes,.  
-0000e910: 2020 2020 2020 2020 2020 6564 6765 6c69            edgeli
-0000e920: 7374 3d65 6467 6573 2c20 6e6f 6465 5f73  st=edges, node_s
-0000e930: 697a 653d 6e73 697a 652c 206e 6f64 655f  ize=nsize, node_
-0000e940: 636f 6c6f 723d 6e6f 6465 5f63 6f6c 6f72  color=node_color
-0000e950: 2c0a 2020 2020 2020 2020 2020 2020 6e6f  ,.            no
-0000e960: 6465 5f73 6861 7065 3d6e 7368 6170 652c  de_shape=nshape,
-0000e970: 206c 696e 6577 6964 7468 733d 6e62 6f72   linewidths=nbor
-0000e980: 6465 725f 7769 6474 682c 2065 6467 655f  der_width, edge_
-0000e990: 636f 6c6f 723d 6563 6f6c 6f72 2c0a 2020  color=ecolor,.  
-0000e9a0: 2020 2020 2020 2020 2020 6564 6765 5f63            edge_c
-0000e9b0: 6d61 703d 7061 6c65 7474 655f 636f 6e74  map=palette_cont
-0000e9c0: 696e 756f 7573 2829 2c20 636d 6170 3d6e  inuous(), cmap=n
-0000e9d0: 636d 6170 2c0a 2020 2020 2020 2020 2020  cmap,.          
-0000e9e0: 2020 7769 7468 5f6c 6162 656c 733d 7368    with_labels=sh
-0000e9f0: 6f77 5f6c 6162 656c 732c 2077 6964 7468  ow_labels, width
-0000ea00: 3d65 7369 7a65 2c20 6564 6765 636f 6c6f  =esize, edgecolo
-0000ea10: 7273 3d6e 626f 7264 6572 5f63 6f6c 6f72  rs=nborder_color
-0000ea20: 290a 2020 2020 656c 6966 206e 6e67 742e  ).    elif nngt.
-0000ea30: 6765 745f 636f 6e66 6967 2822 6261 636b  get_config("back
-0000ea40: 656e 6422 2920 3d3d 2022 6967 7261 7068  end") == "igraph
-0000ea50: 223a 0a20 2020 2020 2020 2069 6d70 6f72  ":.        impor
-0000ea60: 7420 6967 7261 7068 0a20 2020 2020 2020  t igraph.       
-0000ea70: 2066 726f 6d20 6967 7261 7068 2069 6d70   from igraph imp
-0000ea80: 6f72 7420 4c61 796f 7574 2c20 5072 6563  ort Layout, Prec
-0000ea90: 616c 6375 6c61 7465 6450 616c 6574 7465  alculatedPalette
-0000eaa0: 0a0a 2020 2020 2020 2020 706f 7320 3d20  ..        pos = 
-0000eab0: 4e6f 6e65 0a0a 2020 2020 2020 2020 6966  None..        if
-0000eac0: 206c 6179 6f75 7420 6973 204e 6f6e 653a   layout is None:
-0000ead0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-0000eae0: 6973 696e 7374 616e 6365 286e 6574 776f  isinstance(netwo
-0000eaf0: 726b 2c20 6e6e 6774 2e53 7061 7469 616c  rk, nngt.Spatial
-0000eb00: 4772 6170 6829 2061 6e64 2073 7061 7469  Graph) and spati
-0000eb10: 616c 3a0a 2020 2020 2020 2020 2020 2020  al:.            
-0000eb20: 2020 2020 7879 2020 3d20 6e65 7477 6f72      xy  = networ
-0000eb30: 6b2e 6765 745f 706f 7369 7469 6f6e 7328  k.get_positions(
-0000eb40: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0000eb50: 2020 706f 7320 3d20 4c61 796f 7574 2878    pos = Layout(x
-0000eb60: 7929 0a20 2020 2020 2020 2020 2020 2065  y).            e
-0000eb70: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-0000eb80: 2020 2020 2070 6f73 203d 206e 6574 776f       pos = netwo
-0000eb90: 726b 2e67 7261 7068 2e6c 6179 6f75 745f  rk.graph.layout_
-0000eba0: 6672 7563 6874 6572 6d61 6e5f 7265 696e  fruchterman_rein
-0000ebb0: 676f 6c64 2829 0a20 2020 2020 2020 2065  gold().        e
-0000ebc0: 6c69 6620 6c61 796f 7574 203d 3d20 2263  lif layout == "c
-0000ebd0: 6972 6375 6c61 7222 3a0a 2020 2020 2020  ircular":.      
-0000ebe0: 2020 2020 2020 706f 7320 3d20 6e65 7477        pos = netw
-0000ebf0: 6f72 6b2e 6772 6170 682e 6c61 796f 7574  ork.graph.layout
-0000ec00: 5f63 6972 636c 6528 290a 2020 2020 2020  _circle().      
-0000ec10: 2020 656c 6966 206c 6179 6f75 7420 3d3d    elif layout ==
-0000ec20: 2022 7261 6e64 6f6d 223a 0a20 2020 2020   "random":.     
-0000ec30: 2020 2020 2020 2070 6f73 203d 206e 6574         pos = net
-0000ec40: 776f 726b 2e67 7261 7068 2e6c 6179 6f75  work.graph.layou
-0000ec50: 745f 7261 6e64 6f6d 2829 0a0a 2020 2020  t_random()..    
-0000ec60: 2020 2020 7061 6c65 7474 6520 3d20 5072      palette = Pr
-0000ec70: 6563 616c 6375 6c61 7465 6450 616c 6574  ecalculatedPalet
-0000ec80: 7465 286e 636d 6170 286e 702e 6c69 6e73  te(ncmap(np.lins
-0000ec90: 7061 6365 2830 2c20 312c 2032 3536 2929  pace(0, 1, 256))
-0000eca0: 290a 0a20 2020 2020 2020 2023 2063 6f6e  )..        # con
-0000ecb0: 7665 7274 2063 6f6c 6f72 2074 6f20 6967  vert color to ig
-0000ecc0: 7261 7068 2d66 6f72 6d61 740a 2020 2020  raph-format.    
-0000ecd0: 2020 2020 6e6f 6465 5f63 6f6c 6f72 203d      node_color =
-0000ece0: 205f 746f 5f69 675f 636f 6c6f 7228 6e6f   _to_ig_color(no
-0000ecf0: 6465 5f63 6f6c 6f72 290a 2020 2020 2020  de_color).      
-0000ed00: 2020 6563 6f6c 6f72 2020 2020 203d 205f    ecolor     = _
-0000ed10: 746f 5f69 675f 636f 6c6f 7228 6563 6f6c  to_ig_color(ecol
-0000ed20: 6f72 290a 0a20 2020 2020 2020 2063 6f6e  or)..        con
-0000ed30: 7665 7274 5f73 6861 7065 203d 207b 0a20  vert_shape = {. 
-0000ed40: 2020 2020 2020 2020 2020 2022 6f22 3a20             "o": 
-0000ed50: 2263 6972 636c 6522 2c0a 2020 2020 2020  "circle",.      
-0000ed60: 2020 2020 2020 2276 223a 2022 7472 6961        "v": "tria
-0000ed70: 6e67 6c65 2d64 6f77 6e22 2c0a 2020 2020  ngle-down",.    
-0000ed80: 2020 2020 2020 2020 225e 223a 2022 7472          "^": "tr
-0000ed90: 6961 6e67 6c65 2d75 7022 2c0a 2020 2020  iangle-up",.    
-0000eda0: 2020 2020 2020 2020 2273 223a 2022 7265          "s": "re
-0000edb0: 6374 616e 676c 6522 2c0a 2020 2020 2020  ctangle",.      
-0000edc0: 2020 7d0a 0a20 2020 2020 2020 2073 6861    }..        sha
-0000edd0: 7065 5f64 6963 7420 3d20 6465 6661 756c  pe_dict = defaul
-0000ede0: 7464 6963 7428 0a20 2020 2020 2020 2020  tdict(.         
-0000edf0: 2020 206c 616d 6264 6120 6b3a 2022 6369     lambda k: "ci
-0000ee00: 7263 6c65 2220 6966 206b 206e 6f74 2069  rcle" if k not i
-0000ee10: 6e20 636f 6e76 6572 745f 7368 6170 652e  n convert_shape.
-0000ee20: 7661 6c75 6573 2829 2065 6c73 6520 6b29  values() else k)
-0000ee30: 0a0a 2020 2020 2020 2020 666f 7220 6b2c  ..        for k,
-0000ee40: 2076 2069 6e20 636f 6e76 6572 745f 7368   v in convert_sh
-0000ee50: 6170 652e 6974 656d 7328 293a 0a20 2020  ape.items():.   
-0000ee60: 2020 2020 2020 2020 2073 6861 7065 5f64           shape_d
-0000ee70: 6963 745b 6b5d 203d 2076 0a0a 2020 2020  ict[k] = v..    
-0000ee80: 2020 2020 6966 2069 6776 203e 3d20 6d69      if igv >= mi
-0000ee90: 6e5f 6967 5f76 6572 7369 6f6e 3a0a 2020  n_ig_version:.  
-0000eea0: 2020 2020 2020 2020 2020 2320 7363 616c            # scal
-0000eeb0: 6520 746f 206e 6f72 6d61 6c69 7a65 206e  e to normalize n
-0000eec0: 6f64 6520 7369 7a65 2063 6f6d 7061 7265  ode size compare
-0000eed0: 6420 746f 206f 7468 6572 206c 6962 7261  d to other libra
-0000eee0: 7269 6573 0a20 2020 2020 2020 2020 2020  ries.           
-0000eef0: 206e 7369 7a65 203d 205f 7363 616c 655f   nsize = _scale_
-0000ef00: 6e6f 6465 5f73 697a 6528 6e73 697a 652c  node_size(nsize,
-0000ef10: 2066 6163 746f 723d 302e 3129 0a0a 2020   factor=0.1)..  
-0000ef20: 2020 2020 2020 6966 206e 6f6e 7374 7269        if nonstri
-0000ef30: 6e67 5f63 6f6e 7461 696e 6572 286e 7369  ng_container(nsi
-0000ef40: 7a65 293a 0a20 2020 2020 2020 2020 2020  ze):.           
-0000ef50: 206e 7369 7a65 203d 206c 6973 7428 6e73   nsize = list(ns
-0000ef60: 697a 6529 0a0a 2020 2020 2020 2020 6966  ize)..        if
-0000ef70: 206e 6f6e 7374 7269 6e67 5f63 6f6e 7461   nonstring_conta
-0000ef80: 696e 6572 286e 6f64 655f 636f 6c6f 7229  iner(node_color)
-0000ef90: 3a0a 2020 2020 2020 2020 2020 2020 6e6f  :.            no
-0000efa0: 6465 5f63 6f6c 6f72 203d 206c 6973 7428  de_color = list(
-0000efb0: 6e6f 6465 5f63 6f6c 6f72 290a 0a20 2020  node_color)..   
-0000efc0: 2020 2020 2069 6620 6e6f 6e73 7472 696e       if nonstrin
-0000efd0: 675f 636f 6e74 6169 6e65 7228 6573 697a  g_container(esiz
-0000efe0: 6529 3a0a 2020 2020 2020 2020 2020 2020  e):.            
-0000eff0: 6573 697a 6520 3d20 6c69 7374 2865 7369  esize = list(esi
-0000f000: 7a65 290a 0a20 2020 2020 2020 2069 6620  ze)..        if 
-0000f010: 6e6f 6e73 7472 696e 675f 636f 6e74 6169  nonstring_contai
-0000f020: 6e65 7228 6563 6f6c 6f72 293a 0a20 2020  ner(ecolor):.   
-0000f030: 2020 2020 2020 2020 2065 636f 6c6f 7220           ecolor 
-0000f040: 3d20 6c69 7374 2865 636f 6c6f 7229 0a0a  = list(ecolor)..
-0000f050: 2020 2020 2020 2020 7669 7375 616c 5f73          visual_s
-0000f060: 7479 6c65 203d 207b 0a20 2020 2020 2020  tyle = {.       
-0000f070: 2020 2020 2022 7665 7274 6578 5f73 697a       "vertex_siz
-0000f080: 6522 3a20 6e73 697a 652c 0a20 2020 2020  e": nsize,.     
-0000f090: 2020 2020 2020 2022 7665 7274 6578 5f63         "vertex_c
-0000f0a0: 6f6c 6f72 223a 206e 6f64 655f 636f 6c6f  olor": node_colo
-0000f0b0: 722c 0a20 2020 2020 2020 2020 2020 2022  r,.            "
-0000f0c0: 7665 7274 6578 5f73 6861 7065 223a 2073  vertex_shape": s
-0000f0d0: 6861 7065 5f64 6963 745b 6e73 6861 7065  hape_dict[nshape
-0000f0e0: 5d2c 0a20 2020 2020 2020 2020 2020 2022  ],.            "
-0000f0f0: 6564 6765 5f77 6964 7468 223a 2065 7369  edge_width": esi
-0000f100: 7a65 2c0a 2020 2020 2020 2020 2020 2020  ze,.            
-0000f110: 2265 6467 655f 636f 6c6f 7222 3a20 6563  "edge_color": ec
-0000f120: 6f6c 6f72 2c0a 2020 2020 2020 2020 2020  olor,.          
-0000f130: 2020 226c 6179 6f75 7422 3a20 706f 732c    "layout": pos,
-0000f140: 0a20 2020 2020 2020 2020 2020 2022 7061  .            "pa
-0000f150: 6c65 7474 6522 3a20 7061 6c65 7474 652c  lette": palette,
-0000f160: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
-0000f170: 2020 2020 6772 6170 6820 3d20 6e65 7477      graph = netw
-0000f180: 6f72 6b2e 6772 6170 680a 0a20 2020 2020  ork.graph..     
-0000f190: 2020 2069 6620 7265 7374 7269 6374 5f65     if restrict_e
-0000f1a0: 6467 6573 2069 7320 6e6f 7420 4e6f 6e65  dges is not None
-0000f1b0: 3a0a 2020 2020 2020 2020 2020 2020 6569  :.            ei
-0000f1c0: 6473 2020 3d20 5b6e 6574 776f 726b 2e65  ds  = [network.e
-0000f1d0: 6467 655f 6964 2865 2920 666f 7220 6520  dge_id(e) for e 
-0000f1e0: 696e 2072 6573 7472 6963 745f 6564 6765  in restrict_edge
-0000f1f0: 735d 0a20 2020 2020 2020 2020 2020 2067  s].            g
-0000f200: 7261 7068 203d 206e 6574 776f 726b 2e67  raph = network.g
-0000f210: 7261 7068 2e73 7562 6772 6170 685f 6564  raph.subgraph_ed
-0000f220: 6765 7328 6569 6473 2c20 6465 6c65 7465  ges(eids, delete
-0000f230: 5f76 6572 7469 6365 733d 4661 6c73 6529  _vertices=False)
-0000f240: 0a0a 2020 2020 2020 2020 6966 2069 6776  ..        if igv
-0000f250: 203e 3d20 6d69 6e5f 6967 5f76 6572 7369   >= min_ig_versi
-0000f260: 6f6e 3a0a 2020 2020 2020 2020 2020 2020  on:.            
-0000f270: 6967 7261 7068 2e70 6c6f 7428 6772 6170  igraph.plot(grap
-0000f280: 682c 2074 6172 6765 743d 6178 6973 2c20  h, target=axis, 
-0000f290: 2a2a 7669 7375 616c 5f73 7479 6c65 290a  **visual_style).
-0000f2a0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0000f2b0: 2020 2020 2020 2020 2020 6772 6170 685f            graph_
-0000f2c0: 6172 7469 7374 203d 2047 7261 7068 4172  artist = GraphAr
-0000f2d0: 7469 7374 2867 7261 7068 2c20 6178 6973  tist(graph, axis
-0000f2e0: 2c20 2a2a 7669 7375 616c 5f73 7479 6c65  , **visual_style
-0000f2f0: 290a 2020 2020 2020 2020 2020 2020 6178  ).            ax
-0000f300: 6973 2e61 6464 5f61 7274 6973 7428 6772  is.add_artist(gr
-0000f310: 6170 685f 6172 7469 7374 290a 0a20 2020  aph_artist)..   
-0000f320: 2069 6620 2274 6974 6c65 2220 696e 206b   if "title" in k
-0000f330: 7761 7267 733a 0a20 2020 2020 2020 2061  wargs:.        a
-0000f340: 7869 732e 7365 745f 7469 746c 6528 6b77  xis.set_title(kw
-0000f350: 6172 6773 5b22 7469 746c 6522 5d29 0a0a  args["title"])..
-0000f360: 2020 2020 6966 2073 686f 773a 0a20 2020      if show:.   
-0000f370: 2020 2020 2070 6c74 2e73 686f 7728 290a       plt.show().
-0000f380: 0a0a 6465 6620 6368 6f72 645f 6469 6167  ..def chord_diag
-0000f390: 7261 6d28 6e65 7477 6f72 6b2c 2077 6569  ram(network, wei
-0000f3a0: 6768 7473 3d54 7275 652c 206e 616d 6573  ghts=True, names
-0000f3b0: 3d4e 6f6e 652c 206f 7264 6572 3d4e 6f6e  =None, order=Non
-0000f3c0: 652c 2077 6964 7468 3d30 2e31 2c0a 2020  e, width=0.1,.  
-0000f3d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f3e0: 7061 643d 322e 2c20 6761 703d 302e 3033  pad=2., gap=0.03
-0000f3f0: 2c20 6368 6f72 6477 6964 7468 3d30 2e37  , chordwidth=0.7
-0000f400: 2c20 6178 6973 3d4e 6f6e 652c 2063 6f6c  , axis=None, col
-0000f410: 6f72 733d 4e6f 6e65 2c0a 2020 2020 2020  ors=None,.      
-0000f420: 2020 2020 2020 2020 2020 2020 636d 6170              cmap
-0000f430: 3d4e 6f6e 652c 2061 6c70 6861 3d30 2e37  =None, alpha=0.7
-0000f440: 2c20 7573 655f 6772 6164 6965 6e74 3d46  , use_gradient=F
-0000f450: 616c 7365 2c20 6368 6f72 645f 636f 6c6f  alse, chord_colo
-0000f460: 7273 3d4e 6f6e 652c 0a20 2020 2020 2020  rs=None,.       
-0000f470: 2020 2020 2020 2020 2020 2073 7461 7274             start
-0000f480: 5f61 743d 302c 2065 7874 656e 743d 3336  _at=0, extent=36
-0000f490: 302c 2064 6972 6563 7465 643d 4e6f 6e65  0, directed=None
-0000f4a0: 2c20 7368 6f77 3d46 616c 7365 2c20 2a2a  , show=False, **
-0000f4b0: 6b77 6172 6773 293a 0a20 2020 2022 2222  kwargs):.    """
-0000f4c0: 0a20 2020 2050 6c6f 7420 6120 6368 6f72  .    Plot a chor
-0000f4d0: 6420 6469 6167 7261 6d2e 0a0a 2020 2020  d diagram...    
-0000f4e0: 5061 7261 6d65 7465 7273 0a20 2020 202d  Parameters.    -
-0000f4f0: 2d2d 2d2d 2d2d 2d2d 2d0a 2020 2020 6e65  ---------.    ne
-0000f500: 7477 6f72 6b20 3a20 6120 3a63 6c61 7373  twork : a :class
-0000f510: 3a60 6e6e 6774 2e47 7261 7068 6020 6f62  :`nngt.Graph` ob
-0000f520: 6a65 6374 0a20 2020 2020 2020 204e 6574  ject.        Net
-0000f530: 776f 726b 2075 7365 6420 746f 2070 6c6f  work used to plo
-0000f540: 7420 7468 6520 6368 6f72 6420 6469 6167  t the chord diag
-0000f550: 7261 6d2e 0a20 2020 2077 6569 6768 7473  ram..    weights
-0000f560: 203a 2062 6f6f 6c20 6f72 2073 7472 2c20   : bool or str, 
-0000f570: 6f70 7469 6f6e 616c 2028 6465 6661 756c  optional (defaul
-0000f580: 743a 2027 7765 6967 6874 2720 6174 7472  t: 'weight' attr
-0000f590: 6962 7574 6529 0a20 2020 2020 2020 2057  ibute).        W
-0000f5a0: 6569 6768 7473 2075 7365 6420 746f 2070  eights used to p
-0000f5b0: 6c6f 7420 7468 6520 636f 6e6e 6563 7469  lot the connecti
-0000f5c0: 6f6e 732e 0a20 2020 206e 616d 6573 203a  ons..    names :
-0000f5d0: 2073 7472 206f 7220 6c69 7374 206f 6620   str or list of 
-0000f5e0: 7374 722c 206f 7074 696f 6e61 6c20 2864  str, optional (d
-0000f5f0: 6566 6175 6c74 3a20 6e6f 206e 616d 6573  efault: no names
-0000f600: 290a 2020 2020 2020 2020 4e61 6d65 7320  ).        Names 
-0000f610: 6f66 2074 6865 206e 6f64 6573 2074 6861  of the nodes tha
-0000f620: 7420 7769 6c6c 2062 6520 6469 7370 6c61  t will be displa
-0000f630: 7965 642c 2065 6974 6865 7220 6120 6e6f  yed, either a no
-0000f640: 6465 2061 7474 7269 6275 7465 0a20 2020  de attribute.   
-0000f650: 2020 2020 206f 7220 6120 6375 7374 6f6d       or a custom
-0000f660: 206c 6973 7420 286d 7573 7420 6265 206f   list (must be o
-0000f670: 7264 6572 6564 2066 6f6c 6c6f 7769 6e67  rdered following
-0000f680: 2074 6865 206e 6f64 6573 2720 696e 6469   the nodes' indi
-0000f690: 6365 7329 2e0a 2020 2020 6f72 6465 7220  ces)..    order 
-0000f6a0: 3a20 6c69 7374 2c20 6f70 7469 6f6e 616c  : list, optional
-0000f6b0: 2028 6465 6661 756c 743a 206f 7264 6572   (default: order
-0000f6c0: 206f 6620 7468 6520 6d61 7472 6978 2065   of the matrix e
-0000f6d0: 6e74 7269 6573 290a 2020 2020 2020 2020  ntries).        
-0000f6e0: 4f72 6465 7220 696e 2077 6869 6368 2074  Order in which t
-0000f6f0: 6865 2061 7263 7320 7368 6f75 6c64 2062  he arcs should b
-0000f700: 6520 706c 6163 6564 2061 726f 756e 6420  e placed around 
-0000f710: 7468 6520 7472 6967 6f6e 6f6d 6574 7269  the trigonometri
-0000f720: 630a 2020 2020 2020 2020 6369 7263 6c65  c.        circle
-0000f730: 2e0a 2020 2020 7769 6474 6820 3a20 666c  ..    width : fl
-0000f740: 6f61 742c 206f 7074 696f 6e61 6c20 2864  oat, optional (d
-0000f750: 6566 6175 6c74 3a20 302e 3129 0a20 2020  efault: 0.1).   
-0000f760: 2020 2020 2057 6964 7468 2f74 6869 636b       Width/thick
-0000f770: 6e65 7373 206f 6620 7468 6520 6964 656f  ness of the ideo
-0000f780: 6772 616d 2061 7263 2e0a 2020 2020 7061  gram arc..    pa
-0000f790: 6420 3a20 666c 6f61 742c 206f 7074 696f  d : float, optio
-0000f7a0: 6e61 6c20 2864 6566 6175 6c74 3a20 3229  nal (default: 2)
-0000f7b0: 0a20 2020 2020 2020 2044 6973 7461 6e63  .        Distanc
-0000f7c0: 6520 6265 7477 6565 6e20 7477 6f20 6e65  e between two ne
-0000f7d0: 6967 6862 6f72 696e 6720 6964 656f 6772  ighboring ideogr
-0000f7e0: 616d 2061 7263 732e 2055 6e69 743a 2064  am arcs. Unit: d
-0000f7f0: 6567 7265 652e 0a20 2020 2067 6170 203a  egree..    gap :
-0000f800: 2066 6c6f 6174 2c20 6f70 7469 6f6e 616c   float, optional
-0000f810: 2028 6465 6661 756c 743a 2030 2e30 3329   (default: 0.03)
-0000f820: 0a20 2020 2020 2020 2044 6973 7461 6e63  .        Distanc
-0000f830: 6520 6265 7477 6565 6e20 7468 6520 6172  e between the ar
-0000f840: 6320 616e 6420 7468 6520 6265 6769 6e6e  c and the beginn
-0000f850: 696e 6720 6f66 2074 6865 2063 6f72 642e  ing of the cord.
-0000f860: 0a20 2020 2063 686f 7264 7769 6474 6820  .    chordwidth 
-0000f870: 3a20 666c 6f61 742c 206f 7074 696f 6e61  : float, optiona
-0000f880: 6c20 2864 6566 6175 6c74 3a20 302e 3729  l (default: 0.7)
-0000f890: 0a20 2020 2020 2020 2050 6f73 6974 696f  .        Positio
-0000f8a0: 6e20 6f66 2074 6865 2063 6f6e 7472 6f6c  n of the control
-0000f8b0: 2070 6f69 6e74 7320 666f 7220 7468 6520   points for the 
-0000f8c0: 6368 6f72 6473 2c20 636f 6e74 726f 6c6c  chords, controll
-0000f8d0: 696e 6720 7468 6569 7220 7368 6170 652e  ing their shape.
-0000f8e0: 0a20 2020 2061 7869 7320 3a20 6d61 7470  .    axis : matp
-0000f8f0: 6c6f 746c 6962 2061 7869 732c 206f 7074  lotlib axis, opt
-0000f900: 696f 6e61 6c20 2864 6566 6175 6c74 3a20  ional (default: 
-0000f910: 6e65 7720 6178 6973 290a 2020 2020 2020  new axis).      
-0000f920: 2020 4d61 7470 6c6f 746c 6962 2061 7869    Matplotlib axi
-0000f930: 7320 7768 6572 6520 7468 6520 706c 6f74  s where the plot
-0000f940: 2073 686f 756c 6420 6265 2064 7261 776e   should be drawn
-0000f950: 2e0a 2020 2020 636f 6c6f 7273 203a 206c  ..    colors : l
-0000f960: 6973 742c 206f 7074 696f 6e61 6c20 2864  ist, optional (d
-0000f970: 6566 6175 6c74 3a20 6672 6f6d 2060 636d  efault: from `cm
-0000f980: 6170 6029 0a20 2020 2020 2020 204c 6973  ap`).        Lis
-0000f990: 7420 6f66 2075 7365 7220 6465 6669 6e65  t of user define
-0000f9a0: 6420 636f 6c6f 7273 206f 7220 666c 6f61  d colors or floa
-0000f9b0: 7473 2e0a 2020 2020 636d 6170 203a 2073  ts..    cmap : s
-0000f9c0: 7472 206f 7220 636f 6c6f 726d 6170 206f  tr or colormap o
-0000f9d0: 626a 6563 7420 2864 6566 6175 6c74 3a20  bject (default: 
-0000f9e0: 7669 7269 6469 7329 0a20 2020 2020 2020  viridis).       
-0000f9f0: 2043 6f6c 6f72 6d61 7020 7468 6174 2077   Colormap that w
-0000fa00: 696c 6c20 6265 2075 7365 6420 746f 2063  ill be used to c
-0000fa10: 6f6c 6f72 2074 6865 2061 7263 7320 616e  olor the arcs an
-0000fa20: 6420 6368 6f72 6473 2062 7920 6465 6661  d chords by defa
-0000fa30: 756c 742e 0a20 2020 2020 2020 2053 6565  ult..        See
-0000fa40: 2060 6368 6f72 645f 636f 6c6f 7273 6020   `chord_colors` 
-0000fa50: 746f 2075 7365 2064 6966 6665 7265 6e74  to use different
-0000fa60: 2063 6f6c 6f72 7320 666f 7220 6368 6f72   colors for chor
-0000fa70: 6473 2e0a 2020 2020 616c 7068 6120 3a20  ds..    alpha : 
-0000fa80: 666c 6f61 7420 696e 205b 302c 2031 5d2c  float in [0, 1],
-0000fa90: 206f 7074 696f 6e61 6c20 2864 6566 6175   optional (defau
-0000faa0: 6c74 3a20 302e 3729 0a20 2020 2020 2020  lt: 0.7).       
-0000fab0: 204f 7061 6369 7479 206f 6620 7468 6520   Opacity of the 
-0000fac0: 6368 6f72 6420 6469 6167 7261 6d2e 0a20  chord diagram.. 
-0000fad0: 2020 2075 7365 5f67 7261 6469 656e 7420     use_gradient 
-0000fae0: 3a20 626f 6f6c 2c20 6f70 7469 6f6e 616c  : bool, optional
-0000faf0: 2028 6465 6661 756c 743a 2046 616c 7365   (default: False
-0000fb00: 290a 2020 2020 2020 2020 5768 6574 6865  ).        Whethe
-0000fb10: 7220 6120 6772 6164 6965 6e74 2073 686f  r a gradient sho
-0000fb20: 756c 6420 6265 2075 7365 2073 6f20 7468  uld be use so th
-0000fb30: 6174 2063 686f 7264 2065 7874 7265 6d69  at chord extremi
-0000fb40: 7469 6573 2068 6176 6520 7468 650a 2020  ties have the.  
-0000fb50: 2020 2020 2020 7361 6d65 2063 6f6c 6f72        same color
-0000fb60: 2061 7320 7468 6520 6172 6320 7468 6579   as the arc they
-0000fb70: 2062 656c 6f6e 6720 746f 2e0a 2020 2020   belong to..    
-0000fb80: 6368 6f72 645f 636f 6c6f 7273 203a 2073  chord_colors : s
-0000fb90: 7472 2c20 6f72 206c 6973 7420 6f66 2063  tr, or list of c
-0000fba0: 6f6c 6f72 732c 206f 7074 696f 6e61 6c20  olors, optional 
-0000fbb0: 2864 6566 6175 6c74 3a20 4e6f 6e65 290a  (default: None).
-0000fbc0: 2020 2020 2020 2020 5370 6563 6966 7920          Specify 
-0000fbd0: 636f 6c6f 7228 7329 2074 6f20 6669 6c6c  color(s) to fill
-0000fbe0: 2074 6865 2063 686f 7264 7320 6469 6666   the chords diff
-0000fbf0: 6572 656e 746c 7920 6672 6f6d 2074 6865  erently from the
-0000fc00: 2061 7263 732e 0a20 2020 2020 2020 2057   arcs..        W
-0000fc10: 6865 6e20 7468 6520 6b65 7977 6f72 6420  hen the keyword 
-0000fc20: 6973 206e 6f74 2075 7365 642c 2063 686f  is not used, cho
-0000fc30: 7264 2063 6f6c 6f72 7320 6465 6661 756c  rd colors defaul
-0000fc40: 7420 746f 2074 6865 2063 6f6c 6f6d 6170  t to the colomap
-0000fc50: 2067 6976 656e 0a20 2020 2020 2020 2062   given.        b
-0000fc60: 7920 6063 6f6c 6f72 7360 2e0a 2020 2020  y `colors`..    
-0000fc70: 2020 2020 506f 7373 6962 6c65 2076 616c      Possible val
-0000fc80: 7565 7320 666f 7220 6063 686f 7264 5f63  ues for `chord_c
-0000fc90: 6f6c 6f72 7360 2061 7265 3a0a 0a20 2020  olors` are:..   
-0000fca0: 2020 2020 202a 2061 2073 696e 676c 6520       * a single 
-0000fcb0: 636f 6c6f 7220 2864 6f20 6e6f 7420 7573  color (do not us
-0000fcc0: 6520 616e 2052 4742 2074 7570 6c65 2c20  e an RGB tuple, 
-0000fcd0: 7573 6520 6865 7820 666f 726d 6174 2069  use hex format i
-0000fce0: 6e73 7465 6164 292c 0a20 2020 2020 2020  nstead),.       
-0000fcf0: 2020 2065 2e67 2e20 2272 6564 2220 6f72     e.g. "red" or
-0000fd00: 2022 2366 6630 3030 3022 3b20 616c 6c20   "#ff0000"; all 
-0000fd10: 6368 6f72 6473 2077 696c 6c20 6861 7665  chords will have
-0000fd20: 2074 6869 7320 636f 6c6f 720a 2020 2020   this color.    
-0000fd30: 2020 2020 2a20 6120 6c69 7374 206f 6620      * a list of 
-0000fd40: 636f 6c6f 7273 2c20 652e 672e 2060 605b  colors, e.g. ``[
-0000fd50: 2272 6564 222c 2022 6772 6565 6e22 2c20  "red", "green", 
-0000fd60: 2262 6c75 6522 5d60 602c 206f 6e65 2070  "blue"]``, one p
-0000fd70: 6572 206e 6f64 650a 2020 2020 2020 2020  er node.        
-0000fd80: 2020 2869 6e20 7468 6973 2063 6173 652c    (in this case,
-0000fd90: 2052 4742 2074 7570 6c65 7320 6172 6520   RGB tuples are 
-0000fda0: 6163 6365 7074 6564 2061 7320 656e 7472  accepted as entr
-0000fdb0: 6965 7320 746f 2074 6865 206c 6973 7429  ies to the list)
-0000fdc0: 2e0a 2020 2020 2020 2020 2020 4561 6368  ..          Each
-0000fdd0: 2063 686f 7264 2077 696c 6c20 6765 7420   chord will get 
-0000fde0: 6974 7320 636f 6c6f 7220 6672 6f6d 2069  its color from i
-0000fdf0: 7473 2061 7373 6f63 6961 7465 6420 736f  ts associated so
-0000fe00: 7572 6365 206e 6f64 652c 206f 720a 2020  urce node, or.  
-0000fe10: 2020 2020 2020 2020 6672 6f6d 2062 6f74          from bot
-0000fe20: 6820 6e6f 6465 7320 6966 2060 7573 655f  h nodes if `use_
-0000fe30: 6772 6164 6965 6e74 6020 6973 2054 7275  gradient` is Tru
-0000fe40: 652e 0a20 2020 2073 7461 7274 5f61 7420  e..    start_at 
-0000fe50: 3a20 666c 6f61 742c 206f 7074 696f 6e61  : float, optiona
-0000fe60: 6c20 2864 6566 6175 6c74 203a 2030 290a  l (default : 0).
-0000fe70: 2020 2020 2020 2020 4c6f 6361 7469 6f6e          Location
-0000fe80: 2c20 696e 2064 6567 7265 6573 2c20 7768  , in degrees, wh
-0000fe90: 6572 6520 7468 6520 6469 6167 7261 6d20  ere the diagram 
-0000fea0: 7368 6f75 6c64 2073 7461 7274 206f 6e20  should start on 
-0000feb0: 7468 6520 756e 6974 2063 6972 636c 652e  the unit circle.
-0000fec0: 0a20 2020 2020 2020 2044 6566 6175 6c74  .        Default
-0000fed0: 2069 7320 746f 2073 7461 7274 2061 7420   is to start at 
-0000fee0: 3020 6465 6772 6565 732c 2069 2e65 2e20  0 degrees, i.e. 
-0000fef0: 2878 2c20 7929 203d 2028 312c 2030 2920  (x, y) = (1, 0) 
-0000ff00: 6f72 2033 206f 2763 6c6f 636b 292c 0a20  or 3 o'clock),. 
-0000ff10: 2020 2020 2020 2061 6e64 206d 6f76 6520         and move 
-0000ff20: 636f 756e 7465 722d 636c 6f63 6b77 6973  counter-clockwis
-0000ff30: 650a 2020 2020 6578 7465 6e74 203a 2066  e.    extent : f
-0000ff40: 6c6f 6174 2c20 6f70 7469 6f6e 616c 2028  loat, optional (
-0000ff50: 6465 6661 756c 7420 3a20 3336 3029 0a20  default : 360). 
-0000ff60: 2020 2020 2020 2054 6865 2061 6e67 756c         The angul
-0000ff70: 6172 2061 7065 7274 7572 652c 2069 6e20  ar aperture, in 
-0000ff80: 6465 6772 6565 732c 206f 6620 7468 6520  degrees, of the 
-0000ff90: 6469 6167 7261 6d2e 0a20 2020 2020 2020  diagram..       
-0000ffa0: 2044 6566 6175 6c74 2069 7320 746f 2075   Default is to u
-0000ffb0: 7365 2074 6865 2077 686f 6c65 2063 6972  se the whole cir
-0000ffc0: 636c 652c 2069 2e65 2e20 3336 3020 6465  cle, i.e. 360 de
-0000ffd0: 6772 6565 732c 2062 7574 2069 6e20 736f  grees, but in so
-0000ffe0: 6d65 2063 6173 6573 0a20 2020 2020 2020  me cases.       
-0000fff0: 2069 7420 6361 6e20 6265 2075 7365 6675   it can be usefu
-00010000: 6c20 746f 2075 7365 206f 6e6c 7920 6120  l to use only a 
-00010010: 7061 7274 206f 6620 6974 2e0a 2020 2020  part of it..    
-00010020: 6469 7265 6374 6564 203a 2062 6f6f 6c2c  directed : bool,
-00010030: 206f 7074 696f 6e61 6c20 2864 6566 6175   optional (defau
-00010040: 6c74 3a20 7361 6d65 2061 7320 6e65 7477  lt: same as netw
-00010050: 6f72 6b29 0a20 2020 2020 2020 2057 6865  ork).        Whe
-00010060: 7468 6572 2074 6865 2063 686f 7264 7320  ther the chords 
-00010070: 7368 6f75 6c64 2062 6520 6469 7265 6374  should be direct
-00010080: 6564 2077 6974 6820 6f6e 6520 7061 7274  ed with one part
-00010090: 206f 6620 6561 6368 2061 7263 0a20 2020   of each arc.   
-000100a0: 2020 2020 2064 6564 6963 6174 6564 2074       dedicated t
-000100b0: 6f20 6f75 7467 6f69 6e67 2063 686f 7264  o outgoing chord
-000100c0: 7320 616e 6420 7468 6520 6f74 6865 7220  s and the other 
-000100d0: 746f 2069 6e63 6f6d 696e 6720 6f6e 6573  to incoming ones
-000100e0: 2e0a 2020 2020 7368 6f77 203a 2062 6f6f  ..    show : boo
-000100f0: 6c2c 206f 7074 696f 6e61 6c20 2864 6566  l, optional (def
-00010100: 6175 6c74 3a20 4661 6c73 6529 0a20 2020  ault: False).   
-00010110: 2020 2020 2057 6865 7468 6572 2074 6865       Whether the
-00010120: 2070 6c6f 7420 7368 6f75 6c64 2062 6520   plot should be 
-00010130: 6469 7370 6c61 7965 6420 696d 6d65 6469  displayed immedi
-00010140: 6174 656c 7920 7669 6120 616e 2061 7574  ately via an aut
-00010150: 6f6d 6174 6963 2063 616c 6c0a 2020 2020  omatic call.    
-00010160: 2020 2020 746f 2060 706c 742e 7368 6f77      to `plt.show
-00010170: 2829 602e 0a20 2020 206b 7761 7267 7320  ()`..    kwargs 
-00010180: 3a20 6b65 7977 6f72 6420 6172 6775 6d65  : keyword argume
-00010190: 6e74 730a 2020 2020 2020 2020 4176 6169  nts.        Avai
-000101a0: 6c61 626c 6520 6b77 6172 6773 2061 7265  lable kwargs are
-000101b0: 3a0a 0a20 2020 2020 2020 203d 3d3d 3d3d  :..        =====
-000101c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d20 203d 3d3d  ===========  ===
-000101d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d20  =============== 
-000101e0: 203d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d   ===============
-000101f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00010200: 0a20 2020 2020 2020 2020 2020 2020 204e  .              N
-00010210: 616d 6520 2020 2020 2020 2020 2020 2020  ame             
-00010220: 2020 5479 7065 2020 2020 2020 2020 2020    Type          
-00010230: 2050 7572 706f 7365 2061 6e64 2070 6f73   Purpose and pos
-00010240: 7369 626c 6520 7661 6c75 6573 0a20 2020  sible values.   
-00010250: 2020 2020 203d 3d3d 3d3d 3d3d 3d3d 3d3d       ===========
-00010260: 3d3d 3d3d 3d20 203d 3d3d 3d3d 3d3d 3d3d  =====  =========
-00010270: 3d3d 3d3d 3d3d 3d3d 3d20 203d 3d3d 3d3d  =========  =====
-00010280: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00010290: 3d3d 3d3d 3d3d 3d3d 3d3d 0a20 2020 2020  ==========.     
-000102a0: 2020 2066 6f6e 7463 6f6c 6f72 2020 2020     fontcolor    
-000102b0: 2020 2020 2073 7472 206f 7220 6c69 7374       str or list
-000102c0: 2020 2020 2020 2020 2043 6f6c 6f72 206f           Color o
-000102d0: 6620 7468 6520 6e61 6d65 730a 2020 2020  f the names.    
-000102e0: 2020 2020 666f 6e74 7369 7a65 2020 2020      fontsize    
-000102f0: 2020 2020 2020 696e 7420 2020 2020 2020        int       
-00010300: 2020 2020 2020 2020 2020 5369 7a65 206f            Size o
-00010310: 6620 7468 6520 666f 6e74 2066 6f72 206e  f the font for n
-00010320: 616d 6573 0a20 2020 2020 2020 2072 6f74  ames.        rot
-00010330: 6174 655f 6e61 6d65 7320 2020 2020 2028  ate_names      (
-00010340: 6c69 7374 206f 6629 2062 6f6f 6c28 7329  list of) bool(s)
-00010350: 2020 2052 6f74 6174 6520 6e61 6d65 7320     Rotate names 
-00010360: 6279 2039 30c2 b00a 2020 2020 2020 2020  by 90...        
-00010370: 736f 7274 2020 2020 2020 2020 2020 2020  sort            
-00010380: 2020 7374 7220 2020 2020 2020 2020 2020    str           
-00010390: 2020 2020 2020 4569 7468 6572 2022 7369        Either "si
-000103a0: 7a65 2220 6f72 2022 6469 7374 616e 6365  ze" or "distance
-000103b0: 220a 2020 2020 2020 2020 7a65 726f 5f65  ".        zero_e
-000103c0: 6e74 7279 5f73 697a 6520 2020 666c 6f61  ntry_size   floa
-000103d0: 7420 2020 2020 2020 2020 2020 2020 2020  t               
-000103e0: 5369 7a65 206f 6620 7a65 726f 2d77 6569  Size of zero-wei
-000103f0: 6768 7420 7265 6369 7072 6f63 616c 0a20  ght reciprocal. 
-00010400: 2020 2020 2020 203d 3d3d 3d3d 3d3d 3d3d         =========
-00010410: 3d3d 3d3d 3d3d 3d20 203d 3d3d 3d3d 3d3d  =======  =======
-00010420: 3d3d 3d3d 3d3d 3d3d 3d3d 3d20 203d 3d3d  ===========  ===
-00010430: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00010440: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a20 2020  ============.   
-00010450: 2022 2222 0a20 2020 2077 7720 3d20 2777   """.    ww = 'w
-00010460: 6569 6768 7427 2069 6620 7765 6967 6874  eight' if weight
-00010470: 7320 6973 2054 7275 6520 656c 7365 2077  s is True else w
-00010480: 6569 6768 7473 0a20 2020 206e 6e20 3d20  eights.    nn = 
-00010490: 6e65 7477 6f72 6b2e 6e6f 6465 5f61 7474  network.node_att
-000104a0: 7269 6275 7465 735b 6e61 6d65 735d 2069  ributes[names] i
-000104b0: 6620 6973 696e 7374 616e 6365 286e 616d  f isinstance(nam
-000104c0: 6573 2c20 7374 7229 2065 6c73 6520 6e61  es, str) else na
-000104d0: 6d65 730a 0a20 2020 206d 6174 203d 206e  mes..    mat = n
-000104e0: 6574 776f 726b 2e61 646a 6163 656e 6379  etwork.adjacency
-000104f0: 5f6d 6174 7269 7828 7765 6967 6874 733d  _matrix(weights=
-00010500: 7777 290a 0a20 2020 2069 6620 6469 7265  ww)..    if dire
-00010510: 6374 6564 2069 7320 4e6f 6e65 3a0a 2020  cted is None:.  
-00010520: 2020 2020 2020 6469 7265 6374 6564 203d        directed =
-00010530: 206e 6574 776f 726b 2e69 735f 6469 7265   network.is_dire
-00010540: 6374 6564 2829 0a0a 2020 2020 7265 7475  cted()..    retu
-00010550: 726e 205f 6368 6f72 645f 6469 6167 280a  rn _chord_diag(.
-00010560: 2020 2020 2020 2020 6d61 742c 206e 6e2c          mat, nn,
-00010570: 206f 7264 6572 3d6f 7264 6572 2c20 7769   order=order, wi
-00010580: 6474 683d 7769 6474 682c 2070 6164 3d70  dth=width, pad=p
-00010590: 6164 2c20 6761 703d 6761 702c 0a20 2020  ad, gap=gap,.   
-000105a0: 2020 2020 2063 686f 7264 7769 6474 683d       chordwidth=
-000105b0: 6368 6f72 6477 6964 7468 2c20 6178 3d61  chordwidth, ax=a
-000105c0: 7869 732c 2063 6f6c 6f72 733d 636f 6c6f  xis, colors=colo
-000105d0: 7273 2c20 636d 6170 3d63 6d61 702c 2061  rs, cmap=cmap, a
-000105e0: 6c70 6861 3d61 6c70 6861 2c0a 2020 2020  lpha=alpha,.    
-000105f0: 2020 2020 7573 655f 6772 6164 6965 6e74      use_gradient
-00010600: 3d75 7365 5f67 7261 6469 656e 742c 2063  =use_gradient, c
-00010610: 686f 7264 5f63 6f6c 6f72 733d 6368 6f72  hord_colors=chor
-00010620: 645f 636f 6c6f 7273 2c20 7374 6172 745f  d_colors, start_
-00010630: 6174 3d73 7461 7274 5f61 742c 0a20 2020  at=start_at,.   
-00010640: 2020 2020 2065 7874 656e 743d 6578 7465       extent=exte
-00010650: 6e74 2c20 6469 7265 6374 6564 3d64 6972  nt, directed=dir
-00010660: 6563 7465 642c 2073 686f 773d 7368 6f77  ected, show=show
-00010670: 2c20 2a2a 6b77 6172 6773 290a 0a0a 2320  , **kwargs)...# 
-00010680: 2d2d 2d2d 2d20 230a 2320 546f 6f6c 7320  ----- #.# Tools 
-00010690: 230a 2320 2d2d 2d2d 2d20 230a 0a64 6566  #.# ----- #..def
-000106a0: 205f 6e6f 726d 5f73 697a 6528 7369 7a65   _norm_size(size
-000106b0: 2c20 6d61 785f 7369 7a65 2c20 6d69 6e5f  , max_size, min_
-000106c0: 7369 7a65 293a 0a20 2020 2027 2727 204e  size):.    ''' N
-000106d0: 6f72 6d61 6c69 7a65 2074 6865 2073 697a  ormalize the siz
-000106e0: 6520 6172 7261 7920 2727 270a 2020 2020  e array '''.    
-000106f0: 6d61 7873 203d 206e 702e 6d61 7828 7369  maxs = np.max(si
-00010700: 7a65 290a 2020 2020 6d69 6e73 203d 206e  ze).    mins = n
-00010710: 702e 6d69 6e28 7369 7a65 290a 0a20 2020  p.min(size)..   
-00010720: 2069 6620 6d69 6e5f 7369 7a65 2069 7320   if min_size is 
-00010730: 4e6f 6e65 206f 7220 6d61 7873 203d 3d20  None or maxs == 
-00010740: 6d69 6e73 3a0a 2020 2020 2020 2020 7265  mins:.        re
-00010750: 7475 726e 2073 697a 6520 2a20 6d61 785f  turn size * max_
-00010760: 7369 7a65 202f 206e 702e 6d61 7828 7369  size / np.max(si
-00010770: 7a65 290a 0a20 2020 2072 6574 7572 6e20  ze)..    return 
-00010780: 6d69 6e5f 7369 7a65 202b 2028 6d61 785f  min_size + (max_
-00010790: 7369 7a65 202d 206d 696e 5f73 697a 6529  size - min_size)
-000107a0: 202a 2028 7369 7a65 202d 206d 696e 7329   * (size - mins)
-000107b0: 202f 2028 6d61 7873 202d 206d 696e 7329   / (maxs - mins)
-000107c0: 0a0a 0a64 6566 205f 6e6f 6465 5f65 6467  ...def _node_edg
-000107d0: 655f 7368 6170 655f 7369 7a65 286e 6574  e_shape_size(net
-000107e0: 776f 726b 2c20 6e73 6861 7065 2c20 6e73  work, nshape, ns
-000107f0: 697a 652c 206d 6178 5f6e 7369 7a65 2c20  ize, max_nsize, 
-00010800: 6d69 6e5f 6e73 697a 652c 2065 7369 7a65  min_nsize, esize
-00010810: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00010820: 2020 2020 2020 2020 2020 2020 6d61 785f              max_
-00010830: 6573 697a 652c 206d 696e 5f65 7369 7a65  esize, min_esize
-00010840: 2c20 7265 7374 7269 6374 5f6e 6f64 6573  , restrict_nodes
-00010850: 2c20 6564 6765 732c 2073 697a 652c 0a20  , edges, size,. 
-00010860: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010870: 2020 2020 2020 2020 2074 6872 6573 686f           thresho
-00010880: 6c64 2c20 7369 6d70 6c65 5f6e 6f64 6573  ld, simple_nodes
-00010890: 3d46 616c 7365 293a 0a20 2020 2027 2727  =False):.    '''
-000108a0: 2052 6574 7572 6e73 2074 6865 2073 6861   Returns the sha
-000108b0: 7065 2061 6e64 2073 697a 6520 6f66 2074  pe and size of t
-000108c0: 6865 206e 6f64 6573 2061 6e64 2065 6467  he nodes and edg
-000108d0: 6573 2027 2727 0a20 2020 206e 203d 206e  es '''.    n = n
-000108e0: 6574 776f 726b 2e6e 6f64 655f 6e62 2829  etwork.node_nb()
-000108f0: 2069 6620 7265 7374 7269 6374 5f6e 6f64   if restrict_nod
-00010900: 6573 2069 7320 4e6f 6e65 2065 6c73 6520  es is None else 
-00010910: 6c65 6e28 7265 7374 7269 6374 5f6e 6f64  len(restrict_nod
-00010920: 6573 290a 2020 2020 6520 3d20 6c65 6e28  es).    e = len(
-00010930: 6564 6765 7329 2069 6620 6564 6765 7320  edges) if edges 
-00010940: 6973 206e 6f74 204e 6f6e 6520 656c 7365  is not None else
-00010950: 206e 6574 776f 726b 2e65 6467 655f 6e62   network.edge_nb
-00010960: 2829 0a0a 2020 2020 2320 6d61 726b 6572  ()..    # marker
-00010970: 730a 2020 2020 6d61 726b 6572 7320 3d20  s.    markers = 
-00010980: 6e73 6861 7065 0a0a 2020 2020 6966 206e  nshape..    if n
-00010990: 6f6e 7374 7269 6e67 5f63 6f6e 7461 696e  onstring_contain
-000109a0: 6572 286e 7368 6170 6529 3a0a 2020 2020  er(nshape):.    
-000109b0: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
-000109c0: 6528 6e73 6861 7065 5b30 5d2c 206e 6e67  e(nshape[0], nng
-000109d0: 742e 4772 6f75 7029 3a0a 2020 2020 2020  t.Group):.      
-000109e0: 2020 2020 2020 2320 6368 6563 6b20 6469        # check di
-000109f0: 736a 756e 6374 696f 6e0a 2020 2020 2020  sjunction.      
-00010a00: 2020 2020 2020 666f 7220 692c 2067 2069        for i, g i
-00010a10: 6e20 656e 756d 6572 6174 6528 6e73 6861  n enumerate(nsha
-00010a20: 7065 293a 0a20 2020 2020 2020 2020 2020  pe):.           
-00010a30: 2020 2020 2066 6f72 206a 2069 6e20 7261       for j in ra
-00010a40: 6e67 6528 6920 2b20 312c 206c 656e 286e  nge(i + 1, len(n
-00010a50: 7368 6170 6529 293a 0a20 2020 2020 2020  shape)):.       
-00010a60: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00010a70: 6e6f 7420 7365 7428 672e 6964 7329 2e69  not set(g.ids).i
-00010a80: 7364 6973 6a6f 696e 7428 6e73 6861 7065  sdisjoint(nshape
-00010a90: 5b6a 5d2e 6964 7329 3a0a 2020 2020 2020  [j].ids):.      
-00010aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010ab0: 2020 7261 6973 6520 5661 6c75 6545 7272    raise ValueErr
-00010ac0: 6f72 2822 4772 6f75 7073 2070 6173 7365  or("Groups passe
-00010ad0: 6420 746f 2060 6e73 6861 7065 6020 220a  d to `nshape` ".
-00010ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010b00: 2020 2020 2020 2020 2022 6d75 7374 2062           "must b
-00010b10: 6520 6469 736a 6f69 6e74 2e22 290a 0a20  e disjoint.").. 
-00010b20: 2020 2020 2020 2020 2020 206d 6d20 3d20             mm = 
-00010b30: 6379 636c 6528 4d61 726b 6572 5374 796c  cycle(MarkerStyl
-00010b40: 652e 6669 6c6c 6564 5f6d 6172 6b65 7273  e.filled_markers
-00010b50: 290a 0a20 2020 2020 2020 2020 2020 2073  )..            s
-00010b60: 6861 7065 7320 203d 206e 702e 6675 6c6c  hapes  = np.full
-00010b70: 286e 2c20 2222 2c20 6474 7970 653d 6f62  (n, "", dtype=ob
-00010b80: 6a65 6374 290a 0a20 2020 2020 2020 2020  ject)..         
-00010b90: 2020 2069 6620 7265 7374 7269 6374 5f6e     if restrict_n
-00010ba0: 6f64 6573 2069 7320 4e6f 6e65 3a0a 2020  odes is None:.  
-00010bb0: 2020 2020 2020 2020 2020 2020 2020 666f                fo
-00010bc0: 7220 672c 206d 2069 6e20 7a69 7028 6e73  r g, m in zip(ns
-00010bd0: 6861 7065 2c20 6d6d 293a 0a20 2020 2020  hape, mm):.     
-00010be0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00010bf0: 6861 7065 735b 672e 6964 735d 203d 206d  hapes[g.ids] = m
-00010c00: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
-00010c10: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-00010c20: 2020 2063 6f6e 7665 7274 6572 203d 207b     converter = {
-00010c30: 6e3a 2069 2066 6f72 2069 2c20 6e20 696e  n: i for i, n in
-00010c40: 2065 6e75 6d65 7261 7465 2872 6573 7472   enumerate(restr
-00010c50: 6963 745f 6e6f 6465 7329 7d0a 2020 2020  ict_nodes)}.    
-00010c60: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-00010c70: 672c 206d 2069 6e20 7a69 7028 6e73 6861  g, m in zip(nsha
-00010c80: 7065 2c20 6d6d 293a 0a20 2020 2020 2020  pe, mm):.       
-00010c90: 2020 2020 2020 2020 2020 2020 2069 6473               ids
-00010ca0: 203d 205b 636f 6e76 6572 7465 725b 6e5d   = [converter[n]
-00010cb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00010cc0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-00010cd0: 6e20 696e 2072 6573 7472 6963 745f 6e6f  n in restrict_no
-00010ce0: 6465 732e 696e 7465 7273 6563 7469 6f6e  des.intersection
-00010cf0: 2867 2e69 6473 295d 0a20 2020 2020 2020  (g.ids)].       
-00010d00: 2020 2020 2020 2020 2020 2020 2073 6861               sha
-00010d10: 7065 735b 6964 735d 203d 206d 0a0a 2020  pes[ids] = m..  
-00010d20: 2020 2020 2020 2020 2020 6d61 726b 6572            marker
-00010d30: 7320 3d20 6c69 7374 2873 6861 7065 7329  s = list(shapes)
-00010d40: 0a20 2020 2020 2020 2065 6c69 6620 6c65  .        elif le
-00010d50: 6e28 6e73 6861 7065 2920 3d3d 206e 6574  n(nshape) == net
-00010d60: 776f 726b 2e6e 6f64 655f 6e62 2829 2061  work.node_nb() a
-00010d70: 6e64 2072 6573 7472 6963 745f 6e6f 6465  nd restrict_node
-00010d80: 7320 6973 206e 6f74 204e 6f6e 653a 0a20  s is not None:. 
-00010d90: 2020 2020 2020 2020 2020 206d 6172 6b65             marke
-00010da0: 7273 203d 206e 7368 6170 655b 6c69 7374  rs = nshape[list
-00010db0: 2872 6573 7472 6963 745f 6e6f 6465 7329  (restrict_nodes)
-00010dc0: 5d0a 2020 2020 2020 2020 656c 6966 206c  ].        elif l
-00010dd0: 656e 286e 7368 6170 6529 2021 3d20 6e3a  en(nshape) != n:
-00010de0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-00010df0: 7365 2056 616c 7565 4572 726f 7228 2257  se ValueError("W
-00010e00: 6865 6e20 7061 7373 696e 6720 616e 2061  hen passing an a
-00010e10: 7272 6179 206f 6620 6d61 726b 6572 7320  rray of markers 
-00010e20: 746f 2022 0a20 2020 2020 2020 2020 2020  to ".           
-00010e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010e40: 2020 2260 6e73 6861 7065 602c 206f 6e65    "`nshape`, one
-00010e50: 2065 6e74 7279 2070 6572 206e 6f64 6520   entry per node 
-00010e60: 696e 2074 6865 2022 0a20 2020 2020 2020  in the ".       
-00010e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010e80: 2020 2020 2020 226e 6574 776f 726b 206d        "network m
-00010e90: 7573 7420 6265 2070 726f 7669 6465 642e  ust be provided.
-00010ea0: 2229 0a20 2020 2065 6c73 653a 0a20 2020  ").    else:.   
-00010eb0: 2020 2020 206d 6172 6b65 7273 203d 205b       markers = [
-00010ec0: 6e73 6861 7065 2066 6f72 205f 2069 6e20  nshape for _ in 
-00010ed0: 7261 6e67 6528 6e29 5d0a 0a20 2020 2023  range(n)]..    #
-00010ee0: 2073 697a 650a 2020 2020 6966 2069 7369   size.    if isi
-00010ef0: 6e73 7461 6e63 6528 6e73 697a 652c 2073  nstance(nsize, s
-00010f00: 7472 293a 0a20 2020 2020 2020 2069 6620  tr):.        if 
-00010f10: 653a 0a20 2020 2020 2020 2020 2020 206e  e:.            n
-00010f20: 7369 7a65 203d 205f 6e6f 6465 5f73 697a  size = _node_siz
-00010f30: 6528 6e65 7477 6f72 6b2c 2072 6573 7472  e(network, restr
-00010f40: 6963 745f 6e6f 6465 732c 206e 7369 7a65  ict_nodes, nsize
-00010f50: 290a 2020 2020 2020 2020 2020 2020 6e73  ).            ns
-00010f60: 697a 6520 3d20 5f6e 6f72 6d5f 7369 7a65  ize = _norm_size
-00010f70: 286e 7369 7a65 2c20 6d61 785f 6e73 697a  (nsize, max_nsiz
-00010f80: 652c 206d 696e 5f6e 7369 7a65 290a 2020  e, min_nsize).  
-00010f90: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00010fa0: 2020 2020 2020 2020 6e73 697a 6520 3d20          nsize = 
-00010fb0: 6e70 2e6f 6e65 7328 6e2c 2064 7479 7065  np.ones(n, dtype
-00010fc0: 3d66 6c6f 6174 290a 2020 2020 656c 6966  =float).    elif
-00010fd0: 2069 7369 6e73 7461 6e63 6528 6e73 697a   isinstance(nsiz
-00010fe0: 652c 2028 666c 6f61 742c 2069 6e74 2c20  e, (float, int, 
-00010ff0: 6e70 2e6e 756d 6265 7229 293a 0a20 2020  np.number)):.   
-00011000: 2020 2020 206e 7369 7a65 203d 206e 702e       nsize = np.
-00011010: 6675 6c6c 286e 2c20 6e73 697a 652c 2064  full(n, nsize, d
-00011020: 7479 7065 3d66 6c6f 6174 290a 2020 2020  type=float).    
-00011030: 656c 6966 206e 6f6e 7374 7269 6e67 5f63  elif nonstring_c
-00011040: 6f6e 7461 696e 6572 286e 7369 7a65 293a  ontainer(nsize):
-00011050: 0a20 2020 2020 2020 2069 6620 6c65 6e28  .        if len(
-00011060: 6e73 697a 6529 203d 3d20 6e3a 0a20 2020  nsize) == n:.   
-00011070: 2020 2020 2020 2020 206e 7369 7a65 203d           nsize =
-00011080: 205f 6e6f 726d 5f73 697a 6528 6e73 697a   _norm_size(nsiz
-00011090: 652c 206d 6178 5f6e 7369 7a65 2c20 6d69  e, max_nsize, mi
-000110a0: 6e5f 6e73 697a 6529 0a20 2020 2020 2020  n_nsize).       
-000110b0: 2065 6c69 6620 6c65 6e28 6e73 697a 6529   elif len(nsize)
-000110c0: 203d 3d20 6e65 7477 6f72 6b2e 6e6f 6465   == network.node
-000110d0: 5f6e 6228 2920 616e 6420 7265 7374 7269  _nb() and restri
-000110e0: 6374 5f6e 6f64 6573 2069 7320 6e6f 7420  ct_nodes is not 
-000110f0: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-00011100: 2020 6e73 697a 6520 3d20 6e70 2e61 7361    nsize = np.asa
-00011110: 7272 6179 286e 7369 7a65 295b 6c69 7374  rray(nsize)[list
-00011120: 2872 6573 7472 6963 745f 6e6f 6465 7329  (restrict_nodes)
-00011130: 5d0a 2020 2020 2020 2020 2020 2020 6e73  ].            ns
-00011140: 697a 6520 3d20 5f6e 6f72 6d5f 7369 7a65  ize = _norm_size
-00011150: 286e 7369 7a65 2c20 6d61 785f 6e73 697a  (nsize, max_nsiz
-00011160: 652c 206d 696e 5f6e 7369 7a65 290a 2020  e, min_nsize).  
-00011170: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00011180: 2020 2020 2020 2020 7261 6973 6520 5661          raise Va
-00011190: 6c75 6545 7272 6f72 2822 606e 7369 7a65  lueError("`nsize
-000111a0: 6020 6d75 7374 2063 6f6e 7461 696e 2065  ` must contain e
-000111b0: 6974 6865 7220 6f6e 6520 656e 7472 7920  ither one entry 
-000111c0: 7065 7220 6e6f 6465 2022 0a20 2020 2020  per node ".     
-000111d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000111e0: 2020 2020 2020 2020 226f 7220 6265 2074          "or be t
-000111f0: 6865 2073 616d 6520 6c65 6e67 7468 2061  he same length a
-00011200: 7320 6072 6573 7472 6963 745f 6e6f 6465  s `restrict_node
-00011210: 7360 2e22 290a 0a20 2020 2069 6620 653a  s`.")..    if e:
-00011220: 0a20 2020 2020 2020 2069 6620 6973 696e  .        if isin
-00011230: 7374 616e 6365 2865 7369 7a65 2c20 7374  stance(esize, st
-00011240: 7229 3a0a 2020 2020 2020 2020 2020 2020  r):.            
-00011250: 6573 697a 6520 3d20 5f65 6467 655f 7369  esize = _edge_si
-00011260: 7a65 286e 6574 776f 726b 2c20 6564 6765  ze(network, edge
-00011270: 732c 2065 7369 7a65 290a 2020 2020 2020  s, esize).      
-00011280: 2020 2020 2020 6573 697a 6520 3d20 5f6e        esize = _n
-00011290: 6f72 6d5f 7369 7a65 2865 7369 7a65 2c20  orm_size(esize, 
-000112a0: 6d61 785f 6573 697a 652c 206d 696e 5f65  max_esize, min_e
-000112b0: 7369 7a65 290a 2020 2020 2020 2020 2020  size).          
-000112c0: 2020 6573 697a 655b 6573 697a 6520 3c20    esize[esize < 
-000112d0: 7468 7265 7368 6f6c 645d 203d 2030 2e0a  threshold] = 0..
-000112e0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-000112f0: 2020 2020 2020 2020 2020 6573 697a 6520            esize 
-00011300: 3d20 5f6e 6f72 6d5f 7369 7a65 2865 7369  = _norm_size(esi
-00011310: 7a65 2c20 6d61 785f 6573 697a 652c 206d  ze, max_esize, m
-00011320: 696e 5f65 7369 7a65 290a 2020 2020 656c  in_esize).    el
-00011330: 7365 3a0a 2020 2020 2020 2020 6573 697a  se:.        esiz
-00011340: 6520 3d20 6e70 2e61 7272 6179 285b 5d29  e = np.array([])
-00011350: 0a0a 2020 2020 7265 7475 726e 206d 6172  ..    return mar
-00011360: 6b65 7273 2c20 6e73 697a 652c 2065 7369  kers, nsize, esi
-00011370: 7a65 0a0a 0a64 6566 205f 7365 745f 6178  ze...def _set_ax
-00011380: 5f6c 696d 2861 782c 2078 6d61 782c 2078  _lim(ax, xmax, x
-00011390: 6d69 6e2c 2079 6d61 782c 2079 6d69 6e2c  min, ymax, ymin,
-000113a0: 2068 6569 6768 742c 2077 6964 7468 2c20   height, width, 
-000113b0: 786c 696d 732c 2079 6c69 6d73 2c0a 2020  xlims, ylims,.  
-000113c0: 2020 2020 2020 2020 2020 2020 2020 6d61                ma
-000113d0: 785f 6e73 697a 652c 2066 6173 7429 3a0a  x_nsize, fast):.
-000113e0: 2020 2020 6966 2078 6c69 6d73 2069 7320      if xlims is 
-000113f0: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
-00011400: 2020 6178 2e73 6574 5f78 6c69 6d28 2a78    ax.set_xlim(*x
-00011410: 6c69 6d73 290a 2020 2020 656c 7365 3a0a  lims).    else:.
-00011420: 2020 2020 2020 2020 6478 203d 2030 2e30          dx = 0.0
-00011430: 352a 7769 6474 6820 6966 2066 6173 7420  5*width if fast 
-00011440: 656c 7365 2031 2e35 2a6d 6178 5f6e 7369  else 1.5*max_nsi
-00011450: 7a65 0a20 2020 2020 2020 2061 782e 7365  ze.        ax.se
-00011460: 745f 786c 696d 2878 6d69 6e20 2d20 6478  t_xlim(xmin - dx
-00011470: 2c20 786d 6178 202b 2064 7829 0a20 2020  , xmax + dx).   
-00011480: 2069 6620 796c 696d 7320 6973 206e 6f74   if ylims is not
-00011490: 204e 6f6e 653a 0a20 2020 2020 2020 2061   None:.        a
-000114a0: 782e 7365 745f 796c 696d 282a 796c 696d  x.set_ylim(*ylim
-000114b0: 7329 0a20 2020 2065 6c73 653a 0a20 2020  s).    else:.   
-000114c0: 2020 2020 2064 7920 3d20 302e 3035 2a68       dy = 0.05*h
-000114d0: 6569 6768 7420 6966 2066 6173 7420 656c  eight if fast el
-000114e0: 7365 2031 2e35 2a6d 6178 5f6e 7369 7a65  se 1.5*max_nsize
-000114f0: 0a20 2020 2020 2020 2061 782e 7365 745f  .        ax.set_
-00011500: 796c 696d 2879 6d69 6e20 2d20 6479 2c20  ylim(ymin - dy, 
-00011510: 796d 6178 202b 2064 7929 0a0a 0a64 6566  ymax + dy)...def
-00011520: 205f 6e6f 6465 5f73 697a 6528 6e65 7477   _node_size(netw
-00011530: 6f72 6b2c 2072 6573 7472 6963 745f 6e6f  ork, restrict_no
-00011540: 6465 732c 206e 7369 7a65 293a 0a20 2020  des, nsize):.   
-00011550: 2072 6573 7472 6963 745f 6e6f 6465 7320   restrict_nodes 
-00011560: 3d20 4e6f 6e65 2069 6620 7265 7374 7269  = None if restri
-00011570: 6374 5f6e 6f64 6573 2069 7320 4e6f 6e65  ct_nodes is None
-00011580: 2065 6c73 6520 6c69 7374 2872 6573 7472   else list(restr
-00011590: 6963 745f 6e6f 6465 7329 0a0a 2020 2020  ict_nodes)..    
-000115a0: 6e20 3d20 6e65 7477 6f72 6b2e 6e6f 6465  n = network.node
-000115b0: 5f6e 6228 2920 6966 2072 6573 7472 6963  _nb() if restric
-000115c0: 745f 6e6f 6465 7320 6973 204e 6f6e 6520  t_nodes is None 
-000115d0: 656c 7365 206c 656e 2872 6573 7472 6963  else len(restric
-000115e0: 745f 6e6f 6465 7329 0a0a 2020 2020 7369  t_nodes)..    si
-000115f0: 7a65 203d 206e 702e 6f6e 6573 286e 2c20  ze = np.ones(n, 
-00011600: 6474 7970 653d 666c 6f61 7429 0a0a 2020  dtype=float)..  
-00011610: 2020 6966 206e 7369 7a65 2069 6e20 6e65    if nsize in ne
-00011620: 7477 6f72 6b2e 6e6f 6465 5f61 7474 7269  twork.node_attri
-00011630: 6275 7465 733a 0a20 2020 2020 2020 2073  butes:.        s
-00011640: 697a 6520 3d20 6e65 7477 6f72 6b2e 6765  ize = network.ge
-00011650: 745f 6e6f 6465 5f61 7474 7269 6275 7465  t_node_attribute
-00011660: 7328 6e6f 6465 733d 7265 7374 7269 6374  s(nodes=restrict
-00011670: 5f6e 6f64 6573 2c20 6e61 6d65 3d6e 7369  _nodes, name=nsi
-00011680: 7a65 290a 2020 2020 6966 2022 6465 6772  ze).    if "degr
-00011690: 6565 2220 696e 206e 7369 7a65 3a0a 2020  ee" in nsize:.  
-000116a0: 2020 2020 2020 6465 675f 7479 7065 203d        deg_type =
-000116b0: 206e 7369 7a65 5b3a 6e73 697a 652e 696e   nsize[:nsize.in
-000116c0: 6465 7828 222d 2229 5d0a 2020 2020 2020  dex("-")].      
-000116d0: 2020 7369 7a65 203d 206e 6574 776f 726b    size = network
-000116e0: 2e67 6574 5f64 6567 7265 6573 2864 6567  .get_degrees(deg
-000116f0: 5f74 7970 652c 0a20 2020 2020 2020 2020  _type,.         
-00011700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011710: 2020 2020 2020 2020 2020 6e6f 6465 733d            nodes=
-00011720: 7265 7374 7269 6374 5f6e 6f64 6573 292e  restrict_nodes).
-00011730: 6173 7479 7065 2866 6c6f 6174 290a 2020  astype(float).  
-00011740: 2020 2020 2020 6966 206e 702e 6973 636c        if np.iscl
-00011750: 6f73 6528 7369 7a65 2e6d 696e 2829 2c20  ose(size.min(), 
-00011760: 3029 3a0a 2020 2020 2020 2020 2020 2020  0):.            
-00011770: 7369 7a65 5b6e 702e 6973 636c 6f73 6528  size[np.isclose(
-00011780: 7369 7a65 2c20 3029 5d20 3d20 302e 350a  size, 0)] = 0.5.
-00011790: 2020 2020 2020 2020 6966 2073 697a 652e          if size.
-000117a0: 6d61 7828 2920 3e20 3135 2a73 697a 652e  max() > 15*size.
-000117b0: 6d69 6e28 293a 0a20 2020 2020 2020 2020  min():.         
-000117c0: 2020 2073 697a 6520 3d20 6e70 2e70 6f77     size = np.pow
-000117d0: 6572 2873 697a 652c 2030 2e34 290a 2020  er(size, 0.4).  
-000117e0: 2020 656c 6966 2022 7374 7265 6e67 7468    elif "strength
-000117f0: 2220 696e 206e 7369 7a65 3a0a 2020 2020  " in nsize:.    
-00011800: 2020 2020 6465 675f 7479 7065 203d 206e      deg_type = n
-00011810: 7369 7a65 5b3a 6e73 697a 652e 696e 6465  size[:nsize.inde
-00011820: 7828 222d 2229 5d0a 2020 2020 2020 2020  x("-")].        
-00011830: 7369 7a65 203d 206e 6574 776f 726b 2e67  size = network.g
-00011840: 6574 5f64 6567 7265 6573 2864 6567 5f74  et_degrees(deg_t
-00011850: 7970 652c 2077 6569 6768 7473 3d27 7765  ype, weights='we
-00011860: 6967 6874 272c 0a20 2020 2020 2020 2020  ight',.         
-00011870: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011880: 2020 2020 2020 2020 2020 6e6f 6465 733d            nodes=
-00011890: 7265 7374 7269 6374 5f6e 6f64 6573 290a  restrict_nodes).
-000118a0: 2020 2020 2020 2020 6966 206e 702e 6973          if np.is
-000118b0: 636c 6f73 6528 7369 7a65 2e6d 696e 2829  close(size.min()
-000118c0: 2c20 3029 3a0a 2020 2020 2020 2020 2020  , 0):.          
-000118d0: 2020 7369 7a65 5b6e 702e 6973 636c 6f73    size[np.isclos
-000118e0: 6528 7369 7a65 2c20 3029 5d20 3d20 302e  e(size, 0)] = 0.
-000118f0: 350a 2020 2020 2020 2020 6966 2073 697a  5.        if siz
-00011900: 652e 6d61 7828 2920 3e20 3135 2a73 697a  e.max() > 15*siz
-00011910: 652e 6d69 6e28 293a 0a20 2020 2020 2020  e.min():.       
-00011920: 2020 2020 2073 697a 6520 3d20 6e70 2e70       size = np.p
-00011930: 6f77 6572 2873 697a 652c 2030 2e34 290a  ower(size, 0.4).
-00011940: 2020 2020 656c 6966 206e 7369 7a65 203d      elif nsize =
-00011950: 3d20 2262 6574 7765 656e 6e65 7373 223a  = "betweenness":
-00011960: 0a20 2020 2020 2020 2062 6574 7720 3d20  .        betw = 
-00011970: 4e6f 6e65 0a0a 2020 2020 2020 2020 6966  None..        if
-00011980: 2072 6573 7472 6963 745f 6e6f 6465 7320   restrict_nodes 
-00011990: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
-000119a0: 2020 2020 2062 6574 7720 3d20 6e65 7477       betw = netw
-000119b0: 6f72 6b2e 6765 745f 6265 7477 6565 6e6e  ork.get_betweenn
-000119c0: 6573 7328 226e 6f64 6522 292e 6173 7479  ess("node").asty
-000119d0: 7065 2866 6c6f 6174 290a 2020 2020 2020  pe(float).      
-000119e0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-000119f0: 2020 2020 6265 7477 203d 206e 6574 776f      betw = netwo
-00011a00: 726b 2e67 6574 5f62 6574 7765 656e 6e65  rk.get_betweenne
-00011a10: 7373 280a 2020 2020 2020 2020 2020 2020  ss(.            
-00011a20: 2020 2020 226e 6f64 6522 292e 6173 7479      "node").asty
-00011a30: 7065 2866 6c6f 6174 295b 7265 7374 7269  pe(float)[restri
-00011a40: 6374 5f6e 6f64 6573 5d0a 0a20 2020 2020  ct_nodes]..     
-00011a50: 2020 2069 6620 6e65 7477 6f72 6b2e 6973     if network.is
-00011a60: 5f63 6f6e 6e65 6374 6564 2822 7765 616b  _connected("weak
-00011a70: 2229 203d 3d20 313a 0a20 2020 2020 2020  ") == 1:.       
-00011a80: 2020 2020 2073 697a 6520 2a3d 2062 6574       size *= bet
-00011a90: 770a 2020 2020 2020 2020 2020 2020 6966  w.            if
-00011aa0: 2073 697a 652e 6d61 7828 2920 3e20 3135   size.max() > 15
-00011ab0: 2a73 697a 652e 6d69 6e28 293a 0a20 2020  *size.min():.   
-00011ac0: 2020 2020 2020 2020 2020 2020 206d 696e               min
-00011ad0: 5f73 697a 6520 3d20 7369 7a65 5b73 697a  _size = size[siz
-00011ae0: 6521 3d30 5d2e 6d69 6e28 290a 2020 2020  e!=0].min().    
-00011af0: 2020 2020 2020 2020 2020 2020 7369 7a65              size
-00011b00: 5b73 697a 6520 3d3d 2030 2e5d 203d 206d  [size == 0.] = m
-00011b10: 696e 5f73 697a 650a 2020 2020 2020 2020  in_size.        
-00011b20: 2020 2020 2020 2020 7369 7a65 203d 206e          size = n
-00011b30: 702e 6c6f 6728 7369 7a65 290a 2020 2020  p.log(size).    
-00011b40: 2020 2020 2020 2020 2020 2020 6966 2073              if s
-00011b50: 697a 652e 6d69 6e28 293c 303a 0a20 2020  ize.min()<0:.   
-00011b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011b70: 2073 697a 6520 2d3d 2031 2e31 2a73 697a   size -= 1.1*siz
-00011b80: 652e 6d69 6e28 290a 2020 2020 656c 6966  e.min().    elif
-00011b90: 206e 7369 7a65 203d 3d20 2263 6c75 7374   nsize == "clust
-00011ba0: 6572 696e 6722 3a0a 2020 2020 2020 2020  ering":.        
-00011bb0: 7369 7a65 202a 3d20 6e6e 6774 2e61 6e61  size *= nngt.ana
-00011bc0: 6c79 7369 732e 6c6f 6361 6c5f 636c 7573  lysis.local_clus
-00011bd0: 7465 7269 6e67 286e 6574 776f 726b 2c20  tering(network, 
-00011be0: 6e6f 6465 733d 7265 7374 7269 6374 5f6e  nodes=restrict_n
-00011bf0: 6f64 6573 290a 2020 2020 656c 6966 206e  odes).    elif n
-00011c00: 7369 7a65 2069 6e20 6e6e 6774 2e61 6e61  size in nngt.ana
-00011c10: 6c79 7a65 5f67 7261 7068 3a0a 2020 2020  lyze_graph:.    
-00011c20: 2020 2020 6966 2072 6573 7472 6963 745f      if restrict_
-00011c30: 6e6f 6465 7320 6973 204e 6f6e 653a 0a20  nodes is None:. 
-00011c40: 2020 2020 2020 2020 2020 2073 697a 6520             size 
-00011c50: 2a3d 206e 6e67 742e 616e 616c 797a 655f  *= nngt.analyze_
-00011c60: 6772 6170 685b 6e73 697a 655d 286e 6574  graph[nsize](net
-00011c70: 776f 726b 290a 2020 2020 2020 2020 656c  work).        el
-00011c80: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00011c90: 7369 7a65 202a 3d20 6e6e 6774 2e61 6e61  size *= nngt.ana
-00011ca0: 6c79 7a65 5f67 7261 7068 5b6e 7369 7a65  lyze_graph[nsize
-00011cb0: 5d28 6e65 7477 6f72 6b29 5b72 6573 7472  ](network)[restr
-00011cc0: 6963 745f 6e6f 6465 735d 0a0a 2020 2020  ict_nodes]..    
-00011cd0: 6966 206e 702e 616e 7928 7369 7a65 293a  if np.any(size):
-00011ce0: 0a20 2020 2020 2020 2073 697a 6520 2f3d  .        size /=
-00011cf0: 2073 697a 652e 6d61 7828 290a 0a20 2020   size.max()..   
-00011d00: 2072 6574 7572 6e20 7369 7a65 2e61 7374   return size.ast
-00011d10: 7970 6528 666c 6f61 7429 0a0a 0a64 6566  ype(float)...def
-00011d20: 205f 6564 6765 5f73 697a 6528 6e65 7477   _edge_size(netw
-00011d30: 6f72 6b2c 2065 6467 6573 2c20 6573 697a  ork, edges, esiz
-00011d40: 6529 3a0a 2020 2020 6e75 6d5f 6564 6765  e):.    num_edge
-00011d50: 7320 3d20 6c65 6e28 6564 6765 7329 2069  s = len(edges) i
-00011d60: 6620 6564 6765 7320 6973 206e 6f74 204e  f edges is not N
-00011d70: 6f6e 6520 656c 7365 206e 6574 776f 726b  one else network
-00011d80: 2e65 6467 655f 6e62 2829 0a0a 2020 2020  .edge_nb()..    
-00011d90: 7369 7a65 203d 206e 702e 7265 7065 6174  size = np.repeat
-00011da0: 2831 2e2c 206e 756d 5f65 6467 6573 290a  (1., num_edges).
-00011db0: 0a20 2020 2069 6620 6e75 6d5f 6564 6765  .    if num_edge
-00011dc0: 733a 0a20 2020 2020 2020 206d 6178 5f73  s:.        max_s
-00011dd0: 697a 6520 3d20 312e 0a0a 2020 2020 2020  ize = 1...      
-00011de0: 2020 6966 206e 6f6e 7374 7269 6e67 5f63    if nonstring_c
-00011df0: 6f6e 7461 696e 6572 2865 7369 7a65 293a  ontainer(esize):
-00011e00: 0a20 2020 2020 2020 2020 2020 206d 6178  .            max
-00011e10: 5f73 697a 6520 3d20 6e70 2e6d 6178 2865  _size = np.max(e
-00011e20: 7369 7a65 290a 2020 2020 2020 2020 656c  size).        el
-00011e30: 6966 2065 7369 7a65 203d 3d20 2262 6574  if esize == "bet
-00011e40: 7765 656e 6e65 7373 223a 0a20 2020 2020  weenness":.     
-00011e50: 2020 2020 2020 2062 6574 7720 3d20 6e65         betw = ne
-00011e60: 7477 6f72 6b2e 6765 745f 6265 7477 6565  twork.get_betwee
-00011e70: 6e6e 6573 7328 2265 6467 6522 290a 0a20  nness("edge").. 
-00011e80: 2020 2020 2020 2020 2020 206d 6178 5f73             max_s
-00011e90: 697a 6520 3d20 6e70 2e6d 6178 2862 6574  ize = np.max(bet
-00011ea0: 7729 0a0a 2020 2020 2020 2020 2020 2020  w)..            
-00011eb0: 7369 7a65 203d 2062 6574 7720 6966 2072  size = betw if r
-00011ec0: 6573 7472 6963 745f 6e6f 6465 7320 6973  estrict_nodes is
-00011ed0: 204e 6f6e 6520 656c 7365 2062 6574 775b   None else betw[
-00011ee0: 7265 7374 7269 6374 5f6e 6f64 6573 5d0a  restrict_nodes].
-00011ef0: 2020 2020 2020 2020 656c 6966 2065 7369          elif esi
-00011f00: 7a65 203d 3d20 2277 6569 6768 7422 3a0a  ze == "weight":.
-00011f10: 2020 2020 2020 2020 2020 2020 7369 7a65              size
-00011f20: 203d 206e 6574 776f 726b 2e67 6574 5f77   = network.get_w
-00011f30: 6569 6768 7473 2865 6467 6573 3d65 6467  eights(edges=edg
-00011f40: 6573 290a 0a20 2020 2020 2020 2020 2020  es)..           
-00011f50: 206d 6178 5f73 697a 6520 3d20 6e70 2e6d   max_size = np.m
-00011f60: 6178 286e 6574 776f 726b 2e67 6574 5f77  ax(network.get_w
-00011f70: 6569 6768 7473 2829 290a 0a20 2020 2020  eights())..     
-00011f80: 2020 2069 6620 6e70 2e61 6e79 2873 697a     if np.any(siz
-00011f90: 6529 3a0a 2020 2020 2020 2020 2020 2020  e):.            
-00011fa0: 7369 7a65 202f 3d20 6d61 785f 7369 7a65  size /= max_size
-00011fb0: 0a0a 2020 2020 7265 7475 726e 2073 697a  ..    return siz
-00011fc0: 650a 0a0a 6465 6620 5f6e 6f64 655f 636f  e...def _node_co
-00011fd0: 6c6f 7228 6e65 7477 6f72 6b2c 2072 6573  lor(network, res
-00011fe0: 7472 6963 745f 6e6f 6465 732c 206e 636f  trict_nodes, nco
-00011ff0: 6c6f 722c 2064 6973 6372 6574 655f 636f  lor, discrete_co
-00012000: 6c6f 7273 3d46 616c 7365 293a 0a20 2020  lors=False):.   
-00012010: 2027 2727 0a20 2020 2052 6574 7572 6e20   '''.    Return 
-00012020: 616e 2061 7272 6179 206f 6620 636f 6c6f  an array of colo
-00012030: 7273 2c20 6120 7365 7420 6f66 2074 6963  rs, a set of tic
-00012040: 6b73 2c20 616e 6420 6120 6c61 6265 6c20  ks, and a label 
-00012050: 666f 7220 7468 6520 636f 6c6f 7262 6172  for the colorbar
-00012060: 0a20 2020 206f 6620 7468 6520 6e6f 6465  .    of the node
-00012070: 7320 2869 6620 6e65 6365 7373 6172 7929  s (if necessary)
-00012080: 2e0a 2020 2020 2727 270a 2020 2020 636f  ..    '''.    co
-00012090: 6c6f 7220 2020 2020 2020 203d 206e 636f  lor        = nco
-000120a0: 6c6f 720a 2020 2020 6e74 6963 6b73 2020  lor.    nticks  
-000120b0: 2020 2020 203d 204e 6f6e 650a 2020 2020       = None.    
-000120c0: 6e74 6963 6b73 6c61 6265 6c73 203d 204e  ntickslabels = N
-000120d0: 6f6e 650a 2020 2020 6e6c 6162 656c 2020  one.    nlabel  
-000120e0: 2020 2020 203d 2022 220a 0a20 2020 206e       = ""..    n
-000120f0: 203d 206e 6574 776f 726b 2e6e 6f64 655f   = network.node_
-00012100: 6e62 2829 2069 6620 7265 7374 7269 6374  nb() if restrict
-00012110: 5f6e 6f64 6573 2069 7320 4e6f 6e65 2065  _nodes is None e
-00012120: 6c73 6520 6c65 6e28 7265 7374 7269 6374  lse len(restrict
-00012130: 5f6e 6f64 6573 290a 0a20 2020 2069 6620  _nodes)..    if 
-00012140: 7265 7374 7269 6374 5f6e 6f64 6573 2069  restrict_nodes i
-00012150: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-00012160: 2020 2020 7265 7374 7269 6374 5f6e 6f64      restrict_nod
-00012170: 6573 203d 206c 6973 7428 7365 7428 7265  es = list(set(re
-00012180: 7374 7269 6374 5f6e 6f64 6573 2929 0a0a  strict_nodes))..
-00012190: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
-000121a0: 6528 6e63 6f6c 6f72 2c20 666c 6f61 7429  e(ncolor, float)
-000121b0: 3a0a 2020 2020 2020 2020 636f 6c6f 7220  :.        color 
-000121c0: 3d20 6e70 2e72 6570 6561 7428 6e63 6f6c  = np.repeat(ncol
-000121d0: 6f72 2c20 6e29 0a20 2020 2065 6c69 6620  or, n).    elif 
-000121e0: 6973 696e 7374 616e 6365 286e 636f 6c6f  isinstance(ncolo
-000121f0: 722c 2073 7472 293a 0a20 2020 2020 2020  r, str):.       
-00012200: 2069 6620 6e63 6f6c 6f72 2069 6e20 436f   if ncolor in Co
-00012210: 6c6f 7243 6f6e 7665 7274 6572 2e63 6f6c  lorConverter.col
-00012220: 6f72 7320 6f72 206e 636f 6c6f 722e 7374  ors or ncolor.st
-00012230: 6172 7473 7769 7468 2822 2322 293a 0a20  artswith("#"):. 
-00012240: 2020 2020 2020 2020 2020 2063 6f6c 6f72             color
-00012250: 203d 206e 702e 7265 7065 6174 286e 636f   = np.repeat(nco
-00012260: 6c6f 722c 206e 290a 2020 2020 2020 2020  lor, n).        
-00012270: 656c 6966 2064 6973 6372 6574 655f 636f  elif discrete_co
-00012280: 6c6f 7273 3a0a 2020 2020 2020 2020 2020  lors:.          
-00012290: 2020 756e 6971 7565 203d 204e 6f6e 650a    unique = None.
-000122a0: 2020 2020 2020 2020 2020 2020 7661 6c75              valu
-000122b0: 6573 203d 204e 6f6e 650a 0a20 2020 2020  es = None..     
-000122c0: 2020 2020 2020 2069 6620 6e63 6f6c 6f72         if ncolor
-000122d0: 203d 3d20 2267 726f 7570 2220 6f72 206e   == "group" or n
-000122e0: 636f 6c6f 7220 3d3d 2022 6772 6f75 7073  color == "groups
-000122f0: 223a 0a20 2020 2020 2020 2020 2020 2020  ":.             
-00012300: 2020 2069 6620 6e65 7477 6f72 6b2e 7374     if network.st
-00012310: 7275 6374 7572 6520 6973 206e 6f74 204e  ructure is not N
-00012320: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
-00012330: 2020 2020 2020 2020 2075 6e69 7175 6520           unique 
-00012340: 3d20 736f 7274 6564 286c 6973 7428 6e65  = sorted(list(ne
-00012350: 7477 6f72 6b2e 7374 7275 6374 7572 6529  twork.structure)
-00012360: 290a 0a20 2020 2020 2020 2020 2020 2020  )..             
-00012370: 2020 2020 2020 2069 6620 7265 7374 7269         if restri
-00012380: 6374 5f6e 6f64 6573 2069 7320 4e6f 6e65  ct_nodes is None
-00012390: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000123a0: 2020 2020 2020 2020 2020 7661 6c75 6573            values
-000123b0: 203d 206e 6574 776f 726b 2e73 7472 7563   = network.struc
-000123c0: 7475 7265 2e67 6574 5f67 726f 7570 286c  ture.get_group(l
-000123d0: 6973 7428 7261 6e67 6528 6e29 2929 0a20  ist(range(n))). 
-000123e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000123f0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00012400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012410: 2076 616c 7565 7320 3d20 6e65 7477 6f72   values = networ
-00012420: 6b2e 7374 7275 6374 7572 652e 6765 745f  k.structure.get_
-00012430: 6772 6f75 7028 7265 7374 7269 6374 5f6e  group(restrict_n
-00012440: 6f64 6573 290a 2020 2020 2020 2020 2020  odes).          
-00012450: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00012460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012470: 7261 6973 6520 5661 6c75 6545 7272 6f72  raise ValueError
-00012480: 2822 5265 7175 6573 7465 6420 636f 6c6f  ("Requested colo
-00012490: 7269 6e67 2062 7920 6772 6f75 7020 6275  ring by group bu
-000124a0: 7420 7468 6520 220a 2020 2020 2020 2020  t the ".        
+0000c7b0: 2d2d 0a20 2020 2020 2020 2020 2020 2020  --.             
+0000c7c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c7d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c7e0: 2049 6e66 6f72 6d61 7469 6f6e 2074 6861   Information tha
+0000c7f0: 7420 7769 6c6c 2062 6520 6469 7370 6c61  t will be displa
+0000c800: 7965 640a 2020 2020 2020 2020 616e 6e6f  yed.        anno
+0000c810: 7461 7469 6f6e 7320 2020 2020 2020 7374  tations       st
+0000c820: 7220 6f72 206c 6973 7420 2020 2020 2020  r or list       
+0000c830: 2020 7375 6368 2061 7320 6120 6e6f 6465    such as a node
+0000c840: 2061 7474 7269 6275 7465 206f 7220 6120   attribute or a 
+0000c850: 6c69 7374 0a20 2020 2020 2020 2020 2020  list.           
+0000c860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c870: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c880: 2020 206f 6620 7661 6c75 6573 2e20 2864     of values. (d
+0000c890: 6566 6175 6c74 3a20 6e6f 6465 2069 6429  efault: node id)
+0000c8a0: 0a20 2020 2020 2020 203d 3d3d 3d3d 3d3d  .        =======
+0000c8b0: 3d3d 3d3d 3d3d 3d3d 3d20 203d 3d3d 3d3d  =========  =====
+0000c8c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d20 203d  =============  =
+0000c8d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0000c8e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0000c8f0: 0a20 2020 2027 2727 0a20 2020 2069 6d70  .    '''.    imp
+0000c900: 6f72 7420 6d61 7470 6c6f 746c 6962 2e70  ort matplotlib.p
+0000c910: 7970 6c6f 7420 6173 2070 6c74 0a0a 2020  yplot as plt..  
+0000c920: 2020 2320 6261 636b 656e 6420 616e 6420    # backend and 
+0000c930: 6178 6973 0a20 2020 2074 7279 3a0a 2020  axis.    try:.  
+0000c940: 2020 2020 2020 696d 706f 7274 2069 6772        import igr
+0000c950: 6170 680a 2020 2020 2020 2020 6967 7620  aph.        igv 
+0000c960: 3d20 7061 7273 655f 7665 7273 696f 6e28  = parse_version(
+0000c970: 6967 7261 7068 2e5f 5f76 6572 7369 6f6e  igraph.__version
+0000c980: 5f5f 290a 2020 2020 6578 6365 7074 3a0a  __).    except:.
+0000c990: 2020 2020 2020 2020 6967 7620 3d20 7061          igv = pa
+0000c9a0: 7273 655f 7665 7273 696f 6e28 2731 2e30  rse_version('1.0
+0000c9b0: 2729 0a0a 2020 2020 6d69 6e5f 6967 5f76  ')..    min_ig_v
+0000c9c0: 6572 7369 6f6e 203d 2070 6172 7365 5f76  ersion = parse_v
+0000c9d0: 6572 7369 6f6e 2827 302e 3130 2e30 2729  ersion('0.10.0')
+0000c9e0: 0a0a 2020 2020 6967 5f74 6573 7420 3d20  ..    ig_test = 
+0000c9f0: 6e6e 6774 2e67 6574 5f63 6f6e 6669 6728  nngt.get_config(
+0000ca00: 2262 6163 6b65 6e64 2229 203d 3d20 2269  "backend") == "i
+0000ca10: 6772 6170 6822 2061 6e64 2069 6776 203c  graph" and igv <
+0000ca20: 206d 696e 5f69 675f 7665 7273 696f 6e0a   min_ig_version.
+0000ca30: 0a20 2020 2069 6620 6e6e 6774 2e67 6574  .    if nngt.get
+0000ca40: 5f63 6f6e 6669 6728 2262 6163 6b65 6e64  _config("backend
+0000ca50: 2229 203d 3d20 2267 7261 7068 2d74 6f6f  ") == "graph-too
+0000ca60: 6c22 206f 7220 6967 5f74 6573 743a 0a20  l" or ig_test:. 
+0000ca70: 2020 2020 2020 206d 706c 5f62 6163 6b65         mpl_backe
+0000ca80: 6e64 203d 206d 706c 2e67 6574 5f62 6163  nd = mpl.get_bac
+0000ca90: 6b65 6e64 2829 0a0a 2020 2020 2020 2020  kend()..        
+0000caa0: 6966 206d 706c 5f62 6163 6b65 6e64 2e73  if mpl_backend.s
+0000cab0: 7461 7274 7377 6974 6828 2251 7434 2229  tartswith("Qt4")
+0000cac0: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
+0000cad0: 206d 706c 5f62 6163 6b65 6e64 2021 3d20   mpl_backend != 
+0000cae0: 2251 7434 4361 6972 6f22 3a0a 2020 2020  "Qt4Cairo":.    
+0000caf0: 2020 2020 2020 2020 2020 2020 706c 742e              plt.
+0000cb00: 7377 6974 6368 5f62 6163 6b65 6e64 2822  switch_backend("
+0000cb10: 5174 3443 6169 726f 2229 0a20 2020 2020  Qt4Cairo").     
+0000cb20: 2020 2065 6c69 6620 6d70 6c5f 6261 636b     elif mpl_back
+0000cb30: 656e 642e 7374 6172 7473 7769 7468 2822  end.startswith("
+0000cb40: 5174 3522 293a 0a20 2020 2020 2020 2020  Qt5"):.         
+0000cb50: 2020 2069 6620 6d70 6c5f 6261 636b 656e     if mpl_backen
+0000cb60: 6420 213d 2022 5174 3543 6169 726f 223a  d != "Qt5Cairo":
+0000cb70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000cb80: 2070 6c74 2e73 7769 7463 685f 6261 636b   plt.switch_back
+0000cb90: 656e 6428 2251 7435 4361 6972 6f22 290a  end("Qt5Cairo").
+0000cba0: 2020 2020 2020 2020 656c 6966 206d 706c          elif mpl
+0000cbb0: 5f62 6163 6b65 6e64 2e73 7461 7274 7377  _backend.startsw
+0000cbc0: 6974 6828 2251 7422 293a 0a20 2020 2020  ith("Qt"):.     
+0000cbd0: 2020 2020 2020 2069 6620 6d70 6c5f 6261         if mpl_ba
+0000cbe0: 636b 656e 6420 213d 2022 5174 4361 6972  ckend != "QtCair
+0000cbf0: 6f22 3a0a 2020 2020 2020 2020 2020 2020  o":.            
+0000cc00: 2020 2020 706c 742e 7377 6974 6368 5f62      plt.switch_b
+0000cc10: 6163 6b65 6e64 2822 5174 4361 6972 6f22  ackend("QtCairo"
+0000cc20: 290a 2020 2020 2020 2020 656c 6966 206d  ).        elif m
+0000cc30: 706c 5f62 6163 6b65 6e64 2e73 7461 7274  pl_backend.start
+0000cc40: 7377 6974 6828 2247 544b 3322 293a 0a20  swith("GTK3"):. 
+0000cc50: 2020 2020 2020 2020 2020 2069 6620 6d70             if mp
+0000cc60: 6c5f 6261 636b 656e 6420 213d 2022 4754  l_backend != "GT
+0000cc70: 4b33 4361 6972 6f22 3a0a 2020 2020 2020  K3Cairo":.      
+0000cc80: 2020 2020 2020 2020 2020 706c 742e 7377            plt.sw
+0000cc90: 6974 6368 5f62 6163 6b65 6e64 2822 4754  itch_backend("GT
+0000cca0: 4b33 4361 6972 6f22 290a 2020 2020 2020  K3Cairo").      
+0000ccb0: 2020 656c 6966 206d 706c 5f62 6163 6b65    elif mpl_backe
+0000ccc0: 6e64 2e73 7461 7274 7377 6974 6828 2247  nd.startswith("G
+0000ccd0: 544b 3422 293a 0a20 2020 2020 2020 2020  TK4"):.         
+0000cce0: 2020 2069 6620 6d70 6c5f 6261 636b 656e     if mpl_backen
+0000ccf0: 6420 213d 2022 4754 4b34 4361 6972 6f22  d != "GTK4Cairo"
+0000cd00: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0000cd10: 2020 706c 742e 7377 6974 6368 5f62 6163    plt.switch_bac
+0000cd20: 6b65 6e64 2822 4754 4b34 4361 6972 6f22  kend("GTK4Cairo"
+0000cd30: 290a 2020 2020 2020 2020 656c 6966 206d  ).        elif m
+0000cd40: 706c 5f62 6163 6b65 6e64 2021 3d20 2263  pl_backend != "c
+0000cd50: 6169 726f 223a 0a20 2020 2020 2020 2020  airo":.         
+0000cd60: 2020 2070 6c74 2e73 7769 7463 685f 6261     plt.switch_ba
+0000cd70: 636b 656e 6428 2263 6169 726f 2229 0a0a  ckend("cairo")..
+0000cd80: 2020 2020 6966 2061 7869 7320 6973 204e      if axis is N
+0000cd90: 6f6e 653a 0a20 2020 2020 2020 2073 697a  one:.        siz
+0000cda0: 655f 696e 6368 6573 203d 2028 7369 7a65  e_inches = (size
+0000cdb0: 5b30 5d2f 666c 6f61 7428 6470 6929 2c20  [0]/float(dpi), 
+0000cdc0: 7369 7a65 5b31 5d2f 666c 6f61 7428 6470  size[1]/float(dp
+0000cdd0: 6929 290a 2020 2020 2020 2020 6669 672c  i)).        fig,
+0000cde0: 2061 7869 7320 3d20 706c 742e 7375 6270   axis = plt.subp
+0000cdf0: 6c6f 7473 2866 6967 7369 7a65 3d73 697a  lots(figsize=siz
+0000ce00: 655f 696e 6368 6573 290a 0a20 2020 2061  e_inches)..    a
+0000ce10: 7869 732e 6178 6973 2827 6f66 6627 290a  xis.axis('off').
+0000ce20: 0a20 2020 2023 2064 6566 6175 6c74 2070  .    # default p
+0000ce30: 6c6f 740a 2020 2020 6966 206e 6e67 742e  lot.    if nngt.
+0000ce40: 6765 745f 636f 6e66 6967 2822 6261 636b  get_config("back
+0000ce50: 656e 6422 2920 3d3d 2022 6e6e 6774 223a  end") == "nngt":
+0000ce60: 0a20 2020 2020 2020 2064 7261 775f 6e65  .        draw_ne
+0000ce70: 7477 6f72 6b28 0a20 2020 2020 2020 2020  twork(.         
+0000ce80: 2020 206e 6574 776f 726b 2c20 6e73 697a     network, nsiz
+0000ce90: 653d 6e73 697a 652c 206e 636f 6c6f 723d  e=nsize, ncolor=
+0000cea0: 6e63 6f6c 6f72 2c20 6e73 6861 7065 3d6e  ncolor, nshape=n
+0000ceb0: 7368 6170 652c 0a20 2020 2020 2020 2020  shape,.         
+0000cec0: 2020 206e 626f 7264 6572 5f63 6f6c 6f72     nborder_color
+0000ced0: 3d6e 626f 7264 6572 5f63 6f6c 6f72 2c20  =nborder_color, 
+0000cee0: 6e62 6f72 6465 725f 7769 6474 683d 6e62  nborder_width=nb
+0000cef0: 6f72 6465 725f 7769 6474 682c 0a20 2020  order_width,.   
+0000cf00: 2020 2020 2020 2020 2065 7369 7a65 3d65           esize=e
+0000cf10: 7369 7a65 2c20 6563 6f6c 6f72 3d65 636f  size, ecolor=eco
+0000cf20: 6c6f 722c 2063 7572 7665 645f 6564 6765  lor, curved_edge
+0000cf30: 733d 6375 7276 6564 5f65 6467 6573 2c0a  s=curved_edges,.
+0000cf40: 2020 2020 2020 2020 2020 2020 7468 7265              thre
+0000cf50: 7368 6f6c 643d 7468 7265 7368 6f6c 642c  shold=threshold,
+0000cf60: 2064 6563 696d 6174 655f 636f 6e6e 6563   decimate_connec
+0000cf70: 7469 6f6e 733d 6465 6369 6d61 7465 5f63  tions=decimate_c
+0000cf80: 6f6e 6e65 6374 696f 6e73 2c0a 2020 2020  onnections,.    
+0000cf90: 2020 2020 2020 2020 7370 6174 6961 6c3d          spatial=
+0000cfa0: 7370 6174 6961 6c2c 2072 6573 7472 6963  spatial, restric
+0000cfb0: 745f 6e6f 6465 733d 7265 7374 7269 6374  t_nodes=restrict
+0000cfc0: 5f6e 6f64 6573 2c0a 2020 2020 2020 2020  _nodes,.        
+0000cfd0: 2020 2020 7368 6f77 5f65 6e76 6972 6f6e      show_environ
+0000cfe0: 6d65 6e74 3d73 686f 775f 656e 7669 726f  ment=show_enviro
+0000cff0: 6e6d 656e 742c 2073 697a 653d 7369 7a65  nment, size=size
+0000d000: 2c20 6178 6973 3d61 7869 732c 0a20 2020  , axis=axis,.   
+0000d010: 2020 2020 2020 2020 206c 6179 6f75 743d           layout=
+0000d020: 6c61 796f 7574 2c20 7368 6f77 3d73 686f  layout, show=sho
+0000d030: 772c 202a 2a6b 7761 7267 7329 0a0a 2020  w, **kwargs)..  
+0000d040: 2020 2020 2020 7265 7475 726e 0a0a 2020        return..  
+0000d050: 2020 2320 6f74 6865 7277 6973 652c 2070    # otherwise, p
+0000d060: 7265 6170 7265 2064 6174 610a 2020 2020  reapre data.    
+0000d070: 7265 7374 7269 6374 5f6e 6f64 6573 203d  restrict_nodes =
+0000d080: 205f 636f 6e76 6572 745f 746f 5f6e 6f64   _convert_to_nod
+0000d090: 6573 2872 6573 7472 6963 745f 6e6f 6465  es(restrict_node
+0000d0a0: 732c 0a20 2020 2020 2020 2020 2020 2020  s,.             
+0000d0b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d0c0: 2020 2020 2020 2020 2020 2272 6573 7472            "restr
+0000d0d0: 6963 745f 6e6f 6465 7322 2c20 6e65 7477  ict_nodes", netw
+0000d0e0: 6f72 6b29 0a0a 2020 2020 2320 7368 697a  ork)..    # shiz
+0000d0f0: 6520 616e 6420 7368 6170 650a 2020 2020  e and shape.    
+0000d100: 6d61 785f 6e73 697a 6520 3d20 6b77 6172  max_nsize = kwar
+0000d110: 6773 2e67 6574 2822 6d61 785f 6e73 697a  gs.get("max_nsiz
+0000d120: 6522 2c20 3529 0a20 2020 206d 696e 5f6e  e", 5).    min_n
+0000d130: 7369 7a65 203d 206b 7761 7267 732e 6765  size = kwargs.ge
+0000d140: 7428 226d 696e 5f6e 7369 7a65 222c 204e  t("min_nsize", N
+0000d150: 6f6e 6529 0a0a 2020 2020 6d61 785f 6573  one)..    max_es
+0000d160: 697a 6520 3d20 6b77 6172 6773 2e67 6574  ize = kwargs.get
+0000d170: 2822 6d61 785f 6573 697a 6522 2c20 3229  ("max_esize", 2)
+0000d180: 0a20 2020 206d 696e 5f65 7369 7a65 203d  .    min_esize =
+0000d190: 206b 7761 7267 732e 6765 7428 226d 696e   kwargs.get("min
+0000d1a0: 5f65 7369 7a65 222c 2030 290a 0a20 2020  _esize", 0)..   
+0000d1b0: 206d 6172 6b65 7273 2c20 6e73 697a 652c   markers, nsize,
+0000d1c0: 2065 7369 7a65 203d 205f 6e6f 6465 5f65   esize = _node_e
+0000d1d0: 6467 655f 7368 6170 655f 7369 7a65 280a  dge_shape_size(.
+0000d1e0: 2020 2020 2020 2020 6e65 7477 6f72 6b2c          network,
+0000d1f0: 206e 7368 6170 652c 206e 7369 7a65 2c20   nshape, nsize, 
+0000d200: 6d61 785f 6e73 697a 652c 206d 696e 5f6e  max_nsize, min_n
+0000d210: 7369 7a65 2c20 6573 697a 652c 206d 6178  size, esize, max
+0000d220: 5f65 7369 7a65 2c0a 2020 2020 2020 2020  _esize,.        
+0000d230: 6d69 6e5f 6573 697a 652c 2072 6573 7472  min_esize, restr
+0000d240: 6963 745f 6e6f 6465 732c 2072 6573 7472  ict_nodes, restr
+0000d250: 6963 745f 6564 6765 732c 2073 697a 652c  ict_edges, size,
+0000d260: 2074 6872 6573 686f 6c64 290a 0a20 2020   threshold)..   
+0000d270: 2023 206e 6f64 6520 636f 6c6f 7220 696e   # node color in
+0000d280: 666f 726d 6174 696f 6e0a 2020 2020 6966  formation.    if
+0000d290: 206e 636f 6c6f 7220 6973 204e 6f6e 653a   ncolor is None:
+0000d2a0: 0a20 2020 2020 2020 2069 6620 6e65 7477  .        if netw
+0000d2b0: 6f72 6b2e 7374 7275 6374 7572 6520 6973  ork.structure is
+0000d2c0: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
+0000d2d0: 2020 2020 2020 206e 636f 6c6f 7220 3d20         ncolor = 
+0000d2e0: 2267 726f 7570 220a 2020 2020 2020 2020  "group".        
+0000d2f0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+0000d300: 2020 6e63 6f6c 6f72 203d 2022 7222 0a0a    ncolor = "r"..
+0000d310: 2020 2020 6469 7363 7265 7465 5f63 6f6c      discrete_col
+0000d320: 6f72 732c 2064 6566 6175 6c74 5f6e 636d  ors, default_ncm
+0000d330: 6170 203d 205f 6765 745f 6e63 6d61 7028  ap = _get_ncmap(
+0000d340: 6e65 7477 6f72 6b2c 206e 636f 6c6f 7229  network, ncolor)
+0000d350: 0a0a 2020 2020 6e63 6d61 7020 3d20 6765  ..    ncmap = ge
+0000d360: 745f 636d 6170 286b 7761 7267 732e 6765  t_cmap(kwargs.ge
+0000d370: 7428 226e 6f64 655f 636d 6170 222c 2064  t("node_cmap", d
+0000d380: 6566 6175 6c74 5f6e 636d 6170 2929 0a0a  efault_ncmap))..
+0000d390: 2020 2020 6e6f 6465 5f63 6f6c 6f72 2c20      node_color, 
+0000d3a0: 6e74 6963 6b73 2c20 6e74 6963 6b73 6c61  nticks, nticksla
+0000d3b0: 6265 6c73 2c20 6e6c 6162 656c 203d 205f  bels, nlabel = _
+0000d3c0: 6e6f 6465 5f63 6f6c 6f72 280a 2020 2020  node_color(.    
+0000d3d0: 2020 2020 6e65 7477 6f72 6b2c 2072 6573      network, res
+0000d3e0: 7472 6963 745f 6e6f 6465 732c 206e 636f  trict_nodes, nco
+0000d3f0: 6c6f 722c 2064 6973 6372 6574 655f 636f  lor, discrete_co
+0000d400: 6c6f 7273 3d64 6973 6372 6574 655f 636f  lors=discrete_co
+0000d410: 6c6f 7273 290a 0a20 2020 2023 2065 6467  lors)..    # edg
+0000d420: 6520 636f 6c6f 720a 2020 2020 6563 6f6c  e color.    ecol
+0000d430: 6f72 203d 205f 6564 6765 5f70 726f 7028  or = _edge_prop(
+0000d440: 6e65 7477 6f72 6b2c 2065 636f 6c6f 7229  network, ecolor)
+0000d450: 0a20 2020 2065 7369 7a65 2020 3d20 5f65  .    esize  = _e
+0000d460: 6467 655f 7072 6f70 286e 6574 776f 726b  dge_prop(network
+0000d470: 2c20 6573 697a 6529 0a0a 2020 2020 6966  , esize)..    if
+0000d480: 206e 6f6e 7374 7269 6e67 5f63 6f6e 7461   nonstring_conta
+0000d490: 696e 6572 2865 7369 7a65 2920 616e 6420  iner(esize) and 
+0000d4a0: 6c65 6e28 6573 697a 6529 3a0a 2020 2020  len(esize):.    
+0000d4b0: 2020 2020 6573 697a 6520 2a3d 206d 6178      esize *= max
+0000d4c0: 5f65 7369 7a65 202f 206e 702e 6d61 7828  _esize / np.max(
+0000d4d0: 6573 697a 6529 0a0a 2020 2020 2320 656e  esize)..    # en
+0000d4e0: 7669 726f 6e6d 656e 740a 2020 2020 6966  vironment.    if
+0000d4f0: 2073 7061 7469 616c 2061 6e64 206e 6574   spatial and net
+0000d500: 776f 726b 2e69 735f 7370 6174 6961 6c28  work.is_spatial(
+0000d510: 293a 0a20 2020 2020 2020 2069 6620 7368  ):.        if sh
+0000d520: 6f77 5f65 6e76 6972 6f6e 6d65 6e74 3a0a  ow_environment:.
+0000d530: 2020 2020 2020 2020 2020 2020 6e6e 6774              nngt
+0000d540: 2e67 656f 6d65 7472 792e 706c 6f74 2e70  .geometry.plot.p
+0000d550: 6c6f 745f 7368 6170 6528 6e65 7477 6f72  lot_shape(networ
+0000d560: 6b2e 7368 6170 652c 2061 7869 733d 6178  k.shape, axis=ax
+0000d570: 6973 2c20 7368 6f77 3d46 616c 7365 290a  is, show=False).
+0000d580: 0a20 2020 2023 2064 6f20 7468 6520 706c  .    # do the pl
+0000d590: 6f74 0a20 2020 2069 6620 6e6e 6774 2e67  ot.    if nngt.g
+0000d5a0: 6574 5f63 6f6e 6669 6728 2262 6163 6b65  et_config("backe
+0000d5b0: 6e64 2229 203d 3d20 2267 7261 7068 2d74  nd") == "graph-t
+0000d5c0: 6f6f 6c22 3a0a 2020 2020 2020 2020 6672  ool":.        fr
+0000d5d0: 6f6d 2067 7261 7068 5f74 6f6f 6c2e 6472  om graph_tool.dr
+0000d5e0: 6177 2069 6d70 6f72 7420 2867 7261 7068  aw import (graph
+0000d5f0: 5f64 7261 772c 2073 6664 705f 6c61 796f  _draw, sfdp_layo
+0000d600: 7574 2c20 7261 6e64 6f6d 5f6c 6179 6f75  ut, random_layou
+0000d610: 7429 0a0a 2020 2020 2020 2020 6772 6170  t)..        grap
+0000d620: 6820 3d20 6e65 7477 6f72 6b2e 6772 6170  h = network.grap
+0000d630: 680a 0a20 2020 2020 2020 2023 2072 6573  h..        # res
+0000d640: 697a 650a 2020 2020 2020 2020 6966 206e  ize.        if n
+0000d650: 6f6e 7374 7269 6e67 5f63 6f6e 7461 696e  onstring_contain
+0000d660: 6572 286e 7369 7a65 293a 0a20 2020 2020  er(nsize):.     
+0000d670: 2020 2020 2020 206e 7369 7a65 202a 3d20         nsize *= 
+0000d680: 302e 3035 0a0a 2020 2020 2020 2020 6e62  0.05..        nb
+0000d690: 6f72 6465 725f 7769 6474 6820 2a3d 2030  order_width *= 0
+0000d6a0: 2e31 0a0a 2020 2020 2020 2020 6573 697a  .1..        esiz
+0000d6b0: 6520 2a3d 2030 2e30 320a 0a20 2020 2020  e *= 0.02..     
+0000d6c0: 2020 2023 2070 6f73 6974 696f 6e73 0a20     # positions. 
+0000d6d0: 2020 2020 2020 2070 6f73 203d 204e 6f6e         pos = Non
+0000d6e0: 650a 0a20 2020 2020 2020 2069 6620 6c61  e..        if la
+0000d6f0: 796f 7574 2069 7320 4e6f 6e65 3a0a 2020  yout is None:.  
+0000d700: 2020 2020 2020 2020 2020 6966 2069 7369            if isi
+0000d710: 6e73 7461 6e63 6528 6e65 7477 6f72 6b2c  nstance(network,
+0000d720: 206e 6e67 742e 5370 6174 6961 6c47 7261   nngt.SpatialGra
+0000d730: 7068 2920 616e 6420 7370 6174 6961 6c3a  ph) and spatial:
+0000d740: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000d750: 2078 7920 203d 206e 6574 776f 726b 2e67   xy  = network.g
+0000d760: 6574 5f70 6f73 6974 696f 6e73 2829 0a20  et_positions(). 
+0000d770: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+0000d780: 6f73 203d 2067 7261 7068 2e6e 6577 5f76  os = graph.new_v
+0000d790: 7028 2276 6563 746f 723c 646f 7562 6c65  p("vector<double
+0000d7a0: 3e22 2c20 7661 6c73 3d78 7929 0a20 2020  >", vals=xy).   
+0000d7b0: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+0000d7c0: 2020 2020 2020 2020 2020 2020 2020 2077                 w
+0000d7d0: 6569 6768 7473 203d 2028 4e6f 6e65 2069  eights = (None i
+0000d7e0: 6620 6e6f 7420 6e65 7477 6f72 6b2e 6973  f not network.is
+0000d7f0: 5f77 6569 6768 7465 6428 290a 2020 2020  _weighted().    
+0000d800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d810: 2020 2020 2020 2065 6c73 6520 6772 6170         else grap
+0000d820: 682e 6564 6765 5f70 726f 7065 7274 6965  h.edge_propertie
+0000d830: 735b 2777 6569 6768 7427 5d29 0a20 2020  s['weight']).   
+0000d840: 2020 2020 2020 2020 2020 2020 2070 6f73               pos
+0000d850: 203d 2073 6664 705f 6c61 796f 7574 2867   = sfdp_layout(g
+0000d860: 7261 7068 2c20 6577 6569 6768 743d 7765  raph, eweight=we
+0000d870: 6967 6874 7329 0a20 2020 2020 2020 2065  ights).        e
+0000d880: 6c69 6620 6c61 796f 7574 203d 3d20 2272  lif layout == "r
+0000d890: 616e 646f 6d22 3a0a 2020 2020 2020 2020  andom":.        
+0000d8a0: 2020 2020 706f 7320 3d20 7261 6e64 6f6d      pos = random
+0000d8b0: 5f6c 6179 6f75 7428 6772 6170 6829 0a20  _layout(graph). 
+0000d8c0: 2020 2020 2020 2065 6c69 6620 6c61 796f         elif layo
+0000d8d0: 7574 203d 3d20 2263 6972 6375 6c61 7222  ut == "circular"
+0000d8e0: 3a0a 2020 2020 2020 2020 2020 2020 706f  :.            po
+0000d8f0: 7320 3d20 6772 6170 682e 6e65 775f 7670  s = graph.new_vp
+0000d900: 2822 7665 6374 6f72 3c64 6f75 626c 653e  ("vector<double>
+0000d910: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+0000d920: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d930: 2020 7661 6c73 3d5f 6369 7263 756c 6172    vals=_circular
+0000d940: 5f6c 6179 6f75 7428 6e65 7477 6f72 6b2c  _layout(network,
+0000d950: 206e 7369 7a65 2929 0a20 2020 2020 2020   nsize)).       
+0000d960: 2065 6c69 6620 6e6f 6e73 7472 696e 675f   elif nonstring_
+0000d970: 636f 6e74 6169 6e65 7228 6c61 796f 7574  container(layout
+0000d980: 293a 0a20 2020 2020 2020 2020 2020 2061  ):.            a
+0000d990: 7373 6572 7420 6e70 2e73 6861 7065 286c  ssert np.shape(l
+0000d9a0: 6179 6f75 7429 203d 3d20 286e 6574 776f  ayout) == (netwo
+0000d9b0: 726b 2e6e 6f64 655f 6e62 2829 2c20 3229  rk.node_nb(), 2)
+0000d9c0: 2c20 5c0a 2020 2020 2020 2020 2020 2020  , \.            
+0000d9d0: 2020 2020 224f 6e65 2070 6f73 6974 696f      "One positio
+0000d9e0: 6e20 7065 7220 6e6f 6465 2069 6e20 7468  n per node in th
+0000d9f0: 6520 6e65 7477 6f72 6b20 6973 2072 6571  e network is req
+0000da00: 7569 7265 642e 220a 2020 2020 2020 2020  uired.".        
+0000da10: 2020 2020 706f 7320 3d20 6772 6170 682e      pos = graph.
+0000da20: 6e65 775f 7670 2822 7665 6374 6f72 3c64  new_vp("vector<d
+0000da30: 6f75 626c 653e 222c 2076 616c 733d 6c61  ouble>", vals=la
+0000da40: 796f 7574 290a 2020 2020 2020 2020 656c  yout).        el
+0000da50: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+0000da60: 2320 7370 7269 6e67 2062 6c6f 636b 0a20  # spring block. 
+0000da70: 2020 2020 2020 2020 2020 2077 6569 6768             weigh
+0000da80: 7473 203d 2028 4e6f 6e65 2069 6620 6e6f  ts = (None if no
+0000da90: 7420 6e65 7477 6f72 6b2e 6973 5f77 6569  t network.is_wei
+0000daa0: 6768 7465 6428 290a 2020 2020 2020 2020  ghted().        
+0000dab0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0000dac0: 6c73 6520 6772 6170 682e 6564 6765 5f70  lse graph.edge_p
+0000dad0: 726f 7065 7274 6965 735b 2777 6569 6768  roperties['weigh
+0000dae0: 7427 5d29 0a20 2020 2020 2020 2020 2020  t']).           
+0000daf0: 2070 6f73 203d 2073 6664 705f 6c61 796f   pos = sfdp_layo
+0000db00: 7574 2867 7261 7068 2c20 6577 6569 6768  ut(graph, eweigh
+0000db10: 743d 7765 6967 6874 7329 0a0a 2020 2020  t=weights)..    
+0000db20: 2020 2020 636f 6e76 6572 745f 7368 6170      convert_shap
+0000db30: 6520 3d20 7b0a 2020 2020 2020 2020 2020  e = {.          
+0000db40: 2020 226f 223a 2022 6369 7263 6c65 222c    "o": "circle",
+0000db50: 0a20 2020 2020 2020 2020 2020 2022 7622  .            "v"
+0000db60: 3a20 2274 7269 616e 676c 6522 2c0a 2020  : "triangle",.  
+0000db70: 2020 2020 2020 2020 2020 225e 223a 2022            "^": "
+0000db80: 7472 6961 6e67 6c65 222c 0a20 2020 2020  triangle",.     
+0000db90: 2020 2020 2020 2022 7322 3a20 2273 7175         "s": "squ
+0000dba0: 6172 6522 2c0a 2020 2020 2020 2020 2020  are",.          
+0000dbb0: 2020 2270 223a 2022 7065 6e74 6167 6f6e    "p": "pentagon
+0000dbc0: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
+0000dbd0: 6822 3a20 2268 6578 6167 6f6e 222c 0a20  h": "hexagon",. 
+0000dbe0: 2020 2020 2020 2020 2020 2022 4822 3a20             "H": 
+0000dbf0: 2268 6578 6167 6f6e 222c 0a20 2020 2020  "hexagon",.     
+0000dc00: 2020 207d 0a0a 2020 2020 2020 2020 7368     }..        sh
+0000dc10: 6170 655f 6469 6374 203d 2064 6566 6175  ape_dict = defau
+0000dc20: 6c74 6469 6374 280a 2020 2020 2020 2020  ltdict(.        
+0000dc30: 2020 2020 6c61 6d62 6461 206b 3a20 2263      lambda k: "c
+0000dc40: 6972 636c 6522 2069 6620 6b20 6e6f 7420  ircle" if k not 
+0000dc50: 696e 2063 6f6e 7665 7274 5f73 6861 7065  in convert_shape
+0000dc60: 2e76 616c 7565 7328 2920 656c 7365 206b  .values() else k
+0000dc70: 290a 0a20 2020 2020 2020 2066 6f72 206b  )..        for k
+0000dc80: 2c20 7620 696e 2063 6f6e 7665 7274 5f73  , v in convert_s
+0000dc90: 6861 7065 2e69 7465 6d73 2829 3a0a 2020  hape.items():.  
+0000dca0: 2020 2020 2020 2020 2020 7368 6170 655f            shape_
+0000dcb0: 6469 6374 5b6b 5d20 3d20 760a 0a20 2020  dict[k] = v..   
+0000dcc0: 2020 2020 2076 7072 6f70 7320 3d20 7b0a       vprops = {.
+0000dcd0: 2020 2020 2020 2020 2020 2020 2273 6861              "sha
+0000dce0: 7065 223a 2073 6861 7065 5f64 6963 745b  pe": shape_dict[
+0000dcf0: 6e73 6861 7065 5d2c 0a20 2020 2020 2020  nshape],.       
+0000dd00: 2020 2020 2022 6669 6c6c 5f63 6f6c 6f72       "fill_color
+0000dd10: 223a 205f 746f 5f67 745f 7072 6f70 2867  ": _to_gt_prop(g
+0000dd20: 7261 7068 2c20 6e6f 6465 5f63 6f6c 6f72  raph, node_color
+0000dd30: 2c20 6e63 6d61 702c 2063 6f6c 6f72 3d54  , ncmap, color=T
+0000dd40: 7275 6529 2c0a 2020 2020 2020 2020 2020  rue),.          
+0000dd50: 2020 2263 6f6c 6f72 223a 205f 746f 5f67    "color": _to_g
+0000dd60: 745f 7072 6f70 2867 7261 7068 2c20 6e62  t_prop(graph, nb
+0000dd70: 6f72 6465 725f 636f 6c6f 722c 206e 636d  order_color, ncm
+0000dd80: 6170 2c20 636f 6c6f 723d 5472 7565 292c  ap, color=True),
+0000dd90: 0a20 2020 2020 2020 2020 2020 2022 7369  .            "si
+0000dda0: 7a65 223a 205f 746f 5f67 745f 7072 6f70  ze": _to_gt_prop
+0000ddb0: 2867 7261 7068 2c20 6e73 697a 652c 206e  (graph, nsize, n
+0000ddc0: 636d 6170 292c 0a20 2020 2020 2020 2020  cmap),.         
+0000ddd0: 2020 2022 7065 6e5f 7769 6474 6822 3a20     "pen_width": 
+0000dde0: 5f74 6f5f 6774 5f70 726f 7028 6772 6170  _to_gt_prop(grap
+0000ddf0: 682c 206e 626f 7264 6572 5f77 6964 7468  h, nborder_width
+0000de00: 2c20 6e63 6d61 7029 2c0a 2020 2020 2020  , ncmap),.      
+0000de10: 2020 7d0a 0a20 2020 2020 2020 2069 6620    }..        if 
+0000de20: 7670 726f 7073 5b22 6669 6c6c 5f63 6f6c  vprops["fill_col
+0000de30: 6f72 225d 2069 7320 4e6f 6e65 3a0a 2020  or"] is None:.  
+0000de40: 2020 2020 2020 2020 2020 7670 726f 7073            vprops
+0000de50: 5b22 6669 6c6c 5f63 6f6c 6f72 225d 203d  ["fill_color"] =
+0000de60: 205b 302e 3634 3036 3235 2c20 302c 2030   [0.640625, 0, 0
+0000de70: 2c20 302e 395d 0a0a 2020 2020 2020 2020  , 0.9]..        
+0000de80: 6570 726f 7073 203d 204e 6f6e 6520 6966  eprops = None if
+0000de90: 206e 6574 776f 726b 2e65 6467 655f 6e62   network.edge_nb
+0000dea0: 2829 203d 3d20 3020 656c 7365 207b 0a20  () == 0 else {. 
+0000deb0: 2020 2020 2020 2020 2020 2022 636f 6c6f             "colo
+0000dec0: 7222 3a20 5f74 6f5f 6774 5f70 726f 7028  r": _to_gt_prop(
+0000ded0: 6772 6170 682c 2065 636f 6c6f 722c 2070  graph, ecolor, p
+0000dee0: 616c 6574 7465 5f63 6f6e 7469 6e75 6f75  alette_continuou
+0000def0: 7328 292c 0a20 2020 2020 2020 2020 2020  s(),.           
+0000df00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000df10: 2020 2020 2020 7074 7970 653d 2765 6467        ptype='edg
+0000df20: 6527 2c20 636f 6c6f 723d 5472 7565 292c  e', color=True),
+0000df30: 0a20 2020 2020 2020 2020 2020 2022 7065  .            "pe
+0000df40: 6e5f 7769 6474 6822 3a20 5f74 6f5f 6774  n_width": _to_gt
+0000df50: 5f70 726f 7028 6772 6170 682c 2065 7369  _prop(graph, esi
+0000df60: 7a65 2c20 4e6f 6e65 2c20 7074 7970 653d  ze, None, ptype=
+0000df70: 2765 6467 6527 292c 0a20 2020 2020 2020  'edge'),.       
+0000df80: 207d 0a0a 2020 2020 2020 2020 6966 2072   }..        if r
+0000df90: 6573 7472 6963 745f 6564 6765 7320 6973  estrict_edges is
+0000dfa0: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
+0000dfb0: 2020 2020 2020 2065 6669 6c74 203d 206e         efilt = n
+0000dfc0: 6574 776f 726b 2e67 7261 7068 2e6e 6577  etwork.graph.new
+0000dfd0: 5f65 7028 0a20 2020 2020 2020 2020 2020  _ep(.           
+0000dfe0: 2020 2020 2022 626f 6f6c 222c 2076 616c       "bool", val
+0000dff0: 733d 6e70 2e7a 6572 6f73 286e 6574 776f  s=np.zeros(netwo
+0000e000: 726b 2e65 6467 655f 6e62 2829 2c20 6474  rk.edge_nb(), dt
+0000e010: 7970 653d 626f 6f6c 2929 0a20 2020 2020  ype=bool)).     
+0000e020: 2020 2020 2020 2065 6964 7320 3d20 5b6e         eids = [n
+0000e030: 6574 776f 726b 2e65 6467 655f 6964 2865  etwork.edge_id(e
+0000e040: 2920 666f 7220 6520 696e 2072 6573 7472  ) for e in restr
+0000e050: 6963 745f 6564 6765 735d 0a0a 2020 2020  ict_edges]..    
+0000e060: 2020 2020 2020 2020 6566 696c 742e 615b          efilt.a[
+0000e070: 6569 6473 5d20 3d20 310a 0a20 2020 2020  eids] = 1..     
+0000e080: 2020 2020 2020 206e 6574 776f 726b 2e67         network.g
+0000e090: 7261 7068 2e73 6574 5f65 6467 655f 6669  raph.set_edge_fi
+0000e0a0: 6c74 6572 2865 6669 6c74 290a 0a20 2020  lter(efilt)..   
+0000e0b0: 2020 2020 2067 7261 7068 5f64 7261 7728       graph_draw(
+0000e0c0: 6e65 7477 6f72 6b2e 6772 6170 682c 2070  network.graph, p
+0000e0d0: 6f73 3d70 6f73 2c20 7670 726f 7073 3d76  os=pos, vprops=v
+0000e0e0: 7072 6f70 732c 2065 7072 6f70 733d 6570  props, eprops=ep
+0000e0f0: 726f 7073 2c0a 2020 2020 2020 2020 2020  rops,.          
+0000e100: 2020 2020 2020 2020 206f 7574 7075 745f           output_
+0000e110: 7369 7a65 3d73 697a 652c 206d 706c 6669  size=size, mplfi
+0000e120: 673d 6178 6973 290a 0a20 2020 2020 2020  g=axis)..       
+0000e130: 2069 6620 7265 7374 7269 6374 5f65 6467   if restrict_edg
+0000e140: 6573 2069 7320 6e6f 7420 4e6f 6e65 3a0a  es is not None:.
+0000e150: 2020 2020 2020 2020 2020 2020 2320 636c              # cl
+0000e160: 6561 7220 6564 6765 2066 696c 7465 720a  ear edge filter.
+0000e170: 2020 2020 2020 2020 2020 2020 6e65 7477              netw
+0000e180: 6f72 6b2e 6772 6170 682e 7365 745f 6564  ork.graph.set_ed
+0000e190: 6765 5f66 696c 7465 7228 4e6f 6e65 290a  ge_filter(None).
+0000e1a0: 2020 2020 656c 6966 206e 6e67 742e 6765      elif nngt.ge
+0000e1b0: 745f 636f 6e66 6967 2822 6261 636b 656e  t_config("backen
+0000e1c0: 6422 2920 3d3d 2022 6e65 7477 6f72 6b78  d") == "networkx
+0000e1d0: 223a 0a20 2020 2020 2020 2069 6d70 6f72  ":.        impor
+0000e1e0: 7420 6e65 7477 6f72 6b78 2061 7320 6e78  t networkx as nx
+0000e1f0: 0a0a 2020 2020 2020 2020 706f 7320 3d20  ..        pos = 
+0000e200: 4e6f 6e65 0a0a 2020 2020 2020 2020 6966  None..        if
+0000e210: 206c 6179 6f75 7420 6973 204e 6f6e 653a   layout is None:
+0000e220: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+0000e230: 6973 696e 7374 616e 6365 286e 6574 776f  isinstance(netwo
+0000e240: 726b 2c20 6e6e 6774 2e53 7061 7469 616c  rk, nngt.Spatial
+0000e250: 4772 6170 6829 2061 6e64 2073 7061 7469  Graph) and spati
+0000e260: 616c 3a0a 2020 2020 2020 2020 2020 2020  al:.            
+0000e270: 2020 2020 7879 2020 3d20 6e65 7477 6f72      xy  = networ
+0000e280: 6b2e 6765 745f 706f 7369 7469 6f6e 7328  k.get_positions(
+0000e290: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0000e2a0: 2020 706f 7320 3d20 7b69 3a20 636f 6f72    pos = {i: coor
+0000e2b0: 6473 2066 6f72 2069 2c20 636f 6f72 6473  ds for i, coords
+0000e2c0: 2069 6e20 656e 756d 6572 6174 6528 7879   in enumerate(xy
+0000e2d0: 297d 0a20 2020 2020 2020 2065 6c69 6620  )}.        elif 
+0000e2e0: 6c61 796f 7574 203d 3d20 2263 6972 6375  layout == "circu
+0000e2f0: 6c61 7222 3a0a 2020 2020 2020 2020 2020  lar":.          
+0000e300: 2020 706f 7320 3d20 6e78 2e63 6972 6375    pos = nx.circu
+0000e310: 6c61 725f 6c61 796f 7574 286e 6574 776f  lar_layout(netwo
+0000e320: 726b 2e67 7261 7068 290a 2020 2020 2020  rk.graph).      
+0000e330: 2020 656c 6966 206c 6179 6f75 7420 3d3d    elif layout ==
+0000e340: 2022 7261 6e64 6f6d 223a 0a20 2020 2020   "random":.     
+0000e350: 2020 2020 2020 2070 6f73 203d 206e 782e         pos = nx.
+0000e360: 7261 6e64 6f6d 5f6c 6179 6f75 7428 6e65  random_layout(ne
+0000e370: 7477 6f72 6b2e 6772 6170 6829 0a20 2020  twork.graph).   
+0000e380: 2020 2020 2065 6c69 6620 6e6f 6e73 7472       elif nonstr
+0000e390: 696e 675f 636f 6e74 6169 6e65 7228 6c61  ing_container(la
+0000e3a0: 796f 7574 293a 0a20 2020 2020 2020 2020  yout):.         
+0000e3b0: 2020 2061 7373 6572 7420 6e70 2e73 6861     assert np.sha
+0000e3c0: 7065 286c 6179 6f75 7429 203d 3d20 286e  pe(layout) == (n
+0000e3d0: 6574 776f 726b 2e6e 6f64 655f 6e62 2829  etwork.node_nb()
+0000e3e0: 2c20 3229 2c20 5c0a 2020 2020 2020 2020  , 2), \.        
+0000e3f0: 2020 2020 2020 2020 224f 6e65 2070 6f73          "One pos
+0000e400: 6974 696f 6e20 7065 7220 6e6f 6465 2069  ition per node i
+0000e410: 6e20 7468 6520 6e65 7477 6f72 6b20 6973  n the network is
+0000e420: 2072 6571 7569 7265 642e 220a 2020 2020   required.".    
+0000e430: 2020 2020 2020 2020 706f 7320 3d20 7b69          pos = {i
+0000e440: 3a20 636f 6f72 6473 2066 6f72 2069 2c20  : coords for i, 
+0000e450: 636f 6f72 6473 2069 6e20 656e 756d 6572  coords in enumer
+0000e460: 6174 6528 6c61 796f 7574 297d 0a20 2020  ate(layout)}.   
+0000e470: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+0000e480: 2020 2020 2020 2070 6f73 203d 206e 782e         pos = nx.
+0000e490: 7370 7269 6e67 5f6c 6179 6f75 7428 6e65  spring_layout(ne
+0000e4a0: 7477 6f72 6b2e 6772 6170 6829 0a0a 2020  twork.graph)..  
+0000e4b0: 2020 2020 2020 2320 6e6f 726d 616c 697a        # normaliz
+0000e4c0: 6520 7369 7a65 7320 636f 6d70 6172 6564  e sizes compared
+0000e4d0: 2074 6f20 6967 7261 7068 0a20 2020 2020   to igraph.     
+0000e4e0: 2020 206e 7369 7a65 203d 205f 7363 616c     nsize = _scal
+0000e4f0: 655f 6e6f 6465 5f73 697a 6528 6e73 697a  e_node_size(nsiz
+0000e500: 6529 0a0a 2020 2020 2020 2020 6e62 6f72  e)..        nbor
+0000e510: 6465 725f 7769 6474 6820 3d20 5f73 6361  der_width = _sca
+0000e520: 6c65 5f6e 6f64 655f 7369 7a65 286e 626f  le_node_size(nbo
+0000e530: 7264 6572 5f77 6964 7468 2c20 3229 0a0a  rder_width, 2)..
+0000e540: 2020 2020 2020 2020 6564 6765 7320 3d20          edges = 
+0000e550: 4e6f 6e65 2069 6620 7265 7374 7269 6374  None if restrict
+0000e560: 5f65 6467 6573 2069 7320 4e6f 6e65 2065  _edges is None e
+0000e570: 6c73 6520 6c69 7374 2872 6573 7472 6963  lse list(restric
+0000e580: 745f 6564 6765 7329 0a0a 2020 2020 2020  t_edges)..      
+0000e590: 2020 6e78 2e64 7261 775f 6e65 7477 6f72    nx.draw_networ
+0000e5a0: 6b78 280a 2020 2020 2020 2020 2020 2020  kx(.            
+0000e5b0: 6e65 7477 6f72 6b2e 6772 6170 682c 2070  network.graph, p
+0000e5c0: 6f73 3d70 6f73 2c20 6178 3d61 7869 732c  os=pos, ax=axis,
+0000e5d0: 206e 6f64 656c 6973 743d 7265 7374 7269   nodelist=restri
+0000e5e0: 6374 5f6e 6f64 6573 2c0a 2020 2020 2020  ct_nodes,.      
+0000e5f0: 2020 2020 2020 6564 6765 6c69 7374 3d65        edgelist=e
+0000e600: 6467 6573 2c20 6e6f 6465 5f73 697a 653d  dges, node_size=
+0000e610: 6e73 697a 652c 206e 6f64 655f 636f 6c6f  nsize, node_colo
+0000e620: 723d 6e6f 6465 5f63 6f6c 6f72 2c0a 2020  r=node_color,.  
+0000e630: 2020 2020 2020 2020 2020 6e6f 6465 5f73            node_s
+0000e640: 6861 7065 3d6e 7368 6170 652c 206c 696e  hape=nshape, lin
+0000e650: 6577 6964 7468 733d 6e62 6f72 6465 725f  ewidths=nborder_
+0000e660: 7769 6474 682c 2065 6467 655f 636f 6c6f  width, edge_colo
+0000e670: 723d 6563 6f6c 6f72 2c0a 2020 2020 2020  r=ecolor,.      
+0000e680: 2020 2020 2020 6564 6765 5f63 6d61 703d        edge_cmap=
+0000e690: 7061 6c65 7474 655f 636f 6e74 696e 756f  palette_continuo
+0000e6a0: 7573 2829 2c20 636d 6170 3d6e 636d 6170  us(), cmap=ncmap
+0000e6b0: 2c0a 2020 2020 2020 2020 2020 2020 7769  ,.            wi
+0000e6c0: 7468 5f6c 6162 656c 733d 7368 6f77 5f6c  th_labels=show_l
+0000e6d0: 6162 656c 732c 2077 6964 7468 3d65 7369  abels, width=esi
+0000e6e0: 7a65 2c20 6564 6765 636f 6c6f 7273 3d6e  ze, edgecolors=n
+0000e6f0: 626f 7264 6572 5f63 6f6c 6f72 290a 2020  border_color).  
+0000e700: 2020 656c 6966 206e 6e67 742e 6765 745f    elif nngt.get_
+0000e710: 636f 6e66 6967 2822 6261 636b 656e 6422  config("backend"
+0000e720: 2920 3d3d 2022 6967 7261 7068 223a 0a20  ) == "igraph":. 
+0000e730: 2020 2020 2020 2069 6d70 6f72 7420 6967         import ig
+0000e740: 7261 7068 0a20 2020 2020 2020 2066 726f  raph.        fro
+0000e750: 6d20 6967 7261 7068 2069 6d70 6f72 7420  m igraph import 
+0000e760: 4c61 796f 7574 2c20 5072 6563 616c 6375  Layout, Precalcu
+0000e770: 6c61 7465 6450 616c 6574 7465 0a0a 2020  latedPalette..  
+0000e780: 2020 2020 2020 706f 7320 3d20 4e6f 6e65        pos = None
+0000e790: 0a0a 2020 2020 2020 2020 6966 206c 6179  ..        if lay
+0000e7a0: 6f75 7420 6973 204e 6f6e 653a 0a20 2020  out is None:.   
+0000e7b0: 2020 2020 2020 2020 2069 6620 6973 696e           if isin
+0000e7c0: 7374 616e 6365 286e 6574 776f 726b 2c20  stance(network, 
+0000e7d0: 6e6e 6774 2e53 7061 7469 616c 4772 6170  nngt.SpatialGrap
+0000e7e0: 6829 2061 6e64 2073 7061 7469 616c 3a0a  h) and spatial:.
+0000e7f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e800: 7879 2020 3d20 6e65 7477 6f72 6b2e 6765  xy  = network.ge
+0000e810: 745f 706f 7369 7469 6f6e 7328 290a 2020  t_positions().  
+0000e820: 2020 2020 2020 2020 2020 2020 2020 706f                po
+0000e830: 7320 3d20 4c61 796f 7574 2878 7929 0a20  s = Layout(xy). 
+0000e840: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+0000e850: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000e860: 2070 6f73 203d 206e 6574 776f 726b 2e67   pos = network.g
+0000e870: 7261 7068 2e6c 6179 6f75 745f 6672 7563  raph.layout_fruc
+0000e880: 6874 6572 6d61 6e5f 7265 696e 676f 6c64  hterman_reingold
+0000e890: 2829 0a20 2020 2020 2020 2065 6c69 6620  ().        elif 
+0000e8a0: 6c61 796f 7574 203d 3d20 2263 6972 6375  layout == "circu
+0000e8b0: 6c61 7222 3a0a 2020 2020 2020 2020 2020  lar":.          
+0000e8c0: 2020 706f 7320 3d20 6e65 7477 6f72 6b2e    pos = network.
+0000e8d0: 6772 6170 682e 6c61 796f 7574 5f63 6972  graph.layout_cir
+0000e8e0: 636c 6528 290a 2020 2020 2020 2020 656c  cle().        el
+0000e8f0: 6966 206c 6179 6f75 7420 3d3d 2022 7261  if layout == "ra
+0000e900: 6e64 6f6d 223a 0a20 2020 2020 2020 2020  ndom":.         
+0000e910: 2020 2070 6f73 203d 206e 6574 776f 726b     pos = network
+0000e920: 2e67 7261 7068 2e6c 6179 6f75 745f 7261  .graph.layout_ra
+0000e930: 6e64 6f6d 2829 0a0a 2020 2020 2020 2020  ndom()..        
+0000e940: 7061 6c65 7474 6520 3d20 5072 6563 616c  palette = Precal
+0000e950: 6375 6c61 7465 6450 616c 6574 7465 286e  culatedPalette(n
+0000e960: 636d 6170 286e 702e 6c69 6e73 7061 6365  cmap(np.linspace
+0000e970: 2830 2c20 312c 2032 3536 2929 290a 0a20  (0, 1, 256))).. 
+0000e980: 2020 2020 2020 2023 2063 6f6e 7665 7274         # convert
+0000e990: 2063 6f6c 6f72 2074 6f20 6967 7261 7068   color to igraph
+0000e9a0: 2d66 6f72 6d61 740a 2020 2020 2020 2020  -format.        
+0000e9b0: 6e6f 6465 5f63 6f6c 6f72 203d 205f 746f  node_color = _to
+0000e9c0: 5f69 675f 636f 6c6f 7228 6e6f 6465 5f63  _ig_color(node_c
+0000e9d0: 6f6c 6f72 290a 2020 2020 2020 2020 6563  olor).        ec
+0000e9e0: 6f6c 6f72 2020 2020 203d 205f 746f 5f69  olor     = _to_i
+0000e9f0: 675f 636f 6c6f 7228 6563 6f6c 6f72 290a  g_color(ecolor).
+0000ea00: 0a20 2020 2020 2020 2063 6f6e 7665 7274  .        convert
+0000ea10: 5f73 6861 7065 203d 207b 0a20 2020 2020  _shape = {.     
+0000ea20: 2020 2020 2020 2022 6f22 3a20 2263 6972         "o": "cir
+0000ea30: 636c 6522 2c0a 2020 2020 2020 2020 2020  cle",.          
+0000ea40: 2020 2276 223a 2022 7472 6961 6e67 6c65    "v": "triangle
+0000ea50: 2d64 6f77 6e22 2c0a 2020 2020 2020 2020  -down",.        
+0000ea60: 2020 2020 225e 223a 2022 7472 6961 6e67      "^": "triang
+0000ea70: 6c65 2d75 7022 2c0a 2020 2020 2020 2020  le-up",.        
+0000ea80: 2020 2020 2273 223a 2022 7265 6374 616e      "s": "rectan
+0000ea90: 676c 6522 2c0a 2020 2020 2020 2020 7d0a  gle",.        }.
+0000eaa0: 0a20 2020 2020 2020 2073 6861 7065 5f64  .        shape_d
+0000eab0: 6963 7420 3d20 6465 6661 756c 7464 6963  ict = defaultdic
+0000eac0: 7428 0a20 2020 2020 2020 2020 2020 206c  t(.            l
+0000ead0: 616d 6264 6120 6b3a 2022 6369 7263 6c65  ambda k: "circle
+0000eae0: 2220 6966 206b 206e 6f74 2069 6e20 636f  " if k not in co
+0000eaf0: 6e76 6572 745f 7368 6170 652e 7661 6c75  nvert_shape.valu
+0000eb00: 6573 2829 2065 6c73 6520 6b29 0a0a 2020  es() else k)..  
+0000eb10: 2020 2020 2020 666f 7220 6b2c 2076 2069        for k, v i
+0000eb20: 6e20 636f 6e76 6572 745f 7368 6170 652e  n convert_shape.
+0000eb30: 6974 656d 7328 293a 0a20 2020 2020 2020  items():.       
+0000eb40: 2020 2020 2073 6861 7065 5f64 6963 745b       shape_dict[
+0000eb50: 6b5d 203d 2076 0a0a 2020 2020 2020 2020  k] = v..        
+0000eb60: 6966 2069 6776 203e 3d20 6d69 6e5f 6967  if igv >= min_ig
+0000eb70: 5f76 6572 7369 6f6e 3a0a 2020 2020 2020  _version:.      
+0000eb80: 2020 2020 2020 2320 7363 616c 6520 746f        # scale to
+0000eb90: 206e 6f72 6d61 6c69 7a65 206e 6f64 6520   normalize node 
+0000eba0: 7369 7a65 2063 6f6d 7061 7265 6420 746f  size compared to
+0000ebb0: 206f 7468 6572 206c 6962 7261 7269 6573   other libraries
+0000ebc0: 0a20 2020 2020 2020 2020 2020 206e 7369  .            nsi
+0000ebd0: 7a65 203d 205f 7363 616c 655f 6e6f 6465  ze = _scale_node
+0000ebe0: 5f73 697a 6528 6e73 697a 652c 2066 6163  _size(nsize, fac
+0000ebf0: 746f 723d 302e 3129 0a0a 2020 2020 2020  tor=0.1)..      
+0000ec00: 2020 6966 206e 6f6e 7374 7269 6e67 5f63    if nonstring_c
+0000ec10: 6f6e 7461 696e 6572 286e 7369 7a65 293a  ontainer(nsize):
+0000ec20: 0a20 2020 2020 2020 2020 2020 206e 7369  .            nsi
+0000ec30: 7a65 203d 206c 6973 7428 6e73 697a 6529  ze = list(nsize)
+0000ec40: 0a0a 2020 2020 2020 2020 6966 206e 6f6e  ..        if non
+0000ec50: 7374 7269 6e67 5f63 6f6e 7461 696e 6572  string_container
+0000ec60: 286e 6f64 655f 636f 6c6f 7229 3a0a 2020  (node_color):.  
+0000ec70: 2020 2020 2020 2020 2020 6e6f 6465 5f63            node_c
+0000ec80: 6f6c 6f72 203d 206c 6973 7428 6e6f 6465  olor = list(node
+0000ec90: 5f63 6f6c 6f72 290a 0a20 2020 2020 2020  _color)..       
+0000eca0: 2069 6620 6e6f 6e73 7472 696e 675f 636f   if nonstring_co
+0000ecb0: 6e74 6169 6e65 7228 6573 697a 6529 3a0a  ntainer(esize):.
+0000ecc0: 2020 2020 2020 2020 2020 2020 6573 697a              esiz
+0000ecd0: 6520 3d20 6c69 7374 2865 7369 7a65 290a  e = list(esize).
+0000ece0: 0a20 2020 2020 2020 2069 6620 6e6f 6e73  .        if nons
+0000ecf0: 7472 696e 675f 636f 6e74 6169 6e65 7228  tring_container(
+0000ed00: 6563 6f6c 6f72 293a 0a20 2020 2020 2020  ecolor):.       
+0000ed10: 2020 2020 2065 636f 6c6f 7220 3d20 6c69       ecolor = li
+0000ed20: 7374 2865 636f 6c6f 7229 0a0a 2020 2020  st(ecolor)..    
+0000ed30: 2020 2020 7669 7375 616c 5f73 7479 6c65      visual_style
+0000ed40: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+0000ed50: 2022 7665 7274 6578 5f73 697a 6522 3a20   "vertex_size": 
+0000ed60: 6e73 697a 652c 0a20 2020 2020 2020 2020  nsize,.         
+0000ed70: 2020 2022 7665 7274 6578 5f63 6f6c 6f72     "vertex_color
+0000ed80: 223a 206e 6f64 655f 636f 6c6f 722c 0a20  ": node_color,. 
+0000ed90: 2020 2020 2020 2020 2020 2022 7665 7274             "vert
+0000eda0: 6578 5f73 6861 7065 223a 2073 6861 7065  ex_shape": shape
+0000edb0: 5f64 6963 745b 6e73 6861 7065 5d2c 0a20  _dict[nshape],. 
+0000edc0: 2020 2020 2020 2020 2020 2022 6564 6765             "edge
+0000edd0: 5f77 6964 7468 223a 2065 7369 7a65 2c0a  _width": esize,.
+0000ede0: 2020 2020 2020 2020 2020 2020 2265 6467              "edg
+0000edf0: 655f 636f 6c6f 7222 3a20 6563 6f6c 6f72  e_color": ecolor
+0000ee00: 2c0a 2020 2020 2020 2020 2020 2020 226c  ,.            "l
+0000ee10: 6179 6f75 7422 3a20 706f 732c 0a20 2020  ayout": pos,.   
+0000ee20: 2020 2020 2020 2020 2022 7061 6c65 7474           "palett
+0000ee30: 6522 3a20 7061 6c65 7474 652c 0a20 2020  e": palette,.   
+0000ee40: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
+0000ee50: 6772 6170 6820 3d20 6e65 7477 6f72 6b2e  graph = network.
+0000ee60: 6772 6170 680a 0a20 2020 2020 2020 2069  graph..        i
+0000ee70: 6620 7265 7374 7269 6374 5f65 6467 6573  f restrict_edges
+0000ee80: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
+0000ee90: 2020 2020 2020 2020 2020 6569 6473 2020            eids  
+0000eea0: 3d20 5b6e 6574 776f 726b 2e65 6467 655f  = [network.edge_
+0000eeb0: 6964 2865 2920 666f 7220 6520 696e 2072  id(e) for e in r
+0000eec0: 6573 7472 6963 745f 6564 6765 735d 0a20  estrict_edges]. 
+0000eed0: 2020 2020 2020 2020 2020 2067 7261 7068             graph
+0000eee0: 203d 206e 6574 776f 726b 2e67 7261 7068   = network.graph
+0000eef0: 2e73 7562 6772 6170 685f 6564 6765 7328  .subgraph_edges(
+0000ef00: 6569 6473 2c20 6465 6c65 7465 5f76 6572  eids, delete_ver
+0000ef10: 7469 6365 733d 4661 6c73 6529 0a0a 2020  tices=False)..  
+0000ef20: 2020 2020 2020 6966 2069 6776 203e 3d20        if igv >= 
+0000ef30: 6d69 6e5f 6967 5f76 6572 7369 6f6e 3a0a  min_ig_version:.
+0000ef40: 2020 2020 2020 2020 2020 2020 6967 7261              igra
+0000ef50: 7068 2e70 6c6f 7428 6772 6170 682c 2074  ph.plot(graph, t
+0000ef60: 6172 6765 743d 6178 6973 2c20 2a2a 7669  arget=axis, **vi
+0000ef70: 7375 616c 5f73 7479 6c65 290a 2020 2020  sual_style).    
+0000ef80: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+0000ef90: 2020 2020 2020 6772 6170 685f 6172 7469        graph_arti
+0000efa0: 7374 203d 2047 7261 7068 4172 7469 7374  st = GraphArtist
+0000efb0: 2867 7261 7068 2c20 6178 6973 2c20 2a2a  (graph, axis, **
+0000efc0: 7669 7375 616c 5f73 7479 6c65 290a 2020  visual_style).  
+0000efd0: 2020 2020 2020 2020 2020 6178 6973 2e61            axis.a
+0000efe0: 6464 5f61 7274 6973 7428 6772 6170 685f  dd_artist(graph_
+0000eff0: 6172 7469 7374 290a 0a20 2020 2069 6620  artist)..    if 
+0000f000: 2274 6974 6c65 2220 696e 206b 7761 7267  "title" in kwarg
+0000f010: 733a 0a20 2020 2020 2020 2061 7869 732e  s:.        axis.
+0000f020: 7365 745f 7469 746c 6528 6b77 6172 6773  set_title(kwargs
+0000f030: 5b22 7469 746c 6522 5d29 0a0a 2020 2020  ["title"])..    
+0000f040: 6966 2073 686f 773a 0a20 2020 2020 2020  if show:.       
+0000f050: 2070 6c74 2e73 686f 7728 290a 0a0a 6465   plt.show()...de
+0000f060: 6620 6368 6f72 645f 6469 6167 7261 6d28  f chord_diagram(
+0000f070: 6e65 7477 6f72 6b2c 2077 6569 6768 7473  network, weights
+0000f080: 3d54 7275 652c 206e 616d 6573 3d4e 6f6e  =True, names=Non
+0000f090: 652c 206f 7264 6572 3d4e 6f6e 652c 2077  e, order=None, w
+0000f0a0: 6964 7468 3d30 2e31 2c0a 2020 2020 2020  idth=0.1,.      
+0000f0b0: 2020 2020 2020 2020 2020 2020 7061 643d              pad=
+0000f0c0: 322e 2c20 6761 703d 302e 3033 2c20 6368  2., gap=0.03, ch
+0000f0d0: 6f72 6477 6964 7468 3d30 2e37 2c20 6178  ordwidth=0.7, ax
+0000f0e0: 6973 3d4e 6f6e 652c 2063 6f6c 6f72 733d  is=None, colors=
+0000f0f0: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
+0000f100: 2020 2020 2020 2020 636d 6170 3d4e 6f6e          cmap=Non
+0000f110: 652c 2061 6c70 6861 3d30 2e37 2c20 7573  e, alpha=0.7, us
+0000f120: 655f 6772 6164 6965 6e74 3d46 616c 7365  e_gradient=False
+0000f130: 2c20 6368 6f72 645f 636f 6c6f 7273 3d4e  , chord_colors=N
+0000f140: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+0000f150: 2020 2020 2020 2073 7461 7274 5f61 743d         start_at=
+0000f160: 302c 2065 7874 656e 743d 3336 302c 2064  0, extent=360, d
+0000f170: 6972 6563 7465 643d 4e6f 6e65 2c20 7368  irected=None, sh
+0000f180: 6f77 3d46 616c 7365 2c20 2a2a 6b77 6172  ow=False, **kwar
+0000f190: 6773 293a 0a20 2020 2022 2222 0a20 2020  gs):.    """.   
+0000f1a0: 2050 6c6f 7420 6120 6368 6f72 6420 6469   Plot a chord di
+0000f1b0: 6167 7261 6d2e 0a0a 2020 2020 5061 7261  agram...    Para
+0000f1c0: 6d65 7465 7273 0a20 2020 202d 2d2d 2d2d  meters.    -----
+0000f1d0: 2d2d 2d2d 2d0a 2020 2020 6e65 7477 6f72  -----.    networ
+0000f1e0: 6b20 3a20 6120 3a63 6c61 7373 3a60 6e6e  k : a :class:`nn
+0000f1f0: 6774 2e47 7261 7068 6020 6f62 6a65 6374  gt.Graph` object
+0000f200: 0a20 2020 2020 2020 204e 6574 776f 726b  .        Network
+0000f210: 2075 7365 6420 746f 2070 6c6f 7420 7468   used to plot th
+0000f220: 6520 6368 6f72 6420 6469 6167 7261 6d2e  e chord diagram.
+0000f230: 0a20 2020 2077 6569 6768 7473 203a 2062  .    weights : b
+0000f240: 6f6f 6c20 6f72 2073 7472 2c20 6f70 7469  ool or str, opti
+0000f250: 6f6e 616c 2028 6465 6661 756c 743a 2027  onal (default: '
+0000f260: 7765 6967 6874 2720 6174 7472 6962 7574  weight' attribut
+0000f270: 6529 0a20 2020 2020 2020 2057 6569 6768  e).        Weigh
+0000f280: 7473 2075 7365 6420 746f 2070 6c6f 7420  ts used to plot 
+0000f290: 7468 6520 636f 6e6e 6563 7469 6f6e 732e  the connections.
+0000f2a0: 0a20 2020 206e 616d 6573 203a 2073 7472  .    names : str
+0000f2b0: 206f 7220 6c69 7374 206f 6620 7374 722c   or list of str,
+0000f2c0: 206f 7074 696f 6e61 6c20 2864 6566 6175   optional (defau
+0000f2d0: 6c74 3a20 6e6f 206e 616d 6573 290a 2020  lt: no names).  
+0000f2e0: 2020 2020 2020 4e61 6d65 7320 6f66 2074        Names of t
+0000f2f0: 6865 206e 6f64 6573 2074 6861 7420 7769  he nodes that wi
+0000f300: 6c6c 2062 6520 6469 7370 6c61 7965 642c  ll be displayed,
+0000f310: 2065 6974 6865 7220 6120 6e6f 6465 2061   either a node a
+0000f320: 7474 7269 6275 7465 0a20 2020 2020 2020  ttribute.       
+0000f330: 206f 7220 6120 6375 7374 6f6d 206c 6973   or a custom lis
+0000f340: 7420 286d 7573 7420 6265 206f 7264 6572  t (must be order
+0000f350: 6564 2066 6f6c 6c6f 7769 6e67 2074 6865  ed following the
+0000f360: 206e 6f64 6573 2720 696e 6469 6365 7329   nodes' indices)
+0000f370: 2e0a 2020 2020 6f72 6465 7220 3a20 6c69  ..    order : li
+0000f380: 7374 2c20 6f70 7469 6f6e 616c 2028 6465  st, optional (de
+0000f390: 6661 756c 743a 206f 7264 6572 206f 6620  fault: order of 
+0000f3a0: 7468 6520 6d61 7472 6978 2065 6e74 7269  the matrix entri
+0000f3b0: 6573 290a 2020 2020 2020 2020 4f72 6465  es).        Orde
+0000f3c0: 7220 696e 2077 6869 6368 2074 6865 2061  r in which the a
+0000f3d0: 7263 7320 7368 6f75 6c64 2062 6520 706c  rcs should be pl
+0000f3e0: 6163 6564 2061 726f 756e 6420 7468 6520  aced around the 
+0000f3f0: 7472 6967 6f6e 6f6d 6574 7269 630a 2020  trigonometric.  
+0000f400: 2020 2020 2020 6369 7263 6c65 2e0a 2020        circle..  
+0000f410: 2020 7769 6474 6820 3a20 666c 6f61 742c    width : float,
+0000f420: 206f 7074 696f 6e61 6c20 2864 6566 6175   optional (defau
+0000f430: 6c74 3a20 302e 3129 0a20 2020 2020 2020  lt: 0.1).       
+0000f440: 2057 6964 7468 2f74 6869 636b 6e65 7373   Width/thickness
+0000f450: 206f 6620 7468 6520 6964 656f 6772 616d   of the ideogram
+0000f460: 2061 7263 2e0a 2020 2020 7061 6420 3a20   arc..    pad : 
+0000f470: 666c 6f61 742c 206f 7074 696f 6e61 6c20  float, optional 
+0000f480: 2864 6566 6175 6c74 3a20 3229 0a20 2020  (default: 2).   
+0000f490: 2020 2020 2044 6973 7461 6e63 6520 6265       Distance be
+0000f4a0: 7477 6565 6e20 7477 6f20 6e65 6967 6862  tween two neighb
+0000f4b0: 6f72 696e 6720 6964 656f 6772 616d 2061  oring ideogram a
+0000f4c0: 7263 732e 2055 6e69 743a 2064 6567 7265  rcs. Unit: degre
+0000f4d0: 652e 0a20 2020 2067 6170 203a 2066 6c6f  e..    gap : flo
+0000f4e0: 6174 2c20 6f70 7469 6f6e 616c 2028 6465  at, optional (de
+0000f4f0: 6661 756c 743a 2030 2e30 3329 0a20 2020  fault: 0.03).   
+0000f500: 2020 2020 2044 6973 7461 6e63 6520 6265       Distance be
+0000f510: 7477 6565 6e20 7468 6520 6172 6320 616e  tween the arc an
+0000f520: 6420 7468 6520 6265 6769 6e6e 696e 6720  d the beginning 
+0000f530: 6f66 2074 6865 2063 6f72 642e 0a20 2020  of the cord..   
+0000f540: 2063 686f 7264 7769 6474 6820 3a20 666c   chordwidth : fl
+0000f550: 6f61 742c 206f 7074 696f 6e61 6c20 2864  oat, optional (d
+0000f560: 6566 6175 6c74 3a20 302e 3729 0a20 2020  efault: 0.7).   
+0000f570: 2020 2020 2050 6f73 6974 696f 6e20 6f66       Position of
+0000f580: 2074 6865 2063 6f6e 7472 6f6c 2070 6f69   the control poi
+0000f590: 6e74 7320 666f 7220 7468 6520 6368 6f72  nts for the chor
+0000f5a0: 6473 2c20 636f 6e74 726f 6c6c 696e 6720  ds, controlling 
+0000f5b0: 7468 6569 7220 7368 6170 652e 0a20 2020  their shape..   
+0000f5c0: 2061 7869 7320 3a20 6d61 7470 6c6f 746c   axis : matplotl
+0000f5d0: 6962 2061 7869 732c 206f 7074 696f 6e61  ib axis, optiona
+0000f5e0: 6c20 2864 6566 6175 6c74 3a20 6e65 7720  l (default: new 
+0000f5f0: 6178 6973 290a 2020 2020 2020 2020 4d61  axis).        Ma
+0000f600: 7470 6c6f 746c 6962 2061 7869 7320 7768  tplotlib axis wh
+0000f610: 6572 6520 7468 6520 706c 6f74 2073 686f  ere the plot sho
+0000f620: 756c 6420 6265 2064 7261 776e 2e0a 2020  uld be drawn..  
+0000f630: 2020 636f 6c6f 7273 203a 206c 6973 742c    colors : list,
+0000f640: 206f 7074 696f 6e61 6c20 2864 6566 6175   optional (defau
+0000f650: 6c74 3a20 6672 6f6d 2060 636d 6170 6029  lt: from `cmap`)
+0000f660: 0a20 2020 2020 2020 204c 6973 7420 6f66  .        List of
+0000f670: 2075 7365 7220 6465 6669 6e65 6420 636f   user defined co
+0000f680: 6c6f 7273 206f 7220 666c 6f61 7473 2e0a  lors or floats..
+0000f690: 2020 2020 636d 6170 203a 2073 7472 206f      cmap : str o
+0000f6a0: 7220 636f 6c6f 726d 6170 206f 626a 6563  r colormap objec
+0000f6b0: 7420 2864 6566 6175 6c74 3a20 7669 7269  t (default: viri
+0000f6c0: 6469 7329 0a20 2020 2020 2020 2043 6f6c  dis).        Col
+0000f6d0: 6f72 6d61 7020 7468 6174 2077 696c 6c20  ormap that will 
+0000f6e0: 6265 2075 7365 6420 746f 2063 6f6c 6f72  be used to color
+0000f6f0: 2074 6865 2061 7263 7320 616e 6420 6368   the arcs and ch
+0000f700: 6f72 6473 2062 7920 6465 6661 756c 742e  ords by default.
+0000f710: 0a20 2020 2020 2020 2053 6565 2060 6368  .        See `ch
+0000f720: 6f72 645f 636f 6c6f 7273 6020 746f 2075  ord_colors` to u
+0000f730: 7365 2064 6966 6665 7265 6e74 2063 6f6c  se different col
+0000f740: 6f72 7320 666f 7220 6368 6f72 6473 2e0a  ors for chords..
+0000f750: 2020 2020 616c 7068 6120 3a20 666c 6f61      alpha : floa
+0000f760: 7420 696e 205b 302c 2031 5d2c 206f 7074  t in [0, 1], opt
+0000f770: 696f 6e61 6c20 2864 6566 6175 6c74 3a20  ional (default: 
+0000f780: 302e 3729 0a20 2020 2020 2020 204f 7061  0.7).        Opa
+0000f790: 6369 7479 206f 6620 7468 6520 6368 6f72  city of the chor
+0000f7a0: 6420 6469 6167 7261 6d2e 0a20 2020 2075  d diagram..    u
+0000f7b0: 7365 5f67 7261 6469 656e 7420 3a20 626f  se_gradient : bo
+0000f7c0: 6f6c 2c20 6f70 7469 6f6e 616c 2028 6465  ol, optional (de
+0000f7d0: 6661 756c 743a 2046 616c 7365 290a 2020  fault: False).  
+0000f7e0: 2020 2020 2020 5768 6574 6865 7220 6120        Whether a 
+0000f7f0: 6772 6164 6965 6e74 2073 686f 756c 6420  gradient should 
+0000f800: 6265 2075 7365 2073 6f20 7468 6174 2063  be use so that c
+0000f810: 686f 7264 2065 7874 7265 6d69 7469 6573  hord extremities
+0000f820: 2068 6176 6520 7468 650a 2020 2020 2020   have the.      
+0000f830: 2020 7361 6d65 2063 6f6c 6f72 2061 7320    same color as 
+0000f840: 7468 6520 6172 6320 7468 6579 2062 656c  the arc they bel
+0000f850: 6f6e 6720 746f 2e0a 2020 2020 6368 6f72  ong to..    chor
+0000f860: 645f 636f 6c6f 7273 203a 2073 7472 2c20  d_colors : str, 
+0000f870: 6f72 206c 6973 7420 6f66 2063 6f6c 6f72  or list of color
+0000f880: 732c 206f 7074 696f 6e61 6c20 2864 6566  s, optional (def
+0000f890: 6175 6c74 3a20 4e6f 6e65 290a 2020 2020  ault: None).    
+0000f8a0: 2020 2020 5370 6563 6966 7920 636f 6c6f      Specify colo
+0000f8b0: 7228 7329 2074 6f20 6669 6c6c 2074 6865  r(s) to fill the
+0000f8c0: 2063 686f 7264 7320 6469 6666 6572 656e   chords differen
+0000f8d0: 746c 7920 6672 6f6d 2074 6865 2061 7263  tly from the arc
+0000f8e0: 732e 0a20 2020 2020 2020 2057 6865 6e20  s..        When 
+0000f8f0: 7468 6520 6b65 7977 6f72 6420 6973 206e  the keyword is n
+0000f900: 6f74 2075 7365 642c 2063 686f 7264 2063  ot used, chord c
+0000f910: 6f6c 6f72 7320 6465 6661 756c 7420 746f  olors default to
+0000f920: 2074 6865 2063 6f6c 6f6d 6170 2067 6976   the colomap giv
+0000f930: 656e 0a20 2020 2020 2020 2062 7920 6063  en.        by `c
+0000f940: 6f6c 6f72 7360 2e0a 2020 2020 2020 2020  olors`..        
+0000f950: 506f 7373 6962 6c65 2076 616c 7565 7320  Possible values 
+0000f960: 666f 7220 6063 686f 7264 5f63 6f6c 6f72  for `chord_color
+0000f970: 7360 2061 7265 3a0a 0a20 2020 2020 2020  s` are:..       
+0000f980: 202a 2061 2073 696e 676c 6520 636f 6c6f   * a single colo
+0000f990: 7220 2864 6f20 6e6f 7420 7573 6520 616e  r (do not use an
+0000f9a0: 2052 4742 2074 7570 6c65 2c20 7573 6520   RGB tuple, use 
+0000f9b0: 6865 7820 666f 726d 6174 2069 6e73 7465  hex format inste
+0000f9c0: 6164 292c 0a20 2020 2020 2020 2020 2065  ad),.          e
+0000f9d0: 2e67 2e20 2272 6564 2220 6f72 2022 2366  .g. "red" or "#f
+0000f9e0: 6630 3030 3022 3b20 616c 6c20 6368 6f72  f0000"; all chor
+0000f9f0: 6473 2077 696c 6c20 6861 7665 2074 6869  ds will have thi
+0000fa00: 7320 636f 6c6f 720a 2020 2020 2020 2020  s color.        
+0000fa10: 2a20 6120 6c69 7374 206f 6620 636f 6c6f  * a list of colo
+0000fa20: 7273 2c20 652e 672e 2060 605b 2272 6564  rs, e.g. ``["red
+0000fa30: 222c 2022 6772 6565 6e22 2c20 2262 6c75  ", "green", "blu
+0000fa40: 6522 5d60 602c 206f 6e65 2070 6572 206e  e"]``, one per n
+0000fa50: 6f64 650a 2020 2020 2020 2020 2020 2869  ode.          (i
+0000fa60: 6e20 7468 6973 2063 6173 652c 2052 4742  n this case, RGB
+0000fa70: 2074 7570 6c65 7320 6172 6520 6163 6365   tuples are acce
+0000fa80: 7074 6564 2061 7320 656e 7472 6965 7320  pted as entries 
+0000fa90: 746f 2074 6865 206c 6973 7429 2e0a 2020  to the list)..  
+0000faa0: 2020 2020 2020 2020 4561 6368 2063 686f          Each cho
+0000fab0: 7264 2077 696c 6c20 6765 7420 6974 7320  rd will get its 
+0000fac0: 636f 6c6f 7220 6672 6f6d 2069 7473 2061  color from its a
+0000fad0: 7373 6f63 6961 7465 6420 736f 7572 6365  ssociated source
+0000fae0: 206e 6f64 652c 206f 720a 2020 2020 2020   node, or.      
+0000faf0: 2020 2020 6672 6f6d 2062 6f74 6820 6e6f      from both no
+0000fb00: 6465 7320 6966 2060 7573 655f 6772 6164  des if `use_grad
+0000fb10: 6965 6e74 6020 6973 2054 7275 652e 0a20  ient` is True.. 
+0000fb20: 2020 2073 7461 7274 5f61 7420 3a20 666c     start_at : fl
+0000fb30: 6f61 742c 206f 7074 696f 6e61 6c20 2864  oat, optional (d
+0000fb40: 6566 6175 6c74 203a 2030 290a 2020 2020  efault : 0).    
+0000fb50: 2020 2020 4c6f 6361 7469 6f6e 2c20 696e      Location, in
+0000fb60: 2064 6567 7265 6573 2c20 7768 6572 6520   degrees, where 
+0000fb70: 7468 6520 6469 6167 7261 6d20 7368 6f75  the diagram shou
+0000fb80: 6c64 2073 7461 7274 206f 6e20 7468 6520  ld start on the 
+0000fb90: 756e 6974 2063 6972 636c 652e 0a20 2020  unit circle..   
+0000fba0: 2020 2020 2044 6566 6175 6c74 2069 7320       Default is 
+0000fbb0: 746f 2073 7461 7274 2061 7420 3020 6465  to start at 0 de
+0000fbc0: 6772 6565 732c 2069 2e65 2e20 2878 2c20  grees, i.e. (x, 
+0000fbd0: 7929 203d 2028 312c 2030 2920 6f72 2033  y) = (1, 0) or 3
+0000fbe0: 206f 2763 6c6f 636b 292c 0a20 2020 2020   o'clock),.     
+0000fbf0: 2020 2061 6e64 206d 6f76 6520 636f 756e     and move coun
+0000fc00: 7465 722d 636c 6f63 6b77 6973 650a 2020  ter-clockwise.  
+0000fc10: 2020 6578 7465 6e74 203a 2066 6c6f 6174    extent : float
+0000fc20: 2c20 6f70 7469 6f6e 616c 2028 6465 6661  , optional (defa
+0000fc30: 756c 7420 3a20 3336 3029 0a20 2020 2020  ult : 360).     
+0000fc40: 2020 2054 6865 2061 6e67 756c 6172 2061     The angular a
+0000fc50: 7065 7274 7572 652c 2069 6e20 6465 6772  perture, in degr
+0000fc60: 6565 732c 206f 6620 7468 6520 6469 6167  ees, of the diag
+0000fc70: 7261 6d2e 0a20 2020 2020 2020 2044 6566  ram..        Def
+0000fc80: 6175 6c74 2069 7320 746f 2075 7365 2074  ault is to use t
+0000fc90: 6865 2077 686f 6c65 2063 6972 636c 652c  he whole circle,
+0000fca0: 2069 2e65 2e20 3336 3020 6465 6772 6565   i.e. 360 degree
+0000fcb0: 732c 2062 7574 2069 6e20 736f 6d65 2063  s, but in some c
+0000fcc0: 6173 6573 0a20 2020 2020 2020 2069 7420  ases.        it 
+0000fcd0: 6361 6e20 6265 2075 7365 6675 6c20 746f  can be useful to
+0000fce0: 2075 7365 206f 6e6c 7920 6120 7061 7274   use only a part
+0000fcf0: 206f 6620 6974 2e0a 2020 2020 6469 7265   of it..    dire
+0000fd00: 6374 6564 203a 2062 6f6f 6c2c 206f 7074  cted : bool, opt
+0000fd10: 696f 6e61 6c20 2864 6566 6175 6c74 3a20  ional (default: 
+0000fd20: 7361 6d65 2061 7320 6e65 7477 6f72 6b29  same as network)
+0000fd30: 0a20 2020 2020 2020 2057 6865 7468 6572  .        Whether
+0000fd40: 2074 6865 2063 686f 7264 7320 7368 6f75   the chords shou
+0000fd50: 6c64 2062 6520 6469 7265 6374 6564 2077  ld be directed w
+0000fd60: 6974 6820 6f6e 6520 7061 7274 206f 6620  ith one part of 
+0000fd70: 6561 6368 2061 7263 0a20 2020 2020 2020  each arc.       
+0000fd80: 2064 6564 6963 6174 6564 2074 6f20 6f75   dedicated to ou
+0000fd90: 7467 6f69 6e67 2063 686f 7264 7320 616e  tgoing chords an
+0000fda0: 6420 7468 6520 6f74 6865 7220 746f 2069  d the other to i
+0000fdb0: 6e63 6f6d 696e 6720 6f6e 6573 2e0a 2020  ncoming ones..  
+0000fdc0: 2020 7368 6f77 203a 2062 6f6f 6c2c 206f    show : bool, o
+0000fdd0: 7074 696f 6e61 6c20 2864 6566 6175 6c74  ptional (default
+0000fde0: 3a20 4661 6c73 6529 0a20 2020 2020 2020  : False).       
+0000fdf0: 2057 6865 7468 6572 2074 6865 2070 6c6f   Whether the plo
+0000fe00: 7420 7368 6f75 6c64 2062 6520 6469 7370  t should be disp
+0000fe10: 6c61 7965 6420 696d 6d65 6469 6174 656c  layed immediatel
+0000fe20: 7920 7669 6120 616e 2061 7574 6f6d 6174  y via an automat
+0000fe30: 6963 2063 616c 6c0a 2020 2020 2020 2020  ic call.        
+0000fe40: 746f 2060 706c 742e 7368 6f77 2829 602e  to `plt.show()`.
+0000fe50: 0a20 2020 206b 7761 7267 7320 3a20 6b65  .    kwargs : ke
+0000fe60: 7977 6f72 6420 6172 6775 6d65 6e74 730a  yword arguments.
+0000fe70: 2020 2020 2020 2020 4176 6169 6c61 626c          Availabl
+0000fe80: 6520 6b77 6172 6773 2061 7265 3a0a 0a20  e kwargs are:.. 
+0000fe90: 2020 2020 2020 203d 3d3d 3d3d 3d3d 3d3d         =========
+0000fea0: 3d3d 3d3d 3d3d 3d20 203d 3d3d 3d3d 3d3d  =======  =======
+0000feb0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d20 203d 3d3d  ===========  ===
+0000fec0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0000fed0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a20 2020  ============.   
+0000fee0: 2020 2020 2020 2020 2020 204e 616d 6520             Name 
+0000fef0: 2020 2020 2020 2020 2020 2020 2020 5479                Ty
+0000ff00: 7065 2020 2020 2020 2020 2020 2050 7572  pe           Pur
+0000ff10: 706f 7365 2061 6e64 2070 6f73 7369 626c  pose and possibl
+0000ff20: 6520 7661 6c75 6573 0a20 2020 2020 2020  e values.       
+0000ff30: 203d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d   ===============
+0000ff40: 3d20 203d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  =  =============
+0000ff50: 3d3d 3d3d 3d20 203d 3d3d 3d3d 3d3d 3d3d  =====  =========
+0000ff60: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0000ff70: 3d3d 3d3d 3d3d 0a20 2020 2020 2020 2066  ======.        f
+0000ff80: 6f6e 7463 6f6c 6f72 2020 2020 2020 2020  ontcolor        
+0000ff90: 2073 7472 206f 7220 6c69 7374 2020 2020   str or list    
+0000ffa0: 2020 2020 2043 6f6c 6f72 206f 6620 7468       Color of th
+0000ffb0: 6520 6e61 6d65 730a 2020 2020 2020 2020  e names.        
+0000ffc0: 666f 6e74 7369 7a65 2020 2020 2020 2020  fontsize        
+0000ffd0: 2020 696e 7420 2020 2020 2020 2020 2020    int           
+0000ffe0: 2020 2020 2020 5369 7a65 206f 6620 7468        Size of th
+0000fff0: 6520 666f 6e74 2066 6f72 206e 616d 6573  e font for names
+00010000: 0a20 2020 2020 2020 2072 6f74 6174 655f  .        rotate_
+00010010: 6e61 6d65 7320 2020 2020 2028 6c69 7374  names      (list
+00010020: 206f 6629 2062 6f6f 6c28 7329 2020 2052   of) bool(s)   R
+00010030: 6f74 6174 6520 6e61 6d65 7320 6279 2039  otate names by 9
+00010040: 30c2 b00a 2020 2020 2020 2020 736f 7274  0...        sort
+00010050: 2020 2020 2020 2020 2020 2020 2020 7374                st
+00010060: 7220 2020 2020 2020 2020 2020 2020 2020  r               
+00010070: 2020 4569 7468 6572 2022 7369 7a65 2220    Either "size" 
+00010080: 6f72 2022 6469 7374 616e 6365 220a 2020  or "distance".  
+00010090: 2020 2020 2020 7a65 726f 5f65 6e74 7279        zero_entry
+000100a0: 5f73 697a 6520 2020 666c 6f61 7420 2020  _size   float   
+000100b0: 2020 2020 2020 2020 2020 2020 5369 7a65              Size
+000100c0: 206f 6620 7a65 726f 2d77 6569 6768 7420   of zero-weight 
+000100d0: 7265 6369 7072 6f63 616c 0a20 2020 2020  reciprocal.     
+000100e0: 2020 203d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d     =============
+000100f0: 3d3d 3d20 203d 3d3d 3d3d 3d3d 3d3d 3d3d  ===  ===========
+00010100: 3d3d 3d3d 3d3d 3d20 203d 3d3d 3d3d 3d3d  =======  =======
+00010110: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00010120: 3d3d 3d3d 3d3d 3d3d 0a20 2020 2022 2222  ========.    """
+00010130: 0a20 2020 2077 7720 3d20 2777 6569 6768  .    ww = 'weigh
+00010140: 7427 2069 6620 7765 6967 6874 7320 6973  t' if weights is
+00010150: 2054 7275 6520 656c 7365 2077 6569 6768   True else weigh
+00010160: 7473 0a20 2020 206e 6e20 3d20 6e65 7477  ts.    nn = netw
+00010170: 6f72 6b2e 6e6f 6465 5f61 7474 7269 6275  ork.node_attribu
+00010180: 7465 735b 6e61 6d65 735d 2069 6620 6973  tes[names] if is
+00010190: 696e 7374 616e 6365 286e 616d 6573 2c20  instance(names, 
+000101a0: 7374 7229 2065 6c73 6520 6e61 6d65 730a  str) else names.
+000101b0: 0a20 2020 206d 6174 203d 206e 6574 776f  .    mat = netwo
+000101c0: 726b 2e61 646a 6163 656e 6379 5f6d 6174  rk.adjacency_mat
+000101d0: 7269 7828 7765 6967 6874 733d 7777 290a  rix(weights=ww).
+000101e0: 0a20 2020 2069 6620 6469 7265 6374 6564  .    if directed
+000101f0: 2069 7320 4e6f 6e65 3a0a 2020 2020 2020   is None:.      
+00010200: 2020 6469 7265 6374 6564 203d 206e 6574    directed = net
+00010210: 776f 726b 2e69 735f 6469 7265 6374 6564  work.is_directed
+00010220: 2829 0a0a 2020 2020 7265 7475 726e 205f  ()..    return _
+00010230: 6368 6f72 645f 6469 6167 280a 2020 2020  chord_diag(.    
+00010240: 2020 2020 6d61 742c 206e 6e2c 206f 7264      mat, nn, ord
+00010250: 6572 3d6f 7264 6572 2c20 7769 6474 683d  er=order, width=
+00010260: 7769 6474 682c 2070 6164 3d70 6164 2c20  width, pad=pad, 
+00010270: 6761 703d 6761 702c 0a20 2020 2020 2020  gap=gap,.       
+00010280: 2063 686f 7264 7769 6474 683d 6368 6f72   chordwidth=chor
+00010290: 6477 6964 7468 2c20 6178 3d61 7869 732c  dwidth, ax=axis,
+000102a0: 2063 6f6c 6f72 733d 636f 6c6f 7273 2c20   colors=colors, 
+000102b0: 636d 6170 3d63 6d61 702c 2061 6c70 6861  cmap=cmap, alpha
+000102c0: 3d61 6c70 6861 2c0a 2020 2020 2020 2020  =alpha,.        
+000102d0: 7573 655f 6772 6164 6965 6e74 3d75 7365  use_gradient=use
+000102e0: 5f67 7261 6469 656e 742c 2063 686f 7264  _gradient, chord
+000102f0: 5f63 6f6c 6f72 733d 6368 6f72 645f 636f  _colors=chord_co
+00010300: 6c6f 7273 2c20 7374 6172 745f 6174 3d73  lors, start_at=s
+00010310: 7461 7274 5f61 742c 0a20 2020 2020 2020  tart_at,.       
+00010320: 2065 7874 656e 743d 6578 7465 6e74 2c20   extent=extent, 
+00010330: 6469 7265 6374 6564 3d64 6972 6563 7465  directed=directe
+00010340: 642c 2073 686f 773d 7368 6f77 2c20 2a2a  d, show=show, **
+00010350: 6b77 6172 6773 290a 0a0a 2320 2d2d 2d2d  kwargs)...# ----
+00010360: 2d20 230a 2320 546f 6f6c 7320 230a 2320  - #.# Tools #.# 
+00010370: 2d2d 2d2d 2d20 230a 0a64 6566 205f 6e6f  ----- #..def _no
+00010380: 726d 5f73 697a 6528 7369 7a65 2c20 6d61  rm_size(size, ma
+00010390: 785f 7369 7a65 2c20 6d69 6e5f 7369 7a65  x_size, min_size
+000103a0: 293a 0a20 2020 2027 2727 204e 6f72 6d61  ):.    ''' Norma
+000103b0: 6c69 7a65 2074 6865 2073 697a 6520 6172  lize the size ar
+000103c0: 7261 7920 2727 270a 2020 2020 6d61 7873  ray '''.    maxs
+000103d0: 203d 206e 702e 6d61 7828 7369 7a65 290a   = np.max(size).
+000103e0: 2020 2020 6d69 6e73 203d 206e 702e 6d69      mins = np.mi
+000103f0: 6e28 7369 7a65 290a 0a20 2020 2069 6620  n(size)..    if 
+00010400: 6d69 6e5f 7369 7a65 2069 7320 4e6f 6e65  min_size is None
+00010410: 206f 7220 6d61 7873 203d 3d20 6d69 6e73   or maxs == mins
+00010420: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
+00010430: 2073 697a 6520 2a20 6d61 785f 7369 7a65   size * max_size
+00010440: 202f 206e 702e 6d61 7828 7369 7a65 290a   / np.max(size).
+00010450: 0a20 2020 2072 6574 7572 6e20 6d69 6e5f  .    return min_
+00010460: 7369 7a65 202b 2028 6d61 785f 7369 7a65  size + (max_size
+00010470: 202d 206d 696e 5f73 697a 6529 202a 2028   - min_size) * (
+00010480: 7369 7a65 202d 206d 696e 7329 202f 2028  size - mins) / (
+00010490: 6d61 7873 202d 206d 696e 7329 0a0a 0a64  maxs - mins)...d
+000104a0: 6566 205f 6e6f 6465 5f65 6467 655f 7368  ef _node_edge_sh
+000104b0: 6170 655f 7369 7a65 286e 6574 776f 726b  ape_size(network
+000104c0: 2c20 6e73 6861 7065 2c20 6e73 697a 652c  , nshape, nsize,
+000104d0: 206d 6178 5f6e 7369 7a65 2c20 6d69 6e5f   max_nsize, min_
+000104e0: 6e73 697a 652c 2065 7369 7a65 2c0a 2020  nsize, esize,.  
+000104f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010500: 2020 2020 2020 2020 6d61 785f 6573 697a          max_esiz
+00010510: 652c 206d 696e 5f65 7369 7a65 2c20 7265  e, min_esize, re
+00010520: 7374 7269 6374 5f6e 6f64 6573 2c20 6564  strict_nodes, ed
+00010530: 6765 732c 2073 697a 652c 0a20 2020 2020  ges, size,.     
+00010540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010550: 2020 2020 2074 6872 6573 686f 6c64 2c20       threshold, 
+00010560: 7369 6d70 6c65 5f6e 6f64 6573 3d46 616c  simple_nodes=Fal
+00010570: 7365 293a 0a20 2020 2027 2727 2052 6574  se):.    ''' Ret
+00010580: 7572 6e73 2074 6865 2073 6861 7065 2061  urns the shape a
+00010590: 6e64 2073 697a 6520 6f66 2074 6865 206e  nd size of the n
+000105a0: 6f64 6573 2061 6e64 2065 6467 6573 2027  odes and edges '
+000105b0: 2727 0a20 2020 206e 203d 206e 6574 776f  ''.    n = netwo
+000105c0: 726b 2e6e 6f64 655f 6e62 2829 2069 6620  rk.node_nb() if 
+000105d0: 7265 7374 7269 6374 5f6e 6f64 6573 2069  restrict_nodes i
+000105e0: 7320 4e6f 6e65 2065 6c73 6520 6c65 6e28  s None else len(
+000105f0: 7265 7374 7269 6374 5f6e 6f64 6573 290a  restrict_nodes).
+00010600: 2020 2020 6520 3d20 6c65 6e28 6564 6765      e = len(edge
+00010610: 7329 2069 6620 6564 6765 7320 6973 206e  s) if edges is n
+00010620: 6f74 204e 6f6e 6520 656c 7365 206e 6574  ot None else net
+00010630: 776f 726b 2e65 6467 655f 6e62 2829 0a0a  work.edge_nb()..
+00010640: 2020 2020 2320 6d61 726b 6572 730a 2020      # markers.  
+00010650: 2020 6d61 726b 6572 7320 3d20 6e73 6861    markers = nsha
+00010660: 7065 0a0a 2020 2020 6966 206e 6f6e 7374  pe..    if nonst
+00010670: 7269 6e67 5f63 6f6e 7461 696e 6572 286e  ring_container(n
+00010680: 7368 6170 6529 3a0a 2020 2020 2020 2020  shape):.        
+00010690: 6966 2069 7369 6e73 7461 6e63 6528 6e73  if isinstance(ns
+000106a0: 6861 7065 5b30 5d2c 206e 6e67 742e 4772  hape[0], nngt.Gr
+000106b0: 6f75 7029 3a0a 2020 2020 2020 2020 2020  oup):.          
+000106c0: 2020 2320 6368 6563 6b20 6469 736a 756e    # check disjun
+000106d0: 6374 696f 6e0a 2020 2020 2020 2020 2020  ction.          
+000106e0: 2020 666f 7220 692c 2067 2069 6e20 656e    for i, g in en
+000106f0: 756d 6572 6174 6528 6e73 6861 7065 293a  umerate(nshape):
+00010700: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00010710: 2066 6f72 206a 2069 6e20 7261 6e67 6528   for j in range(
+00010720: 6920 2b20 312c 206c 656e 286e 7368 6170  i + 1, len(nshap
+00010730: 6529 293a 0a20 2020 2020 2020 2020 2020  e)):.           
+00010740: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
+00010750: 7365 7428 672e 6964 7329 2e69 7364 6973  set(g.ids).isdis
+00010760: 6a6f 696e 7428 6e73 6861 7065 5b6a 5d2e  joint(nshape[j].
+00010770: 6964 7329 3a0a 2020 2020 2020 2020 2020  ids):.          
+00010780: 2020 2020 2020 2020 2020 2020 2020 7261                ra
+00010790: 6973 6520 5661 6c75 6545 7272 6f72 2822  ise ValueError("
+000107a0: 4772 6f75 7073 2070 6173 7365 6420 746f  Groups passed to
+000107b0: 2060 6e73 6861 7065 6020 220a 2020 2020   `nshape` ".    
+000107c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000107d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000107e0: 2020 2020 2022 6d75 7374 2062 6520 6469       "must be di
+000107f0: 736a 6f69 6e74 2e22 290a 0a20 2020 2020  sjoint.")..     
+00010800: 2020 2020 2020 206d 6d20 3d20 6379 636c         mm = cycl
+00010810: 6528 4d61 726b 6572 5374 796c 652e 6669  e(MarkerStyle.fi
+00010820: 6c6c 6564 5f6d 6172 6b65 7273 290a 0a20  lled_markers).. 
+00010830: 2020 2020 2020 2020 2020 2073 6861 7065             shape
+00010840: 7320 203d 206e 702e 6675 6c6c 286e 2c20  s  = np.full(n, 
+00010850: 2222 2c20 6474 7970 653d 6f62 6a65 6374  "", dtype=object
+00010860: 290a 0a20 2020 2020 2020 2020 2020 2069  )..            i
+00010870: 6620 7265 7374 7269 6374 5f6e 6f64 6573  f restrict_nodes
+00010880: 2069 7320 4e6f 6e65 3a0a 2020 2020 2020   is None:.      
+00010890: 2020 2020 2020 2020 2020 666f 7220 672c            for g,
+000108a0: 206d 2069 6e20 7a69 7028 6e73 6861 7065   m in zip(nshape
+000108b0: 2c20 6d6d 293a 0a20 2020 2020 2020 2020  , mm):.         
+000108c0: 2020 2020 2020 2020 2020 2073 6861 7065             shape
+000108d0: 735b 672e 6964 735d 203d 206d 0a20 2020  s[g.ids] = m.   
+000108e0: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+000108f0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00010900: 6f6e 7665 7274 6572 203d 207b 6e3a 2069  onverter = {n: i
+00010910: 2066 6f72 2069 2c20 6e20 696e 2065 6e75   for i, n in enu
+00010920: 6d65 7261 7465 2872 6573 7472 6963 745f  merate(restrict_
+00010930: 6e6f 6465 7329 7d0a 2020 2020 2020 2020  nodes)}.        
+00010940: 2020 2020 2020 2020 666f 7220 672c 206d          for g, m
+00010950: 2069 6e20 7a69 7028 6e73 6861 7065 2c20   in zip(nshape, 
+00010960: 6d6d 293a 0a20 2020 2020 2020 2020 2020  mm):.           
+00010970: 2020 2020 2020 2020 2069 6473 203d 205b           ids = [
+00010980: 636f 6e76 6572 7465 725b 6e5d 0a20 2020  converter[n].   
+00010990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000109a0: 2020 2020 2020 2020 666f 7220 6e20 696e          for n in
+000109b0: 2072 6573 7472 6963 745f 6e6f 6465 732e   restrict_nodes.
+000109c0: 696e 7465 7273 6563 7469 6f6e 2867 2e69  intersection(g.i
+000109d0: 6473 295d 0a20 2020 2020 2020 2020 2020  ds)].           
+000109e0: 2020 2020 2020 2020 2073 6861 7065 735b           shapes[
+000109f0: 6964 735d 203d 206d 0a0a 2020 2020 2020  ids] = m..      
+00010a00: 2020 2020 2020 6d61 726b 6572 7320 3d20        markers = 
+00010a10: 6c69 7374 2873 6861 7065 7329 0a20 2020  list(shapes).   
+00010a20: 2020 2020 2065 6c69 6620 6c65 6e28 6e73       elif len(ns
+00010a30: 6861 7065 2920 3d3d 206e 6574 776f 726b  hape) == network
+00010a40: 2e6e 6f64 655f 6e62 2829 2061 6e64 2072  .node_nb() and r
+00010a50: 6573 7472 6963 745f 6e6f 6465 7320 6973  estrict_nodes is
+00010a60: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
+00010a70: 2020 2020 2020 206d 6172 6b65 7273 203d         markers =
+00010a80: 206e 7368 6170 655b 6c69 7374 2872 6573   nshape[list(res
+00010a90: 7472 6963 745f 6e6f 6465 7329 5d0a 2020  trict_nodes)].  
+00010aa0: 2020 2020 2020 656c 6966 206c 656e 286e        elif len(n
+00010ab0: 7368 6170 6529 2021 3d20 6e3a 0a20 2020  shape) != n:.   
+00010ac0: 2020 2020 2020 2020 2072 6169 7365 2056           raise V
+00010ad0: 616c 7565 4572 726f 7228 2257 6865 6e20  alueError("When 
+00010ae0: 7061 7373 696e 6720 616e 2061 7272 6179  passing an array
+00010af0: 206f 6620 6d61 726b 6572 7320 746f 2022   of markers to "
+00010b00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00010b10: 2020 2020 2020 2020 2020 2020 2020 2260                "`
+00010b20: 6e73 6861 7065 602c 206f 6e65 2065 6e74  nshape`, one ent
+00010b30: 7279 2070 6572 206e 6f64 6520 696e 2074  ry per node in t
+00010b40: 6865 2022 0a20 2020 2020 2020 2020 2020  he ".           
+00010b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010b60: 2020 226e 6574 776f 726b 206d 7573 7420    "network must 
+00010b70: 6265 2070 726f 7669 6465 642e 2229 0a20  be provided."). 
+00010b80: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00010b90: 206d 6172 6b65 7273 203d 205b 6e73 6861   markers = [nsha
+00010ba0: 7065 2066 6f72 205f 2069 6e20 7261 6e67  pe for _ in rang
+00010bb0: 6528 6e29 5d0a 0a20 2020 2023 2073 697a  e(n)]..    # siz
+00010bc0: 650a 2020 2020 6966 2069 7369 6e73 7461  e.    if isinsta
+00010bd0: 6e63 6528 6e73 697a 652c 2073 7472 293a  nce(nsize, str):
+00010be0: 0a20 2020 2020 2020 2069 6620 653a 0a20  .        if e:. 
+00010bf0: 2020 2020 2020 2020 2020 206e 7369 7a65             nsize
+00010c00: 203d 205f 6e6f 6465 5f73 697a 6528 6e65   = _node_size(ne
+00010c10: 7477 6f72 6b2c 2072 6573 7472 6963 745f  twork, restrict_
+00010c20: 6e6f 6465 732c 206e 7369 7a65 290a 2020  nodes, nsize).  
+00010c30: 2020 2020 2020 2020 2020 6e73 697a 6520            nsize 
+00010c40: 3d20 5f6e 6f72 6d5f 7369 7a65 286e 7369  = _norm_size(nsi
+00010c50: 7a65 2c20 6d61 785f 6e73 697a 652c 206d  ze, max_nsize, m
+00010c60: 696e 5f6e 7369 7a65 290a 2020 2020 2020  in_nsize).      
+00010c70: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00010c80: 2020 2020 6e73 697a 6520 3d20 6e70 2e6f      nsize = np.o
+00010c90: 6e65 7328 6e2c 2064 7479 7065 3d66 6c6f  nes(n, dtype=flo
+00010ca0: 6174 290a 2020 2020 656c 6966 2069 7369  at).    elif isi
+00010cb0: 6e73 7461 6e63 6528 6e73 697a 652c 2028  nstance(nsize, (
+00010cc0: 666c 6f61 742c 2069 6e74 2c20 6e70 2e6e  float, int, np.n
+00010cd0: 756d 6265 7229 293a 0a20 2020 2020 2020  umber)):.       
+00010ce0: 206e 7369 7a65 203d 206e 702e 6675 6c6c   nsize = np.full
+00010cf0: 286e 2c20 6e73 697a 652c 2064 7479 7065  (n, nsize, dtype
+00010d00: 3d66 6c6f 6174 290a 2020 2020 656c 6966  =float).    elif
+00010d10: 206e 6f6e 7374 7269 6e67 5f63 6f6e 7461   nonstring_conta
+00010d20: 696e 6572 286e 7369 7a65 293a 0a20 2020  iner(nsize):.   
+00010d30: 2020 2020 2069 6620 6c65 6e28 6e73 697a       if len(nsiz
+00010d40: 6529 203d 3d20 6e3a 0a20 2020 2020 2020  e) == n:.       
+00010d50: 2020 2020 206e 7369 7a65 203d 205f 6e6f       nsize = _no
+00010d60: 726d 5f73 697a 6528 6e73 697a 652c 206d  rm_size(nsize, m
+00010d70: 6178 5f6e 7369 7a65 2c20 6d69 6e5f 6e73  ax_nsize, min_ns
+00010d80: 697a 6529 0a20 2020 2020 2020 2065 6c69  ize).        eli
+00010d90: 6620 6c65 6e28 6e73 697a 6529 203d 3d20  f len(nsize) == 
+00010da0: 6e65 7477 6f72 6b2e 6e6f 6465 5f6e 6228  network.node_nb(
+00010db0: 2920 616e 6420 7265 7374 7269 6374 5f6e  ) and restrict_n
+00010dc0: 6f64 6573 2069 7320 6e6f 7420 4e6f 6e65  odes is not None
+00010dd0: 3a0a 2020 2020 2020 2020 2020 2020 6e73  :.            ns
+00010de0: 697a 6520 3d20 6e70 2e61 7361 7272 6179  ize = np.asarray
+00010df0: 286e 7369 7a65 295b 6c69 7374 2872 6573  (nsize)[list(res
+00010e00: 7472 6963 745f 6e6f 6465 7329 5d0a 2020  trict_nodes)].  
+00010e10: 2020 2020 2020 2020 2020 6e73 697a 6520            nsize 
+00010e20: 3d20 5f6e 6f72 6d5f 7369 7a65 286e 7369  = _norm_size(nsi
+00010e30: 7a65 2c20 6d61 785f 6e73 697a 652c 206d  ze, max_nsize, m
+00010e40: 696e 5f6e 7369 7a65 290a 2020 2020 2020  in_nsize).      
+00010e50: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00010e60: 2020 2020 7261 6973 6520 5661 6c75 6545      raise ValueE
+00010e70: 7272 6f72 2822 606e 7369 7a65 6020 6d75  rror("`nsize` mu
+00010e80: 7374 2063 6f6e 7461 696e 2065 6974 6865  st contain eithe
+00010e90: 7220 6f6e 6520 656e 7472 7920 7065 7220  r one entry per 
+00010ea0: 6e6f 6465 2022 0a20 2020 2020 2020 2020  node ".         
+00010eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010ec0: 2020 2020 226f 7220 6265 2074 6865 2073      "or be the s
+00010ed0: 616d 6520 6c65 6e67 7468 2061 7320 6072  ame length as `r
+00010ee0: 6573 7472 6963 745f 6e6f 6465 7360 2e22  estrict_nodes`."
+00010ef0: 290a 0a20 2020 2069 6620 653a 0a20 2020  )..    if e:.   
+00010f00: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
+00010f10: 6365 2865 7369 7a65 2c20 7374 7229 3a0a  ce(esize, str):.
+00010f20: 2020 2020 2020 2020 2020 2020 6573 697a              esiz
+00010f30: 6520 3d20 5f65 6467 655f 7369 7a65 286e  e = _edge_size(n
+00010f40: 6574 776f 726b 2c20 6564 6765 732c 2065  etwork, edges, e
+00010f50: 7369 7a65 290a 2020 2020 2020 2020 2020  size).          
+00010f60: 2020 6573 697a 6520 3d20 5f6e 6f72 6d5f    esize = _norm_
+00010f70: 7369 7a65 2865 7369 7a65 2c20 6d61 785f  size(esize, max_
+00010f80: 6573 697a 652c 206d 696e 5f65 7369 7a65  esize, min_esize
+00010f90: 290a 2020 2020 2020 2020 2020 2020 6573  ).            es
+00010fa0: 697a 655b 6573 697a 6520 3c20 7468 7265  ize[esize < thre
+00010fb0: 7368 6f6c 645d 203d 2030 2e0a 2020 2020  shold] = 0..    
+00010fc0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00010fd0: 2020 2020 2020 6573 697a 6520 3d20 5f6e        esize = _n
+00010fe0: 6f72 6d5f 7369 7a65 2865 7369 7a65 2c20  orm_size(esize, 
+00010ff0: 6d61 785f 6573 697a 652c 206d 696e 5f65  max_esize, min_e
+00011000: 7369 7a65 290a 2020 2020 656c 7365 3a0a  size).    else:.
+00011010: 2020 2020 2020 2020 6573 697a 6520 3d20          esize = 
+00011020: 6e70 2e61 7272 6179 285b 5d29 0a0a 2020  np.array([])..  
+00011030: 2020 7265 7475 726e 206d 6172 6b65 7273    return markers
+00011040: 2c20 6e73 697a 652c 2065 7369 7a65 0a0a  , nsize, esize..
+00011050: 0a64 6566 205f 7365 745f 6178 5f6c 696d  .def _set_ax_lim
+00011060: 2861 782c 2078 6d61 782c 2078 6d69 6e2c  (ax, xmax, xmin,
+00011070: 2079 6d61 782c 2079 6d69 6e2c 2068 6569   ymax, ymin, hei
+00011080: 6768 742c 2077 6964 7468 2c20 786c 696d  ght, width, xlim
+00011090: 732c 2079 6c69 6d73 2c0a 2020 2020 2020  s, ylims,.      
+000110a0: 2020 2020 2020 2020 2020 6d61 785f 6e73            max_ns
+000110b0: 697a 652c 2066 6173 7429 3a0a 2020 2020  ize, fast):.    
+000110c0: 6966 2078 6c69 6d73 2069 7320 6e6f 7420  if xlims is not 
+000110d0: 4e6f 6e65 3a0a 2020 2020 2020 2020 6178  None:.        ax
+000110e0: 2e73 6574 5f78 6c69 6d28 2a78 6c69 6d73  .set_xlim(*xlims
+000110f0: 290a 2020 2020 656c 7365 3a0a 2020 2020  ).    else:.    
+00011100: 2020 2020 6478 203d 2030 2e30 352a 7769      dx = 0.05*wi
+00011110: 6474 6820 6966 2066 6173 7420 656c 7365  dth if fast else
+00011120: 2031 2e35 2a6d 6178 5f6e 7369 7a65 0a20   1.5*max_nsize. 
+00011130: 2020 2020 2020 2061 782e 7365 745f 786c         ax.set_xl
+00011140: 696d 2878 6d69 6e20 2d20 6478 2c20 786d  im(xmin - dx, xm
+00011150: 6178 202b 2064 7829 0a20 2020 2069 6620  ax + dx).    if 
+00011160: 796c 696d 7320 6973 206e 6f74 204e 6f6e  ylims is not Non
+00011170: 653a 0a20 2020 2020 2020 2061 782e 7365  e:.        ax.se
+00011180: 745f 796c 696d 282a 796c 696d 7329 0a20  t_ylim(*ylims). 
+00011190: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+000111a0: 2064 7920 3d20 302e 3035 2a68 6569 6768   dy = 0.05*heigh
+000111b0: 7420 6966 2066 6173 7420 656c 7365 2031  t if fast else 1
+000111c0: 2e35 2a6d 6178 5f6e 7369 7a65 0a20 2020  .5*max_nsize.   
+000111d0: 2020 2020 2061 782e 7365 745f 796c 696d       ax.set_ylim
+000111e0: 2879 6d69 6e20 2d20 6479 2c20 796d 6178  (ymin - dy, ymax
+000111f0: 202b 2064 7929 0a0a 0a64 6566 205f 6e6f   + dy)...def _no
+00011200: 6465 5f73 697a 6528 6e65 7477 6f72 6b2c  de_size(network,
+00011210: 2072 6573 7472 6963 745f 6e6f 6465 732c   restrict_nodes,
+00011220: 206e 7369 7a65 293a 0a20 2020 2072 6573   nsize):.    res
+00011230: 7472 6963 745f 6e6f 6465 7320 3d20 4e6f  trict_nodes = No
+00011240: 6e65 2069 6620 7265 7374 7269 6374 5f6e  ne if restrict_n
+00011250: 6f64 6573 2069 7320 4e6f 6e65 2065 6c73  odes is None els
+00011260: 6520 6c69 7374 2872 6573 7472 6963 745f  e list(restrict_
+00011270: 6e6f 6465 7329 0a0a 2020 2020 6e20 3d20  nodes)..    n = 
+00011280: 6e65 7477 6f72 6b2e 6e6f 6465 5f6e 6228  network.node_nb(
+00011290: 2920 6966 2072 6573 7472 6963 745f 6e6f  ) if restrict_no
+000112a0: 6465 7320 6973 204e 6f6e 6520 656c 7365  des is None else
+000112b0: 206c 656e 2872 6573 7472 6963 745f 6e6f   len(restrict_no
+000112c0: 6465 7329 0a0a 2020 2020 7369 7a65 203d  des)..    size =
+000112d0: 206e 702e 6f6e 6573 286e 2c20 6474 7970   np.ones(n, dtyp
+000112e0: 653d 666c 6f61 7429 0a0a 2020 2020 6966  e=float)..    if
+000112f0: 206e 7369 7a65 2069 6e20 6e65 7477 6f72   nsize in networ
+00011300: 6b2e 6e6f 6465 5f61 7474 7269 6275 7465  k.node_attribute
+00011310: 733a 0a20 2020 2020 2020 2073 697a 6520  s:.        size 
+00011320: 3d20 6e65 7477 6f72 6b2e 6765 745f 6e6f  = network.get_no
+00011330: 6465 5f61 7474 7269 6275 7465 7328 6e6f  de_attributes(no
+00011340: 6465 733d 7265 7374 7269 6374 5f6e 6f64  des=restrict_nod
+00011350: 6573 2c20 6e61 6d65 3d6e 7369 7a65 290a  es, name=nsize).
+00011360: 2020 2020 6966 2022 6465 6772 6565 2220      if "degree" 
+00011370: 696e 206e 7369 7a65 3a0a 2020 2020 2020  in nsize:.      
+00011380: 2020 6465 675f 7479 7065 203d 206e 7369    deg_type = nsi
+00011390: 7a65 5b3a 6e73 697a 652e 696e 6465 7828  ze[:nsize.index(
+000113a0: 222d 2229 5d0a 2020 2020 2020 2020 7369  "-")].        si
+000113b0: 7a65 203d 206e 6574 776f 726b 2e67 6574  ze = network.get
+000113c0: 5f64 6567 7265 6573 2864 6567 5f74 7970  _degrees(deg_typ
+000113d0: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+000113e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000113f0: 2020 2020 2020 6e6f 6465 733d 7265 7374        nodes=rest
+00011400: 7269 6374 5f6e 6f64 6573 292e 6173 7479  rict_nodes).asty
+00011410: 7065 2866 6c6f 6174 290a 2020 2020 2020  pe(float).      
+00011420: 2020 6966 206e 702e 6973 636c 6f73 6528    if np.isclose(
+00011430: 7369 7a65 2e6d 696e 2829 2c20 3029 3a0a  size.min(), 0):.
+00011440: 2020 2020 2020 2020 2020 2020 7369 7a65              size
+00011450: 5b6e 702e 6973 636c 6f73 6528 7369 7a65  [np.isclose(size
+00011460: 2c20 3029 5d20 3d20 302e 350a 2020 2020  , 0)] = 0.5.    
+00011470: 2020 2020 6966 2073 697a 652e 6d61 7828      if size.max(
+00011480: 2920 3e20 3135 2a73 697a 652e 6d69 6e28  ) > 15*size.min(
+00011490: 293a 0a20 2020 2020 2020 2020 2020 2073  ):.            s
+000114a0: 697a 6520 3d20 6e70 2e70 6f77 6572 2873  ize = np.power(s
+000114b0: 697a 652c 2030 2e34 290a 2020 2020 656c  ize, 0.4).    el
+000114c0: 6966 2022 7374 7265 6e67 7468 2220 696e  if "strength" in
+000114d0: 206e 7369 7a65 3a0a 2020 2020 2020 2020   nsize:.        
+000114e0: 6465 675f 7479 7065 203d 206e 7369 7a65  deg_type = nsize
+000114f0: 5b3a 6e73 697a 652e 696e 6465 7828 222d  [:nsize.index("-
+00011500: 2229 5d0a 2020 2020 2020 2020 7369 7a65  ")].        size
+00011510: 203d 206e 6574 776f 726b 2e67 6574 5f64   = network.get_d
+00011520: 6567 7265 6573 2864 6567 5f74 7970 652c  egrees(deg_type,
+00011530: 2077 6569 6768 7473 3d27 7765 6967 6874   weights='weight
+00011540: 272c 0a20 2020 2020 2020 2020 2020 2020  ',.             
+00011550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011560: 2020 2020 2020 6e6f 6465 733d 7265 7374        nodes=rest
+00011570: 7269 6374 5f6e 6f64 6573 290a 2020 2020  rict_nodes).    
+00011580: 2020 2020 6966 206e 702e 6973 636c 6f73      if np.isclos
+00011590: 6528 7369 7a65 2e6d 696e 2829 2c20 3029  e(size.min(), 0)
+000115a0: 3a0a 2020 2020 2020 2020 2020 2020 7369  :.            si
+000115b0: 7a65 5b6e 702e 6973 636c 6f73 6528 7369  ze[np.isclose(si
+000115c0: 7a65 2c20 3029 5d20 3d20 302e 350a 2020  ze, 0)] = 0.5.  
+000115d0: 2020 2020 2020 6966 2073 697a 652e 6d61        if size.ma
+000115e0: 7828 2920 3e20 3135 2a73 697a 652e 6d69  x() > 15*size.mi
+000115f0: 6e28 293a 0a20 2020 2020 2020 2020 2020  n():.           
+00011600: 2073 697a 6520 3d20 6e70 2e70 6f77 6572   size = np.power
+00011610: 2873 697a 652c 2030 2e34 290a 2020 2020  (size, 0.4).    
+00011620: 656c 6966 206e 7369 7a65 203d 3d20 2262  elif nsize == "b
+00011630: 6574 7765 656e 6e65 7373 223a 0a20 2020  etweenness":.   
+00011640: 2020 2020 2062 6574 7720 3d20 4e6f 6e65       betw = None
+00011650: 0a0a 2020 2020 2020 2020 6966 2072 6573  ..        if res
+00011660: 7472 6963 745f 6e6f 6465 7320 6973 204e  trict_nodes is N
+00011670: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+00011680: 2062 6574 7720 3d20 6e65 7477 6f72 6b2e   betw = network.
+00011690: 6765 745f 6265 7477 6565 6e6e 6573 7328  get_betweenness(
+000116a0: 226e 6f64 6522 292e 6173 7479 7065 2866  "node").astype(f
+000116b0: 6c6f 6174 290a 2020 2020 2020 2020 656c  loat).        el
+000116c0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+000116d0: 6265 7477 203d 206e 6574 776f 726b 2e67  betw = network.g
+000116e0: 6574 5f62 6574 7765 656e 6e65 7373 280a  et_betweenness(.
+000116f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011700: 226e 6f64 6522 292e 6173 7479 7065 2866  "node").astype(f
+00011710: 6c6f 6174 295b 7265 7374 7269 6374 5f6e  loat)[restrict_n
+00011720: 6f64 6573 5d0a 0a20 2020 2020 2020 2069  odes]..        i
+00011730: 6620 6e65 7477 6f72 6b2e 6973 5f63 6f6e  f network.is_con
+00011740: 6e65 6374 6564 2822 7765 616b 2229 203d  nected("weak") =
+00011750: 3d20 313a 0a20 2020 2020 2020 2020 2020  = 1:.           
+00011760: 2073 697a 6520 2a3d 2062 6574 770a 2020   size *= betw.  
+00011770: 2020 2020 2020 2020 2020 6966 2073 697a            if siz
+00011780: 652e 6d61 7828 2920 3e20 3135 2a73 697a  e.max() > 15*siz
+00011790: 652e 6d69 6e28 293a 0a20 2020 2020 2020  e.min():.       
+000117a0: 2020 2020 2020 2020 206d 696e 5f73 697a           min_siz
+000117b0: 6520 3d20 7369 7a65 5b73 697a 6521 3d30  e = size[size!=0
+000117c0: 5d2e 6d69 6e28 290a 2020 2020 2020 2020  ].min().        
+000117d0: 2020 2020 2020 2020 7369 7a65 5b73 697a          size[siz
+000117e0: 6520 3d3d 2030 2e5d 203d 206d 696e 5f73  e == 0.] = min_s
+000117f0: 697a 650a 2020 2020 2020 2020 2020 2020  ize.            
+00011800: 2020 2020 7369 7a65 203d 206e 702e 6c6f      size = np.lo
+00011810: 6728 7369 7a65 290a 2020 2020 2020 2020  g(size).        
+00011820: 2020 2020 2020 2020 6966 2073 697a 652e          if size.
+00011830: 6d69 6e28 293c 303a 0a20 2020 2020 2020  min()<0:.       
+00011840: 2020 2020 2020 2020 2020 2020 2073 697a               siz
+00011850: 6520 2d3d 2031 2e31 2a73 697a 652e 6d69  e -= 1.1*size.mi
+00011860: 6e28 290a 2020 2020 656c 6966 206e 7369  n().    elif nsi
+00011870: 7a65 203d 3d20 2263 6c75 7374 6572 696e  ze == "clusterin
+00011880: 6722 3a0a 2020 2020 2020 2020 7369 7a65  g":.        size
+00011890: 202a 3d20 6e6e 6774 2e61 6e61 6c79 7369   *= nngt.analysi
+000118a0: 732e 6c6f 6361 6c5f 636c 7573 7465 7269  s.local_clusteri
+000118b0: 6e67 286e 6574 776f 726b 2c20 6e6f 6465  ng(network, node
+000118c0: 733d 7265 7374 7269 6374 5f6e 6f64 6573  s=restrict_nodes
+000118d0: 290a 2020 2020 656c 6966 206e 7369 7a65  ).    elif nsize
+000118e0: 2069 6e20 6e6e 6774 2e61 6e61 6c79 7a65   in nngt.analyze
+000118f0: 5f67 7261 7068 3a0a 2020 2020 2020 2020  _graph:.        
+00011900: 6966 2072 6573 7472 6963 745f 6e6f 6465  if restrict_node
+00011910: 7320 6973 204e 6f6e 653a 0a20 2020 2020  s is None:.     
+00011920: 2020 2020 2020 2073 697a 6520 2a3d 206e         size *= n
+00011930: 6e67 742e 616e 616c 797a 655f 6772 6170  ngt.analyze_grap
+00011940: 685b 6e73 697a 655d 286e 6574 776f 726b  h[nsize](network
+00011950: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
+00011960: 2020 2020 2020 2020 2020 2020 7369 7a65              size
+00011970: 202a 3d20 6e6e 6774 2e61 6e61 6c79 7a65   *= nngt.analyze
+00011980: 5f67 7261 7068 5b6e 7369 7a65 5d28 6e65  _graph[nsize](ne
+00011990: 7477 6f72 6b29 5b72 6573 7472 6963 745f  twork)[restrict_
+000119a0: 6e6f 6465 735d 0a0a 2020 2020 6966 206e  nodes]..    if n
+000119b0: 702e 616e 7928 7369 7a65 293a 0a20 2020  p.any(size):.   
+000119c0: 2020 2020 2073 697a 6520 2f3d 2073 697a       size /= siz
+000119d0: 652e 6d61 7828 290a 0a20 2020 2072 6574  e.max()..    ret
+000119e0: 7572 6e20 7369 7a65 2e61 7374 7970 6528  urn size.astype(
+000119f0: 666c 6f61 7429 0a0a 0a64 6566 205f 6564  float)...def _ed
+00011a00: 6765 5f73 697a 6528 6e65 7477 6f72 6b2c  ge_size(network,
+00011a10: 2065 6467 6573 2c20 6573 697a 6529 3a0a   edges, esize):.
+00011a20: 2020 2020 6e75 6d5f 6564 6765 7320 3d20      num_edges = 
+00011a30: 6c65 6e28 6564 6765 7329 2069 6620 6564  len(edges) if ed
+00011a40: 6765 7320 6973 206e 6f74 204e 6f6e 6520  ges is not None 
+00011a50: 656c 7365 206e 6574 776f 726b 2e65 6467  else network.edg
+00011a60: 655f 6e62 2829 0a0a 2020 2020 7369 7a65  e_nb()..    size
+00011a70: 203d 206e 702e 7265 7065 6174 2831 2e2c   = np.repeat(1.,
+00011a80: 206e 756d 5f65 6467 6573 290a 0a20 2020   num_edges)..   
+00011a90: 2069 6620 6e75 6d5f 6564 6765 733a 0a20   if num_edges:. 
+00011aa0: 2020 2020 2020 206d 6178 5f73 697a 6520         max_size 
+00011ab0: 3d20 312e 0a0a 2020 2020 2020 2020 6966  = 1...        if
+00011ac0: 206e 6f6e 7374 7269 6e67 5f63 6f6e 7461   nonstring_conta
+00011ad0: 696e 6572 2865 7369 7a65 293a 0a20 2020  iner(esize):.   
+00011ae0: 2020 2020 2020 2020 206d 6178 5f73 697a           max_siz
+00011af0: 6520 3d20 6e70 2e6d 6178 2865 7369 7a65  e = np.max(esize
+00011b00: 290a 2020 2020 2020 2020 656c 6966 2065  ).        elif e
+00011b10: 7369 7a65 203d 3d20 2262 6574 7765 656e  size == "between
+00011b20: 6e65 7373 223a 0a20 2020 2020 2020 2020  ness":.         
+00011b30: 2020 2062 6574 7720 3d20 6e65 7477 6f72     betw = networ
+00011b40: 6b2e 6765 745f 6265 7477 6565 6e6e 6573  k.get_betweennes
+00011b50: 7328 2265 6467 6522 290a 0a20 2020 2020  s("edge")..     
+00011b60: 2020 2020 2020 206d 6178 5f73 697a 6520         max_size 
+00011b70: 3d20 6e70 2e6d 6178 2862 6574 7729 0a0a  = np.max(betw)..
+00011b80: 2020 2020 2020 2020 2020 2020 7369 7a65              size
+00011b90: 203d 2062 6574 7720 6966 2072 6573 7472   = betw if restr
+00011ba0: 6963 745f 6e6f 6465 7320 6973 204e 6f6e  ict_nodes is Non
+00011bb0: 6520 656c 7365 2062 6574 775b 7265 7374  e else betw[rest
+00011bc0: 7269 6374 5f6e 6f64 6573 5d0a 2020 2020  rict_nodes].    
+00011bd0: 2020 2020 656c 6966 2065 7369 7a65 203d      elif esize =
+00011be0: 3d20 2277 6569 6768 7422 3a0a 2020 2020  = "weight":.    
+00011bf0: 2020 2020 2020 2020 7369 7a65 203d 206e          size = n
+00011c00: 6574 776f 726b 2e67 6574 5f77 6569 6768  etwork.get_weigh
+00011c10: 7473 2865 6467 6573 3d65 6467 6573 290a  ts(edges=edges).
+00011c20: 0a20 2020 2020 2020 2020 2020 206d 6178  .            max
+00011c30: 5f73 697a 6520 3d20 6e70 2e6d 6178 286e  _size = np.max(n
+00011c40: 6574 776f 726b 2e67 6574 5f77 6569 6768  etwork.get_weigh
+00011c50: 7473 2829 290a 0a20 2020 2020 2020 2069  ts())..        i
+00011c60: 6620 6e70 2e61 6e79 2873 697a 6529 3a0a  f np.any(size):.
+00011c70: 2020 2020 2020 2020 2020 2020 7369 7a65              size
+00011c80: 202f 3d20 6d61 785f 7369 7a65 0a0a 2020   /= max_size..  
+00011c90: 2020 7265 7475 726e 2073 697a 650a 0a0a    return size...
+00011ca0: 6465 6620 5f6e 6f64 655f 636f 6c6f 7228  def _node_color(
+00011cb0: 6e65 7477 6f72 6b2c 2072 6573 7472 6963  network, restric
+00011cc0: 745f 6e6f 6465 732c 206e 636f 6c6f 722c  t_nodes, ncolor,
+00011cd0: 2064 6973 6372 6574 655f 636f 6c6f 7273   discrete_colors
+00011ce0: 3d46 616c 7365 293a 0a20 2020 2027 2727  =False):.    '''
+00011cf0: 0a20 2020 2052 6574 7572 6e20 616e 2061  .    Return an a
+00011d00: 7272 6179 206f 6620 636f 6c6f 7273 2c20  rray of colors, 
+00011d10: 6120 7365 7420 6f66 2074 6963 6b73 2c20  a set of ticks, 
+00011d20: 616e 6420 6120 6c61 6265 6c20 666f 7220  and a label for 
+00011d30: 7468 6520 636f 6c6f 7262 6172 0a20 2020  the colorbar.   
+00011d40: 206f 6620 7468 6520 6e6f 6465 7320 2869   of the nodes (i
+00011d50: 6620 6e65 6365 7373 6172 7929 2e0a 2020  f necessary)..  
+00011d60: 2020 2727 270a 2020 2020 636f 6c6f 7220    '''.    color 
+00011d70: 2020 2020 2020 203d 206e 636f 6c6f 720a         = ncolor.
+00011d80: 2020 2020 6e74 6963 6b73 2020 2020 2020      nticks      
+00011d90: 203d 204e 6f6e 650a 2020 2020 6e74 6963   = None.    ntic
+00011da0: 6b73 6c61 6265 6c73 203d 204e 6f6e 650a  kslabels = None.
+00011db0: 2020 2020 6e6c 6162 656c 2020 2020 2020      nlabel      
+00011dc0: 203d 2022 220a 0a20 2020 206e 203d 206e   = ""..    n = n
+00011dd0: 6574 776f 726b 2e6e 6f64 655f 6e62 2829  etwork.node_nb()
+00011de0: 2069 6620 7265 7374 7269 6374 5f6e 6f64   if restrict_nod
+00011df0: 6573 2069 7320 4e6f 6e65 2065 6c73 6520  es is None else 
+00011e00: 6c65 6e28 7265 7374 7269 6374 5f6e 6f64  len(restrict_nod
+00011e10: 6573 290a 0a20 2020 2069 6620 7265 7374  es)..    if rest
+00011e20: 7269 6374 5f6e 6f64 6573 2069 7320 6e6f  rict_nodes is no
+00011e30: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
+00011e40: 7265 7374 7269 6374 5f6e 6f64 6573 203d  restrict_nodes =
+00011e50: 206c 6973 7428 7365 7428 7265 7374 7269   list(set(restri
+00011e60: 6374 5f6e 6f64 6573 2929 0a0a 2020 2020  ct_nodes))..    
+00011e70: 6966 2069 7369 6e73 7461 6e63 6528 6e63  if isinstance(nc
+00011e80: 6f6c 6f72 2c20 666c 6f61 7429 3a0a 2020  olor, float):.  
+00011e90: 2020 2020 2020 636f 6c6f 7220 3d20 6e70        color = np
+00011ea0: 2e72 6570 6561 7428 6e63 6f6c 6f72 2c20  .repeat(ncolor, 
+00011eb0: 6e29 0a20 2020 2065 6c69 6620 6973 696e  n).    elif isin
+00011ec0: 7374 616e 6365 286e 636f 6c6f 722c 2073  stance(ncolor, s
+00011ed0: 7472 293a 0a20 2020 2020 2020 2069 6620  tr):.        if 
+00011ee0: 6e63 6f6c 6f72 2069 6e20 436f 6c6f 7243  ncolor in ColorC
+00011ef0: 6f6e 7665 7274 6572 2e63 6f6c 6f72 7320  onverter.colors 
+00011f00: 6f72 206e 636f 6c6f 722e 7374 6172 7473  or ncolor.starts
+00011f10: 7769 7468 2822 2322 293a 0a20 2020 2020  with("#"):.     
+00011f20: 2020 2020 2020 2063 6f6c 6f72 203d 206e         color = n
+00011f30: 702e 7265 7065 6174 286e 636f 6c6f 722c  p.repeat(ncolor,
+00011f40: 206e 290a 2020 2020 2020 2020 656c 6966   n).        elif
+00011f50: 2064 6973 6372 6574 655f 636f 6c6f 7273   discrete_colors
+00011f60: 3a0a 2020 2020 2020 2020 2020 2020 756e  :.            un
+00011f70: 6971 7565 203d 204e 6f6e 650a 2020 2020  ique = None.    
+00011f80: 2020 2020 2020 2020 7661 6c75 6573 203d          values =
+00011f90: 204e 6f6e 650a 0a20 2020 2020 2020 2020   None..         
+00011fa0: 2020 2069 6620 6e63 6f6c 6f72 203d 3d20     if ncolor == 
+00011fb0: 2267 726f 7570 2220 6f72 206e 636f 6c6f  "group" or ncolo
+00011fc0: 7220 3d3d 2022 6772 6f75 7073 223a 0a20  r == "groups":. 
+00011fd0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00011fe0: 6620 6e65 7477 6f72 6b2e 7374 7275 6374  f network.struct
+00011ff0: 7572 6520 6973 206e 6f74 204e 6f6e 653a  ure is not None:
+00012000: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00012010: 2020 2020 2075 6e69 7175 6520 3d20 736f       unique = so
+00012020: 7274 6564 286c 6973 7428 6e65 7477 6f72  rted(list(networ
+00012030: 6b2e 7374 7275 6374 7572 6529 290a 0a20  k.structure)).. 
+00012040: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012050: 2020 2069 6620 7265 7374 7269 6374 5f6e     if restrict_n
+00012060: 6f64 6573 2069 7320 4e6f 6e65 3a0a 2020  odes is None:.  
+00012070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012080: 2020 2020 2020 7661 6c75 6573 203d 206e        values = n
+00012090: 6574 776f 726b 2e73 7472 7563 7475 7265  etwork.structure
+000120a0: 2e67 6574 5f67 726f 7570 286c 6973 7428  .get_group(list(
+000120b0: 7261 6e67 6528 6e29 2929 0a20 2020 2020  range(n))).     
+000120c0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+000120d0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+000120e0: 2020 2020 2020 2020 2020 2020 2076 616c               val
+000120f0: 7565 7320 3d20 6e65 7477 6f72 6b2e 7374  ues = network.st
+00012100: 7275 6374 7572 652e 6765 745f 6772 6f75  ructure.get_grou
+00012110: 7028 7265 7374 7269 6374 5f6e 6f64 6573  p(restrict_nodes
+00012120: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00012130: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00012140: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00012150: 6520 5661 6c75 6545 7272 6f72 2822 5265  e ValueError("Re
+00012160: 7175 6573 7465 6420 636f 6c6f 7269 6e67  quested coloring
+00012170: 2062 7920 6772 6f75 7020 6275 7420 7468   by group but th
+00012180: 6520 220a 2020 2020 2020 2020 2020 2020  e ".            
+00012190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000121a0: 2020 2020 2020 2020 2022 6772 6170 6820           "graph 
+000121b0: 6861 7320 6e6f 2067 726f 7570 732e 2229  has no groups.")
+000121c0: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
+000121d0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+000121e0: 2020 2076 616c 7565 7320 3d20 6e65 7477     values = netw
+000121f0: 6f72 6b2e 6765 745f 6e6f 6465 5f61 7474  ork.get_node_att
+00012200: 7269 6275 7465 7328 0a20 2020 2020 2020  ributes(.       
+00012210: 2020 2020 2020 2020 2020 2020 206e 616d               nam
+00012220: 653d 6e63 6f6c 6f72 2c20 6e6f 6465 733d  e=ncolor, nodes=
+00012230: 7265 7374 7269 6374 5f6e 6f64 6573 290a  restrict_nodes).
+00012240: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00012250: 2075 6e69 7175 6520 3d20 736f 7274 6564   unique = sorted
+00012260: 286c 6973 7428 7365 7428 7661 6c75 6573  (list(set(values
+00012270: 2929 290a 0a20 2020 2020 2020 2020 2020  )))..           
+00012280: 2063 203d 206e 702e 6c69 6e73 7061 6365   c = np.linspace
+00012290: 2830 2c20 312c 206c 656e 2875 6e69 7175  (0, 1, len(uniqu
+000122a0: 6529 290a 0a20 2020 2020 2020 2020 2020  e))..           
+000122b0: 2063 6e76 7274 203d 207b 763a 2069 2066   cnvrt = {v: i f
+000122c0: 6f72 2069 2c20 7620 696e 2065 6e75 6d65  or i, v in enume
+000122d0: 7261 7465 2875 6e69 7175 6529 7d0a 0a20  rate(unique)}.. 
+000122e0: 2020 2020 2020 2020 2020 2063 6f6c 6f72             color
+000122f0: 203d 206e 702e 6172 7261 7928 5b63 5b63   = np.array([c[c
+00012300: 6e76 7274 5b76 5d5d 2066 6f72 2076 2069  nvrt[v]] for v i
+00012310: 6e20 7661 6c75 6573 5d29 0a0a 2020 2020  n values])..    
+00012320: 2020 2020 2020 2020 6e6c 6162 656c 2020          nlabel  
+00012330: 2020 2020 203d 2022 4e65 7572 6f6e 2067       = "Neuron g
+00012340: 726f 7570 7322 0a20 2020 2020 2020 2020  roups".         
+00012350: 2020 206e 7469 636b 7320 2020 2020 2020     nticks       
+00012360: 3d20 6c69 7374 2872 616e 6765 286c 656e  = list(range(len
+00012370: 2875 6e69 7175 6529 2929 0a20 2020 2020  (unique))).     
+00012380: 2020 2020 2020 206e 7469 636b 736c 6162         ntickslab
+00012390: 656c 7320 3d20 5b73 2e72 6570 6c61 6365  els = [s.replace
+000123a0: 2822 5f22 2c20 2220 2229 2066 6f72 2073  ("_", " ") for s
+000123b0: 2069 6e20 756e 6971 7565 5d0a 2020 2020   in unique].    
+000123c0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+000123d0: 2020 2020 2020 7661 6c75 6573 203d 204e        values = N
+000123e0: 6f6e 650a 0a20 2020 2020 2020 2020 2020  one..           
+000123f0: 2069 6620 2264 6567 7265 6522 2069 6e20   if "degree" in 
+00012400: 6e63 6f6c 6f72 3a0a 2020 2020 2020 2020  ncolor:.        
+00012410: 2020 2020 2020 2020 6474 7970 6520 2020          dtype   
+00012420: 3d20 6e63 6f6c 6f72 5b3a 6e63 6f6c 6f72  = ncolor[:ncolor
+00012430: 2e66 696e 6428 222d 2229 5d0a 2020 2020  .find("-")].    
+00012440: 2020 2020 2020 2020 2020 2020 7661 6c75              valu
+00012450: 6573 203d 206e 6574 776f 726b 2e67 6574  es = network.get
+00012460: 5f64 6567 7265 6573 2864 7479 7065 2c20  _degrees(dtype, 
+00012470: 6e6f 6465 733d 7265 7374 7269 6374 5f6e  nodes=restrict_n
+00012480: 6f64 6573 290a 2020 2020 2020 2020 2020  odes).          
+00012490: 2020 656c 6966 206e 636f 6c6f 7220 3d3d    elif ncolor ==
+000124a0: 2022 6265 7477 6565 6e6e 6573 7322 3a0a   "betweenness":.
 000124b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000124c0: 2020 2020 2020 2020 2020 2020 2022 6772               "gr
-000124d0: 6170 6820 6861 7320 6e6f 2067 726f 7570  aph has no group
-000124e0: 732e 2229 0a20 2020 2020 2020 2020 2020  s.").           
-000124f0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00012500: 2020 2020 2020 2076 616c 7565 7320 3d20         values = 
-00012510: 6e65 7477 6f72 6b2e 6765 745f 6e6f 6465  network.get_node
-00012520: 5f61 7474 7269 6275 7465 7328 0a20 2020  _attributes(.   
+000124c0: 6966 2072 6573 7472 6963 745f 6e6f 6465  if restrict_node
+000124d0: 7320 6973 204e 6f6e 653a 0a20 2020 2020  s is None:.     
+000124e0: 2020 2020 2020 2020 2020 2020 2020 2076                 v
+000124f0: 616c 7565 7320 3d20 6e65 7477 6f72 6b2e  alues = network.
+00012500: 6765 745f 6265 7477 6565 6e6e 6573 7328  get_betweenness(
+00012510: 226e 6f64 6522 290a 2020 2020 2020 2020  "node").        
+00012520: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
 00012530: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012540: 206e 616d 653d 6e63 6f6c 6f72 2c20 6e6f   name=ncolor, no
-00012550: 6465 733d 7265 7374 7269 6374 5f6e 6f64  des=restrict_nod
-00012560: 6573 290a 0a20 2020 2020 2020 2020 2020  es)..           
-00012570: 2020 2020 2075 6e69 7175 6520 3d20 736f       unique = so
-00012580: 7274 6564 286c 6973 7428 7365 7428 7661  rted(list(set(va
-00012590: 6c75 6573 2929 290a 0a20 2020 2020 2020  lues)))..       
-000125a0: 2020 2020 2063 203d 206e 702e 6c69 6e73       c = np.lins
-000125b0: 7061 6365 2830 2c20 312c 206c 656e 2875  pace(0, 1, len(u
-000125c0: 6e69 7175 6529 290a 0a20 2020 2020 2020  nique))..       
-000125d0: 2020 2020 2063 6e76 7274 203d 207b 763a       cnvrt = {v:
-000125e0: 2069 2066 6f72 2069 2c20 7620 696e 2065   i for i, v in e
-000125f0: 6e75 6d65 7261 7465 2875 6e69 7175 6529  numerate(unique)
-00012600: 7d0a 0a20 2020 2020 2020 2020 2020 2063  }..            c
-00012610: 6f6c 6f72 203d 206e 702e 6172 7261 7928  olor = np.array(
-00012620: 5b63 5b63 6e76 7274 5b76 5d5d 2066 6f72  [c[cnvrt[v]] for
-00012630: 2076 2069 6e20 7661 6c75 6573 5d29 0a0a   v in values])..
-00012640: 2020 2020 2020 2020 2020 2020 6e6c 6162              nlab
-00012650: 656c 2020 2020 2020 203d 2022 4e65 7572  el       = "Neur
-00012660: 6f6e 2067 726f 7570 7322 0a20 2020 2020  on groups".     
-00012670: 2020 2020 2020 206e 7469 636b 7320 2020         nticks   
-00012680: 2020 2020 3d20 6c69 7374 2872 616e 6765      = list(range
-00012690: 286c 656e 2875 6e69 7175 6529 2929 0a20  (len(unique))). 
-000126a0: 2020 2020 2020 2020 2020 206e 7469 636b             ntick
-000126b0: 736c 6162 656c 7320 3d20 5b73 2e72 6570  slabels = [s.rep
-000126c0: 6c61 6365 2822 5f22 2c20 2220 2229 2066  lace("_", " ") f
-000126d0: 6f72 2073 2069 6e20 756e 6971 7565 5d0a  or s in unique].
-000126e0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-000126f0: 2020 2020 2020 2020 2020 7661 6c75 6573            values
-00012700: 203d 204e 6f6e 650a 0a20 2020 2020 2020   = None..       
-00012710: 2020 2020 2069 6620 2264 6567 7265 6522       if "degree"
-00012720: 2069 6e20 6e63 6f6c 6f72 3a0a 2020 2020   in ncolor:.    
-00012730: 2020 2020 2020 2020 2020 2020 6474 7970              dtyp
-00012740: 6520 2020 3d20 6e63 6f6c 6f72 5b3a 6e63  e   = ncolor[:nc
-00012750: 6f6c 6f72 2e66 696e 6428 222d 2229 5d0a  olor.find("-")].
-00012760: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012770: 7661 6c75 6573 203d 206e 6574 776f 726b  values = network
-00012780: 2e67 6574 5f64 6567 7265 6573 2864 7479  .get_degrees(dty
-00012790: 7065 2c20 6e6f 6465 733d 7265 7374 7269  pe, nodes=restri
-000127a0: 6374 5f6e 6f64 6573 290a 2020 2020 2020  ct_nodes).      
-000127b0: 2020 2020 2020 656c 6966 206e 636f 6c6f        elif ncolo
-000127c0: 7220 3d3d 2022 6265 7477 6565 6e6e 6573  r == "betweennes
-000127d0: 7322 3a0a 2020 2020 2020 2020 2020 2020  s":.            
-000127e0: 2020 2020 6966 2072 6573 7472 6963 745f      if restrict_
-000127f0: 6e6f 6465 7320 6973 204e 6f6e 653a 0a20  nodes is None:. 
-00012800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012810: 2020 2076 616c 7565 7320 3d20 6e65 7477     values = netw
-00012820: 6f72 6b2e 6765 745f 6265 7477 6565 6e6e  ork.get_betweenn
-00012830: 6573 7328 226e 6f64 6522 290a 2020 2020  ess("node").    
-00012840: 2020 2020 2020 2020 2020 2020 656c 7365              else
-00012850: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00012860: 2020 2020 2020 7661 6c75 6573 203d 206e        values = n
-00012870: 6574 776f 726b 2e67 6574 5f62 6574 7765  etwork.get_betwe
-00012880: 656e 6e65 7373 280a 2020 2020 2020 2020  enness(.        
-00012890: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000128a0: 226e 6f64 6522 295b 7265 7374 7269 6374  "node")[restrict
-000128b0: 5f6e 6f64 6573 5d0a 2020 2020 2020 2020  _nodes].        
-000128c0: 2020 2020 656c 6966 206e 636f 6c6f 7220      elif ncolor 
-000128d0: 696e 206e 6574 776f 726b 2e6e 6f64 655f  in network.node_
-000128e0: 6174 7472 6962 7574 6573 3a0a 2020 2020  attributes:.    
-000128f0: 2020 2020 2020 2020 2020 2020 7661 6c75              valu
-00012900: 6573 203d 206e 6574 776f 726b 2e67 6574  es = network.get
-00012910: 5f6e 6f64 655f 6174 7472 6962 7574 6573  _node_attributes
-00012920: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-00012930: 2020 2020 2020 6e61 6d65 3d6e 636f 6c6f        name=ncolo
-00012940: 722c 206e 6f64 6573 3d72 6573 7472 6963  r, nodes=restric
-00012950: 745f 6e6f 6465 7329 0a20 2020 2020 2020  t_nodes).       
-00012960: 2020 2020 2065 6c69 6620 6e63 6f6c 6f72       elif ncolor
-00012970: 203d 3d20 2263 6c75 7374 6572 696e 6722   == "clustering"
-00012980: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00012990: 2020 7661 6c75 6573 203d 206e 6e67 742e    values = nngt.
-000129a0: 616e 616c 7973 6973 2e6c 6f63 616c 5f63  analysis.local_c
-000129b0: 6c75 7374 6572 696e 6728 0a20 2020 2020  lustering(.     
-000129c0: 2020 2020 2020 2020 2020 2020 2020 206e                 n
-000129d0: 6574 776f 726b 2c20 6e6f 6465 733d 7265  etwork, nodes=re
-000129e0: 7374 7269 6374 5f6e 6f64 6573 290a 2020  strict_nodes).  
-000129f0: 2020 2020 2020 2020 2020 656c 6966 206e            elif n
-00012a00: 636f 6c6f 7220 696e 206e 6e67 742e 616e  color in nngt.an
-00012a10: 616c 797a 655f 6772 6170 683a 0a20 2020  alyze_graph:.   
-00012a20: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00012a30: 7265 7374 7269 6374 5f6e 6f64 6573 2069  restrict_nodes i
-00012a40: 7320 4e6f 6e65 3a0a 2020 2020 2020 2020  s None:.        
-00012a50: 2020 2020 2020 2020 2020 2020 7661 6c75              valu
-00012a60: 6573 203d 206e 6e67 742e 616e 616c 797a  es = nngt.analyz
-00012a70: 655f 6772 6170 685b 6e63 6f6c 6f72 5d28  e_graph[ncolor](
-00012a80: 6e65 7477 6f72 6b29 0a20 2020 2020 2020  network).       
-00012a90: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-00012aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012ab0: 2020 2076 616c 7565 7320 3d20 6e6e 6774     values = nngt
-00012ac0: 2e61 6e61 6c79 7a65 5f67 7261 7068 5b6e  .analyze_graph[n
-00012ad0: 636f 6c6f 725d 280a 2020 2020 2020 2020  color](.        
-00012ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012af0: 6e65 7477 6f72 6b29 5b72 6573 7472 6963  network)[restric
-00012b00: 745f 6e6f 6465 735d 0a20 2020 2020 2020  t_nodes].       
-00012b10: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00012b20: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-00012b30: 2052 756e 7469 6d65 4572 726f 7228 2249   RuntimeError("I
-00012b40: 6e76 616c 6964 2060 6e63 6f6c 6f72 603a  nvalid `ncolor`:
-00012b50: 207b 7d2e 222e 666f 726d 6174 286e 636f   {}.".format(nco
-00012b60: 6c6f 7229 290a 0a20 2020 2020 2020 2020  lor))..         
-00012b70: 2020 2069 6620 7661 6c75 6573 2069 7320     if values is 
-00012b80: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
-00012b90: 2020 2020 2020 2020 2020 766d 696e 2c20            vmin, 
-00012ba0: 766d 6178 203d 206e 702e 6d69 6e28 7661  vmax = np.min(va
-00012bb0: 6c75 6573 292c 206e 702e 6d61 7828 7661  lues), np.max(va
-00012bc0: 6c75 6573 290a 2020 2020 2020 2020 2020  lues).          
-00012bd0: 2020 2020 2020 636f 6c6f 7220 3d20 7661        color = va
-00012be0: 6c75 6573 0a0a 2020 2020 2020 2020 2020  lues..          
-00012bf0: 2020 2020 2020 6e6c 6162 656c 203d 2022        nlabel = "
-00012c00: 4e6f 6465 2022 202b 206e 636f 6c6f 722e  Node " + ncolor.
-00012c10: 7265 706c 6163 6528 225f 222c 2022 2022  replace("_", " "
-00012c20: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00012c30: 2020 7365 7476 616c 203d 2073 6574 2876    setval = set(v
-00012c40: 616c 7565 7329 0a20 2020 2020 2020 2020  alues).         
-00012c50: 2020 2020 2020 2069 6620 6c65 6e28 7365         if len(se
-00012c60: 7476 616c 2920 3c3d 2031 303a 0a20 2020  tval) <= 10:.   
-00012c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012c80: 206e 7469 636b 7320 3d20 6c69 7374 2873   nticks = list(s
-00012c90: 6574 7661 6c29 0a20 2020 2020 2020 2020  etval).         
-00012ca0: 2020 2020 2020 2020 2020 206e 7469 636b             ntick
-00012cb0: 732e 736f 7274 2829 0a20 2020 2020 2020  s.sort().       
-00012cc0: 2020 2020 2020 2020 2020 2020 206e 7469               nti
-00012cd0: 636b 736c 6162 656c 7320 3d20 6e74 6963  ckslabels = ntic
-00012ce0: 6b73 0a20 2020 2020 2020 2020 2020 2020  ks.             
-00012cf0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00012d00: 2020 2020 2020 2020 2020 2020 206e 7469               nti
-00012d10: 636b 7320 2020 2020 2020 3d20 6e70 2e6c  cks       = np.l
-00012d20: 696e 7370 6163 6528 766d 696e 2c20 766d  inspace(vmin, vm
-00012d30: 6178 2c20 3130 290a 2020 2020 2020 2020  ax, 10).        
-00012d40: 2020 2020 2020 2020 2020 2020 6e74 6963              ntic
-00012d50: 6b73 6c61 6265 6c73 203d 206e 7469 636b  kslabels = ntick
-00012d60: 730a 2020 2020 656c 7365 3a0a 2020 2020  s.    else:.    
-00012d70: 2020 2020 6e6c 6162 656c 2020 3d20 2243      nlabel  = "C
-00012d80: 7573 746f 6d20 6e6f 6465 2063 6f6c 6f72  ustom node color
-00012d90: 7322 0a20 2020 2020 2020 2075 6e69 7175  s".        uniqu
-00012da0: 6573 203d 206e 702e 756e 6971 7565 286e  es = np.unique(n
-00012db0: 636f 6c6f 722c 2061 7869 733d 3029 0a20  color, axis=0). 
-00012dc0: 2020 2020 2020 2069 6620 6c65 6e28 756e         if len(un
-00012dd0: 6971 7565 7329 203c 3d20 3130 3a0a 2020  iques) <= 10:.  
-00012de0: 2020 2020 2020 2020 2020 6e74 6963 6b73            nticks
-00012df0: 203d 2075 6e69 7175 6573 0a20 2020 2020   = uniques.     
-00012e00: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00012e10: 2020 2020 206e 7469 636b 7320 3d20 6e70       nticks = np
-00012e20: 2e6c 696e 7370 6163 6528 6e70 2e6d 696e  .linspace(np.min
-00012e30: 286e 636f 6c6f 7229 2c20 6e70 2e6d 6178  (ncolor), np.max
-00012e40: 286e 636f 6c6f 7229 2c20 3130 290a 2020  (ncolor), 10).  
-00012e50: 2020 2020 2020 6e74 6963 6b73 6c61 6265        ntickslabe
-00012e60: 6c73 203d 206e 7469 636b 730a 0a20 2020  ls = nticks..   
-00012e70: 2072 6574 7572 6e20 636f 6c6f 722c 206e   return color, n
-00012e80: 7469 636b 732c 206e 7469 636b 736c 6162  ticks, ntickslab
-00012e90: 656c 732c 206e 6c61 6265 6c0a 0a0a 6465  els, nlabel...de
-00012ea0: 6620 5f65 6467 655f 7072 6f70 286e 6574  f _edge_prop(net
-00012eb0: 776f 726b 2c20 7661 6c75 6529 3a0a 2020  work, value):.  
-00012ec0: 2020 7072 6f70 203d 2076 616c 7565 0a0a    prop = value..
-00012ed0: 2020 2020 656e 756d 203d 206e 6574 776f      enum = netwo
-00012ee0: 726b 2e65 6467 655f 6e62 2829 0a0a 2020  rk.edge_nb()..  
-00012ef0: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
-00012f00: 7661 6c75 652c 2073 7472 2920 616e 6420  value, str) and 
-00012f10: 7661 6c75 6520 6e6f 7420 696e 2043 6f6c  value not in Col
-00012f20: 6f72 436f 6e76 6572 7465 722e 636f 6c6f  orConverter.colo
-00012f30: 7273 3a0a 2020 2020 2020 2020 6966 2076  rs:.        if v
-00012f40: 616c 7565 2069 6e20 6e65 7477 6f72 6b2e  alue in network.
-00012f50: 6564 6765 5f61 7474 7269 6275 7465 733a  edge_attributes:
-00012f60: 0a20 2020 2020 2020 2020 2020 2063 6f6c  .            col
-00012f70: 6f72 203d 206e 6574 776f 726b 2e65 6467  or = network.edg
-00012f80: 655f 6174 7472 6962 7574 6573 5b76 616c  e_attributes[val
-00012f90: 7565 5d0a 2020 2020 2020 2020 656c 6966  ue].        elif
-00012fa0: 2076 616c 7565 203d 3d20 2262 6574 7765   value == "betwe
-00012fb0: 656e 6e65 7373 223a 0a20 2020 2020 2020  enness":.       
-00012fc0: 2020 2020 2070 726f 7020 3d20 6e65 7477       prop = netw
-00012fd0: 6f72 6b2e 6765 745f 6265 7477 6565 6e6e  ork.get_betweenn
-00012fe0: 6573 7328 2265 6467 6522 290a 2020 2020  ess("edge").    
-00012ff0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00013000: 2020 2020 2020 7261 6973 6520 5275 6e74        raise Runt
-00013010: 696d 6545 7272 6f72 2822 496e 7661 6c69  imeError("Invali
-00013020: 6420 6076 616c 7565 603a 207b 7d2e 222e  d `value`: {}.".
-00013030: 666f 726d 6174 2876 616c 7565 2929 0a0a  format(value))..
-00013040: 2020 2020 7265 7475 726e 2070 726f 700a      return prop.
-00013050: 0a0a 6465 6620 5f64 6973 6372 6574 655f  ..def _discrete_
-00013060: 636d 6170 284e 2c20 6261 7365 5f63 6d61  cmap(N, base_cma
-00013070: 703d 4e6f 6e65 2c20 6469 7363 7265 7465  p=None, discrete
-00013080: 3d46 616c 7365 293a 0a20 2020 2027 2727  =False):.    '''
-00013090: 0a20 2020 2043 7265 6174 6520 616e 204e  .    Create an N
-000130a0: 2d62 696e 2064 6973 6372 6574 6520 636f  -bin discrete co
-000130b0: 6c6f 726d 6170 2066 726f 6d20 7468 6520  lormap from the 
-000130c0: 7370 6563 6966 6965 6420 696e 7075 7420  specified input 
-000130d0: 6d61 700a 0a20 2020 2050 6172 616d 6574  map..    Paramet
-000130e0: 6572 730a 2020 2020 2d2d 2d2d 2d2d 2d2d  ers.    --------
-000130f0: 2d2d 0a20 2020 204e 203a 206e 756d 6265  --.    N : numbe
-00013100: 7220 6f66 2076 616c 7565 730a 2020 2020  r of values.    
-00013110: 6261 7365 5f63 6d61 7020 3a20 7374 722c  base_cmap : str,
-00013120: 204e 6f6e 652c 206f 7220 636d 6170 206f   None, or cmap o
-00013130: 626a 6563 740a 2020 2020 636c 6973 7420  bject.    clist 
-00013140: 3a20 6c69 7374 206f 6620 636f 6c6f 7273  : list of colors
-00013150: 0a0a 2020 2020 2320 4d6f 6469 6669 6564  ..    # Modified
-00013160: 2066 726f 6d20 4a61 6b65 2056 616e 6465   from Jake Vande
-00013170: 7250 6c61 730a 2020 2020 2320 4c69 6365  rPlas.    # Lice
-00013180: 6e73 653a 2042 5344 2d73 7479 6c65 0a20  nse: BSD-style. 
-00013190: 2020 2027 2727 0a20 2020 2062 6173 6520     '''.    base 
-000131a0: 3d20 6765 745f 636d 6170 2862 6173 655f  = get_cmap(base_
-000131b0: 636d 6170 2c20 4e29 0a0a 2020 2020 636f  cmap, N)..    co
-000131c0: 6c6f 725f 6c69 7374 203d 2062 6173 6528  lor_list = base(
-000131d0: 6e70 2e61 7261 6e67 6528 4e29 290a 2020  np.arange(N)).  
-000131e0: 2020 636d 6170 5f6e 616d 6520 3d20 6261    cmap_name = ba
-000131f0: 7365 2e6e 616d 6520 2b20 7374 7228 4e29  se.name + str(N)
-00013200: 0a0a 2020 2020 7472 793a 0a20 2020 2020  ..    try:.     
-00013210: 2020 2072 6574 7572 6e20 6261 7365 2e66     return base.f
-00013220: 726f 6d5f 6c69 7374 2863 6d61 705f 6e61  rom_list(cmap_na
-00013230: 6d65 2c20 636f 6c6f 725f 6c69 7374 2c20  me, color_list, 
-00013240: 4e29 0a20 2020 2065 7863 6570 743a 0a20  N).    except:. 
-00013250: 2020 2020 2020 2072 6574 7572 6e20 4c69         return Li
-00013260: 7374 6564 436f 6c6f 726d 6170 2863 6f6c  stedColormap(col
-00013270: 6f72 5f6c 6973 742c 2063 6d61 705f 6e61  or_list, cmap_na
-00013280: 6d65 2c20 4e3d 4e29 0a0a 0a64 6566 205f  me, N=N)...def _
-00013290: 636f 6e76 6572 745f 746f 5f6e 6f64 6573  convert_to_nodes
-000132a0: 286e 6f64 655f 7265 7374 7269 6374 696f  (node_restrictio
-000132b0: 6e2c 206e 616d 652c 206e 6574 776f 726b  n, name, network
-000132c0: 293a 0a20 2020 2069 6620 6e6f 6e73 7472  ):.    if nonstr
-000132d0: 696e 675f 636f 6e74 6169 6e65 7228 6e6f  ing_container(no
-000132e0: 6465 5f72 6573 7472 6963 7469 6f6e 293a  de_restriction):
-000132f0: 0a20 2020 2020 2020 2069 6620 6973 696e  .        if isin
-00013300: 7374 616e 6365 286e 6f64 655f 7265 7374  stance(node_rest
-00013310: 7269 6374 696f 6e5b 305d 2c20 7374 7229  riction[0], str)
-00013320: 3a0a 2020 2020 2020 2020 2020 2020 6173  :.            as
-00013330: 7365 7274 206e 6574 776f 726b 2e73 7472  sert network.str
-00013340: 7563 7475 7265 2069 7320 6e6f 7420 4e6f  ucture is not No
-00013350: 6e65 2c20 5c0a 2020 2020 2020 2020 2020  ne, \.          
-00013360: 2020 2020 2020 2260 2220 2b20 6e61 6d65        "`" + name
-00013370: 202b 2022 6020 6361 6e20 6265 2073 7472   + "` can be str
-00013380: 696e 6720 6f6e 6c79 2066 6f72 204e 6574  ing only for Net
-00013390: 776f 726b 206f 7220 6772 6170 6820 2220  work or graph " 
-000133a0: 5c0a 2020 2020 2020 2020 2020 2020 2020  \.              
-000133b0: 2020 2277 6974 6820 6120 6073 7472 7563    "with a `struc
-000133c0: 7475 7265 602e 220a 2020 2020 2020 2020  ture`.".        
-000133d0: 2020 2020 6964 7320 3d20 7365 7428 290a      ids = set().
-000133e0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-000133f0: 6e61 6d65 2069 6e20 6e6f 6465 5f72 6573  name in node_res
-00013400: 7472 6963 7469 6f6e 3a0a 2020 2020 2020  triction:.      
-00013410: 2020 2020 2020 2020 2020 6964 732e 7570            ids.up
-00013420: 6461 7465 286e 6574 776f 726b 2e73 7472  date(network.str
-00013430: 7563 7475 7265 5b6e 616d 655d 2e69 6473  ucture[name].ids
-00013440: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
-00013450: 7475 726e 2069 6473 0a20 2020 2020 2020  turn ids.       
-00013460: 2065 6c69 6620 6973 696e 7374 616e 6365   elif isinstance
-00013470: 286e 6f64 655f 7265 7374 7269 6374 696f  (node_restrictio
-00013480: 6e5b 305d 2c20 6e6e 6774 2e47 726f 7570  n[0], nngt.Group
-00013490: 293a 0a20 2020 2020 2020 2020 2020 2069  ):.            i
-000134a0: 6473 203d 2073 6574 2829 0a20 2020 2020  ds = set().     
-000134b0: 2020 2020 2020 2066 6f72 2067 2069 6e20         for g in 
-000134c0: 6e6f 6465 5f72 6573 7472 6963 7469 6f6e  node_restriction
-000134d0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000134e0: 2020 6964 732e 7570 6461 7465 2867 2e69    ids.update(g.i
-000134f0: 6473 290a 2020 2020 2020 2020 2020 2020  ds).            
-00013500: 7265 7475 726e 2069 6473 0a0a 2020 2020  return ids..    
-00013510: 2020 2020 7265 7475 726e 2073 6574 286e      return set(n
-00013520: 6f64 655f 7265 7374 7269 6374 696f 6e29  ode_restriction)
-00013530: 0a20 2020 2065 6c69 6620 6973 696e 7374  .    elif isinst
-00013540: 616e 6365 286e 6f64 655f 7265 7374 7269  ance(node_restri
-00013550: 6374 696f 6e2c 2073 7472 293a 0a20 2020  ction, str):.   
-00013560: 2020 2020 2061 7373 6572 7420 6e65 7477       assert netw
-00013570: 6f72 6b2e 6973 5f6e 6574 776f 726b 2829  ork.is_network()
-00013580: 2c20 5c0a 2020 2020 2020 2020 2020 2020  , \.            
-00013590: 2260 2220 2b20 6e61 6d65 202b 2022 6020  "`" + name + "` 
-000135a0: 6361 6e20 6265 2073 7472 696e 6720 6f6e  can be string on
-000135b0: 6c79 2066 6f72 204e 6574 776f 726b 2e22  ly for Network."
-000135c0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-000135d0: 7365 7428 6e65 7477 6f72 6b2e 7374 7275  set(network.stru
-000135e0: 6374 7572 655b 6e6f 6465 5f72 6573 7472  cture[node_restr
-000135f0: 6963 7469 6f6e 5d2e 6964 7329 0a20 2020  iction].ids).   
-00013600: 2065 6c69 6620 6973 696e 7374 616e 6365   elif isinstance
-00013610: 286e 6f64 655f 7265 7374 7269 6374 696f  (node_restrictio
-00013620: 6e2c 206e 6e67 742e 4772 6f75 7029 3a0a  n, nngt.Group):.
-00013630: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-00013640: 6574 286e 6f64 655f 7265 7374 7269 6374  et(node_restrict
-00013650: 696f 6e2e 6964 7329 0a20 2020 2065 6c69  ion.ids).    eli
-00013660: 6620 6e6f 6465 5f72 6573 7472 6963 7469  f node_restricti
-00013670: 6f6e 2069 7320 6e6f 7420 4e6f 6e65 3a0a  on is not None:.
-00013680: 2020 2020 2020 2020 7261 6973 6520 5661          raise Va
-00013690: 6c75 6545 7272 6f72 280a 2020 2020 2020  lueError(.      
-000136a0: 2020 2020 2020 2249 6e76 616c 6964 2060        "Invalid `
-000136b0: 2220 2b20 6e61 6d65 202b 2022 603a 2027  " + name + "`: '
-000136c0: 7b7d 2722 2e66 6f72 6d61 7428 6e6f 6465  {}'".format(node
-000136d0: 5f72 6573 7472 6963 7469 6f6e 2929 0a0a  _restriction))..
-000136e0: 2020 2020 7265 7475 726e 206e 6f64 655f      return node_
-000136f0: 7265 7374 7269 6374 696f 6e0a 0a0a 6465  restriction...de
-00013700: 6620 5f63 7573 746f 6d5f 6172 726f 7773  f _custom_arrows
-00013710: 2873 6f75 7263 6573 2c20 7461 7267 6574  (sources, target
-00013720: 732c 2061 6e67 6c65 293a 0a20 2020 2072  s, angle):.    r
-00013730: 2727 270a 2020 2020 4372 6561 7465 2061  '''.    Create a
-00013740: 2063 7572 7665 6420 6172 726f 7720 6265   curved arrow be
-00013750: 7477 6565 6e20 6073 6f75 7263 6560 2061  tween `source` a
-00013760: 6e64 2060 7461 7267 6574 6020 6173 2074  nd `target` as t
-00013770: 6865 2063 6f6d 6269 6e61 7469 6f6e 206f  he combination o
-00013780: 660a 2020 2020 7468 6520 6172 6320 6f66  f.    the arc of
-00013790: 2061 2063 6972 636c 6520 616e 6420 6120   a circle and a 
-000137a0: 7472 6961 6e67 6c65 2e0a 0a20 2020 2054  triangle...    T
-000137b0: 6865 2069 6e69 7469 616c 2061 6e64 2066  he initial and f
-000137c0: 696e 616c 2061 6e67 6c65 2024 5c61 6c70  inal angle $\alp
-000137d0: 6861 2420 6265 7477 6565 6e20 7468 6520  ha$ between the 
-000137e0: 736f 7572 6365 2d74 6172 6765 7420 6c69  source-target li
-000137f0: 6e65 2061 6e64 0a20 2020 2074 6865 2061  ne and.    the a
-00013800: 7272 6f77 2069 7320 6c69 6e6b 6564 2074  rrow is linked t
-00013810: 6f20 7468 6520 7261 6469 7573 206f 6620  o the radius of 
-00013820: 7468 6520 6369 7263 6c65 2c20 2472 2420  the circle, $r$ 
-00013830: 616e 6420 7468 6520 6469 7374 616e 6365  and the distance
-00013840: 2024 6424 0a20 2020 2062 6574 7765 656e   $d$.    between
-00013850: 2074 6865 2070 6f69 6e74 733a 0a0a 2020   the points:..  
-00013860: 2020 2e2e 206d 6174 683a 3a20 7220 3d20    .. math:: r = 
-00013870: 5c66 7261 637b 647d 7b32 205c 6364 6f74  \frac{d}{2 \cdot
-00013880: 205c 7461 6e28 5c61 6c70 6861 297d 0a0a   \tan(\alpha)}..
-00013890: 2020 2020 5468 6520 6265 6769 6e6e 696e      The beginnin
-000138a0: 6720 616e 6420 7468 6520 656e 6420 6f66  g and the end of
-000138b0: 2074 6865 2061 7263 2061 7265 2067 6976   the arc are giv
-000138c0: 656e 2074 6872 6f75 6768 2069 6e69 7469  en through initi
-000138d0: 616c 2061 6e64 2066 696e 616c 0a20 2020  al and final.   
-000138e0: 2061 6e67 6c65 732c 2072 6573 7065 6374   angles, respect
-000138f0: 6976 656c 7920 245c 7468 6574 615f 3124  ively $\theta_1$
-00013900: 2061 6e64 2024 5c74 6865 7461 5f32 242c   and $\theta_2$,
-00013910: 2077 6869 6368 2061 7265 2067 6976 656e   which are given
-00013920: 2077 6974 680a 2020 2020 7265 7370 6563   with.    respec
-00013930: 7420 746f 2074 6865 2079 2d61 7869 733b  t to the y-axis;
-00013940: 2054 6869 7320 6c65 6164 7320 746f 2024   This leads to $
-00013950: 5c61 6c70 6861 203d 2030 2e35 285c 7468  \alpha = 0.5(\th
-00013960: 6574 615f 3120 2d20 5c74 6865 7461 5f32  eta_1 - \theta_2
-00013970: 2924 2e0a 2020 2020 2727 270a 2020 2020  )$..    '''.    
-00013980: 2320 636f 6d70 7574 6520 7468 6520 6469  # compute the di
-00013990: 7374 616e 6365 7320 6265 7477 6565 6e20  stances between 
-000139a0: 7468 6520 706f 696e 7473 0a20 2020 2070  the points.    p
-000139b0: 6173 730a 2020 2020 237e 2023 2063 6f6d  ass.    #~ # com
-000139c0: 7075 7465 2074 6865 2072 6164 6975 7320  pute the radius 
-000139d0: 616e 6420 7468 6520 706f 7369 7469 6f6e  and the position
-000139e0: 206f 6620 7468 6520 6365 6e74 6572 206f   of the center o
-000139f0: 6620 7468 6520 6369 7263 6c65 0a0a 2020  f the circle..  
-00013a00: 2020 237e 2023 3d3d 3d3d 3d3d 3d3d 4c69    #~ #========Li
-00013a10: 6e65 0a20 2020 2023 7e20 6172 6320 3d20  ne.    #~ arc = 
-00013a20: 4172 6328 5b63 656e 7458 2c63 656e 7459  Arc([centX,centY
-00013a30: 5d2c 7261 6469 7573 2c72 6164 6975 732c  ],radius,radius,
-00013a40: 616e 676c 653d 616e 676c 655f 2c0a 2020  angle=angle_,.  
-00013a50: 2020 2020 2020 2020 237e 2074 6865 7461          #~ theta
-00013a60: 313d 302c 7468 6574 6132 3d74 6865 7461  1=0,theta2=theta
-00013a70: 325f 2c63 6170 7374 796c 653d 2772 6f75  2_,capstyle='rou
-00013a80: 6e64 272c 6c69 6e65 7374 796c 653d 272d  nd',linestyle='-
-00013a90: 272c 6c77 3d31 302c 636f 6c6f 723d 636f  ',lw=10,color=co
-00013aa0: 6c6f 725f 290a 2020 2020 237e 2061 782e  lor_).    #~ ax.
-00013ab0: 6164 645f 7061 7463 6828 6172 6329 0a0a  add_patch(arc)..
-00013ac0: 0a20 2020 2023 7e20 233d 3d3d 3d3d 3d3d  .    #~ #=======
-00013ad0: 3d43 7265 6174 6520 7468 6520 6172 726f  =Create the arro
-00013ae0: 7720 6865 6164 0a20 2020 2023 7e20 656e  w head.    #~ en
-00013af0: 6458 3d63 656e 7458 2b28 7261 6469 7573  dX=centX+(radius
-00013b00: 2f32 292a 6e70 2e63 6f73 2872 6164 2874  /2)*np.cos(rad(t
-00013b10: 6865 7461 325f 2b61 6e67 6c65 5f29 2920  heta2_+angle_)) 
-00013b20: 2344 6f20 7472 6967 2074 6f20 6465 7465  #Do trig to dete
-00013b30: 726d 696e 6520 656e 6420 706f 7369 7469  rmine end positi
-00013b40: 6f6e 0a20 2020 2023 7e20 656e 6459 3d63  on.    #~ endY=c
-00013b50: 656e 7459 2b28 7261 6469 7573 2f32 292a  entY+(radius/2)*
-00013b60: 6e70 2e73 696e 2872 6164 2874 6865 7461  np.sin(rad(theta
-00013b70: 325f 2b61 6e67 6c65 5f29 290a 0a20 2020  2_+angle_))..   
-00013b80: 2023 7e20 6178 2e61 6464 5f70 6174 6368   #~ ax.add_patch
-00013b90: 2820 2020 2020 2020 2020 2020 2020 2020  (               
-00013ba0: 2020 2020 2023 4372 6561 7465 2074 7269       #Create tri
-00013bb0: 616e 676c 6520 6173 2061 7272 6f77 2068  angle as arrow h
-00013bc0: 6561 640a 2020 2020 2020 2020 237e 2052  ead.        #~ R
-00013bd0: 6567 756c 6172 506f 6c79 676f 6e28 0a20  egularPolygon(. 
-00013be0: 2020 2020 2020 2020 2020 2023 7e20 2865             #~ (e
-00013bf0: 6e64 582c 2065 6e64 5929 2c20 2020 2020  ndX, endY),     
-00013c00: 2020 2020 2020 2023 2028 782c 7929 0a20         # (x,y). 
-00013c10: 2020 2020 2020 2020 2020 2023 7e20 332c             #~ 3,
-00013c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013c30: 2020 2020 2020 2023 206e 756d 6265 7220         # number 
-00013c40: 6f66 2076 6572 7469 6365 730a 2020 2020  of vertices.    
-00013c50: 2020 2020 2020 2020 237e 2072 6164 6975          #~ radiu
-00013c60: 732f 392c 2020 2020 2020 2020 2020 2020  s/9,            
-00013c70: 2020 2020 2320 7261 6469 7573 0a20 2020      # radius.   
-00013c80: 2020 2020 2020 2020 2023 7e20 7261 6428           #~ rad(
-00013c90: 616e 676c 655f 2b74 6865 7461 325f 292c  angle_+theta2_),
-00013ca0: 2020 2020 2023 206f 7269 656e 7461 7469       # orientati
-00013cb0: 6f6e 0a20 2020 2020 2020 2020 2020 2023  on.            #
-00013cc0: 7e20 636f 6c6f 723d 636f 6c6f 725f 0a20  ~ color=color_. 
-00013cd0: 2020 2020 2020 2023 7e20 290a 2020 2020         #~ ).    
-00013ce0: 237e 2029 0a0a 0a64 6566 205f 746f 5f69  #~ )...def _to_i
-00013cf0: 675f 636f 6c6f 7228 636f 6c6f 7229 3a0a  g_color(color):.
-00013d00: 2020 2020 696d 706f 7274 2069 6772 6170      import igrap
-00013d10: 6820 6173 2069 670a 0a20 2020 2069 6620  h as ig..    if 
-00013d20: 6973 696e 7374 616e 6365 2863 6f6c 6f72  isinstance(color
-00013d30: 2c20 7374 7229 2061 6e64 2063 6f6c 6f72  , str) and color
-00013d40: 206e 6f74 2069 6e20 6967 2e6b 6e6f 776e   not in ig.known
-00013d50: 5f63 6f6c 6f72 733a 0a20 2020 2020 2020  _colors:.       
-00013d60: 2063 6f6c 6f72 203d 2073 7472 2843 6f6c   color = str(Col
-00013d70: 6f72 436f 6e76 6572 7465 722e 746f 5f72  orConverter.to_r
-00013d80: 6762 2863 6f6c 6f72 2929 5b31 3a2d 315d  gb(color))[1:-1]
-00013d90: 0a20 2020 2065 6c69 6620 6e6f 6e73 7472  .    elif nonstr
-00013da0: 696e 675f 636f 6e74 6169 6e65 7228 636f  ing_container(co
-00013db0: 6c6f 7229 2061 6e64 206c 656e 2863 6f6c  lor) and len(col
-00013dc0: 6f72 293a 0a20 2020 2020 2020 2023 206e  or):.        # n
-00013dd0: 6565 6420 746f 2063 6f6e 7665 7274 2066  eed to convert f
-00013de0: 6c6f 6174 696e 6720 706f 696e 7420 636f  loating point co
-00013df0: 6c6f 7273 2074 6f20 5b30 2c20 3235 355d  lors to [0, 255]
-00013e00: 2069 6e74 6567 6572 730a 2020 2020 2020   integers.      
-00013e10: 2020 6966 2069 735f 696e 7465 6765 7228    if is_integer(
-00013e20: 636f 6c6f 725b 305d 2920 6f72 2069 7369  color[0]) or isi
-00013e30: 6e73 7461 6e63 6528 636f 6c6f 725b 305d  nstance(color[0]
-00013e40: 2c20 666c 6f61 7429 3a0a 2020 2020 2020  , float):.      
-00013e50: 2020 2020 2020 766d 696e 203d 206e 702e        vmin = np.
-00013e60: 6d69 6e28 636f 6c6f 7229 0a20 2020 2020  min(color).     
-00013e70: 2020 2020 2020 2076 6d61 7820 3d20 6e70         vmax = np
-00013e80: 2e6d 6178 2863 6f6c 6f72 290a 2020 2020  .max(color).    
-00013e90: 2020 2020 2020 2020 7669 6e74 203d 2076          vint = v
-00013ea0: 6d61 7820 2d20 766d 696e 0a20 2020 2020  max - vmin.     
-00013eb0: 2020 2020 2020 2069 6620 7669 6e74 203e         if vint >
-00013ec0: 2030 3a0a 2020 2020 2020 2020 2020 2020   0:.            
-00013ed0: 2020 2020 636f 6c6f 7220 3d20 5b69 6e74      color = [int
-00013ee0: 2832 3535 202a 2028 7620 2d20 766d 696e  (255 * (v - vmin
-00013ef0: 2920 2f20 7669 6e74 2920 666f 7220 7620  ) / vint) for v 
-00013f00: 696e 2063 6f6c 6f72 5d0a 2020 2020 2020  in color].      
-00013f10: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00013f20: 2020 2020 2020 2020 2020 2020 636f 6c6f              colo
-00013f30: 7220 3d20 5b30 5d2a 6c65 6e28 636f 6c6f  r = [0]*len(colo
-00013f40: 7229 0a20 2020 2020 2020 2065 6c73 653a  r).        else:
-00013f50: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
-00013f60: 2069 2c20 6320 696e 2065 6e75 6d65 7261   i, c in enumera
-00013f70: 7465 2863 6f6c 6f72 293a 0a20 2020 2020  te(color):.     
-00013f80: 2020 2020 2020 2020 2020 2069 6620 6973             if is
-00013f90: 696e 7374 616e 6365 2863 6f6c 6f72 2c20  instance(color, 
-00013fa0: 7374 7229 2061 6e64 2063 6f6c 6f72 206e  str) and color n
-00013fb0: 6f74 2069 6e20 6967 2e6b 6e6f 776e 5f63  ot in ig.known_c
-00013fc0: 6f6c 6f72 733a 0a20 2020 2020 2020 2020  olors:.         
-00013fd0: 2020 2020 2020 2020 2020 2063 6f6c 6f72             color
-00013fe0: 5b69 5d20 3d20 7374 7228 436f 6c6f 7243  [i] = str(ColorC
-00013ff0: 6f6e 7665 7274 6572 2e74 6f5f 7267 6228  onverter.to_rgb(
-00014000: 636f 6c6f 7229 295b 313a 2d31 5d0a 0a20  color))[1:-1].. 
-00014010: 2020 2072 6574 7572 6e20 636f 6c6f 720a     return color.
-00014020: 0a0a 6465 6620 5f73 6361 6c65 5f6e 6f64  ..def _scale_nod
-00014030: 655f 7369 7a65 2873 697a 652c 2066 6163  e_size(size, fac
-00014040: 746f 723d 3429 3a0a 2020 2020 2727 2720  tor=4):.    ''' 
-00014050: 4d75 6c74 6970 6c79 2073 697a 6520 6279  Multiply size by
-00014060: 2060 6661 6374 6f72 6020 2727 270a 2020   `factor` '''.  
-00014070: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
-00014080: 7369 7a65 2c20 666c 6f61 7429 206f 7220  size, float) or 
-00014090: 6973 5f69 6e74 6567 6572 2873 697a 6529  is_integer(size)
-000140a0: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
-000140b0: 2066 6163 746f 722a 7369 7a65 0a20 2020   factor*size.   
-000140c0: 2065 6c69 6620 6e6f 6e73 7472 696e 675f   elif nonstring_
-000140d0: 636f 6e74 6169 6e65 7228 7369 7a65 2920  container(size) 
-000140e0: 616e 6420 6c65 6e28 7369 7a65 293a 0a20  and len(size):. 
-000140f0: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
-00014100: 616e 6365 2873 697a 655b 305d 2c20 666c  ance(size[0], fl
-00014110: 6f61 7429 206f 7220 6973 5f69 6e74 6567  oat) or is_integ
-00014120: 6572 2873 697a 655b 305d 293a 0a20 2020  er(size[0]):.   
-00014130: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-00014140: 6661 6374 6f72 2a6e 702e 6173 6172 7261  factor*np.asarra
-00014150: 7928 7369 7a65 290a 0a20 2020 2072 6574  y(size)..    ret
-00014160: 7572 6e20 7369 7a65 0a0a 0a64 6566 205f  urn size...def _
-00014170: 746f 5f67 745f 7072 6f70 2867 7261 7068  to_gt_prop(graph
-00014180: 2c20 7661 6c75 652c 2063 6d61 702c 2070  , value, cmap, p
-00014190: 7479 7065 3d27 6e6f 6465 272c 2063 6f6c  type='node', col
-000141a0: 6f72 3d46 616c 7365 293a 0a20 2020 2070  or=False):.    p
-000141b0: 6d61 7020 3d20 2867 7261 7068 2e6e 6577  map = (graph.new
-000141c0: 5f76 6572 7465 785f 7072 6f70 6572 7479  _vertex_property
-000141d0: 2069 6620 7074 7970 6520 3d3d 2027 6e6f   if ptype == 'no
-000141e0: 6465 270a 2020 2020 2020 2020 2020 2020  de'.            
-000141f0: 656c 7365 2067 7261 7068 2e6e 6577 5f65  else graph.new_e
-00014200: 6467 655f 7072 6f70 6572 7479 290a 0a20  dge_property).. 
-00014210: 2020 2069 6620 6e6f 6e73 7472 696e 675f     if nonstring_
-00014220: 636f 6e74 6169 6e65 7228 7661 6c75 6529  container(value)
-00014230: 2061 6e64 206c 656e 2876 616c 7565 293a   and len(value):
-00014240: 0a20 2020 2020 2020 2069 6620 6973 696e  .        if isin
-00014250: 7374 616e 6365 2876 616c 7565 5b30 5d2c  stance(value[0],
-00014260: 2073 7472 293a 0a20 2020 2020 2020 2020   str):.         
-00014270: 2020 2069 6620 636f 6c6f 723a 0a20 2020     if color:.   
-00014280: 2020 2020 2020 2020 2020 2020 2023 2063               # c
-00014290: 7573 746f 6d20 6e61 6d65 6463 6f6c 6f72  ustom namedcolor
-000142a0: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
-000142b0: 2020 7265 7475 726e 2070 6d61 7028 2276    return pmap("v
-000142c0: 6563 746f 723c 646f 7562 6c65 3e22 2c0a  ector<double>",.
-000142d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000142e0: 2020 2020 2020 2020 2020 2020 7661 6c73              vals
-000142f0: 3d5b 436f 6c6f 7243 6f6e 7665 7274 6572  =[ColorConverter
-00014300: 2e74 6f5f 7267 6261 2876 2920 666f 7220  .to_rgba(v) for 
-00014310: 7620 696e 2076 616c 7565 5d29 0a20 2020  v in value]).   
-00014320: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-00014330: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-00014340: 6574 7572 6e20 706d 6170 2822 7374 7269  eturn pmap("stri
-00014350: 6e67 222c 2076 616c 733d 7661 6c75 6529  ng", vals=value)
-00014360: 0a20 2020 2020 2020 2065 6c69 6620 6e6f  .        elif no
-00014370: 6e73 7472 696e 675f 636f 6e74 6169 6e65  nstring_containe
-00014380: 7228 7661 6c75 655b 305d 293a 0a20 2020  r(value[0]):.   
-00014390: 2020 2020 2020 2020 2023 2064 6972 6563           # direc
-000143a0: 7420 7267 6228 6129 2064 6573 6372 6970  t rgb(a) descrip
-000143b0: 7469 6f6e 0a20 2020 2020 2020 2020 2020  tion.           
-000143c0: 2072 6574 7572 6e20 706d 6170 2822 7665   return pmap("ve
-000143d0: 6374 6f72 3c64 6f75 626c 653e 222c 2076  ctor<double>", v
-000143e0: 616c 733d 7661 6c75 6529 0a0a 2020 2020  als=value)..    
-000143f0: 2020 2020 2320 6e75 6d62 6572 730a 2020      # numbers.  
-00014400: 2020 2020 2020 6966 2063 6f6c 6f72 3a0a        if color:.
-00014410: 2020 2020 2020 2020 2020 2020 766d 696e              vmin
-00014420: 2c20 766d 6178 203d 206e 702e 6d69 6e28  , vmax = np.min(
-00014430: 7661 6c75 6529 2c20 6e70 2e6d 6178 2876  value), np.max(v
-00014440: 616c 7565 290a 0a20 2020 2020 2020 2020  alue)..         
-00014450: 2020 206e 6f72 6d61 6c69 7a65 6420 3d20     normalized = 
-00014460: 4e6f 6e65 0a0a 2020 2020 2020 2020 2020  None..          
-00014470: 2020 6966 2076 6d61 7820 2d20 766d 696e    if vmax - vmin
-00014480: 203e 2030 3a0a 2020 2020 2020 2020 2020   > 0:.          
-00014490: 2020 2020 2020 6e6f 726d 616c 697a 6564        normalized
-000144a0: 203d 2028 6e70 2e61 7272 6179 2876 616c   = (np.array(val
-000144b0: 7565 2920 2d20 766d 696e 2920 2f20 2876  ue) - vmin) / (v
-000144c0: 6d61 7820 2d20 766d 696e 290a 2020 2020  max - vmin).    
-000144d0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-000144e0: 2020 2020 2020 2020 2020 2020 2020 7265                re
-000144f0: 7475 726e 206e 6f72 6d61 6c69 7a65 640a  turn normalized.
-00014500: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00014510: 7572 6e20 706d 6170 2822 7665 6374 6f72  urn pmap("vector
-00014520: 3c64 6f75 626c 653e 222c 2076 616c 733d  <double>", vals=
-00014530: 5b63 6d61 7028 7629 2066 6f72 2076 2069  [cmap(v) for v i
-00014540: 6e20 6e6f 726d 616c 697a 6564 5d29 0a0a  n normalized])..
-00014550: 2020 2020 2020 2020 7265 7475 726e 2070          return p
-00014560: 6d61 7028 2264 6f75 626c 6522 2c20 7661  map("double", va
-00014570: 6c73 3d76 616c 7565 290a 0a0a 2020 2020  ls=value)...    
-00014580: 7265 7475 726e 2076 616c 7565 0a0a 0a64  return value...d
-00014590: 6566 205f 6369 7263 756c 6172 5f6c 6179  ef _circular_lay
-000145a0: 6f75 7428 6772 6170 682c 206d 6178 5f6e  out(graph, max_n
-000145b0: 7369 7a65 293a 0a20 2020 2023 2063 686f  size):.    # cho
-000145c0: 7365 2072 6164 6975 7320 7375 6368 2074  se radius such t
-000145d0: 6861 7420 722a 6474 6865 7461 203e 206d  hat r*dtheta > m
-000145e0: 6178 5f6e 7369 7a65 0a20 2020 2064 7468  ax_nsize.    dth
-000145f0: 6574 6120 3d20 322a 6e70 2e70 6920 2f20  eta = 2*np.pi / 
-00014600: 6772 6170 682e 6e6f 6465 5f6e 6228 290a  graph.node_nb().
-00014610: 0a20 2020 2072 203d 2031 2e31 2a6d 6178  .    r = 1.1*max
-00014620: 5f6e 7369 7a65 202f 2064 7468 6574 610a  _nsize / dtheta.
-00014630: 0a20 2020 2074 6865 7461 7320 3d20 6e70  .    thetas = np
-00014640: 2e61 7272 6179 285b 692a 6474 6865 7461  .array([i*dtheta
-00014650: 2066 6f72 2069 2069 6e20 7261 6e67 6528   for i in range(
-00014660: 6772 6170 682e 6e6f 6465 5f6e 6228 2929  graph.node_nb())
-00014670: 5d29 0a20 2020 2078 203d 2072 2a6e 702e  ]).    x = r*np.
-00014680: 636f 7328 7468 6574 6173 290a 2020 2020  cos(thetas).    
-00014690: 7920 3d20 722a 6e70 2e73 696e 2874 6865  y = r*np.sin(the
-000146a0: 7461 7329 0a0a 2020 2020 7265 7475 726e  tas)..    return
-000146b0: 206e 702e 6172 7261 7928 2878 2c20 7929   np.array((x, y)
-000146c0: 292e 540a 0a0a 6465 6620 5f63 6f6e 6e65  ).T...def _conne
-000146d0: 6374 696f 6e73 7479 6c65 2861 7869 732c  ctionstyle(axis,
-000146e0: 206e 7369 7a65 2c20 6573 697a 6529 3a0a   nsize, esize):.
-000146f0: 2020 2020 6465 6620 6373 2870 6f73 412c      def cs(posA,
-00014700: 2070 6f73 422c 202a 6172 6773 2c20 2a2a   posB, *args, **
-00014710: 6b77 6172 6773 293a 0a20 2020 2020 2020  kwargs):.       
-00014720: 2023 2053 656c 662d 6c6f 6f70 7320 6172   # Self-loops ar
-00014730: 6520 7363 616c 6564 2062 7920 6e6f 6465  e scaled by node
-00014740: 2073 697a 650a 2020 2020 2020 2020 7673   size.        vs
-00014750: 6869 6674 203d 2030 2e31 2a6d 6178 286e  hift = 0.1*max(n
-00014760: 7369 7a65 2c20 322a 6573 697a 6529 0a20  size, 2*esize). 
-00014770: 2020 2020 2020 2068 7368 6966 7420 3d20         hshift = 
-00014780: 302e 372a 7673 6869 6674 0a20 2020 2020  0.7*vshift.     
-00014790: 2020 2023 2074 6869 7320 6973 2063 616c     # this is cal
-000147a0: 6c65 6420 7769 7468 205f 7363 7265 656e  led with _screen
-000147b0: 2073 7061 6365 5f20 7661 6c75 6573 2073   space_ values s
-000147c0: 6f20 636f 7665 7274 2062 6163 6b0a 2020  o covert back.  
-000147d0: 2020 2020 2020 2320 746f 2064 6174 6120        # to data 
-000147e0: 7370 6163 650a 0a20 2020 2020 2020 2073  space..        s
-000147f0: 3120 3d20 6e70 2e61 7361 7272 6179 285b  1 = np.asarray([
-00014800: 2d68 7368 6966 742c 2076 7368 6966 745d  -hshift, vshift]
-00014810: 290a 2020 2020 2020 2020 7332 203d 206e  ).        s2 = n
-00014820: 702e 6173 6172 7261 7928 5b68 7368 6966  p.asarray([hshif
-00014830: 742c 2076 7368 6966 745d 290a 0a20 2020  t, vshift])..   
-00014840: 2020 2020 2070 3120 3d20 6178 6973 2e74       p1 = axis.t
-00014850: 7261 6e73 4461 7461 2e69 6e76 6572 7465  ransData.inverte
-00014860: 6428 292e 7472 616e 7366 6f72 6d28 706f  d().transform(po
-00014870: 7341 290a 2020 2020 2020 2020 7032 203d  sA).        p2 =
-00014880: 2061 7869 732e 7472 616e 7344 6174 612e   axis.transData.
-00014890: 696e 7665 7274 6564 2829 2e74 7261 6e73  inverted().trans
-000148a0: 666f 726d 2870 6f73 4120 2b20 7331 290a  form(posA + s1).
-000148b0: 2020 2020 2020 2020 7033 203d 2061 7869          p3 = axi
-000148c0: 732e 7472 616e 7344 6174 612e 696e 7665  s.transData.inve
-000148d0: 7274 6564 2829 2e74 7261 6e73 666f 726d  rted().transform
-000148e0: 2870 6f73 4120 2b20 7332 290a 0a20 2020  (posA + s2)..   
-000148f0: 2020 2020 2070 6174 6820 3d20 5b70 312c       path = [p1,
-00014900: 2070 322c 2070 332c 2070 315d 0a0a 2020   p2, p3, p1]..  
-00014910: 2020 2020 2020 7265 7475 726e 206d 706c        return mpl
-00014920: 2e70 6174 682e 5061 7468 2861 7869 732e  .path.Path(axis.
-00014930: 7472 616e 7344 6174 612e 7472 616e 7366  transData.transf
-00014940: 6f72 6d28 7061 7468 292c 205b 312c 2032  orm(path), [1, 2
-00014950: 2c20 322c 2032 5d29 0a0a 2020 2020 7265  , 2, 2])..    re
-00014960: 7475 726e 2063 730a 0a64 6566 205f 7370  turn cs..def _sp
-00014970: 6c69 745f 6564 6765 735f 7369 7a65 7328  lit_edges_sizes(
-00014980: 6564 6765 732c 2065 7369 7a65 2c20 6465  edges, esize, de
-00014990: 6369 6d61 7465 5f63 6f6e 6e65 6374 696f  cimate_connectio
-000149a0: 6e73 2c20 6563 6f6c 6f72 3d4e 6f6e 652c  ns, ecolor=None,
-000149b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000149c0: 2020 2020 2020 2020 7374 7267 6874 5f63          strght_c
-000149d0: 6f6c 6f72 733d 4e6f 6e65 2c20 6c6f 6f70  olors=None, loop
-000149e0: 5f63 6f6c 6f72 733d 4e6f 6e65 293a 0a20  _colors=None):. 
-000149f0: 2020 2073 7472 6768 745f 6564 6765 732c     strght_edges,
-00014a00: 2073 656c 665f 6c6f 6f70 7320 3d20 4e6f   self_loops = No
-00014a10: 6e65 2c20 4e6f 6e65 0a20 2020 2073 7472  ne, None.    str
-00014a20: 6768 745f 7369 7a65 732c 206c 6f6f 705f  ght_sizes, loop_
-00014a30: 7369 7a65 7320 3d20 4e6f 6e65 2c20 4e6f  sizes = None, No
-00014a40: 6e65 0a0a 2020 2020 6b65 6570 2020 3d20  ne..    keep  = 
-00014a50: 2865 7369 7a65 203e 2030 2920 6966 206e  (esize > 0) if n
-00014a60: 6f6e 7374 7269 6e67 5f63 6f6e 7461 696e  onstring_contain
-00014a70: 6572 2865 7369 7a65 2920 656c 7365 2054  er(esize) else T
-00014a80: 7275 650a 2020 2020 6c6f 6f70 7320 3d20  rue.    loops = 
-00014a90: 2865 6467 6573 5b3a 2c20 305d 203d 3d20  (edges[:, 0] == 
-00014aa0: 6564 6765 735b 3a2c 2031 5d29 0a0a 2020  edges[:, 1])..  
-00014ab0: 2020 7374 7267 6874 203d 206b 6565 702a    strght = keep*
-00014ac0: 287e 6c6f 6f70 7329 0a0a 2020 2020 7374  (~loops)..    st
-00014ad0: 7267 6874 5f65 6467 6573 203d 2065 6467  rght_edges = edg
-00014ae0: 6573 5b73 7472 6768 745d 0a0a 2020 2020  es[strght]..    
-00014af0: 7365 6c66 5f6c 6f6f 7073 203d 2073 6574  self_loops = set
-00014b00: 2865 6467 6573 5b6c 6f6f 7073 2c20 305d  (edges[loops, 0]
-00014b10: 290a 0a20 2020 2069 6620 6563 6f6c 6f72  )..    if ecolor
-00014b20: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
-00014b30: 2020 2020 2020 6966 206e 6f6e 7374 7269        if nonstri
-00014b40: 6e67 5f63 6f6e 7461 696e 6572 2865 636f  ng_container(eco
-00014b50: 6c6f 7229 3a0a 2020 2020 2020 2020 2020  lor):.          
-00014b60: 2020 6966 2064 6563 696d 6174 655f 636f    if decimate_co
-00014b70: 6e6e 6563 7469 6f6e 7320 3c20 313a 0a20  nnections < 1:. 
-00014b80: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00014b90: 7472 6768 745f 636f 6c6f 7273 2e65 7874  trght_colors.ext
-00014ba0: 656e 6428 6563 6f6c 6f72 5b73 7472 6768  end(ecolor[strgh
-00014bb0: 745d 290a 2020 2020 2020 2020 2020 2020  t]).            
-00014bc0: 6c6f 6f70 5f63 6f6c 6f72 732e 6578 7465  loop_colors.exte
-00014bd0: 6e64 2865 636f 6c6f 725b 6c6f 6f70 735d  nd(ecolor[loops]
-00014be0: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
-00014bf0: 2020 2020 2020 2020 2020 2020 6966 2064              if d
-00014c00: 6563 696d 6174 655f 636f 6e6e 6563 7469  ecimate_connecti
-00014c10: 6f6e 7320 3c20 313a 0a20 2020 2020 2020  ons < 1:.       
-00014c20: 2020 2020 2020 2020 2073 7472 6768 745f           strght_
-00014c30: 636f 6c6f 7273 2e65 7874 656e 6428 5b65  colors.extend([e
-00014c40: 636f 6c6f 725d 2a6c 656e 2873 7472 6768  color]*len(strgh
-00014c50: 745f 6564 6765 7329 290a 2020 2020 2020  t_edges)).      
-00014c60: 2020 2020 2020 6c6f 6f70 5f63 6f6c 6f72        loop_color
-00014c70: 732e 6578 7465 6e64 285b 6563 6f6c 6f72  s.extend([ecolor
-00014c80: 5d2a 6c65 6e28 7365 6c66 5f6c 6f6f 7073  ]*len(self_loops
-00014c90: 2929 0a0a 2020 2020 6966 206e 6f6e 7374  ))..    if nonst
-00014ca0: 7269 6e67 5f63 6f6e 7461 696e 6572 2865  ring_container(e
-00014cb0: 7369 7a65 293a 0a20 2020 2020 2020 2073  size):.        s
-00014cc0: 7472 6768 745f 7369 7a65 7320 3d20 6573  trght_sizes = es
-00014cd0: 697a 655b 7374 7267 6874 5d0a 2020 2020  ize[strght].    
-00014ce0: 2020 2020 6c6f 6f70 5f73 697a 6573 203d      loop_sizes =
-00014cf0: 2065 7369 7a65 5b6c 6f6f 7073 5d0a 2020   esize[loops].  
-00014d00: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00014d10: 7374 7267 6874 5f73 697a 6573 203d 206e  strght_sizes = n
-00014d20: 702e 6675 6c6c 286c 656e 2873 7472 6768  p.full(len(strgh
-00014d30: 745f 6564 6765 7329 2c20 6573 697a 6529  t_edges), esize)
-00014d40: 0a20 2020 2020 2020 206c 6f6f 705f 7369  .        loop_si
-00014d50: 7a65 7320 3d20 6e70 2e66 756c 6c28 6c65  zes = np.full(le
-00014d60: 6e28 7365 6c66 5f6c 6f6f 7073 292c 2065  n(self_loops), e
-00014d70: 7369 7a65 290a 0a20 2020 2069 6620 6465  size)..    if de
-00014d80: 6369 6d61 7465 5f63 6f6e 6e65 6374 696f  cimate_connectio
-00014d90: 6e73 203e 2031 3a0a 2020 2020 2020 2020  ns > 1:.        
-00014da0: 7374 7267 6874 5f65 6467 6573 203d 205c  strght_edges = \
-00014db0: 0a20 2020 2020 2020 2020 2020 2073 7472  .            str
-00014dc0: 6768 745f 6564 6765 735b 3a3a 6465 6369  ght_edges[::deci
-00014dd0: 6d61 7465 5f63 6f6e 6e65 6374 696f 6e73  mate_connections
-00014de0: 5d0a 0a20 2020 2020 2020 2069 6620 6e6f  ]..        if no
-00014df0: 6e73 7472 696e 675f 636f 6e74 6169 6e65  nstring_containe
-00014e00: 7228 6573 697a 6529 3a0a 2020 2020 2020  r(esize):.      
-00014e10: 2020 2020 2020 7374 7267 6874 5f73 697a        strght_siz
-00014e20: 6573 203d 205c 0a20 2020 2020 2020 2020  es = \.         
-00014e30: 2020 2020 2020 2073 7472 6768 745f 7369         strght_si
-00014e40: 7a65 735b 3a3a 6465 6369 6d61 7465 5f63  zes[::decimate_c
-00014e50: 6f6e 6e65 6374 696f 6e73 5d0a 0a20 2020  onnections]..   
-00014e60: 2020 2020 2069 6620 6563 6f6c 6f72 2069       if ecolor i
-00014e70: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-00014e80: 2020 2020 2020 2020 6966 206e 6f6e 7374          if nonst
-00014e90: 7269 6e67 5f63 6f6e 7461 696e 6572 2865  ring_container(e
-00014ea0: 636f 6c6f 7229 3a0a 2020 2020 2020 2020  color):.        
-00014eb0: 2020 2020 2020 2020 7374 7267 6874 5f63          strght_c
-00014ec0: 6f6c 6f72 732e 6578 7465 6e64 2865 636f  olors.extend(eco
-00014ed0: 6c6f 725b 7374 7267 6874 5d5b 3a3a 6465  lor[strght][::de
-00014ee0: 6369 6d61 7465 5f63 6f6e 6e65 6374 696f  cimate_connectio
-00014ef0: 6e73 5d29 0a20 2020 2020 2020 2020 2020  ns]).           
-00014f00: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00014f10: 2020 2020 2020 2073 7472 6768 745f 636f         strght_co
-00014f20: 6c6f 7273 2e65 7874 656e 6428 0a20 2020  lors.extend(.   
-00014f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014f40: 205b 6563 6f6c 6f72 5d20 2a20 286c 656e   [ecolor] * (len
-00014f50: 2873 7472 6768 745f 6564 6765 7329 202f  (strght_edges) /
-00014f60: 2f20 6465 6369 6d61 7465 5f63 6f6e 6e65  / decimate_conne
-00014f70: 6374 696f 6e73 2929 0a20 2020 2065 6c69  ctions)).    eli
-00014f80: 6620 6563 6f6c 6f72 2069 7320 6e6f 7420  f ecolor is not 
-00014f90: 4e6f 6e65 3a0a 2020 2020 2020 2020 6966  None:.        if
-00014fa0: 206e 6f6e 7374 7269 6e67 5f63 6f6e 7461   nonstring_conta
-00014fb0: 696e 6572 2865 636f 6c6f 7229 3a0a 2020  iner(ecolor):.  
-00014fc0: 2020 2020 2020 2020 2020 7374 7267 6874            strght
-00014fd0: 5f63 6f6c 6f72 732e 6578 7465 6e64 2865  _colors.extend(e
-00014fe0: 636f 6c6f 725b 7374 7267 6874 5d29 0a20  color[strght]). 
-00014ff0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-00015000: 2020 2020 2020 2020 2073 7472 6768 745f           strght_
-00015010: 636f 6c6f 7273 2e65 7874 656e 6428 5b65  colors.extend([e
-00015020: 636f 6c6f 725d 2a6c 656e 2873 7472 6768  color]*len(strgh
-00015030: 745f 6564 6765 7329 290a 0a20 2020 2072  t_edges))..    r
-00015040: 6574 7572 6e20 7374 7267 6874 5f65 6467  eturn strght_edg
-00015050: 6573 2c20 7365 6c66 5f6c 6f6f 7073 2c20  es, self_loops, 
-00015060: 7374 7267 6874 5f73 697a 6573 2c20 6c6f  strght_sizes, lo
-00015070: 6f70 5f73 697a 6573 0a0a 0a64 6566 205f  op_sizes...def _
-00015080: 6765 745f 6e63 6d61 7028 6e65 7477 6f72  get_ncmap(networ
-00015090: 6b2c 206e 636f 6c6f 7229 3a0a 2020 2020  k, ncolor):.    
-000150a0: 2727 2720 5265 7475 726e 2077 6865 7468  ''' Return wheth
-000150b0: 6572 2061 2064 6973 6372 6574 6520 7061  er a discrete pa
-000150c0: 6c65 7474 6520 6973 2075 7365 6420 616e  lette is used an
-000150d0: 6420 7468 6520 6465 6661 756c 7420 636d  d the default cm
-000150e0: 6170 2027 2727 0a20 2020 2064 6973 6372  ap '''.    discr
-000150f0: 6574 655f 636f 6c6f 7273 203d 2046 616c  ete_colors = Fal
-00015100: 7365 0a0a 2020 2020 6966 2069 7369 6e73  se..    if isins
-00015110: 7461 6e63 6528 6e63 6f6c 6f72 2c20 7374  tance(ncolor, st
-00015120: 7229 3a0a 2020 2020 2020 2020 6966 206e  r):.        if n
-00015130: 636f 6c6f 7220 3d3d 2022 6772 6f75 7022  color == "group"
-00015140: 206f 7220 6e63 6f6c 6f72 203d 3d20 2267   or ncolor == "g
-00015150: 726f 7570 7322 3a0a 2020 2020 2020 2020  roups":.        
-00015160: 2020 2020 6469 7363 7265 7465 5f63 6f6c      discrete_col
-00015170: 6f72 7320 3d20 5472 7565 0a20 2020 2020  ors = True.     
-00015180: 2020 2065 6c69 6620 6e63 6f6c 6f72 2069     elif ncolor i
-00015190: 6e20 6e65 7477 6f72 6b2e 6e6f 6465 5f61  n network.node_a
-000151a0: 7474 7269 6275 7465 733a 0a20 2020 2020  ttributes:.     
-000151b0: 2020 2020 2020 2064 6973 6372 6574 655f         discrete_
-000151c0: 636f 6c6f 7273 203d 205c 0a20 2020 2020  colors = \.     
-000151d0: 2020 2020 2020 2020 2020 206e 6574 776f             netwo
-000151e0: 726b 2e67 6574 5f61 7474 7269 6275 7465  rk.get_attribute
-000151f0: 5f74 7970 6528 6e63 6f6c 6f72 2c20 226e  _type(ncolor, "n
-00015200: 6f64 6522 2920 3d3d 2022 7374 7269 6e67  ode") == "string
-00015210: 220a 0a20 2020 2064 6566 6175 6c74 5f6e  "..    default_n
-00015220: 636d 6170 203d 2070 616c 6574 7465 5f64  cmap = palette_d
-00015230: 6973 6372 6574 6528 2920 6966 2064 6973  iscrete() if dis
-00015240: 6372 6574 655f 636f 6c6f 7273 205c 0a20  crete_colors \. 
-00015250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015260: 2020 2065 6c73 6520 7061 6c65 7474 655f     else palette_
-00015270: 636f 6e74 696e 756f 7573 2829 0a0a 2020  continuous()..  
-00015280: 2020 7265 7475 726e 2064 6973 6372 6574    return discret
-00015290: 655f 636f 6c6f 7273 2c20 6465 6661 756c  e_colors, defaul
-000152a0: 745f 6e63 6d61 700a 0a0a 6465 6620 5f70  t_ncmap...def _p
-000152b0: 6c6f 745f 6c6f 6f70 2869 2c20 732c 2070  lot_loop(i, s, p
-000152c0: 6f73 2c20 6c6f 6f70 5f73 697a 6573 2c20  os, loop_sizes, 
-000152d0: 6e73 697a 652c 206d 6178 5f6e 7369 7a65  nsize, max_nsize
-000152e0: 2c20 786d 6178 2c20 786d 696e 2c20 796d  , xmax, xmin, ym
-000152f0: 6178 2c20 796d 696e 2c0a 2020 2020 2020  ax, ymin,.      
-00015300: 2020 2020 2020 2020 2068 6569 6768 742c           height,
-00015310: 2077 6964 7468 2c20 6563 2c20 6561 6c70   width, ec, ealp
-00015320: 6861 2c20 6562 6f72 6465 725f 7769 6474  ha, eborder_widt
-00015330: 682c 2065 626f 7264 6572 5f63 6f6c 6f72  h, eborder_color
-00015340: 2c20 6661 7374 2c0a 2020 2020 2020 2020  , fast,.        
-00015350: 2020 2020 2020 206e 6574 776f 726b 2c20         network, 
-00015360: 7265 7374 7269 6374 5f6e 6f64 6573 293a  restrict_nodes):
-00015370: 0a20 2020 2027 2727 0a20 2020 2044 7261  .    '''.    Dra
-00015380: 7720 7365 6c66 206c 6f6f 7073 0a20 2020  w self loops.   
-00015390: 2027 2727 0a20 2020 2065 7320 3d20 6c6f   '''.    es = lo
-000153a0: 6f70 5f73 697a 6573 5b69 5d0a 2020 2020  op_sizes[i].    
-000153b0: 646c 203d 2030 2e30 332a 6d61 7828 6865  dl = 0.03*max(he
-000153c0: 6967 6874 2c20 7769 6474 6829 0a20 2020  ight, width).   
-000153d0: 206e 7320 3d20 6e73 697a 655b 735d 2a64   ns = nsize[s]*d
-000153e0: 6c2f 6d61 785f 6e73 697a 6520 6966 2066  l/max_nsize if f
-000153f0: 6173 7420 656c 7365 206e 7369 7a65 5b73  ast else nsize[s
-00015400: 5d0a 0a20 2020 2023 2067 6574 2074 6865  ]..    # get the
-00015410: 206e 6569 6768 626f 7572 730a 2020 2020   neighbours.    
-00015420: 6e6e 203d 206e 6574 776f 726b 2e6e 6569  nn = network.nei
-00015430: 6768 626f 7572 7328 7329 0a0a 2020 2020  ghbours(s)..    
-00015440: 6966 2072 6573 7472 6963 745f 6e6f 6465  if restrict_node
-00015450: 7320 6973 206e 6f74 204e 6f6e 653a 0a20  s is not None:. 
-00015460: 2020 2020 2020 206e 6e20 3d20 6e6e 2e69         nn = nn.i
-00015470: 6e74 6572 7365 6374 696f 6e28 7265 7374  ntersection(rest
-00015480: 7269 6374 5f6e 6f64 6573 290a 0a20 2020  rict_nodes)..   
-00015490: 2020 2020 2063 6f6e 7665 7274 203d 207b       convert = {
-000154a0: 6e3a 2069 2066 6f72 2069 2c20 6e20 696e  n: i for i, n in
-000154b0: 2065 6e75 6d65 7261 7465 2872 6573 7472   enumerate(restr
-000154c0: 6963 745f 6e6f 6465 7329 7d0a 0a20 2020  ict_nodes)}..   
-000154d0: 2020 2020 206e 6e20 3d20 7b63 6f6e 7665       nn = {conve
-000154e0: 7274 5b6e 5d20 666f 7220 6e20 696e 206e  rt[n] for n in n
-000154f0: 6e7d 0a0a 2020 2020 6e6e 203d 206c 6973  n}..    nn = lis
-00015500: 7428 6e6e 202d 207b 737d 290a 0a20 2020  t(nn - {s})..   
-00015510: 2076 6563 203d 2070 6f73 5b6e 6e5d 202d   vec = pos[nn] -
-00015520: 2070 6f73 5b73 5d0a 2020 2020 6e6f 726d   pos[s].    norm
-00015530: 203d 206e 702e 7371 7274 2828 7665 632a   = np.sqrt((vec*
-00015540: 7665 6329 2e73 756d 2861 7869 733d 3129  vec).sum(axis=1)
-00015550: 290a 2020 2020 7665 6320 3d20 6e70 2e61  ).    vec = np.a
-00015560: 7361 7272 6179 285b 7665 635b 695d 202f  sarray([vec[i] /
-00015570: 206e 2066 6f72 2069 2c20 6e20 696e 2065   n for i, n in e
-00015580: 6e75 6d65 7261 7465 286e 6f72 6d29 5d29  numerate(norm)])
-00015590: 0a0a 2020 2020 6469 7220 3d20 6e70 2e61  ..    dir = np.a
-000155a0: 7665 7261 6765 2876 6563 2c20 6178 6973  verage(vec, axis
-000155b0: 3d30 290a 2020 2020 6469 7220 2f3d 206e  =0).    dir /= n
-000155c0: 702e 6c69 6e61 6c67 2e6e 6f72 6d28 6469  p.linalg.norm(di
-000155d0: 7229 0a0a 2020 2020 6966 2066 6173 743a  r)..    if fast:
-000155e0: 0a20 2020 2020 2020 2078 7920 3d20 706f  .        xy = po
-000155f0: 735b 735d 202d 206e 732a 6469 720a 2020  s[s] - ns*dir.  
-00015600: 2020 2020 2020 7265 7475 726e 2043 6972        return Cir
-00015610: 636c 6528 7879 2c20 6e73 2c20 6663 3d22  cle(xy, ns, fc="
-00015620: 6e6f 6e65 222c 2061 6c70 6861 3d65 616c  none", alpha=eal
-00015630: 7068 612c 206c 696e 6577 6964 7468 3d30  pha, linewidth=0
-00015640: 2e35 2a65 732c 2065 633d 6563 290a 0a20  .5*es, ec=ec).. 
-00015650: 2020 2065 7320 3d20 6d69 6e28 302e 352a     es = min(0.5*
-00015660: 6e73 2c20 6573 290a 2020 2020 7879 203d  ns, es).    xy =
-00015670: 2070 6f73 5b73 5d20 2d20 302e 3735 2a6e   pos[s] - 0.75*n
-00015680: 732a 6469 720a 0a20 2020 2072 6574 7572  s*dir..    retur
-00015690: 6e20 416e 6e75 6c75 7328 7879 2c20 302e  n Annulus(xy, 0.
-000156a0: 3735 2a6e 732c 2030 2e35 2a65 732c 2066  75*ns, 0.5*es, f
-000156b0: 633d 6563 2c20 616c 7068 613d 6561 6c70  c=ec, alpha=ealp
-000156c0: 6861 2c20 6c77 3d65 626f 7264 6572 5f77  ha, lw=eborder_w
-000156d0: 6964 7468 2c0a 2020 2020 2020 2020 2020  idth,.          
-000156e0: 2020 2020 2020 2020 2065 633d 6562 6f72           ec=ebor
-000156f0: 6465 725f 636f 6c6f 7229 0a0a 0a63 6c61  der_color)...cla
-00015700: 7373 2041 6e6e 756c 7573 2850 6174 6368  ss Annulus(Patch
-00015710: 293a 0a20 2020 2022 2222 0a20 2020 2041  ):.    """.    A
-00015720: 6e20 656c 6c69 7074 6963 616c 2061 6e6e  n elliptical ann
-00015730: 756c 7573 2e0a 2020 2020 2222 220a 0a20  ulus..    """.. 
-00015740: 2020 2064 6566 205f 5f69 6e69 745f 5f28     def __init__(
-00015750: 7365 6c66 2c20 7879 2c20 722c 2077 6964  self, xy, r, wid
-00015760: 7468 2c20 616e 676c 653d 302e 302c 202a  th, angle=0.0, *
-00015770: 2a6b 7761 7267 7329 3a0a 2020 2020 2020  *kwargs):.      
-00015780: 2020 2222 220a 2020 2020 2020 2020 5061    """.        Pa
-00015790: 7261 6d65 7465 7273 0a20 2020 2020 2020  rameters.       
-000157a0: 202d 2d2d 2d2d 2d2d 2d2d 2d0a 2020 2020   ----------.    
-000157b0: 2020 2020 7879 203a 2028 666c 6f61 742c      xy : (float,
-000157c0: 2066 6c6f 6174 290a 2020 2020 2020 2020   float).        
-000157d0: 2020 2020 7879 2063 6f6f 7264 696e 6174      xy coordinat
-000157e0: 6573 206f 6620 616e 6e75 6c75 7320 6365  es of annulus ce
-000157f0: 6e74 7265 2e0a 2020 2020 2020 2020 7220  ntre..        r 
-00015800: 3a20 666c 6f61 7420 6f72 2028 666c 6f61  : float or (floa
-00015810: 742c 2066 6c6f 6174 290a 2020 2020 2020  t, float).      
-00015820: 2020 2020 2020 5468 6520 7261 6469 7573        The radius
-00015830: 2c20 6f72 2073 656d 692d 6178 6573 3a0a  , or semi-axes:.
-00015840: 2020 2020 2020 2020 2020 2020 2d20 4966              - If
-00015850: 2066 6c6f 6174 3a20 7261 6469 7573 206f   float: radius o
-00015860: 6620 7468 6520 6f75 7465 7220 6369 7263  f the outer circ
-00015870: 6c65 2e0a 2020 2020 2020 2020 2020 2020  le..            
-00015880: 2d20 4966 2074 776f 2066 6c6f 6174 733a  - If two floats:
-00015890: 2073 656d 692d 6d61 6a6f 7220 616e 6420   semi-major and 
-000158a0: 2d6d 696e 6f72 2061 7865 7320 6f66 206f  -minor axes of o
-000158b0: 7574 6572 2065 6c6c 6970 7365 2e0a 2020  uter ellipse..  
-000158c0: 2020 2020 2020 7769 6474 6820 3a20 666c        width : fl
-000158d0: 6f61 740a 2020 2020 2020 2020 2020 2020  oat.            
-000158e0: 5769 6474 6820 2874 6869 636b 6e65 7373  Width (thickness
-000158f0: 2920 6f66 2074 6865 2061 6e6e 756c 6172  ) of the annular
-00015900: 2072 696e 672e 2054 6865 2077 6964 7468   ring. The width
-00015910: 2069 7320 6d65 6173 7572 6564 2069 6e77   is measured inw
-00015920: 6172 640a 2020 2020 2020 2020 2020 2020  ard.            
-00015930: 6672 6f6d 2074 6865 206f 7574 6572 2065  from the outer e
-00015940: 6c6c 6970 7365 2073 6f20 7468 6174 2066  llipse so that f
-00015950: 6f72 2074 6865 2069 6e6e 6572 2065 6c6c  or the inner ell
-00015960: 6970 7365 2074 6865 2073 656d 692d 6178  ipse the semi-ax
-00015970: 6573 0a20 2020 2020 2020 2020 2020 2061  es.            a
-00015980: 7265 2067 6976 656e 2062 7920 6060 7220  re given by ``r 
-00015990: 2d20 7769 6474 6860 602e 202a 7769 6474  - width``. *widt
-000159a0: 682a 206d 7573 7420 6265 206c 6573 7320  h* must be less 
-000159b0: 7468 616e 206f 7220 6571 7561 6c20 746f  than or equal to
-000159c0: 0a20 2020 2020 2020 2020 2020 2074 6865  .            the
-000159d0: 2073 656d 692d 6d69 6e6f 7220 6178 6973   semi-minor axis
-000159e0: 2e0a 2020 2020 2020 2020 616e 676c 6520  ..        angle 
-000159f0: 3a20 666c 6f61 742c 2064 6566 6175 6c74  : float, default
-00015a00: 3a20 300a 2020 2020 2020 2020 2020 2020  : 0.            
-00015a10: 526f 7461 7469 6f6e 2061 6e67 6c65 2069  Rotation angle i
-00015a20: 6e20 6465 6772 6565 7320 2861 6e74 692d  n degrees (anti-
-00015a30: 636c 6f63 6b77 6973 6520 6672 6f6d 2074  clockwise from t
-00015a40: 6865 2070 6f73 6974 6976 650a 2020 2020  he positive.    
-00015a50: 2020 2020 2020 2020 782d 6178 6973 292e          x-axis).
-00015a60: 2049 676e 6f72 6564 2066 6f72 2063 6972   Ignored for cir
-00015a70: 6375 6c61 7220 616e 6e75 6c69 2028 692e  cular annuli (i.
-00015a80: 652e 2c20 6966 202a 722a 2069 7320 6120  e., if *r* is a 
-00015a90: 7363 616c 6172 292e 0a20 2020 2020 2020  scalar)..       
-00015aa0: 202a 2a6b 7761 7267 730a 2020 2020 2020   **kwargs.      
-00015ab0: 2020 2020 2020 4b65 7977 6f72 6420 6172        Keyword ar
-00015ac0: 6775 6d65 6e74 7320 636f 6e74 726f 6c20  guments control 
-00015ad0: 7468 6520 6050 6174 6368 6020 7072 6f70  the `Patch` prop
-00015ae0: 6572 7469 6573 3a0a 2020 2020 2020 2020  erties:.        
-00015af0: 2020 2020 2528 5061 7463 683a 6b77 646f      %(Patch:kwdo
-00015b00: 6329 730a 2020 2020 2020 2020 2222 220a  c)s.        """.
-00015b10: 2020 2020 2020 2020 7375 7065 7228 292e          super().
-00015b20: 5f5f 696e 6974 5f5f 282a 2a6b 7761 7267  __init__(**kwarg
-00015b30: 7329 0a0a 2020 2020 2020 2020 7365 6c66  s)..        self
-00015b40: 2e73 6574 5f72 6164 6969 2872 290a 2020  .set_radii(r).  
-00015b50: 2020 2020 2020 7365 6c66 2e63 656e 7465        self.cente
-00015b60: 7220 3d20 7879 0a20 2020 2020 2020 2073  r = xy.        s
-00015b70: 656c 662e 7769 6474 6820 3d20 7769 6474  elf.width = widt
-00015b80: 680a 2020 2020 2020 2020 7365 6c66 2e61  h.        self.a
-00015b90: 6e67 6c65 203d 2061 6e67 6c65 0a20 2020  ngle = angle.   
-00015ba0: 2020 2020 2073 656c 662e 5f70 6174 6820       self._path 
-00015bb0: 3d20 4e6f 6e65 0a0a 2020 2020 6465 6620  = None..    def 
-00015bc0: 5f5f 7374 725f 5f28 7365 6c66 293a 0a20  __str__(self):. 
-00015bd0: 2020 2020 2020 2069 6620 7365 6c66 2e61         if self.a
-00015be0: 203d 3d20 7365 6c66 2e62 3a0a 2020 2020   == self.b:.    
-00015bf0: 2020 2020 2020 2020 7220 3d20 7365 6c66          r = self
-00015c00: 2e61 0a20 2020 2020 2020 2065 6c73 653a  .a.        else:
-00015c10: 0a20 2020 2020 2020 2020 2020 2072 203d  .            r =
-00015c20: 2028 7365 6c66 2e61 2c20 7365 6c66 2e62   (self.a, self.b
-00015c30: 290a 0a20 2020 2020 2020 2072 6574 7572  )..        retur
-00015c40: 6e20 2241 6e6e 756c 7573 2878 793d 2825  n "Annulus(xy=(%
-00015c50: 732c 2025 7329 2c20 723d 2573 2c20 7769  s, %s), r=%s, wi
-00015c60: 6474 683d 2573 2c20 616e 676c 653d 2573  dth=%s, angle=%s
-00015c70: 2922 2025 205c 0a20 2020 2020 2020 2020  )" % \.         
-00015c80: 2020 2020 2020 2028 2a73 656c 662e 6365         (*self.ce
-00015c90: 6e74 6572 2c20 722c 2073 656c 662e 7769  nter, r, self.wi
-00015ca0: 6474 682c 2073 656c 662e 616e 676c 6529  dth, self.angle)
-00015cb0: 0a0a 2020 2020 6465 6620 7365 745f 6365  ..    def set_ce
-00015cc0: 6e74 6572 2873 656c 662c 2078 7929 3a0a  nter(self, xy):.
-00015cd0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00015ce0: 2020 2020 5365 7420 7468 6520 6365 6e74      Set the cent
-00015cf0: 6572 206f 6620 7468 6520 616e 6e75 6c75  er of the annulu
-00015d00: 732e 0a20 2020 2020 2020 2050 6172 616d  s..        Param
-00015d10: 6574 6572 730a 2020 2020 2020 2020 2d2d  eters.        --
-00015d20: 2d2d 2d2d 2d2d 2d2d 0a20 2020 2020 2020  --------.       
-00015d30: 2078 7920 3a20 2866 6c6f 6174 2c20 666c   xy : (float, fl
-00015d40: 6f61 7429 0a20 2020 2020 2020 2022 2222  oat).        """
-00015d50: 0a20 2020 2020 2020 2073 656c 662e 5f63  .        self._c
-00015d60: 656e 7465 7220 3d20 7879 0a20 2020 2020  enter = xy.     
-00015d70: 2020 2073 656c 662e 5f70 6174 6820 3d20     self._path = 
-00015d80: 4e6f 6e65 0a20 2020 2020 2020 2073 656c  None.        sel
-00015d90: 662e 7374 616c 6520 3d20 5472 7565 0a0a  f.stale = True..
-00015da0: 2020 2020 6465 6620 6765 745f 6365 6e74      def get_cent
-00015db0: 6572 2873 656c 6629 3a0a 2020 2020 2020  er(self):.      
-00015dc0: 2020 2222 2252 6574 7572 6e20 7468 6520    """Return the 
-00015dd0: 6365 6e74 6572 206f 6620 7468 6520 616e  center of the an
-00015de0: 6e75 6c75 732e 2222 220a 2020 2020 2020  nulus.""".      
-00015df0: 2020 7265 7475 726e 2073 656c 662e 5f63    return self._c
-00015e00: 656e 7465 720a 0a20 2020 2063 656e 7465  enter..    cente
-00015e10: 7220 3d20 7072 6f70 6572 7479 2867 6574  r = property(get
-00015e20: 5f63 656e 7465 722c 2073 6574 5f63 656e  _center, set_cen
-00015e30: 7465 7229 0a0a 2020 2020 6465 6620 7365  ter)..    def se
-00015e40: 745f 7769 6474 6828 7365 6c66 2c20 7769  t_width(self, wi
-00015e50: 6474 6829 3a0a 2020 2020 2020 2020 2222  dth):.        ""
-00015e60: 220a 2020 2020 2020 2020 5365 7420 7468  ".        Set th
-00015e70: 6520 7769 6474 6820 2874 6869 636b 6e65  e width (thickne
-00015e80: 7373 2920 6f66 2074 6865 2061 6e6e 756c  ss) of the annul
-00015e90: 7573 2072 696e 672e 0a20 2020 2020 2020  us ring..       
-00015ea0: 2054 6865 2077 6964 7468 2069 7320 6d65   The width is me
-00015eb0: 6173 7572 6564 2069 6e77 6172 6473 2066  asured inwards f
-00015ec0: 726f 6d20 7468 6520 6f75 7465 7220 656c  rom the outer el
-00015ed0: 6c69 7073 652e 0a20 2020 2020 2020 2050  lipse..        P
-00015ee0: 6172 616d 6574 6572 730a 2020 2020 2020  arameters.      
-00015ef0: 2020 2d2d 2d2d 2d2d 2d2d 2d2d 0a20 2020    ----------.   
-00015f00: 2020 2020 2077 6964 7468 203a 2066 6c6f       width : flo
-00015f10: 6174 0a20 2020 2020 2020 2022 2222 0a20  at.        """. 
-00015f20: 2020 2020 2020 2069 6620 6d69 6e28 7365         if min(se
-00015f30: 6c66 2e61 2c20 7365 6c66 2e62 2920 3c3d  lf.a, self.b) <=
-00015f40: 2077 6964 7468 3a0a 2020 2020 2020 2020   width:.        
-00015f50: 2020 2020 7261 6973 6520 5661 6c75 6545      raise ValueE
-00015f60: 7272 6f72 280a 2020 2020 2020 2020 2020  rror(.          
-00015f70: 2020 2020 2020 2757 6964 7468 206f 6620        'Width of 
-00015f80: 616e 6e75 6c75 7320 6d75 7374 2062 6520  annulus must be 
-00015f90: 6c65 7373 2074 6861 6e20 6f72 2065 7175  less than or equ
-00015fa0: 616c 2073 656d 692d 6d69 6e6f 7220 6178  al semi-minor ax
-00015fb0: 6973 2729 0a0a 2020 2020 2020 2020 7365  is')..        se
-00015fc0: 6c66 2e5f 7769 6474 6820 3d20 7769 6474  lf._width = widt
-00015fd0: 680a 2020 2020 2020 2020 7365 6c66 2e5f  h.        self._
-00015fe0: 7061 7468 203d 204e 6f6e 650a 2020 2020  path = None.    
-00015ff0: 2020 2020 7365 6c66 2e73 7461 6c65 203d      self.stale =
-00016000: 2054 7275 650a 0a20 2020 2064 6566 2067   True..    def g
-00016010: 6574 5f77 6964 7468 2873 656c 6629 3a0a  et_width(self):.
-00016020: 2020 2020 2020 2020 2222 2252 6574 7572          """Retur
-00016030: 6e20 7468 6520 7769 6474 6820 2874 6869  n the width (thi
-00016040: 636b 6e65 7373 2920 6f66 2074 6865 2061  ckness) of the a
-00016050: 6e6e 756c 7573 2072 696e 672e 2222 220a  nnulus ring.""".
-00016060: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-00016070: 656c 662e 5f77 6964 7468 0a0a 2020 2020  elf._width..    
-00016080: 7769 6474 6820 3d20 7072 6f70 6572 7479  width = property
-00016090: 2867 6574 5f77 6964 7468 2c20 7365 745f  (get_width, set_
-000160a0: 7769 6474 6829 0a0a 2020 2020 6465 6620  width)..    def 
-000160b0: 7365 745f 616e 676c 6528 7365 6c66 2c20  set_angle(self, 
-000160c0: 616e 676c 6529 3a0a 2020 2020 2020 2020  angle):.        
-000160d0: 2222 220a 2020 2020 2020 2020 5365 7420  """.        Set 
-000160e0: 7468 6520 7469 6c74 2061 6e67 6c65 206f  the tilt angle o
-000160f0: 6620 7468 6520 616e 6e75 6c75 732e 0a20  f the annulus.. 
-00016100: 2020 2020 2020 2050 6172 616d 6574 6572         Parameter
-00016110: 730a 2020 2020 2020 2020 2d2d 2d2d 2d2d  s.        ------
-00016120: 2d2d 2d2d 0a20 2020 2020 2020 2061 6e67  ----.        ang
-00016130: 6c65 203a 2066 6c6f 6174 0a20 2020 2020  le : float.     
-00016140: 2020 2022 2222 0a20 2020 2020 2020 2073     """.        s
-00016150: 656c 662e 5f61 6e67 6c65 203d 2061 6e67  elf._angle = ang
-00016160: 6c65 0a20 2020 2020 2020 2073 656c 662e  le.        self.
-00016170: 5f70 6174 6820 3d20 4e6f 6e65 0a20 2020  _path = None.   
-00016180: 2020 2020 2073 656c 662e 7374 616c 6520       self.stale 
-00016190: 3d20 5472 7565 0a0a 2020 2020 6465 6620  = True..    def 
-000161a0: 6765 745f 616e 676c 6528 7365 6c66 293a  get_angle(self):
-000161b0: 0a20 2020 2020 2020 2022 2222 5265 7475  .        """Retu
-000161c0: 726e 2074 6865 2061 6e67 6c65 206f 6620  rn the angle of 
-000161d0: 7468 6520 616e 6e75 6c75 732e 2222 220a  the annulus.""".
-000161e0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-000161f0: 656c 662e 5f61 6e67 6c65 0a0a 2020 2020  elf._angle..    
-00016200: 616e 676c 6520 3d20 7072 6f70 6572 7479  angle = property
-00016210: 2867 6574 5f61 6e67 6c65 2c20 7365 745f  (get_angle, set_
-00016220: 616e 676c 6529 0a0a 2020 2020 6465 6620  angle)..    def 
-00016230: 7365 745f 7365 6d69 6d61 6a6f 7228 7365  set_semimajor(se
-00016240: 6c66 2c20 6129 3a0a 2020 2020 2020 2020  lf, a):.        
-00016250: 2222 220a 2020 2020 2020 2020 5365 7420  """.        Set 
-00016260: 7468 6520 7365 6d69 2d6d 616a 6f72 2061  the semi-major a
-00016270: 7869 7320 2a61 2a20 6f66 2074 6865 2061  xis *a* of the a
-00016280: 6e6e 756c 7573 2e0a 2020 2020 2020 2020  nnulus..        
-00016290: 5061 7261 6d65 7465 7273 0a20 2020 2020  Parameters.     
-000162a0: 2020 202d 2d2d 2d2d 2d2d 2d2d 2d0a 2020     ----------.  
-000162b0: 2020 2020 2020 6120 3a20 666c 6f61 740a        a : float.
-000162c0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-000162d0: 2020 2020 7365 6c66 2e61 203d 2066 6c6f      self.a = flo
-000162e0: 6174 2861 290a 2020 2020 2020 2020 7365  at(a).        se
-000162f0: 6c66 2e5f 7061 7468 203d 204e 6f6e 650a  lf._path = None.
-00016300: 2020 2020 2020 2020 7365 6c66 2e73 7461          self.sta
-00016310: 6c65 203d 2054 7275 650a 0a20 2020 2064  le = True..    d
-00016320: 6566 2073 6574 5f73 656d 696d 696e 6f72  ef set_semiminor
-00016330: 2873 656c 662c 2062 293a 0a20 2020 2020  (self, b):.     
-00016340: 2020 2022 2222 0a20 2020 2020 2020 2053     """.        S
-00016350: 6574 2074 6865 2073 656d 692d 6d69 6e6f  et the semi-mino
-00016360: 7220 6178 6973 202a 622a 206f 6620 7468  r axis *b* of th
-00016370: 6520 616e 6e75 6c75 732e 0a20 2020 2020  e annulus..     
-00016380: 2020 2050 6172 616d 6574 6572 730a 2020     Parameters.  
-00016390: 2020 2020 2020 2d2d 2d2d 2d2d 2d2d 2d2d        ----------
-000163a0: 0a20 2020 2020 2020 2062 203a 2066 6c6f  .        b : flo
-000163b0: 6174 0a20 2020 2020 2020 2022 2222 0a20  at.        """. 
-000163c0: 2020 2020 2020 2073 656c 662e 6220 3d20         self.b = 
-000163d0: 666c 6f61 7428 6229 0a20 2020 2020 2020  float(b).       
-000163e0: 2073 656c 662e 5f70 6174 6820 3d20 4e6f   self._path = No
-000163f0: 6e65 0a20 2020 2020 2020 2073 656c 662e  ne.        self.
-00016400: 7374 616c 6520 3d20 5472 7565 0a0a 2020  stale = True..  
-00016410: 2020 6465 6620 7365 745f 7261 6469 6928    def set_radii(
-00016420: 7365 6c66 2c20 7229 3a0a 2020 2020 2020  self, r):.      
-00016430: 2020 2222 220a 2020 2020 2020 2020 5365    """.        Se
-00016440: 7420 7468 6520 7365 6d69 2d6d 616a 6f72  t the semi-major
-00016450: 2028 2a61 2a29 2061 6e64 2073 656d 692d   (*a*) and semi-
-00016460: 6d69 6e6f 7220 7261 6469 6920 282a 622a  minor radii (*b*
-00016470: 2920 6f66 2074 6865 2061 6e6e 756c 7573  ) of the annulus
-00016480: 2e0a 2020 2020 2020 2020 5061 7261 6d65  ..        Parame
-00016490: 7465 7273 0a20 2020 2020 2020 202d 2d2d  ters.        ---
-000164a0: 2d2d 2d2d 2d2d 2d0a 2020 2020 2020 2020  -------.        
-000164b0: 7220 3a20 666c 6f61 7420 6f72 2028 666c  r : float or (fl
-000164c0: 6f61 742c 2066 6c6f 6174 290a 2020 2020  oat, float).    
-000164d0: 2020 2020 2020 2020 5468 6520 7261 6469          The radi
-000164e0: 7573 2c20 6f72 2073 656d 692d 6178 6573  us, or semi-axes
-000164f0: 3a0a 2020 2020 2020 2020 2020 2020 2d20  :.            - 
-00016500: 4966 2066 6c6f 6174 3a20 7261 6469 7573  If float: radius
-00016510: 206f 6620 7468 6520 6f75 7465 7220 6369   of the outer ci
-00016520: 7263 6c65 2e0a 2020 2020 2020 2020 2020  rcle..          
-00016530: 2020 2d20 4966 2074 776f 2066 6c6f 6174    - If two float
-00016540: 733a 2073 656d 692d 6d61 6a6f 7220 616e  s: semi-major an
-00016550: 6420 2d6d 696e 6f72 2061 7865 7320 6f66  d -minor axes of
-00016560: 206f 7574 6572 2065 6c6c 6970 7365 2e0a   outer ellipse..
-00016570: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00016580: 2020 2020 6966 206e 702e 7368 6170 6528      if np.shape(
-00016590: 7229 203d 3d20 2832 2c29 3a0a 2020 2020  r) == (2,):.    
-000165a0: 2020 2020 2020 2020 7365 6c66 2e61 2c20          self.a, 
-000165b0: 7365 6c66 2e62 203d 2072 0a20 2020 2020  self.b = r.     
-000165c0: 2020 2065 6c69 6620 6e70 2e73 6861 7065     elif np.shape
-000165d0: 2872 2920 3d3d 2028 293a 0a20 2020 2020  (r) == ():.     
-000165e0: 2020 2020 2020 2073 656c 662e 6120 3d20         self.a = 
-000165f0: 7365 6c66 2e62 203d 2066 6c6f 6174 2872  self.b = float(r
-00016600: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
-00016610: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00016620: 6520 5661 6c75 6545 7272 6f72 2822 5061  e ValueError("Pa
-00016630: 7261 6d65 7465 7220 2772 2720 6d75 7374  rameter 'r' must
-00016640: 2062 6520 6f6e 6520 6f72 2074 776f 2066   be one or two f
-00016650: 6c6f 6174 732e 2229 0a0a 2020 2020 2020  loats.")..      
-00016660: 2020 7365 6c66 2e5f 7061 7468 203d 204e    self._path = N
-00016670: 6f6e 650a 2020 2020 2020 2020 7365 6c66  one.        self
-00016680: 2e73 7461 6c65 203d 2054 7275 650a 0a20  .stale = True.. 
-00016690: 2020 2064 6566 2067 6574 5f72 6164 6969     def get_radii
-000166a0: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-000166b0: 2222 2252 6574 7572 6e20 7468 6520 7365  """Return the se
-000166c0: 6d69 2d6d 616a 6f72 2061 6e64 2073 656d  mi-major and sem
-000166d0: 692d 6d69 6e6f 7220 7261 6469 6920 6f66  i-minor radii of
-000166e0: 2074 6865 2061 6e6e 756c 7573 2e22 2222   the annulus."""
-000166f0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00016700: 7365 6c66 2e61 2c20 7365 6c66 2e62 0a0a  self.a, self.b..
-00016710: 2020 2020 7261 6469 6920 3d20 7072 6f70      radii = prop
-00016720: 6572 7479 2867 6574 5f72 6164 6969 2c20  erty(get_radii, 
-00016730: 7365 745f 7261 6469 6929 0a0a 2020 2020  set_radii)..    
-00016740: 6465 6620 5f74 7261 6e73 666f 726d 5f76  def _transform_v
-00016750: 6572 7473 2873 656c 662c 2076 6572 7473  erts(self, verts
-00016760: 2c20 612c 2062 293a 0a20 2020 2020 2020  , a, b):.       
-00016770: 2072 6574 7572 6e20 4166 6669 6e65 3244   return Affine2D
-00016780: 2829 205c 0a20 2020 2020 2020 2020 2020  () \.           
-00016790: 202e 7363 616c 6528 2a73 656c 662e 5f63   .scale(*self._c
-000167a0: 6f6e 7665 7274 5f78 795f 756e 6974 7328  onvert_xy_units(
-000167b0: 2861 2c20 6229 2929 205c 0a20 2020 2020  (a, b))) \.     
-000167c0: 2020 2020 2020 202e 726f 7461 7465 5f64         .rotate_d
-000167d0: 6567 2873 656c 662e 616e 676c 6529 205c  eg(self.angle) \
-000167e0: 0a20 2020 2020 2020 2020 2020 202e 7472  .            .tr
-000167f0: 616e 736c 6174 6528 2a73 656c 662e 5f63  anslate(*self._c
-00016800: 6f6e 7665 7274 5f78 795f 756e 6974 7328  onvert_xy_units(
-00016810: 7365 6c66 2e63 656e 7465 7229 2920 5c0a  self.center)) \.
-00016820: 2020 2020 2020 2020 2020 2020 2e74 7261              .tra
-00016830: 6e73 666f 726d 2876 6572 7473 290a 0a20  nsform(verts).. 
-00016840: 2020 2064 6566 205f 7265 636f 6d70 7574     def _recomput
-00016850: 655f 7061 7468 2873 656c 6629 3a0a 2020  e_path(self):.  
-00016860: 2020 2020 2020 2320 6369 7263 756c 6172        # circular
-00016870: 2061 7263 0a20 2020 2020 2020 2061 7263   arc.        arc
-00016880: 203d 2050 6174 682e 6172 6328 302c 2033   = Path.arc(0, 3
-00016890: 3630 290a 0a20 2020 2020 2020 2023 2061  60)..        # a
-000168a0: 6e6e 756c 7573 206e 6565 6473 2074 6f20  nnulus needs to 
-000168b0: 6472 6177 2061 6e20 6f75 7465 7220 7269  draw an outer ri
-000168c0: 6e67 0a20 2020 2020 2020 2023 2066 6f6c  ng.        # fol
-000168d0: 6c6f 7765 6420 6279 2061 2072 6576 6572  lowed by a rever
-000168e0: 7365 6420 616e 6420 7363 616c 6564 2069  sed and scaled i
-000168f0: 6e6e 6572 2072 696e 670a 2020 2020 2020  nner ring.      
-00016900: 2020 612c 2062 2c20 7720 3d20 7365 6c66    a, b, w = self
-00016910: 2e61 2c20 7365 6c66 2e62 2c20 7365 6c66  .a, self.b, self
-00016920: 2e77 6964 7468 0a20 2020 2020 2020 2076  .width.        v
-00016930: 3120 3d20 7365 6c66 2e5f 7472 616e 7366  1 = self._transf
-00016940: 6f72 6d5f 7665 7274 7328 6172 632e 7665  orm_verts(arc.ve
-00016950: 7274 6963 6573 2c20 612c 2062 290a 2020  rtices, a, b).  
-00016960: 2020 2020 2020 7632 203d 2073 656c 662e        v2 = self.
-00016970: 5f74 7261 6e73 666f 726d 5f76 6572 7473  _transform_verts
-00016980: 2861 7263 2e76 6572 7469 6365 735b 3a3a  (arc.vertices[::
-00016990: 2d31 5d2c 2061 202d 2077 2c20 6220 2d20  -1], a - w, b - 
-000169a0: 7729 0a20 2020 2020 2020 2076 203d 206e  w).        v = n
-000169b0: 702e 7673 7461 636b 285b 7631 2c20 7632  p.vstack([v1, v2
-000169c0: 2c20 7631 5b30 2c20 3a5d 2c20 2830 2c20  , v1[0, :], (0, 
-000169d0: 3029 5d29 0a20 2020 2020 2020 2063 203d  0)]).        c =
-000169e0: 206e 702e 6873 7461 636b 285b 6172 632e   np.hstack([arc.
-000169f0: 636f 6465 732c 2050 6174 682e 4d4f 5645  codes, Path.MOVE
-00016a00: 544f 2c0a 2020 2020 2020 2020 2020 2020  TO,.            
-00016a10: 2020 2020 2020 2020 2020 2061 7263 2e63             arc.c
-00016a20: 6f64 6573 5b31 3a5d 2c20 5061 7468 2e4d  odes[1:], Path.M
-00016a30: 4f56 4554 4f2c 0a20 2020 2020 2020 2020  OVETO,.         
-00016a40: 2020 2020 2020 2020 2020 2020 2020 5061                Pa
-00016a50: 7468 2e43 4c4f 5345 504f 4c59 5d29 0a20  th.CLOSEPOLY]). 
-00016a60: 2020 2020 2020 2073 656c 662e 5f70 6174         self._pat
-00016a70: 6820 3d20 5061 7468 2876 2c20 6329 0a0a  h = Path(v, c)..
-00016a80: 2020 2020 6465 6620 6765 745f 7061 7468      def get_path
-00016a90: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-00016aa0: 6966 2073 656c 662e 5f70 6174 6820 6973  if self._path is
-00016ab0: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-00016ac0: 2020 2073 656c 662e 5f72 6563 6f6d 7075     self._recompu
-00016ad0: 7465 5f70 6174 6828 290a 2020 2020 2020  te_path().      
-00016ae0: 2020 7265 7475 726e 2073 656c 662e 5f70    return self._p
-00016af0: 6174 680a 0a0a 636c 6173 7320 4772 6170  ath...class Grap
-00016b00: 6841 7274 6973 7428 4172 7469 7374 293a  hArtist(Artist):
-00016b10: 0a20 2020 2022 2222 0a20 2020 204d 6174  .    """.    Mat
-00016b20: 706c 6f74 6c69 6220 6172 7469 7374 2063  plotlib artist c
-00016b30: 6c61 7373 2074 6861 7420 6472 6177 7320  lass that draws 
-00016b40: 6967 7261 7068 2067 7261 7068 732e 0a0a  igraph graphs...
-00016b50: 2020 2020 4f6e 6c79 2043 6169 726f 2d62      Only Cairo-b
-00016b60: 6173 6564 2062 6163 6b65 6e64 7320 6172  ased backends ar
-00016b70: 6520 7375 7070 6f72 7465 642e 0a0a 2020  e supported...  
-00016b80: 2020 4164 6170 7465 6420 6672 6f6d 3a20    Adapted from: 
-00016b90: 6874 7470 733a 2f2f 7374 6163 6b6f 7665  https://stackove
-00016ba0: 7266 6c6f 772e 636f 6d2f 612f 3336 3135  rflow.com/a/3615
-00016bb0: 3430 3737 2f35 3936 3233 3231 0a20 2020  4077/5962321.   
-00016bc0: 2022 2222 0a0a 2020 2020 6465 6620 5f5f   """..    def __
-00016bd0: 696e 6974 5f5f 2873 656c 662c 2067 7261  init__(self, gra
-00016be0: 7068 2c20 6178 6973 2c20 7061 6c65 7474  ph, axis, palett
-00016bf0: 653d 4e6f 6e65 2c20 2a61 7267 732c 202a  e=None, *args, *
-00016c00: 2a6b 7764 7329 3a0a 2020 2020 2020 2020  *kwds):.        
-00016c10: 2222 2243 6f6e 7374 7275 6374 7320 6120  """Constructs a 
-00016c20: 6772 6170 6820 6172 7469 7374 2074 6861  graph artist tha
-00016c30: 7420 6472 6177 7320 7468 6520 6769 7665  t draws the give
-00016c40: 6e20 6772 6170 6820 7769 7468 696e 0a20  n graph within. 
-00016c50: 2020 2020 2020 2074 6865 2067 6976 656e         the given
-00016c60: 2062 6f75 6e64 696e 6720 626f 782e 0a0a   bounding box...
-00016c70: 2020 2020 2020 2020 6067 7261 7068 6020          `graph` 
-00016c80: 6d75 7374 2062 6520 616e 2069 6e73 7461  must be an insta
-00016c90: 6e63 6520 6f66 2060 6967 7261 7068 2e47  nce of `igraph.G
-00016ca0: 7261 7068 602e 0a20 2020 2020 2020 2060  raph`..        `
-00016cb0: 6262 6f78 6020 6d75 7374 2065 6974 6865  bbox` must eithe
-00016cc0: 7220 6265 2061 6e20 696e 7374 616e 6365  r be an instance
-00016cd0: 206f 6620 6069 6772 6170 682e 6472 6177   of `igraph.draw
-00016ce0: 696e 672e 426f 756e 6469 6e67 426f 7860  ing.BoundingBox`
-00016cf0: 0a20 2020 2020 2020 206f 7220 6120 342d  .        or a 4-
-00016d00: 7475 706c 6520 2860 6c65 6674 602c 2060  tuple (`left`, `
-00016d10: 746f 7060 2c20 6077 6964 7468 602c 2060  top`, `width`, `
-00016d20: 6865 6967 6874 6029 2e20 5468 6520 7475  height`). The tu
-00016d30: 706c 650a 2020 2020 2020 2020 7769 6c6c  ple.        will
-00016d40: 2062 6520 7061 7373 6564 206f 6e20 746f   be passed on to
-00016d50: 2074 6865 2063 6f6e 7374 7275 6374 6f72   the constructor
-00016d60: 206f 6620 6042 6f75 6e64 696e 6742 6f78   of `BoundingBox
-00016d70: 602e 0a20 2020 2020 2020 2060 7061 6c65  `..        `pale
-00016d80: 7474 6560 2069 7320 616e 2069 6772 6170  tte` is an igrap
-00016d90: 6820 7061 6c65 7474 6520 7468 6174 2069  h palette that i
-00016da0: 7320 7573 6564 2074 6f20 7472 616e 7366  s used to transf
-00016db0: 6f72 6d0a 2020 2020 2020 2020 6e75 6d65  orm.        nume
-00016dc0: 7269 6320 636f 6c6f 7220 4944 7320 746f  ric color IDs to
-00016dd0: 2052 4742 2076 616c 7565 732e 2049 6620   RGB values. If 
-00016de0: 604e 6f6e 6560 2c20 6120 6465 6661 756c  `None`, a defaul
-00016df0: 7420 6772 6179 7363 616c 650a 2020 2020  t grayscale.    
-00016e00: 2020 2020 7061 6c65 7474 6520 6973 2075      palette is u
-00016e10: 7365 6420 6672 6f6d 2069 6772 6170 682e  sed from igraph.
-00016e20: 0a0a 2020 2020 2020 2020 416c 6c20 7468  ..        All th
-00016e30: 6520 7265 6d61 696e 696e 6720 706f 7369  e remaining posi
-00016e40: 7469 6f6e 616c 2061 6e64 206b 6579 776f  tional and keywo
-00016e50: 7264 2061 7267 756d 656e 7473 2061 7265  rd arguments are
-00016e60: 2070 6173 7365 640a 2020 2020 2020 2020   passed.        
-00016e70: 6f6e 2069 6e74 6163 7420 746f 2060 6967  on intact to `ig
-00016e80: 7261 7068 2e47 7261 7068 2e5f 5f70 6c6f  raph.Graph.__plo
-00016e90: 745f 5f60 2e0a 2020 2020 2020 2020 2222  t__`..        ""
-00016ea0: 220a 2020 2020 2020 2020 6672 6f6d 2069  ".        from i
-00016eb0: 6772 6170 6820 696d 706f 7274 2042 6f75  graph import Bou
-00016ec0: 6e64 696e 6742 6f78 2c20 7061 6c65 7474  ndingBox, palett
-00016ed0: 6573 0a0a 2020 2020 2020 2020 7375 7065  es..        supe
-00016ee0: 7228 292e 5f5f 696e 6974 5f5f 2829 0a0a  r().__init__()..
-00016ef0: 2020 2020 2020 2020 7365 6c66 2e67 7261          self.gra
-00016f00: 7068 203d 2067 7261 7068 0a20 2020 2020  ph = graph.     
-00016f10: 2020 2073 656c 662e 7061 6c65 7474 6520     self.palette 
-00016f20: 3d20 7061 6c65 7474 6520 6f72 2070 616c  = palette or pal
-00016f30: 6574 7465 735b 2267 7261 7922 5d0a 2020  ettes["gray"].  
-00016f40: 2020 2020 2020 7365 6c66 2e62 626f 7820        self.bbox 
-00016f50: 3d20 426f 756e 6469 6e67 426f 7828 6178  = BoundingBox(ax
-00016f60: 6973 2e62 626f 782e 626f 756e 6473 290a  is.bbox.bounds).
-00016f70: 2020 2020 2020 2020 7365 6c66 2e61 7267          self.arg
-00016f80: 7320 3d20 6172 6773 0a20 2020 2020 2020  s = args.       
-00016f90: 2073 656c 662e 6b77 6473 203d 206b 7764   self.kwds = kwd
-00016fa0: 730a 0a20 2020 2064 6566 2064 7261 7728  s..    def draw(
-00016fb0: 7365 6c66 2c20 7265 6e64 6572 6572 293a  self, renderer):
-00016fc0: 0a20 2020 2020 2020 2066 726f 6d20 6d61  .        from ma
-00016fd0: 7470 6c6f 746c 6962 2e62 6163 6b65 6e64  tplotlib.backend
-00016fe0: 732e 6261 636b 656e 645f 6361 6972 6f20  s.backend_cairo 
-00016ff0: 696d 706f 7274 2052 656e 6465 7265 7243  import RendererC
-00017000: 6169 726f 0a0a 2020 2020 2020 2020 6966  airo..        if
-00017010: 206e 6f74 2069 7369 6e73 7461 6e63 6528   not isinstance(
-00017020: 7265 6e64 6572 6572 2c20 5265 6e64 6572  renderer, Render
-00017030: 6572 4361 6972 6f29 3a0a 2020 2020 2020  erCairo):.      
-00017040: 2020 2020 2020 7261 6973 6520 5479 7065        raise Type
-00017050: 4572 726f 7228 0a20 2020 2020 2020 2020  Error(.         
-00017060: 2020 2020 2020 2022 6772 6170 6820 706c         "graph pl
-00017070: 6f74 7469 6e67 2069 7320 7375 7070 6f72  otting is suppor
-00017080: 7465 6420 6f6e 6c79 206f 6e20 4361 6972  ted only on Cair
-00017090: 6f20 6261 636b 656e 6473 2229 0a0a 2020  o backends")..  
-000170a0: 2020 2020 2020 7365 6c66 2e67 7261 7068        self.graph
-000170b0: 2e5f 5f70 6c6f 745f 5f28 7265 6e64 6572  .__plot__(render
-000170c0: 6572 2e67 632e 6374 782c 2073 656c 662e  er.gc.ctx, self.
-000170d0: 6262 6f78 2c20 7365 6c66 2e70 616c 6574  bbox, self.palet
-000170e0: 7465 2c0a 2020 2020 2020 2020 2020 2020  te,.            
-000170f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017100: 2a73 656c 662e 6172 6773 2c20 2a2a 7365  *self.args, **se
-00017110: 6c66 2e6b 7764 7329 0a                   lf.kwds).
+00012540: 2020 7661 6c75 6573 203d 206e 6574 776f    values = netwo
+00012550: 726b 2e67 6574 5f62 6574 7765 656e 6e65  rk.get_betweenne
+00012560: 7373 280a 2020 2020 2020 2020 2020 2020  ss(.            
+00012570: 2020 2020 2020 2020 2020 2020 226e 6f64              "nod
+00012580: 6522 295b 7265 7374 7269 6374 5f6e 6f64  e")[restrict_nod
+00012590: 6573 5d0a 2020 2020 2020 2020 2020 2020  es].            
+000125a0: 656c 6966 206e 636f 6c6f 7220 696e 206e  elif ncolor in n
+000125b0: 6574 776f 726b 2e6e 6f64 655f 6174 7472  etwork.node_attr
+000125c0: 6962 7574 6573 3a0a 2020 2020 2020 2020  ibutes:.        
+000125d0: 2020 2020 2020 2020 7661 6c75 6573 203d          values =
+000125e0: 206e 6574 776f 726b 2e67 6574 5f6e 6f64   network.get_nod
+000125f0: 655f 6174 7472 6962 7574 6573 280a 2020  e_attributes(.  
+00012600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012610: 2020 6e61 6d65 3d6e 636f 6c6f 722c 206e    name=ncolor, n
+00012620: 6f64 6573 3d72 6573 7472 6963 745f 6e6f  odes=restrict_no
+00012630: 6465 7329 0a20 2020 2020 2020 2020 2020  des).           
+00012640: 2065 6c69 6620 6e63 6f6c 6f72 203d 3d20   elif ncolor == 
+00012650: 2263 6c75 7374 6572 696e 6722 3a0a 2020  "clustering":.  
+00012660: 2020 2020 2020 2020 2020 2020 2020 7661                va
+00012670: 6c75 6573 203d 206e 6e67 742e 616e 616c  lues = nngt.anal
+00012680: 7973 6973 2e6c 6f63 616c 5f63 6c75 7374  ysis.local_clust
+00012690: 6572 696e 6728 0a20 2020 2020 2020 2020  ering(.         
+000126a0: 2020 2020 2020 2020 2020 206e 6574 776f             netwo
+000126b0: 726b 2c20 6e6f 6465 733d 7265 7374 7269  rk, nodes=restri
+000126c0: 6374 5f6e 6f64 6573 290a 2020 2020 2020  ct_nodes).      
+000126d0: 2020 2020 2020 656c 6966 206e 636f 6c6f        elif ncolo
+000126e0: 7220 696e 206e 6e67 742e 616e 616c 797a  r in nngt.analyz
+000126f0: 655f 6772 6170 683a 0a20 2020 2020 2020  e_graph:.       
+00012700: 2020 2020 2020 2020 2069 6620 7265 7374           if rest
+00012710: 7269 6374 5f6e 6f64 6573 2069 7320 4e6f  rict_nodes is No
+00012720: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
+00012730: 2020 2020 2020 2020 7661 6c75 6573 203d          values =
+00012740: 206e 6e67 742e 616e 616c 797a 655f 6772   nngt.analyze_gr
+00012750: 6170 685b 6e63 6f6c 6f72 5d28 6e65 7477  aph[ncolor](netw
+00012760: 6f72 6b29 0a20 2020 2020 2020 2020 2020  ork).           
+00012770: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+00012780: 2020 2020 2020 2020 2020 2020 2020 2076                 v
+00012790: 616c 7565 7320 3d20 6e6e 6774 2e61 6e61  alues = nngt.ana
+000127a0: 6c79 7a65 5f67 7261 7068 5b6e 636f 6c6f  lyze_graph[ncolo
+000127b0: 725d 280a 2020 2020 2020 2020 2020 2020  r](.            
+000127c0: 2020 2020 2020 2020 2020 2020 6e65 7477              netw
+000127d0: 6f72 6b29 5b72 6573 7472 6963 745f 6e6f  ork)[restrict_no
+000127e0: 6465 735d 0a20 2020 2020 2020 2020 2020  des].           
+000127f0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00012800: 2020 2020 2020 2072 6169 7365 2052 756e         raise Run
+00012810: 7469 6d65 4572 726f 7228 2249 6e76 616c  timeError("Inval
+00012820: 6964 2060 6e63 6f6c 6f72 603a 207b 7d2e  id `ncolor`: {}.
+00012830: 222e 666f 726d 6174 286e 636f 6c6f 7229  ".format(ncolor)
+00012840: 290a 0a20 2020 2020 2020 2020 2020 2069  )..            i
+00012850: 6620 7661 6c75 6573 2069 7320 6e6f 7420  f values is not 
+00012860: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+00012870: 2020 2020 2020 766d 696e 2c20 766d 6178        vmin, vmax
+00012880: 203d 206e 702e 6d69 6e28 7661 6c75 6573   = np.min(values
+00012890: 292c 206e 702e 6d61 7828 7661 6c75 6573  ), np.max(values
+000128a0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+000128b0: 2020 636f 6c6f 7220 3d20 7661 6c75 6573    color = values
+000128c0: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000128d0: 2020 6e6c 6162 656c 203d 2022 4e6f 6465    nlabel = "Node
+000128e0: 2022 202b 206e 636f 6c6f 722e 7265 706c   " + ncolor.repl
+000128f0: 6163 6528 225f 222c 2022 2022 290a 2020  ace("_", " ").  
+00012900: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00012910: 7476 616c 203d 2073 6574 2876 616c 7565  tval = set(value
+00012920: 7329 0a20 2020 2020 2020 2020 2020 2020  s).             
+00012930: 2020 2069 6620 6c65 6e28 7365 7476 616c     if len(setval
+00012940: 2920 3c3d 2031 303a 0a20 2020 2020 2020  ) <= 10:.       
+00012950: 2020 2020 2020 2020 2020 2020 206e 7469               nti
+00012960: 636b 7320 3d20 6c69 7374 2873 6574 7661  cks = list(setva
+00012970: 6c29 0a20 2020 2020 2020 2020 2020 2020  l).             
+00012980: 2020 2020 2020 206e 7469 636b 732e 736f         nticks.so
+00012990: 7274 2829 0a20 2020 2020 2020 2020 2020  rt().           
+000129a0: 2020 2020 2020 2020 206e 7469 636b 736c           nticksl
+000129b0: 6162 656c 7320 3d20 6e74 6963 6b73 0a20  abels = nticks. 
+000129c0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+000129d0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+000129e0: 2020 2020 2020 2020 206e 7469 636b 7320           nticks 
+000129f0: 2020 2020 2020 3d20 6e70 2e6c 696e 7370        = np.linsp
+00012a00: 6163 6528 766d 696e 2c20 766d 6178 2c20  ace(vmin, vmax, 
+00012a10: 3130 290a 2020 2020 2020 2020 2020 2020  10).            
+00012a20: 2020 2020 2020 2020 6e74 6963 6b73 6c61          nticksla
+00012a30: 6265 6c73 203d 206e 7469 636b 730a 2020  bels = nticks.  
+00012a40: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00012a50: 6e6c 6162 656c 2020 3d20 2243 7573 746f  nlabel  = "Custo
+00012a60: 6d20 6e6f 6465 2063 6f6c 6f72 7322 0a20  m node colors". 
+00012a70: 2020 2020 2020 2075 6e69 7175 6573 203d         uniques =
+00012a80: 206e 702e 756e 6971 7565 286e 636f 6c6f   np.unique(ncolo
+00012a90: 722c 2061 7869 733d 3029 0a20 2020 2020  r, axis=0).     
+00012aa0: 2020 2069 6620 6c65 6e28 756e 6971 7565     if len(unique
+00012ab0: 7329 203c 3d20 3130 3a0a 2020 2020 2020  s) <= 10:.      
+00012ac0: 2020 2020 2020 6e74 6963 6b73 203d 2075        nticks = u
+00012ad0: 6e69 7175 6573 0a20 2020 2020 2020 2065  niques.        e
+00012ae0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00012af0: 206e 7469 636b 7320 3d20 6e70 2e6c 696e   nticks = np.lin
+00012b00: 7370 6163 6528 6e70 2e6d 696e 286e 636f  space(np.min(nco
+00012b10: 6c6f 7229 2c20 6e70 2e6d 6178 286e 636f  lor), np.max(nco
+00012b20: 6c6f 7229 2c20 3130 290a 2020 2020 2020  lor), 10).      
+00012b30: 2020 6e74 6963 6b73 6c61 6265 6c73 203d    ntickslabels =
+00012b40: 206e 7469 636b 730a 0a20 2020 2072 6574   nticks..    ret
+00012b50: 7572 6e20 636f 6c6f 722c 206e 7469 636b  urn color, ntick
+00012b60: 732c 206e 7469 636b 736c 6162 656c 732c  s, ntickslabels,
+00012b70: 206e 6c61 6265 6c0a 0a0a 6465 6620 5f65   nlabel...def _e
+00012b80: 6467 655f 7072 6f70 286e 6574 776f 726b  dge_prop(network
+00012b90: 2c20 7661 6c75 6529 3a0a 2020 2020 7072  , value):.    pr
+00012ba0: 6f70 203d 2076 616c 7565 0a0a 2020 2020  op = value..    
+00012bb0: 656e 756d 203d 206e 6574 776f 726b 2e65  enum = network.e
+00012bc0: 6467 655f 6e62 2829 0a0a 2020 2020 6966  dge_nb()..    if
+00012bd0: 2069 7369 6e73 7461 6e63 6528 7661 6c75   isinstance(valu
+00012be0: 652c 2073 7472 2920 616e 6420 7661 6c75  e, str) and valu
+00012bf0: 6520 6e6f 7420 696e 2043 6f6c 6f72 436f  e not in ColorCo
+00012c00: 6e76 6572 7465 722e 636f 6c6f 7273 3a0a  nverter.colors:.
+00012c10: 2020 2020 2020 2020 6966 2076 616c 7565          if value
+00012c20: 2069 6e20 6e65 7477 6f72 6b2e 6564 6765   in network.edge
+00012c30: 5f61 7474 7269 6275 7465 733a 0a20 2020  _attributes:.   
+00012c40: 2020 2020 2020 2020 2063 6f6c 6f72 203d           color =
+00012c50: 206e 6574 776f 726b 2e65 6467 655f 6174   network.edge_at
+00012c60: 7472 6962 7574 6573 5b76 616c 7565 5d0a  tributes[value].
+00012c70: 2020 2020 2020 2020 656c 6966 2076 616c          elif val
+00012c80: 7565 203d 3d20 2262 6574 7765 656e 6e65  ue == "betweenne
+00012c90: 7373 223a 0a20 2020 2020 2020 2020 2020  ss":.           
+00012ca0: 2070 726f 7020 3d20 6e65 7477 6f72 6b2e   prop = network.
+00012cb0: 6765 745f 6265 7477 6565 6e6e 6573 7328  get_betweenness(
+00012cc0: 2265 6467 6522 290a 2020 2020 2020 2020  "edge").        
+00012cd0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00012ce0: 2020 7261 6973 6520 5275 6e74 696d 6545    raise RuntimeE
+00012cf0: 7272 6f72 2822 496e 7661 6c69 6420 6076  rror("Invalid `v
+00012d00: 616c 7565 603a 207b 7d2e 222e 666f 726d  alue`: {}.".form
+00012d10: 6174 2876 616c 7565 2929 0a0a 2020 2020  at(value))..    
+00012d20: 7265 7475 726e 2070 726f 700a 0a0a 6465  return prop...de
+00012d30: 6620 5f64 6973 6372 6574 655f 636d 6170  f _discrete_cmap
+00012d40: 284e 2c20 6261 7365 5f63 6d61 703d 4e6f  (N, base_cmap=No
+00012d50: 6e65 2c20 6469 7363 7265 7465 3d46 616c  ne, discrete=Fal
+00012d60: 7365 293a 0a20 2020 2027 2727 0a20 2020  se):.    '''.   
+00012d70: 2043 7265 6174 6520 616e 204e 2d62 696e   Create an N-bin
+00012d80: 2064 6973 6372 6574 6520 636f 6c6f 726d   discrete colorm
+00012d90: 6170 2066 726f 6d20 7468 6520 7370 6563  ap from the spec
+00012da0: 6966 6965 6420 696e 7075 7420 6d61 700a  ified input map.
+00012db0: 0a20 2020 2050 6172 616d 6574 6572 730a  .    Parameters.
+00012dc0: 2020 2020 2d2d 2d2d 2d2d 2d2d 2d2d 0a20      ----------. 
+00012dd0: 2020 204e 203a 206e 756d 6265 7220 6f66     N : number of
+00012de0: 2076 616c 7565 730a 2020 2020 6261 7365   values.    base
+00012df0: 5f63 6d61 7020 3a20 7374 722c 204e 6f6e  _cmap : str, Non
+00012e00: 652c 206f 7220 636d 6170 206f 626a 6563  e, or cmap objec
+00012e10: 740a 2020 2020 636c 6973 7420 3a20 6c69  t.    clist : li
+00012e20: 7374 206f 6620 636f 6c6f 7273 0a0a 2020  st of colors..  
+00012e30: 2020 2320 4d6f 6469 6669 6564 2066 726f    # Modified fro
+00012e40: 6d20 4a61 6b65 2056 616e 6465 7250 6c61  m Jake VanderPla
+00012e50: 730a 2020 2020 2320 4c69 6365 6e73 653a  s.    # License:
+00012e60: 2042 5344 2d73 7479 6c65 0a20 2020 2027   BSD-style.    '
+00012e70: 2727 0a20 2020 2062 6173 6520 3d20 6765  ''.    base = ge
+00012e80: 745f 636d 6170 2862 6173 655f 636d 6170  t_cmap(base_cmap
+00012e90: 2c20 4e29 0a0a 2020 2020 636f 6c6f 725f  , N)..    color_
+00012ea0: 6c69 7374 203d 2062 6173 6528 6e70 2e61  list = base(np.a
+00012eb0: 7261 6e67 6528 4e29 290a 2020 2020 636d  range(N)).    cm
+00012ec0: 6170 5f6e 616d 6520 3d20 6261 7365 2e6e  ap_name = base.n
+00012ed0: 616d 6520 2b20 7374 7228 4e29 0a0a 2020  ame + str(N)..  
+00012ee0: 2020 7472 793a 0a20 2020 2020 2020 2072    try:.        r
+00012ef0: 6574 7572 6e20 6261 7365 2e66 726f 6d5f  eturn base.from_
+00012f00: 6c69 7374 2863 6d61 705f 6e61 6d65 2c20  list(cmap_name, 
+00012f10: 636f 6c6f 725f 6c69 7374 2c20 4e29 0a20  color_list, N). 
+00012f20: 2020 2065 7863 6570 743a 0a20 2020 2020     except:.     
+00012f30: 2020 2072 6574 7572 6e20 4c69 7374 6564     return Listed
+00012f40: 436f 6c6f 726d 6170 2863 6f6c 6f72 5f6c  Colormap(color_l
+00012f50: 6973 742c 2063 6d61 705f 6e61 6d65 2c20  ist, cmap_name, 
+00012f60: 4e3d 4e29 0a0a 0a64 6566 205f 636f 6e76  N=N)...def _conv
+00012f70: 6572 745f 746f 5f6e 6f64 6573 286e 6f64  ert_to_nodes(nod
+00012f80: 655f 7265 7374 7269 6374 696f 6e2c 206e  e_restriction, n
+00012f90: 616d 652c 206e 6574 776f 726b 293a 0a20  ame, network):. 
+00012fa0: 2020 2069 6620 6e6f 6e73 7472 696e 675f     if nonstring_
+00012fb0: 636f 6e74 6169 6e65 7228 6e6f 6465 5f72  container(node_r
+00012fc0: 6573 7472 6963 7469 6f6e 293a 0a20 2020  estriction):.   
+00012fd0: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
+00012fe0: 6365 286e 6f64 655f 7265 7374 7269 6374  ce(node_restrict
+00012ff0: 696f 6e5b 305d 2c20 7374 7229 3a0a 2020  ion[0], str):.  
+00013000: 2020 2020 2020 2020 2020 6173 7365 7274            assert
+00013010: 206e 6574 776f 726b 2e73 7472 7563 7475   network.structu
+00013020: 7265 2069 7320 6e6f 7420 4e6f 6e65 2c20  re is not None, 
+00013030: 5c0a 2020 2020 2020 2020 2020 2020 2020  \.              
+00013040: 2020 2260 2220 2b20 6e61 6d65 202b 2022    "`" + name + "
+00013050: 6020 6361 6e20 6265 2073 7472 696e 6720  ` can be string 
+00013060: 6f6e 6c79 2066 6f72 204e 6574 776f 726b  only for Network
+00013070: 206f 7220 6772 6170 6820 2220 5c0a 2020   or graph " \.  
+00013080: 2020 2020 2020 2020 2020 2020 2020 2277                "w
+00013090: 6974 6820 6120 6073 7472 7563 7475 7265  ith a `structure
+000130a0: 602e 220a 2020 2020 2020 2020 2020 2020  `.".            
+000130b0: 6964 7320 3d20 7365 7428 290a 2020 2020  ids = set().    
+000130c0: 2020 2020 2020 2020 666f 7220 6e61 6d65          for name
+000130d0: 2069 6e20 6e6f 6465 5f72 6573 7472 6963   in node_restric
+000130e0: 7469 6f6e 3a0a 2020 2020 2020 2020 2020  tion:.          
+000130f0: 2020 2020 2020 6964 732e 7570 6461 7465        ids.update
+00013100: 286e 6574 776f 726b 2e73 7472 7563 7475  (network.structu
+00013110: 7265 5b6e 616d 655d 2e69 6473 290a 2020  re[name].ids).  
+00013120: 2020 2020 2020 2020 2020 7265 7475 726e            return
+00013130: 2069 6473 0a20 2020 2020 2020 2065 6c69   ids.        eli
+00013140: 6620 6973 696e 7374 616e 6365 286e 6f64  f isinstance(nod
+00013150: 655f 7265 7374 7269 6374 696f 6e5b 305d  e_restriction[0]
+00013160: 2c20 6e6e 6774 2e47 726f 7570 293a 0a20  , nngt.Group):. 
+00013170: 2020 2020 2020 2020 2020 2069 6473 203d             ids =
+00013180: 2073 6574 2829 0a20 2020 2020 2020 2020   set().         
+00013190: 2020 2066 6f72 2067 2069 6e20 6e6f 6465     for g in node
+000131a0: 5f72 6573 7472 6963 7469 6f6e 3a0a 2020  _restriction:.  
+000131b0: 2020 2020 2020 2020 2020 2020 2020 6964                id
+000131c0: 732e 7570 6461 7465 2867 2e69 6473 290a  s.update(g.ids).
+000131d0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+000131e0: 726e 2069 6473 0a0a 2020 2020 2020 2020  rn ids..        
+000131f0: 7265 7475 726e 2073 6574 286e 6f64 655f  return set(node_
+00013200: 7265 7374 7269 6374 696f 6e29 0a20 2020  restriction).   
+00013210: 2065 6c69 6620 6973 696e 7374 616e 6365   elif isinstance
+00013220: 286e 6f64 655f 7265 7374 7269 6374 696f  (node_restrictio
+00013230: 6e2c 2073 7472 293a 0a20 2020 2020 2020  n, str):.       
+00013240: 2061 7373 6572 7420 6e65 7477 6f72 6b2e   assert network.
+00013250: 6973 5f6e 6574 776f 726b 2829 2c20 5c0a  is_network(), \.
+00013260: 2020 2020 2020 2020 2020 2020 2260 2220              "`" 
+00013270: 2b20 6e61 6d65 202b 2022 6020 6361 6e20  + name + "` can 
+00013280: 6265 2073 7472 696e 6720 6f6e 6c79 2066  be string only f
+00013290: 6f72 204e 6574 776f 726b 2e22 0a20 2020  or Network.".   
+000132a0: 2020 2020 2072 6574 7572 6e20 7365 7428       return set(
+000132b0: 6e65 7477 6f72 6b2e 7374 7275 6374 7572  network.structur
+000132c0: 655b 6e6f 6465 5f72 6573 7472 6963 7469  e[node_restricti
+000132d0: 6f6e 5d2e 6964 7329 0a20 2020 2065 6c69  on].ids).    eli
+000132e0: 6620 6973 696e 7374 616e 6365 286e 6f64  f isinstance(nod
+000132f0: 655f 7265 7374 7269 6374 696f 6e2c 206e  e_restriction, n
+00013300: 6e67 742e 4772 6f75 7029 3a0a 2020 2020  ngt.Group):.    
+00013310: 2020 2020 7265 7475 726e 2073 6574 286e      return set(n
+00013320: 6f64 655f 7265 7374 7269 6374 696f 6e2e  ode_restriction.
+00013330: 6964 7329 0a20 2020 2065 6c69 6620 6e6f  ids).    elif no
+00013340: 6465 5f72 6573 7472 6963 7469 6f6e 2069  de_restriction i
+00013350: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
+00013360: 2020 2020 7261 6973 6520 5661 6c75 6545      raise ValueE
+00013370: 7272 6f72 280a 2020 2020 2020 2020 2020  rror(.          
+00013380: 2020 2249 6e76 616c 6964 2060 2220 2b20    "Invalid `" + 
+00013390: 6e61 6d65 202b 2022 603a 2027 7b7d 2722  name + "`: '{}'"
+000133a0: 2e66 6f72 6d61 7428 6e6f 6465 5f72 6573  .format(node_res
+000133b0: 7472 6963 7469 6f6e 2929 0a0a 2020 2020  triction))..    
+000133c0: 7265 7475 726e 206e 6f64 655f 7265 7374  return node_rest
+000133d0: 7269 6374 696f 6e0a 0a0a 6465 6620 5f63  riction...def _c
+000133e0: 7573 746f 6d5f 6172 726f 7773 2873 6f75  ustom_arrows(sou
+000133f0: 7263 6573 2c20 7461 7267 6574 732c 2061  rces, targets, a
+00013400: 6e67 6c65 293a 0a20 2020 2072 2727 270a  ngle):.    r'''.
+00013410: 2020 2020 4372 6561 7465 2061 2063 7572      Create a cur
+00013420: 7665 6420 6172 726f 7720 6265 7477 6565  ved arrow betwee
+00013430: 6e20 6073 6f75 7263 6560 2061 6e64 2060  n `source` and `
+00013440: 7461 7267 6574 6020 6173 2074 6865 2063  target` as the c
+00013450: 6f6d 6269 6e61 7469 6f6e 206f 660a 2020  ombination of.  
+00013460: 2020 7468 6520 6172 6320 6f66 2061 2063    the arc of a c
+00013470: 6972 636c 6520 616e 6420 6120 7472 6961  ircle and a tria
+00013480: 6e67 6c65 2e0a 0a20 2020 2054 6865 2069  ngle...    The i
+00013490: 6e69 7469 616c 2061 6e64 2066 696e 616c  nitial and final
+000134a0: 2061 6e67 6c65 2024 5c61 6c70 6861 2420   angle $\alpha$ 
+000134b0: 6265 7477 6565 6e20 7468 6520 736f 7572  between the sour
+000134c0: 6365 2d74 6172 6765 7420 6c69 6e65 2061  ce-target line a
+000134d0: 6e64 0a20 2020 2074 6865 2061 7272 6f77  nd.    the arrow
+000134e0: 2069 7320 6c69 6e6b 6564 2074 6f20 7468   is linked to th
+000134f0: 6520 7261 6469 7573 206f 6620 7468 6520  e radius of the 
+00013500: 6369 7263 6c65 2c20 2472 2420 616e 6420  circle, $r$ and 
+00013510: 7468 6520 6469 7374 616e 6365 2024 6424  the distance $d$
+00013520: 0a20 2020 2062 6574 7765 656e 2074 6865  .    between the
+00013530: 2070 6f69 6e74 733a 0a0a 2020 2020 2e2e   points:..    ..
+00013540: 206d 6174 683a 3a20 7220 3d20 5c66 7261   math:: r = \fra
+00013550: 637b 647d 7b32 205c 6364 6f74 205c 7461  c{d}{2 \cdot \ta
+00013560: 6e28 5c61 6c70 6861 297d 0a0a 2020 2020  n(\alpha)}..    
+00013570: 5468 6520 6265 6769 6e6e 696e 6720 616e  The beginning an
+00013580: 6420 7468 6520 656e 6420 6f66 2074 6865  d the end of the
+00013590: 2061 7263 2061 7265 2067 6976 656e 2074   arc are given t
+000135a0: 6872 6f75 6768 2069 6e69 7469 616c 2061  hrough initial a
+000135b0: 6e64 2066 696e 616c 0a20 2020 2061 6e67  nd final.    ang
+000135c0: 6c65 732c 2072 6573 7065 6374 6976 656c  les, respectivel
+000135d0: 7920 245c 7468 6574 615f 3124 2061 6e64  y $\theta_1$ and
+000135e0: 2024 5c74 6865 7461 5f32 242c 2077 6869   $\theta_2$, whi
+000135f0: 6368 2061 7265 2067 6976 656e 2077 6974  ch are given wit
+00013600: 680a 2020 2020 7265 7370 6563 7420 746f  h.    respect to
+00013610: 2074 6865 2079 2d61 7869 733b 2054 6869   the y-axis; Thi
+00013620: 7320 6c65 6164 7320 746f 2024 5c61 6c70  s leads to $\alp
+00013630: 6861 203d 2030 2e35 285c 7468 6574 615f  ha = 0.5(\theta_
+00013640: 3120 2d20 5c74 6865 7461 5f32 2924 2e0a  1 - \theta_2)$..
+00013650: 2020 2020 2727 270a 2020 2020 2320 636f      '''.    # co
+00013660: 6d70 7574 6520 7468 6520 6469 7374 616e  mpute the distan
+00013670: 6365 7320 6265 7477 6565 6e20 7468 6520  ces between the 
+00013680: 706f 696e 7473 0a20 2020 2070 6173 730a  points.    pass.
+00013690: 2020 2020 237e 2023 2063 6f6d 7075 7465      #~ # compute
+000136a0: 2074 6865 2072 6164 6975 7320 616e 6420   the radius and 
+000136b0: 7468 6520 706f 7369 7469 6f6e 206f 6620  the position of 
+000136c0: 7468 6520 6365 6e74 6572 206f 6620 7468  the center of th
+000136d0: 6520 6369 7263 6c65 0a0a 2020 2020 237e  e circle..    #~
+000136e0: 2023 3d3d 3d3d 3d3d 3d3d 4c69 6e65 0a20   #========Line. 
+000136f0: 2020 2023 7e20 6172 6320 3d20 4172 6328     #~ arc = Arc(
+00013700: 5b63 656e 7458 2c63 656e 7459 5d2c 7261  [centX,centY],ra
+00013710: 6469 7573 2c72 6164 6975 732c 616e 676c  dius,radius,angl
+00013720: 653d 616e 676c 655f 2c0a 2020 2020 2020  e=angle_,.      
+00013730: 2020 2020 237e 2074 6865 7461 313d 302c      #~ theta1=0,
+00013740: 7468 6574 6132 3d74 6865 7461 325f 2c63  theta2=theta2_,c
+00013750: 6170 7374 796c 653d 2772 6f75 6e64 272c  apstyle='round',
+00013760: 6c69 6e65 7374 796c 653d 272d 272c 6c77  linestyle='-',lw
+00013770: 3d31 302c 636f 6c6f 723d 636f 6c6f 725f  =10,color=color_
+00013780: 290a 2020 2020 237e 2061 782e 6164 645f  ).    #~ ax.add_
+00013790: 7061 7463 6828 6172 6329 0a0a 0a20 2020  patch(arc)...   
+000137a0: 2023 7e20 233d 3d3d 3d3d 3d3d 3d43 7265   #~ #========Cre
+000137b0: 6174 6520 7468 6520 6172 726f 7720 6865  ate the arrow he
+000137c0: 6164 0a20 2020 2023 7e20 656e 6458 3d63  ad.    #~ endX=c
+000137d0: 656e 7458 2b28 7261 6469 7573 2f32 292a  entX+(radius/2)*
+000137e0: 6e70 2e63 6f73 2872 6164 2874 6865 7461  np.cos(rad(theta
+000137f0: 325f 2b61 6e67 6c65 5f29 2920 2344 6f20  2_+angle_)) #Do 
+00013800: 7472 6967 2074 6f20 6465 7465 726d 696e  trig to determin
+00013810: 6520 656e 6420 706f 7369 7469 6f6e 0a20  e end position. 
+00013820: 2020 2023 7e20 656e 6459 3d63 656e 7459     #~ endY=centY
+00013830: 2b28 7261 6469 7573 2f32 292a 6e70 2e73  +(radius/2)*np.s
+00013840: 696e 2872 6164 2874 6865 7461 325f 2b61  in(rad(theta2_+a
+00013850: 6e67 6c65 5f29 290a 0a20 2020 2023 7e20  ngle_))..    #~ 
+00013860: 6178 2e61 6464 5f70 6174 6368 2820 2020  ax.add_patch(   
+00013870: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013880: 2023 4372 6561 7465 2074 7269 616e 676c   #Create triangl
+00013890: 6520 6173 2061 7272 6f77 2068 6561 640a  e as arrow head.
+000138a0: 2020 2020 2020 2020 237e 2052 6567 756c          #~ Regul
+000138b0: 6172 506f 6c79 676f 6e28 0a20 2020 2020  arPolygon(.     
+000138c0: 2020 2020 2020 2023 7e20 2865 6e64 582c         #~ (endX,
+000138d0: 2065 6e64 5929 2c20 2020 2020 2020 2020   endY),         
+000138e0: 2020 2023 2028 782c 7929 0a20 2020 2020     # (x,y).     
+000138f0: 2020 2020 2020 2023 7e20 332c 2020 2020         #~ 3,    
+00013900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013910: 2020 2023 206e 756d 6265 7220 6f66 2076     # number of v
+00013920: 6572 7469 6365 730a 2020 2020 2020 2020  ertices.        
+00013930: 2020 2020 237e 2072 6164 6975 732f 392c      #~ radius/9,
+00013940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013950: 2320 7261 6469 7573 0a20 2020 2020 2020  # radius.       
+00013960: 2020 2020 2023 7e20 7261 6428 616e 676c       #~ rad(angl
+00013970: 655f 2b74 6865 7461 325f 292c 2020 2020  e_+theta2_),    
+00013980: 2023 206f 7269 656e 7461 7469 6f6e 0a20   # orientation. 
+00013990: 2020 2020 2020 2020 2020 2023 7e20 636f             #~ co
+000139a0: 6c6f 723d 636f 6c6f 725f 0a20 2020 2020  lor=color_.     
+000139b0: 2020 2023 7e20 290a 2020 2020 237e 2029     #~ ).    #~ )
+000139c0: 0a0a 0a64 6566 205f 746f 5f69 675f 636f  ...def _to_ig_co
+000139d0: 6c6f 7228 636f 6c6f 7229 3a0a 2020 2020  lor(color):.    
+000139e0: 696d 706f 7274 2069 6772 6170 6820 6173  import igraph as
+000139f0: 2069 670a 0a20 2020 2069 6620 6973 696e   ig..    if isin
+00013a00: 7374 616e 6365 2863 6f6c 6f72 2c20 7374  stance(color, st
+00013a10: 7229 2061 6e64 2063 6f6c 6f72 206e 6f74  r) and color not
+00013a20: 2069 6e20 6967 2e6b 6e6f 776e 5f63 6f6c   in ig.known_col
+00013a30: 6f72 733a 0a20 2020 2020 2020 2063 6f6c  ors:.        col
+00013a40: 6f72 203d 2073 7472 2843 6f6c 6f72 436f  or = str(ColorCo
+00013a50: 6e76 6572 7465 722e 746f 5f72 6762 2863  nverter.to_rgb(c
+00013a60: 6f6c 6f72 2929 5b31 3a2d 315d 0a20 2020  olor))[1:-1].   
+00013a70: 2065 6c69 6620 6e6f 6e73 7472 696e 675f   elif nonstring_
+00013a80: 636f 6e74 6169 6e65 7228 636f 6c6f 7229  container(color)
+00013a90: 2061 6e64 206c 656e 2863 6f6c 6f72 293a   and len(color):
+00013aa0: 0a20 2020 2020 2020 2023 206e 6565 6420  .        # need 
+00013ab0: 746f 2063 6f6e 7665 7274 2066 6c6f 6174  to convert float
+00013ac0: 696e 6720 706f 696e 7420 636f 6c6f 7273  ing point colors
+00013ad0: 2074 6f20 5b30 2c20 3235 355d 2069 6e74   to [0, 255] int
+00013ae0: 6567 6572 730a 2020 2020 2020 2020 6966  egers.        if
+00013af0: 2069 735f 696e 7465 6765 7228 636f 6c6f   is_integer(colo
+00013b00: 725b 305d 2920 6f72 2069 7369 6e73 7461  r[0]) or isinsta
+00013b10: 6e63 6528 636f 6c6f 725b 305d 2c20 666c  nce(color[0], fl
+00013b20: 6f61 7429 3a0a 2020 2020 2020 2020 2020  oat):.          
+00013b30: 2020 766d 696e 203d 206e 702e 6d69 6e28    vmin = np.min(
+00013b40: 636f 6c6f 7229 0a20 2020 2020 2020 2020  color).         
+00013b50: 2020 2076 6d61 7820 3d20 6e70 2e6d 6178     vmax = np.max
+00013b60: 2863 6f6c 6f72 290a 2020 2020 2020 2020  (color).        
+00013b70: 2020 2020 7669 6e74 203d 2076 6d61 7820      vint = vmax 
+00013b80: 2d20 766d 696e 0a20 2020 2020 2020 2020  - vmin.         
+00013b90: 2020 2069 6620 7669 6e74 203e 2030 3a0a     if vint > 0:.
+00013ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013bb0: 636f 6c6f 7220 3d20 5b69 6e74 2832 3535  color = [int(255
+00013bc0: 202a 2028 7620 2d20 766d 696e 2920 2f20   * (v - vmin) / 
+00013bd0: 7669 6e74 2920 666f 7220 7620 696e 2063  vint) for v in c
+00013be0: 6f6c 6f72 5d0a 2020 2020 2020 2020 2020  olor].          
+00013bf0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00013c00: 2020 2020 2020 2020 636f 6c6f 7220 3d20          color = 
+00013c10: 5b30 5d2a 6c65 6e28 636f 6c6f 7229 0a20  [0]*len(color). 
+00013c20: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00013c30: 2020 2020 2020 2020 2066 6f72 2069 2c20           for i, 
+00013c40: 6320 696e 2065 6e75 6d65 7261 7465 2863  c in enumerate(c
+00013c50: 6f6c 6f72 293a 0a20 2020 2020 2020 2020  olor):.         
+00013c60: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
+00013c70: 616e 6365 2863 6f6c 6f72 2c20 7374 7229  ance(color, str)
+00013c80: 2061 6e64 2063 6f6c 6f72 206e 6f74 2069   and color not i
+00013c90: 6e20 6967 2e6b 6e6f 776e 5f63 6f6c 6f72  n ig.known_color
+00013ca0: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
+00013cb0: 2020 2020 2020 2063 6f6c 6f72 5b69 5d20         color[i] 
+00013cc0: 3d20 7374 7228 436f 6c6f 7243 6f6e 7665  = str(ColorConve
+00013cd0: 7274 6572 2e74 6f5f 7267 6228 636f 6c6f  rter.to_rgb(colo
+00013ce0: 7229 295b 313a 2d31 5d0a 0a20 2020 2072  r))[1:-1]..    r
+00013cf0: 6574 7572 6e20 636f 6c6f 720a 0a0a 6465  eturn color...de
+00013d00: 6620 5f73 6361 6c65 5f6e 6f64 655f 7369  f _scale_node_si
+00013d10: 7a65 2873 697a 652c 2066 6163 746f 723d  ze(size, factor=
+00013d20: 3429 3a0a 2020 2020 2727 2720 4d75 6c74  4):.    ''' Mult
+00013d30: 6970 6c79 2073 697a 6520 6279 2060 6661  iply size by `fa
+00013d40: 6374 6f72 6020 2727 270a 2020 2020 6966  ctor` '''.    if
+00013d50: 2069 7369 6e73 7461 6e63 6528 7369 7a65   isinstance(size
+00013d60: 2c20 666c 6f61 7429 206f 7220 6973 5f69  , float) or is_i
+00013d70: 6e74 6567 6572 2873 697a 6529 3a0a 2020  nteger(size):.  
+00013d80: 2020 2020 2020 7265 7475 726e 2066 6163        return fac
+00013d90: 746f 722a 7369 7a65 0a20 2020 2065 6c69  tor*size.    eli
+00013da0: 6620 6e6f 6e73 7472 696e 675f 636f 6e74  f nonstring_cont
+00013db0: 6169 6e65 7228 7369 7a65 2920 616e 6420  ainer(size) and 
+00013dc0: 6c65 6e28 7369 7a65 293a 0a20 2020 2020  len(size):.     
+00013dd0: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
+00013de0: 2873 697a 655b 305d 2c20 666c 6f61 7429  (size[0], float)
+00013df0: 206f 7220 6973 5f69 6e74 6567 6572 2873   or is_integer(s
+00013e00: 697a 655b 305d 293a 0a20 2020 2020 2020  ize[0]):.       
+00013e10: 2020 2020 2072 6574 7572 6e20 6661 6374       return fact
+00013e20: 6f72 2a6e 702e 6173 6172 7261 7928 7369  or*np.asarray(si
+00013e30: 7a65 290a 0a20 2020 2072 6574 7572 6e20  ze)..    return 
+00013e40: 7369 7a65 0a0a 0a64 6566 205f 746f 5f67  size...def _to_g
+00013e50: 745f 7072 6f70 2867 7261 7068 2c20 7661  t_prop(graph, va
+00013e60: 6c75 652c 2063 6d61 702c 2070 7479 7065  lue, cmap, ptype
+00013e70: 3d27 6e6f 6465 272c 2063 6f6c 6f72 3d46  ='node', color=F
+00013e80: 616c 7365 293a 0a20 2020 2070 6d61 7020  alse):.    pmap 
+00013e90: 3d20 2867 7261 7068 2e6e 6577 5f76 6572  = (graph.new_ver
+00013ea0: 7465 785f 7072 6f70 6572 7479 2069 6620  tex_property if 
+00013eb0: 7074 7970 6520 3d3d 2027 6e6f 6465 270a  ptype == 'node'.
+00013ec0: 2020 2020 2020 2020 2020 2020 656c 7365              else
+00013ed0: 2067 7261 7068 2e6e 6577 5f65 6467 655f   graph.new_edge_
+00013ee0: 7072 6f70 6572 7479 290a 0a20 2020 2069  property)..    i
+00013ef0: 6620 6e6f 6e73 7472 696e 675f 636f 6e74  f nonstring_cont
+00013f00: 6169 6e65 7228 7661 6c75 6529 2061 6e64  ainer(value) and
+00013f10: 206c 656e 2876 616c 7565 293a 0a20 2020   len(value):.   
+00013f20: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
+00013f30: 6365 2876 616c 7565 5b30 5d2c 2073 7472  ce(value[0], str
+00013f40: 293a 0a20 2020 2020 2020 2020 2020 2069  ):.            i
+00013f50: 6620 636f 6c6f 723a 0a20 2020 2020 2020  f color:.       
+00013f60: 2020 2020 2020 2020 2023 2063 7573 746f           # custo
+00013f70: 6d20 6e61 6d65 6463 6f6c 6f72 730a 2020  m namedcolors.  
+00013f80: 2020 2020 2020 2020 2020 2020 2020 7265                re
+00013f90: 7475 726e 2070 6d61 7028 2276 6563 746f  turn pmap("vecto
+00013fa0: 723c 646f 7562 6c65 3e22 2c0a 2020 2020  r<double>",.    
+00013fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013fc0: 2020 2020 2020 2020 7661 6c73 3d5b 436f          vals=[Co
+00013fd0: 6c6f 7243 6f6e 7665 7274 6572 2e74 6f5f  lorConverter.to_
+00013fe0: 7267 6261 2876 2920 666f 7220 7620 696e  rgba(v) for v in
+00013ff0: 2076 616c 7565 5d29 0a20 2020 2020 2020   value]).       
+00014000: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+00014010: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00014020: 6e20 706d 6170 2822 7374 7269 6e67 222c  n pmap("string",
+00014030: 2076 616c 733d 7661 6c75 6529 0a20 2020   vals=value).   
+00014040: 2020 2020 2065 6c69 6620 6e6f 6e73 7472       elif nonstr
+00014050: 696e 675f 636f 6e74 6169 6e65 7228 7661  ing_container(va
+00014060: 6c75 655b 305d 293a 0a20 2020 2020 2020  lue[0]):.       
+00014070: 2020 2020 2023 2064 6972 6563 7420 7267       # direct rg
+00014080: 6228 6129 2064 6573 6372 6970 7469 6f6e  b(a) description
+00014090: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+000140a0: 7572 6e20 706d 6170 2822 7665 6374 6f72  urn pmap("vector
+000140b0: 3c64 6f75 626c 653e 222c 2076 616c 733d  <double>", vals=
+000140c0: 7661 6c75 6529 0a0a 2020 2020 2020 2020  value)..        
+000140d0: 2320 6e75 6d62 6572 730a 2020 2020 2020  # numbers.      
+000140e0: 2020 6966 2063 6f6c 6f72 3a0a 2020 2020    if color:.    
+000140f0: 2020 2020 2020 2020 766d 696e 2c20 766d          vmin, vm
+00014100: 6178 203d 206e 702e 6d69 6e28 7661 6c75  ax = np.min(valu
+00014110: 6529 2c20 6e70 2e6d 6178 2876 616c 7565  e), np.max(value
+00014120: 290a 0a20 2020 2020 2020 2020 2020 206e  )..            n
+00014130: 6f72 6d61 6c69 7a65 6420 3d20 4e6f 6e65  ormalized = None
+00014140: 0a0a 2020 2020 2020 2020 2020 2020 6966  ..            if
+00014150: 2076 6d61 7820 2d20 766d 696e 203e 2030   vmax - vmin > 0
+00014160: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00014170: 2020 6e6f 726d 616c 697a 6564 203d 2028    normalized = (
+00014180: 6e70 2e61 7272 6179 2876 616c 7565 2920  np.array(value) 
+00014190: 2d20 766d 696e 2920 2f20 2876 6d61 7820  - vmin) / (vmax 
+000141a0: 2d20 766d 696e 290a 2020 2020 2020 2020  - vmin).        
+000141b0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+000141c0: 2020 2020 2020 2020 2020 7265 7475 726e            return
+000141d0: 206e 6f72 6d61 6c69 7a65 640a 0a20 2020   normalized..   
+000141e0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+000141f0: 706d 6170 2822 7665 6374 6f72 3c64 6f75  pmap("vector<dou
+00014200: 626c 653e 222c 2076 616c 733d 5b63 6d61  ble>", vals=[cma
+00014210: 7028 7629 2066 6f72 2076 2069 6e20 6e6f  p(v) for v in no
+00014220: 726d 616c 697a 6564 5d29 0a0a 2020 2020  rmalized])..    
+00014230: 2020 2020 7265 7475 726e 2070 6d61 7028      return pmap(
+00014240: 2264 6f75 626c 6522 2c20 7661 6c73 3d76  "double", vals=v
+00014250: 616c 7565 290a 0a0a 2020 2020 7265 7475  alue)...    retu
+00014260: 726e 2076 616c 7565 0a0a 0a64 6566 205f  rn value...def _
+00014270: 6369 7263 756c 6172 5f6c 6179 6f75 7428  circular_layout(
+00014280: 6772 6170 682c 206d 6178 5f6e 7369 7a65  graph, max_nsize
+00014290: 293a 0a20 2020 2023 2063 686f 7365 2072  ):.    # chose r
+000142a0: 6164 6975 7320 7375 6368 2074 6861 7420  adius such that 
+000142b0: 722a 6474 6865 7461 203e 206d 6178 5f6e  r*dtheta > max_n
+000142c0: 7369 7a65 0a20 2020 2064 7468 6574 6120  size.    dtheta 
+000142d0: 3d20 322a 6e70 2e70 6920 2f20 6772 6170  = 2*np.pi / grap
+000142e0: 682e 6e6f 6465 5f6e 6228 290a 0a20 2020  h.node_nb()..   
+000142f0: 2072 203d 2031 2e31 2a6d 6178 5f6e 7369   r = 1.1*max_nsi
+00014300: 7a65 202f 2064 7468 6574 610a 0a20 2020  ze / dtheta..   
+00014310: 2074 6865 7461 7320 3d20 6e70 2e61 7272   thetas = np.arr
+00014320: 6179 285b 692a 6474 6865 7461 2066 6f72  ay([i*dtheta for
+00014330: 2069 2069 6e20 7261 6e67 6528 6772 6170   i in range(grap
+00014340: 682e 6e6f 6465 5f6e 6228 2929 5d29 0a20  h.node_nb())]). 
+00014350: 2020 2078 203d 2072 2a6e 702e 636f 7328     x = r*np.cos(
+00014360: 7468 6574 6173 290a 2020 2020 7920 3d20  thetas).    y = 
+00014370: 722a 6e70 2e73 696e 2874 6865 7461 7329  r*np.sin(thetas)
+00014380: 0a0a 2020 2020 7265 7475 726e 206e 702e  ..    return np.
+00014390: 6172 7261 7928 2878 2c20 7929 292e 540a  array((x, y)).T.
+000143a0: 0a0a 6465 6620 5f63 6f6e 6e65 6374 696f  ..def _connectio
+000143b0: 6e73 7479 6c65 2861 7869 732c 206e 7369  nstyle(axis, nsi
+000143c0: 7a65 2c20 6573 697a 6529 3a0a 2020 2020  ze, esize):.    
+000143d0: 6465 6620 6373 2870 6f73 412c 2070 6f73  def cs(posA, pos
+000143e0: 422c 202a 6172 6773 2c20 2a2a 6b77 6172  B, *args, **kwar
+000143f0: 6773 293a 0a20 2020 2020 2020 2023 2053  gs):.        # S
+00014400: 656c 662d 6c6f 6f70 7320 6172 6520 7363  elf-loops are sc
+00014410: 616c 6564 2062 7920 6e6f 6465 2073 697a  aled by node siz
+00014420: 650a 2020 2020 2020 2020 7673 6869 6674  e.        vshift
+00014430: 203d 2030 2e31 2a6d 6178 286e 7369 7a65   = 0.1*max(nsize
+00014440: 2c20 322a 6573 697a 6529 0a20 2020 2020  , 2*esize).     
+00014450: 2020 2068 7368 6966 7420 3d20 302e 372a     hshift = 0.7*
+00014460: 7673 6869 6674 0a20 2020 2020 2020 2023  vshift.        #
+00014470: 2074 6869 7320 6973 2063 616c 6c65 6420   this is called 
+00014480: 7769 7468 205f 7363 7265 656e 2073 7061  with _screen spa
+00014490: 6365 5f20 7661 6c75 6573 2073 6f20 636f  ce_ values so co
+000144a0: 7665 7274 2062 6163 6b0a 2020 2020 2020  vert back.      
+000144b0: 2020 2320 746f 2064 6174 6120 7370 6163    # to data spac
+000144c0: 650a 0a20 2020 2020 2020 2073 3120 3d20  e..        s1 = 
+000144d0: 6e70 2e61 7361 7272 6179 285b 2d68 7368  np.asarray([-hsh
+000144e0: 6966 742c 2076 7368 6966 745d 290a 2020  ift, vshift]).  
+000144f0: 2020 2020 2020 7332 203d 206e 702e 6173        s2 = np.as
+00014500: 6172 7261 7928 5b68 7368 6966 742c 2076  array([hshift, v
+00014510: 7368 6966 745d 290a 0a20 2020 2020 2020  shift])..       
+00014520: 2070 3120 3d20 6178 6973 2e74 7261 6e73   p1 = axis.trans
+00014530: 4461 7461 2e69 6e76 6572 7465 6428 292e  Data.inverted().
+00014540: 7472 616e 7366 6f72 6d28 706f 7341 290a  transform(posA).
+00014550: 2020 2020 2020 2020 7032 203d 2061 7869          p2 = axi
+00014560: 732e 7472 616e 7344 6174 612e 696e 7665  s.transData.inve
+00014570: 7274 6564 2829 2e74 7261 6e73 666f 726d  rted().transform
+00014580: 2870 6f73 4120 2b20 7331 290a 2020 2020  (posA + s1).    
+00014590: 2020 2020 7033 203d 2061 7869 732e 7472      p3 = axis.tr
+000145a0: 616e 7344 6174 612e 696e 7665 7274 6564  ansData.inverted
+000145b0: 2829 2e74 7261 6e73 666f 726d 2870 6f73  ().transform(pos
+000145c0: 4120 2b20 7332 290a 0a20 2020 2020 2020  A + s2)..       
+000145d0: 2070 6174 6820 3d20 5b70 312c 2070 322c   path = [p1, p2,
+000145e0: 2070 332c 2070 315d 0a0a 2020 2020 2020   p3, p1]..      
+000145f0: 2020 7265 7475 726e 206d 706c 2e70 6174    return mpl.pat
+00014600: 682e 5061 7468 2861 7869 732e 7472 616e  h.Path(axis.tran
+00014610: 7344 6174 612e 7472 616e 7366 6f72 6d28  sData.transform(
+00014620: 7061 7468 292c 205b 312c 2032 2c20 322c  path), [1, 2, 2,
+00014630: 2032 5d29 0a0a 2020 2020 7265 7475 726e   2])..    return
+00014640: 2063 730a 0a64 6566 205f 7370 6c69 745f   cs..def _split_
+00014650: 6564 6765 735f 7369 7a65 7328 6564 6765  edges_sizes(edge
+00014660: 732c 2065 7369 7a65 2c20 6465 6369 6d61  s, esize, decima
+00014670: 7465 5f63 6f6e 6e65 6374 696f 6e73 2c20  te_connections, 
+00014680: 6563 6f6c 6f72 3d4e 6f6e 652c 0a20 2020  ecolor=None,.   
+00014690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000146a0: 2020 2020 7374 7267 6874 5f63 6f6c 6f72      strght_color
+000146b0: 733d 4e6f 6e65 2c20 6c6f 6f70 5f63 6f6c  s=None, loop_col
+000146c0: 6f72 733d 4e6f 6e65 293a 0a20 2020 2073  ors=None):.    s
+000146d0: 7472 6768 745f 6564 6765 732c 2073 656c  trght_edges, sel
+000146e0: 665f 6c6f 6f70 7320 3d20 4e6f 6e65 2c20  f_loops = None, 
+000146f0: 4e6f 6e65 0a20 2020 2073 7472 6768 745f  None.    strght_
+00014700: 7369 7a65 732c 206c 6f6f 705f 7369 7a65  sizes, loop_size
+00014710: 7320 3d20 4e6f 6e65 2c20 4e6f 6e65 0a0a  s = None, None..
+00014720: 2020 2020 6b65 6570 2020 3d20 2865 7369      keep  = (esi
+00014730: 7a65 203e 2030 2920 6966 206e 6f6e 7374  ze > 0) if nonst
+00014740: 7269 6e67 5f63 6f6e 7461 696e 6572 2865  ring_container(e
+00014750: 7369 7a65 2920 656c 7365 2054 7275 650a  size) else True.
+00014760: 2020 2020 6c6f 6f70 7320 3d20 2865 6467      loops = (edg
+00014770: 6573 5b3a 2c20 305d 203d 3d20 6564 6765  es[:, 0] == edge
+00014780: 735b 3a2c 2031 5d29 0a0a 2020 2020 7374  s[:, 1])..    st
+00014790: 7267 6874 203d 206b 6565 702a 287e 6c6f  rght = keep*(~lo
+000147a0: 6f70 7329 0a0a 2020 2020 7374 7267 6874  ops)..    strght
+000147b0: 5f65 6467 6573 203d 2065 6467 6573 5b73  _edges = edges[s
+000147c0: 7472 6768 745d 0a0a 2020 2020 7365 6c66  trght]..    self
+000147d0: 5f6c 6f6f 7073 203d 2073 6574 2865 6467  _loops = set(edg
+000147e0: 6573 5b6c 6f6f 7073 2c20 305d 290a 0a20  es[loops, 0]).. 
+000147f0: 2020 2069 6620 6563 6f6c 6f72 2069 7320     if ecolor is 
+00014800: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
+00014810: 2020 6966 206e 6f6e 7374 7269 6e67 5f63    if nonstring_c
+00014820: 6f6e 7461 696e 6572 2865 636f 6c6f 7229  ontainer(ecolor)
+00014830: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
+00014840: 2064 6563 696d 6174 655f 636f 6e6e 6563   decimate_connec
+00014850: 7469 6f6e 7320 3c20 313a 0a20 2020 2020  tions < 1:.     
+00014860: 2020 2020 2020 2020 2020 2073 7472 6768             strgh
+00014870: 745f 636f 6c6f 7273 2e65 7874 656e 6428  t_colors.extend(
+00014880: 6563 6f6c 6f72 5b73 7472 6768 745d 290a  ecolor[strght]).
+00014890: 2020 2020 2020 2020 2020 2020 6c6f 6f70              loop
+000148a0: 5f63 6f6c 6f72 732e 6578 7465 6e64 2865  _colors.extend(e
+000148b0: 636f 6c6f 725b 6c6f 6f70 735d 290a 2020  color[loops]).  
+000148c0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+000148d0: 2020 2020 2020 2020 6966 2064 6563 696d          if decim
+000148e0: 6174 655f 636f 6e6e 6563 7469 6f6e 7320  ate_connections 
+000148f0: 3c20 313a 0a20 2020 2020 2020 2020 2020  < 1:.           
+00014900: 2020 2020 2073 7472 6768 745f 636f 6c6f       strght_colo
+00014910: 7273 2e65 7874 656e 6428 5b65 636f 6c6f  rs.extend([ecolo
+00014920: 725d 2a6c 656e 2873 7472 6768 745f 6564  r]*len(strght_ed
+00014930: 6765 7329 290a 2020 2020 2020 2020 2020  ges)).          
+00014940: 2020 6c6f 6f70 5f63 6f6c 6f72 732e 6578    loop_colors.ex
+00014950: 7465 6e64 285b 6563 6f6c 6f72 5d2a 6c65  tend([ecolor]*le
+00014960: 6e28 7365 6c66 5f6c 6f6f 7073 2929 0a0a  n(self_loops))..
+00014970: 2020 2020 6966 206e 6f6e 7374 7269 6e67      if nonstring
+00014980: 5f63 6f6e 7461 696e 6572 2865 7369 7a65  _container(esize
+00014990: 293a 0a20 2020 2020 2020 2073 7472 6768  ):.        strgh
+000149a0: 745f 7369 7a65 7320 3d20 6573 697a 655b  t_sizes = esize[
+000149b0: 7374 7267 6874 5d0a 2020 2020 2020 2020  strght].        
+000149c0: 6c6f 6f70 5f73 697a 6573 203d 2065 7369  loop_sizes = esi
+000149d0: 7a65 5b6c 6f6f 7073 5d0a 2020 2020 656c  ze[loops].    el
+000149e0: 7365 3a0a 2020 2020 2020 2020 7374 7267  se:.        strg
+000149f0: 6874 5f73 697a 6573 203d 206e 702e 6675  ht_sizes = np.fu
+00014a00: 6c6c 286c 656e 2873 7472 6768 745f 6564  ll(len(strght_ed
+00014a10: 6765 7329 2c20 6573 697a 6529 0a20 2020  ges), esize).   
+00014a20: 2020 2020 206c 6f6f 705f 7369 7a65 7320       loop_sizes 
+00014a30: 3d20 6e70 2e66 756c 6c28 6c65 6e28 7365  = np.full(len(se
+00014a40: 6c66 5f6c 6f6f 7073 292c 2065 7369 7a65  lf_loops), esize
+00014a50: 290a 0a20 2020 2069 6620 6465 6369 6d61  )..    if decima
+00014a60: 7465 5f63 6f6e 6e65 6374 696f 6e73 203e  te_connections >
+00014a70: 2031 3a0a 2020 2020 2020 2020 7374 7267   1:.        strg
+00014a80: 6874 5f65 6467 6573 203d 205c 0a20 2020  ht_edges = \.   
+00014a90: 2020 2020 2020 2020 2073 7472 6768 745f           strght_
+00014aa0: 6564 6765 735b 3a3a 6465 6369 6d61 7465  edges[::decimate
+00014ab0: 5f63 6f6e 6e65 6374 696f 6e73 5d0a 0a20  _connections].. 
+00014ac0: 2020 2020 2020 2069 6620 6e6f 6e73 7472         if nonstr
+00014ad0: 696e 675f 636f 6e74 6169 6e65 7228 6573  ing_container(es
+00014ae0: 697a 6529 3a0a 2020 2020 2020 2020 2020  ize):.          
+00014af0: 2020 7374 7267 6874 5f73 697a 6573 203d    strght_sizes =
+00014b00: 205c 0a20 2020 2020 2020 2020 2020 2020   \.             
+00014b10: 2020 2073 7472 6768 745f 7369 7a65 735b     strght_sizes[
+00014b20: 3a3a 6465 6369 6d61 7465 5f63 6f6e 6e65  ::decimate_conne
+00014b30: 6374 696f 6e73 5d0a 0a20 2020 2020 2020  ctions]..       
+00014b40: 2069 6620 6563 6f6c 6f72 2069 7320 6e6f   if ecolor is no
+00014b50: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
+00014b60: 2020 2020 6966 206e 6f6e 7374 7269 6e67      if nonstring
+00014b70: 5f63 6f6e 7461 696e 6572 2865 636f 6c6f  _container(ecolo
+00014b80: 7229 3a0a 2020 2020 2020 2020 2020 2020  r):.            
+00014b90: 2020 2020 7374 7267 6874 5f63 6f6c 6f72      strght_color
+00014ba0: 732e 6578 7465 6e64 2865 636f 6c6f 725b  s.extend(ecolor[
+00014bb0: 7374 7267 6874 5d5b 3a3a 6465 6369 6d61  strght][::decima
+00014bc0: 7465 5f63 6f6e 6e65 6374 696f 6e73 5d29  te_connections])
+00014bd0: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
+00014be0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+00014bf0: 2020 2073 7472 6768 745f 636f 6c6f 7273     strght_colors
+00014c00: 2e65 7874 656e 6428 0a20 2020 2020 2020  .extend(.       
+00014c10: 2020 2020 2020 2020 2020 2020 205b 6563               [ec
+00014c20: 6f6c 6f72 5d20 2a20 286c 656e 2873 7472  olor] * (len(str
+00014c30: 6768 745f 6564 6765 7329 202f 2f20 6465  ght_edges) // de
+00014c40: 6369 6d61 7465 5f63 6f6e 6e65 6374 696f  cimate_connectio
+00014c50: 6e73 2929 0a20 2020 2065 6c69 6620 6563  ns)).    elif ec
+00014c60: 6f6c 6f72 2069 7320 6e6f 7420 4e6f 6e65  olor is not None
+00014c70: 3a0a 2020 2020 2020 2020 6966 206e 6f6e  :.        if non
+00014c80: 7374 7269 6e67 5f63 6f6e 7461 696e 6572  string_container
+00014c90: 2865 636f 6c6f 7229 3a0a 2020 2020 2020  (ecolor):.      
+00014ca0: 2020 2020 2020 7374 7267 6874 5f63 6f6c        strght_col
+00014cb0: 6f72 732e 6578 7465 6e64 2865 636f 6c6f  ors.extend(ecolo
+00014cc0: 725b 7374 7267 6874 5d29 0a20 2020 2020  r[strght]).     
+00014cd0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00014ce0: 2020 2020 2073 7472 6768 745f 636f 6c6f       strght_colo
+00014cf0: 7273 2e65 7874 656e 6428 5b65 636f 6c6f  rs.extend([ecolo
+00014d00: 725d 2a6c 656e 2873 7472 6768 745f 6564  r]*len(strght_ed
+00014d10: 6765 7329 290a 0a20 2020 2072 6574 7572  ges))..    retur
+00014d20: 6e20 7374 7267 6874 5f65 6467 6573 2c20  n strght_edges, 
+00014d30: 7365 6c66 5f6c 6f6f 7073 2c20 7374 7267  self_loops, strg
+00014d40: 6874 5f73 697a 6573 2c20 6c6f 6f70 5f73  ht_sizes, loop_s
+00014d50: 697a 6573 0a0a 0a64 6566 205f 6765 745f  izes...def _get_
+00014d60: 6e63 6d61 7028 6e65 7477 6f72 6b2c 206e  ncmap(network, n
+00014d70: 636f 6c6f 7229 3a0a 2020 2020 2727 2720  color):.    ''' 
+00014d80: 5265 7475 726e 2077 6865 7468 6572 2061  Return whether a
+00014d90: 2064 6973 6372 6574 6520 7061 6c65 7474   discrete palett
+00014da0: 6520 6973 2075 7365 6420 616e 6420 7468  e is used and th
+00014db0: 6520 6465 6661 756c 7420 636d 6170 2027  e default cmap '
+00014dc0: 2727 0a20 2020 2064 6973 6372 6574 655f  ''.    discrete_
+00014dd0: 636f 6c6f 7273 203d 2046 616c 7365 0a0a  colors = False..
+00014de0: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
+00014df0: 6528 6e63 6f6c 6f72 2c20 7374 7229 3a0a  e(ncolor, str):.
+00014e00: 2020 2020 2020 2020 6966 206e 636f 6c6f          if ncolo
+00014e10: 7220 3d3d 2022 6772 6f75 7022 206f 7220  r == "group" or 
+00014e20: 6e63 6f6c 6f72 203d 3d20 2267 726f 7570  ncolor == "group
+00014e30: 7322 3a0a 2020 2020 2020 2020 2020 2020  s":.            
+00014e40: 6469 7363 7265 7465 5f63 6f6c 6f72 7320  discrete_colors 
+00014e50: 3d20 5472 7565 0a20 2020 2020 2020 2065  = True.        e
+00014e60: 6c69 6620 6e63 6f6c 6f72 2069 6e20 6e65  lif ncolor in ne
+00014e70: 7477 6f72 6b2e 6e6f 6465 5f61 7474 7269  twork.node_attri
+00014e80: 6275 7465 733a 0a20 2020 2020 2020 2020  butes:.         
+00014e90: 2020 2064 6973 6372 6574 655f 636f 6c6f     discrete_colo
+00014ea0: 7273 203d 205c 0a20 2020 2020 2020 2020  rs = \.         
+00014eb0: 2020 2020 2020 206e 6574 776f 726b 2e67         network.g
+00014ec0: 6574 5f61 7474 7269 6275 7465 5f74 7970  et_attribute_typ
+00014ed0: 6528 6e63 6f6c 6f72 2c20 226e 6f64 6522  e(ncolor, "node"
+00014ee0: 2920 3d3d 2022 7374 7269 6e67 220a 0a20  ) == "string".. 
+00014ef0: 2020 2064 6566 6175 6c74 5f6e 636d 6170     default_ncmap
+00014f00: 203d 2070 616c 6574 7465 5f64 6973 6372   = palette_discr
+00014f10: 6574 6528 2920 6966 2064 6973 6372 6574  ete() if discret
+00014f20: 655f 636f 6c6f 7273 205c 0a20 2020 2020  e_colors \.     
+00014f30: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00014f40: 6c73 6520 7061 6c65 7474 655f 636f 6e74  lse palette_cont
+00014f50: 696e 756f 7573 2829 0a0a 2020 2020 7265  inuous()..    re
+00014f60: 7475 726e 2064 6973 6372 6574 655f 636f  turn discrete_co
+00014f70: 6c6f 7273 2c20 6465 6661 756c 745f 6e63  lors, default_nc
+00014f80: 6d61 700a 0a0a 6465 6620 5f70 6c6f 745f  map...def _plot_
+00014f90: 6c6f 6f70 2869 2c20 732c 2070 6f73 2c20  loop(i, s, pos, 
+00014fa0: 6c6f 6f70 5f73 697a 6573 2c20 6e73 697a  loop_sizes, nsiz
+00014fb0: 652c 206d 6178 5f6e 7369 7a65 2c20 786d  e, max_nsize, xm
+00014fc0: 6178 2c20 786d 696e 2c20 796d 6178 2c20  ax, xmin, ymax, 
+00014fd0: 796d 696e 2c0a 2020 2020 2020 2020 2020  ymin,.          
+00014fe0: 2020 2020 2068 6569 6768 742c 2077 6964       height, wid
+00014ff0: 7468 2c20 6563 2c20 6561 6c70 6861 2c20  th, ec, ealpha, 
+00015000: 6562 6f72 6465 725f 7769 6474 682c 2065  eborder_width, e
+00015010: 626f 7264 6572 5f63 6f6c 6f72 2c20 6661  border_color, fa
+00015020: 7374 2c0a 2020 2020 2020 2020 2020 2020  st,.            
+00015030: 2020 206e 6574 776f 726b 2c20 7265 7374     network, rest
+00015040: 7269 6374 5f6e 6f64 6573 293a 0a20 2020  rict_nodes):.   
+00015050: 2027 2727 0a20 2020 2044 7261 7720 7365   '''.    Draw se
+00015060: 6c66 206c 6f6f 7073 0a20 2020 2027 2727  lf loops.    '''
+00015070: 0a20 2020 2065 7320 3d20 6c6f 6f70 5f73  .    es = loop_s
+00015080: 697a 6573 5b69 5d0a 2020 2020 646c 203d  izes[i].    dl =
+00015090: 2030 2e30 332a 6d61 7828 6865 6967 6874   0.03*max(height
+000150a0: 2c20 7769 6474 6829 0a20 2020 206e 7320  , width).    ns 
+000150b0: 3d20 6e73 697a 655b 735d 2a64 6c2f 6d61  = nsize[s]*dl/ma
+000150c0: 785f 6e73 697a 6520 6966 2066 6173 7420  x_nsize if fast 
+000150d0: 656c 7365 206e 7369 7a65 5b73 5d0a 0a20  else nsize[s].. 
+000150e0: 2020 2023 2067 6574 2074 6865 206e 6569     # get the nei
+000150f0: 6768 626f 7572 730a 2020 2020 6e6e 203d  ghbours.    nn =
+00015100: 206e 6574 776f 726b 2e6e 6569 6768 626f   network.neighbo
+00015110: 7572 7328 7329 0a0a 2020 2020 6966 2072  urs(s)..    if r
+00015120: 6573 7472 6963 745f 6e6f 6465 7320 6973  estrict_nodes is
+00015130: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
+00015140: 2020 206e 6e20 3d20 6e6e 2e69 6e74 6572     nn = nn.inter
+00015150: 7365 6374 696f 6e28 7265 7374 7269 6374  section(restrict
+00015160: 5f6e 6f64 6573 290a 0a20 2020 2020 2020  _nodes)..       
+00015170: 2063 6f6e 7665 7274 203d 207b 6e3a 2069   convert = {n: i
+00015180: 2066 6f72 2069 2c20 6e20 696e 2065 6e75   for i, n in enu
+00015190: 6d65 7261 7465 2872 6573 7472 6963 745f  merate(restrict_
+000151a0: 6e6f 6465 7329 7d0a 0a20 2020 2020 2020  nodes)}..       
+000151b0: 206e 6e20 3d20 7b63 6f6e 7665 7274 5b6e   nn = {convert[n
+000151c0: 5d20 666f 7220 6e20 696e 206e 6e7d 0a0a  ] for n in nn}..
+000151d0: 2020 2020 6e6e 203d 206c 6973 7428 6e6e      nn = list(nn
+000151e0: 202d 207b 737d 290a 0a20 2020 2076 6563   - {s})..    vec
+000151f0: 203d 2070 6f73 5b6e 6e5d 202d 2070 6f73   = pos[nn] - pos
+00015200: 5b73 5d0a 2020 2020 6e6f 726d 203d 206e  [s].    norm = n
+00015210: 702e 7371 7274 2828 7665 632a 7665 6329  p.sqrt((vec*vec)
+00015220: 2e73 756d 2861 7869 733d 3129 290a 2020  .sum(axis=1)).  
+00015230: 2020 7665 6320 3d20 6e70 2e61 7361 7272    vec = np.asarr
+00015240: 6179 285b 7665 635b 695d 202f 206e 2066  ay([vec[i] / n f
+00015250: 6f72 2069 2c20 6e20 696e 2065 6e75 6d65  or i, n in enume
+00015260: 7261 7465 286e 6f72 6d29 5d29 0a0a 2020  rate(norm)])..  
+00015270: 2020 6469 7220 3d20 6e70 2e61 7665 7261    dir = np.avera
+00015280: 6765 2876 6563 2c20 6178 6973 3d30 290a  ge(vec, axis=0).
+00015290: 2020 2020 6469 7220 2f3d 206e 702e 6c69      dir /= np.li
+000152a0: 6e61 6c67 2e6e 6f72 6d28 6469 7229 0a0a  nalg.norm(dir)..
+000152b0: 2020 2020 6966 2066 6173 743a 0a20 2020      if fast:.   
+000152c0: 2020 2020 2078 7920 3d20 706f 735b 735d       xy = pos[s]
+000152d0: 202d 206e 732a 6469 720a 2020 2020 2020   - ns*dir.      
+000152e0: 2020 7265 7475 726e 2043 6972 636c 6528    return Circle(
+000152f0: 7879 2c20 6e73 2c20 6663 3d22 6e6f 6e65  xy, ns, fc="none
+00015300: 222c 2061 6c70 6861 3d65 616c 7068 612c  ", alpha=ealpha,
+00015310: 206c 696e 6577 6964 7468 3d30 2e35 2a65   linewidth=0.5*e
+00015320: 732c 2065 633d 6563 290a 0a20 2020 2065  s, ec=ec)..    e
+00015330: 7320 3d20 6d69 6e28 302e 352a 6e73 2c20  s = min(0.5*ns, 
+00015340: 6573 290a 2020 2020 7879 203d 2070 6f73  es).    xy = pos
+00015350: 5b73 5d20 2d20 302e 3735 2a6e 732a 6469  [s] - 0.75*ns*di
+00015360: 720a 0a20 2020 2072 6574 7572 6e20 416e  r..    return An
+00015370: 6e75 6c75 7328 7879 2c20 302e 3735 2a6e  nulus(xy, 0.75*n
+00015380: 732c 2030 2e35 2a65 732c 2066 633d 6563  s, 0.5*es, fc=ec
+00015390: 2c20 616c 7068 613d 6561 6c70 6861 2c20  , alpha=ealpha, 
+000153a0: 6c77 3d65 626f 7264 6572 5f77 6964 7468  lw=eborder_width
+000153b0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+000153c0: 2020 2020 2065 633d 6562 6f72 6465 725f       ec=eborder_
+000153d0: 636f 6c6f 7229 0a0a 0a63 6c61 7373 2041  color)...class A
+000153e0: 6e6e 756c 7573 2850 6174 6368 293a 0a20  nnulus(Patch):. 
+000153f0: 2020 2022 2222 0a20 2020 2041 6e20 656c     """.    An el
+00015400: 6c69 7074 6963 616c 2061 6e6e 756c 7573  liptical annulus
+00015410: 2e0a 2020 2020 2222 220a 0a20 2020 2064  ..    """..    d
+00015420: 6566 205f 5f69 6e69 745f 5f28 7365 6c66  ef __init__(self
+00015430: 2c20 7879 2c20 722c 2077 6964 7468 2c20  , xy, r, width, 
+00015440: 616e 676c 653d 302e 302c 202a 2a6b 7761  angle=0.0, **kwa
+00015450: 7267 7329 3a0a 2020 2020 2020 2020 2222  rgs):.        ""
+00015460: 220a 2020 2020 2020 2020 5061 7261 6d65  ".        Parame
+00015470: 7465 7273 0a20 2020 2020 2020 202d 2d2d  ters.        ---
+00015480: 2d2d 2d2d 2d2d 2d0a 2020 2020 2020 2020  -------.        
+00015490: 7879 203a 2028 666c 6f61 742c 2066 6c6f  xy : (float, flo
+000154a0: 6174 290a 2020 2020 2020 2020 2020 2020  at).            
+000154b0: 7879 2063 6f6f 7264 696e 6174 6573 206f  xy coordinates o
+000154c0: 6620 616e 6e75 6c75 7320 6365 6e74 7265  f annulus centre
+000154d0: 2e0a 2020 2020 2020 2020 7220 3a20 666c  ..        r : fl
+000154e0: 6f61 7420 6f72 2028 666c 6f61 742c 2066  oat or (float, f
+000154f0: 6c6f 6174 290a 2020 2020 2020 2020 2020  loat).          
+00015500: 2020 5468 6520 7261 6469 7573 2c20 6f72    The radius, or
+00015510: 2073 656d 692d 6178 6573 3a0a 2020 2020   semi-axes:.    
+00015520: 2020 2020 2020 2020 2d20 4966 2066 6c6f          - If flo
+00015530: 6174 3a20 7261 6469 7573 206f 6620 7468  at: radius of th
+00015540: 6520 6f75 7465 7220 6369 7263 6c65 2e0a  e outer circle..
+00015550: 2020 2020 2020 2020 2020 2020 2d20 4966              - If
+00015560: 2074 776f 2066 6c6f 6174 733a 2073 656d   two floats: sem
+00015570: 692d 6d61 6a6f 7220 616e 6420 2d6d 696e  i-major and -min
+00015580: 6f72 2061 7865 7320 6f66 206f 7574 6572  or axes of outer
+00015590: 2065 6c6c 6970 7365 2e0a 2020 2020 2020   ellipse..      
+000155a0: 2020 7769 6474 6820 3a20 666c 6f61 740a    width : float.
+000155b0: 2020 2020 2020 2020 2020 2020 5769 6474              Widt
+000155c0: 6820 2874 6869 636b 6e65 7373 2920 6f66  h (thickness) of
+000155d0: 2074 6865 2061 6e6e 756c 6172 2072 696e   the annular rin
+000155e0: 672e 2054 6865 2077 6964 7468 2069 7320  g. The width is 
+000155f0: 6d65 6173 7572 6564 2069 6e77 6172 640a  measured inward.
+00015600: 2020 2020 2020 2020 2020 2020 6672 6f6d              from
+00015610: 2074 6865 206f 7574 6572 2065 6c6c 6970   the outer ellip
+00015620: 7365 2073 6f20 7468 6174 2066 6f72 2074  se so that for t
+00015630: 6865 2069 6e6e 6572 2065 6c6c 6970 7365  he inner ellipse
+00015640: 2074 6865 2073 656d 692d 6178 6573 0a20   the semi-axes. 
+00015650: 2020 2020 2020 2020 2020 2061 7265 2067             are g
+00015660: 6976 656e 2062 7920 6060 7220 2d20 7769  iven by ``r - wi
+00015670: 6474 6860 602e 202a 7769 6474 682a 206d  dth``. *width* m
+00015680: 7573 7420 6265 206c 6573 7320 7468 616e  ust be less than
+00015690: 206f 7220 6571 7561 6c20 746f 0a20 2020   or equal to.   
+000156a0: 2020 2020 2020 2020 2074 6865 2073 656d           the sem
+000156b0: 692d 6d69 6e6f 7220 6178 6973 2e0a 2020  i-minor axis..  
+000156c0: 2020 2020 2020 616e 676c 6520 3a20 666c        angle : fl
+000156d0: 6f61 742c 2064 6566 6175 6c74 3a20 300a  oat, default: 0.
+000156e0: 2020 2020 2020 2020 2020 2020 526f 7461              Rota
+000156f0: 7469 6f6e 2061 6e67 6c65 2069 6e20 6465  tion angle in de
+00015700: 6772 6565 7320 2861 6e74 692d 636c 6f63  grees (anti-cloc
+00015710: 6b77 6973 6520 6672 6f6d 2074 6865 2070  kwise from the p
+00015720: 6f73 6974 6976 650a 2020 2020 2020 2020  ositive.        
+00015730: 2020 2020 782d 6178 6973 292e 2049 676e      x-axis). Ign
+00015740: 6f72 6564 2066 6f72 2063 6972 6375 6c61  ored for circula
+00015750: 7220 616e 6e75 6c69 2028 692e 652e 2c20  r annuli (i.e., 
+00015760: 6966 202a 722a 2069 7320 6120 7363 616c  if *r* is a scal
+00015770: 6172 292e 0a20 2020 2020 2020 202a 2a6b  ar)..        **k
+00015780: 7761 7267 730a 2020 2020 2020 2020 2020  wargs.          
+00015790: 2020 4b65 7977 6f72 6420 6172 6775 6d65    Keyword argume
+000157a0: 6e74 7320 636f 6e74 726f 6c20 7468 6520  nts control the 
+000157b0: 6050 6174 6368 6020 7072 6f70 6572 7469  `Patch` properti
+000157c0: 6573 3a0a 2020 2020 2020 2020 2020 2020  es:.            
+000157d0: 2528 5061 7463 683a 6b77 646f 6329 730a  %(Patch:kwdoc)s.
+000157e0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+000157f0: 2020 2020 7375 7065 7228 292e 5f5f 696e      super().__in
+00015800: 6974 5f5f 282a 2a6b 7761 7267 7329 0a0a  it__(**kwargs)..
+00015810: 2020 2020 2020 2020 7365 6c66 2e73 6574          self.set
+00015820: 5f72 6164 6969 2872 290a 2020 2020 2020  _radii(r).      
+00015830: 2020 7365 6c66 2e63 656e 7465 7220 3d20    self.center = 
+00015840: 7879 0a20 2020 2020 2020 2073 656c 662e  xy.        self.
+00015850: 7769 6474 6820 3d20 7769 6474 680a 2020  width = width.  
+00015860: 2020 2020 2020 7365 6c66 2e61 6e67 6c65        self.angle
+00015870: 203d 2061 6e67 6c65 0a20 2020 2020 2020   = angle.       
+00015880: 2073 656c 662e 5f70 6174 6820 3d20 4e6f   self._path = No
+00015890: 6e65 0a0a 2020 2020 6465 6620 5f5f 7374  ne..    def __st
+000158a0: 725f 5f28 7365 6c66 293a 0a20 2020 2020  r__(self):.     
+000158b0: 2020 2069 6620 7365 6c66 2e61 203d 3d20     if self.a == 
+000158c0: 7365 6c66 2e62 3a0a 2020 2020 2020 2020  self.b:.        
+000158d0: 2020 2020 7220 3d20 7365 6c66 2e61 0a20      r = self.a. 
+000158e0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+000158f0: 2020 2020 2020 2020 2072 203d 2028 7365           r = (se
+00015900: 6c66 2e61 2c20 7365 6c66 2e62 290a 0a20  lf.a, self.b).. 
+00015910: 2020 2020 2020 2072 6574 7572 6e20 2241         return "A
+00015920: 6e6e 756c 7573 2878 793d 2825 732c 2025  nnulus(xy=(%s, %
+00015930: 7329 2c20 723d 2573 2c20 7769 6474 683d  s), r=%s, width=
+00015940: 2573 2c20 616e 676c 653d 2573 2922 2025  %s, angle=%s)" %
+00015950: 205c 0a20 2020 2020 2020 2020 2020 2020   \.             
+00015960: 2020 2028 2a73 656c 662e 6365 6e74 6572     (*self.center
+00015970: 2c20 722c 2073 656c 662e 7769 6474 682c  , r, self.width,
+00015980: 2073 656c 662e 616e 676c 6529 0a0a 2020   self.angle)..  
+00015990: 2020 6465 6620 7365 745f 6365 6e74 6572    def set_center
+000159a0: 2873 656c 662c 2078 7929 3a0a 2020 2020  (self, xy):.    
+000159b0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+000159c0: 5365 7420 7468 6520 6365 6e74 6572 206f  Set the center o
+000159d0: 6620 7468 6520 616e 6e75 6c75 732e 0a20  f the annulus.. 
+000159e0: 2020 2020 2020 2050 6172 616d 6574 6572         Parameter
+000159f0: 730a 2020 2020 2020 2020 2d2d 2d2d 2d2d  s.        ------
+00015a00: 2d2d 2d2d 0a20 2020 2020 2020 2078 7920  ----.        xy 
+00015a10: 3a20 2866 6c6f 6174 2c20 666c 6f61 7429  : (float, float)
+00015a20: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00015a30: 2020 2020 2073 656c 662e 5f63 656e 7465       self._cente
+00015a40: 7220 3d20 7879 0a20 2020 2020 2020 2073  r = xy.        s
+00015a50: 656c 662e 5f70 6174 6820 3d20 4e6f 6e65  elf._path = None
+00015a60: 0a20 2020 2020 2020 2073 656c 662e 7374  .        self.st
+00015a70: 616c 6520 3d20 5472 7565 0a0a 2020 2020  ale = True..    
+00015a80: 6465 6620 6765 745f 6365 6e74 6572 2873  def get_center(s
+00015a90: 656c 6629 3a0a 2020 2020 2020 2020 2222  elf):.        ""
+00015aa0: 2252 6574 7572 6e20 7468 6520 6365 6e74  "Return the cent
+00015ab0: 6572 206f 6620 7468 6520 616e 6e75 6c75  er of the annulu
+00015ac0: 732e 2222 220a 2020 2020 2020 2020 7265  s.""".        re
+00015ad0: 7475 726e 2073 656c 662e 5f63 656e 7465  turn self._cente
+00015ae0: 720a 0a20 2020 2063 656e 7465 7220 3d20  r..    center = 
+00015af0: 7072 6f70 6572 7479 2867 6574 5f63 656e  property(get_cen
+00015b00: 7465 722c 2073 6574 5f63 656e 7465 7229  ter, set_center)
+00015b10: 0a0a 2020 2020 6465 6620 7365 745f 7769  ..    def set_wi
+00015b20: 6474 6828 7365 6c66 2c20 7769 6474 6829  dth(self, width)
+00015b30: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+00015b40: 2020 2020 2020 5365 7420 7468 6520 7769        Set the wi
+00015b50: 6474 6820 2874 6869 636b 6e65 7373 2920  dth (thickness) 
+00015b60: 6f66 2074 6865 2061 6e6e 756c 7573 2072  of the annulus r
+00015b70: 696e 672e 0a20 2020 2020 2020 2054 6865  ing..        The
+00015b80: 2077 6964 7468 2069 7320 6d65 6173 7572   width is measur
+00015b90: 6564 2069 6e77 6172 6473 2066 726f 6d20  ed inwards from 
+00015ba0: 7468 6520 6f75 7465 7220 656c 6c69 7073  the outer ellips
+00015bb0: 652e 0a20 2020 2020 2020 2050 6172 616d  e..        Param
+00015bc0: 6574 6572 730a 2020 2020 2020 2020 2d2d  eters.        --
+00015bd0: 2d2d 2d2d 2d2d 2d2d 0a20 2020 2020 2020  --------.       
+00015be0: 2077 6964 7468 203a 2066 6c6f 6174 0a20   width : float. 
+00015bf0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00015c00: 2020 2069 6620 6d69 6e28 7365 6c66 2e61     if min(self.a
+00015c10: 2c20 7365 6c66 2e62 2920 3c3d 2077 6964  , self.b) <= wid
+00015c20: 7468 3a0a 2020 2020 2020 2020 2020 2020  th:.            
+00015c30: 7261 6973 6520 5661 6c75 6545 7272 6f72  raise ValueError
+00015c40: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+00015c50: 2020 2757 6964 7468 206f 6620 616e 6e75    'Width of annu
+00015c60: 6c75 7320 6d75 7374 2062 6520 6c65 7373  lus must be less
+00015c70: 2074 6861 6e20 6f72 2065 7175 616c 2073   than or equal s
+00015c80: 656d 692d 6d69 6e6f 7220 6178 6973 2729  emi-minor axis')
+00015c90: 0a0a 2020 2020 2020 2020 7365 6c66 2e5f  ..        self._
+00015ca0: 7769 6474 6820 3d20 7769 6474 680a 2020  width = width.  
+00015cb0: 2020 2020 2020 7365 6c66 2e5f 7061 7468        self._path
+00015cc0: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
+00015cd0: 7365 6c66 2e73 7461 6c65 203d 2054 7275  self.stale = Tru
+00015ce0: 650a 0a20 2020 2064 6566 2067 6574 5f77  e..    def get_w
+00015cf0: 6964 7468 2873 656c 6629 3a0a 2020 2020  idth(self):.    
+00015d00: 2020 2020 2222 2252 6574 7572 6e20 7468      """Return th
+00015d10: 6520 7769 6474 6820 2874 6869 636b 6e65  e width (thickne
+00015d20: 7373 2920 6f66 2074 6865 2061 6e6e 756c  ss) of the annul
+00015d30: 7573 2072 696e 672e 2222 220a 2020 2020  us ring.""".    
+00015d40: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
+00015d50: 5f77 6964 7468 0a0a 2020 2020 7769 6474  _width..    widt
+00015d60: 6820 3d20 7072 6f70 6572 7479 2867 6574  h = property(get
+00015d70: 5f77 6964 7468 2c20 7365 745f 7769 6474  _width, set_widt
+00015d80: 6829 0a0a 2020 2020 6465 6620 7365 745f  h)..    def set_
+00015d90: 616e 676c 6528 7365 6c66 2c20 616e 676c  angle(self, angl
+00015da0: 6529 3a0a 2020 2020 2020 2020 2222 220a  e):.        """.
+00015db0: 2020 2020 2020 2020 5365 7420 7468 6520          Set the 
+00015dc0: 7469 6c74 2061 6e67 6c65 206f 6620 7468  tilt angle of th
+00015dd0: 6520 616e 6e75 6c75 732e 0a20 2020 2020  e annulus..     
+00015de0: 2020 2050 6172 616d 6574 6572 730a 2020     Parameters.  
+00015df0: 2020 2020 2020 2d2d 2d2d 2d2d 2d2d 2d2d        ----------
+00015e00: 0a20 2020 2020 2020 2061 6e67 6c65 203a  .        angle :
+00015e10: 2066 6c6f 6174 0a20 2020 2020 2020 2022   float.        "
+00015e20: 2222 0a20 2020 2020 2020 2073 656c 662e  "".        self.
+00015e30: 5f61 6e67 6c65 203d 2061 6e67 6c65 0a20  _angle = angle. 
+00015e40: 2020 2020 2020 2073 656c 662e 5f70 6174         self._pat
+00015e50: 6820 3d20 4e6f 6e65 0a20 2020 2020 2020  h = None.       
+00015e60: 2073 656c 662e 7374 616c 6520 3d20 5472   self.stale = Tr
+00015e70: 7565 0a0a 2020 2020 6465 6620 6765 745f  ue..    def get_
+00015e80: 616e 676c 6528 7365 6c66 293a 0a20 2020  angle(self):.   
+00015e90: 2020 2020 2022 2222 5265 7475 726e 2074       """Return t
+00015ea0: 6865 2061 6e67 6c65 206f 6620 7468 6520  he angle of the 
+00015eb0: 616e 6e75 6c75 732e 2222 220a 2020 2020  annulus.""".    
+00015ec0: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
+00015ed0: 5f61 6e67 6c65 0a0a 2020 2020 616e 676c  _angle..    angl
+00015ee0: 6520 3d20 7072 6f70 6572 7479 2867 6574  e = property(get
+00015ef0: 5f61 6e67 6c65 2c20 7365 745f 616e 676c  _angle, set_angl
+00015f00: 6529 0a0a 2020 2020 6465 6620 7365 745f  e)..    def set_
+00015f10: 7365 6d69 6d61 6a6f 7228 7365 6c66 2c20  semimajor(self, 
+00015f20: 6129 3a0a 2020 2020 2020 2020 2222 220a  a):.        """.
+00015f30: 2020 2020 2020 2020 5365 7420 7468 6520          Set the 
+00015f40: 7365 6d69 2d6d 616a 6f72 2061 7869 7320  semi-major axis 
+00015f50: 2a61 2a20 6f66 2074 6865 2061 6e6e 756c  *a* of the annul
+00015f60: 7573 2e0a 2020 2020 2020 2020 5061 7261  us..        Para
+00015f70: 6d65 7465 7273 0a20 2020 2020 2020 202d  meters.        -
+00015f80: 2d2d 2d2d 2d2d 2d2d 2d0a 2020 2020 2020  ---------.      
+00015f90: 2020 6120 3a20 666c 6f61 740a 2020 2020    a : float.    
+00015fa0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00015fb0: 7365 6c66 2e61 203d 2066 6c6f 6174 2861  self.a = float(a
+00015fc0: 290a 2020 2020 2020 2020 7365 6c66 2e5f  ).        self._
+00015fd0: 7061 7468 203d 204e 6f6e 650a 2020 2020  path = None.    
+00015fe0: 2020 2020 7365 6c66 2e73 7461 6c65 203d      self.stale =
+00015ff0: 2054 7275 650a 0a20 2020 2064 6566 2073   True..    def s
+00016000: 6574 5f73 656d 696d 696e 6f72 2873 656c  et_semiminor(sel
+00016010: 662c 2062 293a 0a20 2020 2020 2020 2022  f, b):.        "
+00016020: 2222 0a20 2020 2020 2020 2053 6574 2074  "".        Set t
+00016030: 6865 2073 656d 692d 6d69 6e6f 7220 6178  he semi-minor ax
+00016040: 6973 202a 622a 206f 6620 7468 6520 616e  is *b* of the an
+00016050: 6e75 6c75 732e 0a20 2020 2020 2020 2050  nulus..        P
+00016060: 6172 616d 6574 6572 730a 2020 2020 2020  arameters.      
+00016070: 2020 2d2d 2d2d 2d2d 2d2d 2d2d 0a20 2020    ----------.   
+00016080: 2020 2020 2062 203a 2066 6c6f 6174 0a20       b : float. 
+00016090: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+000160a0: 2020 2073 656c 662e 6220 3d20 666c 6f61     self.b = floa
+000160b0: 7428 6229 0a20 2020 2020 2020 2073 656c  t(b).        sel
+000160c0: 662e 5f70 6174 6820 3d20 4e6f 6e65 0a20  f._path = None. 
+000160d0: 2020 2020 2020 2073 656c 662e 7374 616c         self.stal
+000160e0: 6520 3d20 5472 7565 0a0a 2020 2020 6465  e = True..    de
+000160f0: 6620 7365 745f 7261 6469 6928 7365 6c66  f set_radii(self
+00016100: 2c20 7229 3a0a 2020 2020 2020 2020 2222  , r):.        ""
+00016110: 220a 2020 2020 2020 2020 5365 7420 7468  ".        Set th
+00016120: 6520 7365 6d69 2d6d 616a 6f72 2028 2a61  e semi-major (*a
+00016130: 2a29 2061 6e64 2073 656d 692d 6d69 6e6f  *) and semi-mino
+00016140: 7220 7261 6469 6920 282a 622a 2920 6f66  r radii (*b*) of
+00016150: 2074 6865 2061 6e6e 756c 7573 2e0a 2020   the annulus..  
+00016160: 2020 2020 2020 5061 7261 6d65 7465 7273        Parameters
+00016170: 0a20 2020 2020 2020 202d 2d2d 2d2d 2d2d  .        -------
+00016180: 2d2d 2d0a 2020 2020 2020 2020 7220 3a20  ---.        r : 
+00016190: 666c 6f61 7420 6f72 2028 666c 6f61 742c  float or (float,
+000161a0: 2066 6c6f 6174 290a 2020 2020 2020 2020   float).        
+000161b0: 2020 2020 5468 6520 7261 6469 7573 2c20      The radius, 
+000161c0: 6f72 2073 656d 692d 6178 6573 3a0a 2020  or semi-axes:.  
+000161d0: 2020 2020 2020 2020 2020 2d20 4966 2066            - If f
+000161e0: 6c6f 6174 3a20 7261 6469 7573 206f 6620  loat: radius of 
+000161f0: 7468 6520 6f75 7465 7220 6369 7263 6c65  the outer circle
+00016200: 2e0a 2020 2020 2020 2020 2020 2020 2d20  ..            - 
+00016210: 4966 2074 776f 2066 6c6f 6174 733a 2073  If two floats: s
+00016220: 656d 692d 6d61 6a6f 7220 616e 6420 2d6d  emi-major and -m
+00016230: 696e 6f72 2061 7865 7320 6f66 206f 7574  inor axes of out
+00016240: 6572 2065 6c6c 6970 7365 2e0a 2020 2020  er ellipse..    
+00016250: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00016260: 6966 206e 702e 7368 6170 6528 7229 203d  if np.shape(r) =
+00016270: 3d20 2832 2c29 3a0a 2020 2020 2020 2020  = (2,):.        
+00016280: 2020 2020 7365 6c66 2e61 2c20 7365 6c66      self.a, self
+00016290: 2e62 203d 2072 0a20 2020 2020 2020 2065  .b = r.        e
+000162a0: 6c69 6620 6e70 2e73 6861 7065 2872 2920  lif np.shape(r) 
+000162b0: 3d3d 2028 293a 0a20 2020 2020 2020 2020  == ():.         
+000162c0: 2020 2073 656c 662e 6120 3d20 7365 6c66     self.a = self
+000162d0: 2e62 203d 2066 6c6f 6174 2872 290a 2020  .b = float(r).  
+000162e0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+000162f0: 2020 2020 2020 2020 7261 6973 6520 5661          raise Va
+00016300: 6c75 6545 7272 6f72 2822 5061 7261 6d65  lueError("Parame
+00016310: 7465 7220 2772 2720 6d75 7374 2062 6520  ter 'r' must be 
+00016320: 6f6e 6520 6f72 2074 776f 2066 6c6f 6174  one or two float
+00016330: 732e 2229 0a0a 2020 2020 2020 2020 7365  s.")..        se
+00016340: 6c66 2e5f 7061 7468 203d 204e 6f6e 650a  lf._path = None.
+00016350: 2020 2020 2020 2020 7365 6c66 2e73 7461          self.sta
+00016360: 6c65 203d 2054 7275 650a 0a20 2020 2064  le = True..    d
+00016370: 6566 2067 6574 5f72 6164 6969 2873 656c  ef get_radii(sel
+00016380: 6629 3a0a 2020 2020 2020 2020 2222 2252  f):.        """R
+00016390: 6574 7572 6e20 7468 6520 7365 6d69 2d6d  eturn the semi-m
+000163a0: 616a 6f72 2061 6e64 2073 656d 692d 6d69  ajor and semi-mi
+000163b0: 6e6f 7220 7261 6469 6920 6f66 2074 6865  nor radii of the
+000163c0: 2061 6e6e 756c 7573 2e22 2222 0a20 2020   annulus.""".   
+000163d0: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+000163e0: 2e61 2c20 7365 6c66 2e62 0a0a 2020 2020  .a, self.b..    
+000163f0: 7261 6469 6920 3d20 7072 6f70 6572 7479  radii = property
+00016400: 2867 6574 5f72 6164 6969 2c20 7365 745f  (get_radii, set_
+00016410: 7261 6469 6929 0a0a 2020 2020 6465 6620  radii)..    def 
+00016420: 5f74 7261 6e73 666f 726d 5f76 6572 7473  _transform_verts
+00016430: 2873 656c 662c 2076 6572 7473 2c20 612c  (self, verts, a,
+00016440: 2062 293a 0a20 2020 2020 2020 2072 6574   b):.        ret
+00016450: 7572 6e20 4166 6669 6e65 3244 2829 205c  urn Affine2D() \
+00016460: 0a20 2020 2020 2020 2020 2020 202e 7363  .            .sc
+00016470: 616c 6528 2a73 656c 662e 5f63 6f6e 7665  ale(*self._conve
+00016480: 7274 5f78 795f 756e 6974 7328 2861 2c20  rt_xy_units((a, 
+00016490: 6229 2929 205c 0a20 2020 2020 2020 2020  b))) \.         
+000164a0: 2020 202e 726f 7461 7465 5f64 6567 2873     .rotate_deg(s
+000164b0: 656c 662e 616e 676c 6529 205c 0a20 2020  elf.angle) \.   
+000164c0: 2020 2020 2020 2020 202e 7472 616e 736c           .transl
+000164d0: 6174 6528 2a73 656c 662e 5f63 6f6e 7665  ate(*self._conve
+000164e0: 7274 5f78 795f 756e 6974 7328 7365 6c66  rt_xy_units(self
+000164f0: 2e63 656e 7465 7229 2920 5c0a 2020 2020  .center)) \.    
+00016500: 2020 2020 2020 2020 2e74 7261 6e73 666f          .transfo
+00016510: 726d 2876 6572 7473 290a 0a20 2020 2064  rm(verts)..    d
+00016520: 6566 205f 7265 636f 6d70 7574 655f 7061  ef _recompute_pa
+00016530: 7468 2873 656c 6629 3a0a 2020 2020 2020  th(self):.      
+00016540: 2020 2320 6369 7263 756c 6172 2061 7263    # circular arc
+00016550: 0a20 2020 2020 2020 2061 7263 203d 2050  .        arc = P
+00016560: 6174 682e 6172 6328 302c 2033 3630 290a  ath.arc(0, 360).
+00016570: 0a20 2020 2020 2020 2023 2061 6e6e 756c  .        # annul
+00016580: 7573 206e 6565 6473 2074 6f20 6472 6177  us needs to draw
+00016590: 2061 6e20 6f75 7465 7220 7269 6e67 0a20   an outer ring. 
+000165a0: 2020 2020 2020 2023 2066 6f6c 6c6f 7765         # followe
+000165b0: 6420 6279 2061 2072 6576 6572 7365 6420  d by a reversed 
+000165c0: 616e 6420 7363 616c 6564 2069 6e6e 6572  and scaled inner
+000165d0: 2072 696e 670a 2020 2020 2020 2020 612c   ring.        a,
+000165e0: 2062 2c20 7720 3d20 7365 6c66 2e61 2c20   b, w = self.a, 
+000165f0: 7365 6c66 2e62 2c20 7365 6c66 2e77 6964  self.b, self.wid
+00016600: 7468 0a20 2020 2020 2020 2076 3120 3d20  th.        v1 = 
+00016610: 7365 6c66 2e5f 7472 616e 7366 6f72 6d5f  self._transform_
+00016620: 7665 7274 7328 6172 632e 7665 7274 6963  verts(arc.vertic
+00016630: 6573 2c20 612c 2062 290a 2020 2020 2020  es, a, b).      
+00016640: 2020 7632 203d 2073 656c 662e 5f74 7261    v2 = self._tra
+00016650: 6e73 666f 726d 5f76 6572 7473 2861 7263  nsform_verts(arc
+00016660: 2e76 6572 7469 6365 735b 3a3a 2d31 5d2c  .vertices[::-1],
+00016670: 2061 202d 2077 2c20 6220 2d20 7729 0a20   a - w, b - w). 
+00016680: 2020 2020 2020 2076 203d 206e 702e 7673         v = np.vs
+00016690: 7461 636b 285b 7631 2c20 7632 2c20 7631  tack([v1, v2, v1
+000166a0: 5b30 2c20 3a5d 2c20 2830 2c20 3029 5d29  [0, :], (0, 0)])
+000166b0: 0a20 2020 2020 2020 2063 203d 206e 702e  .        c = np.
+000166c0: 6873 7461 636b 285b 6172 632e 636f 6465  hstack([arc.code
+000166d0: 732c 2050 6174 682e 4d4f 5645 544f 2c0a  s, Path.MOVETO,.
+000166e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000166f0: 2020 2020 2020 2061 7263 2e63 6f64 6573         arc.codes
+00016700: 5b31 3a5d 2c20 5061 7468 2e4d 4f56 4554  [1:], Path.MOVET
+00016710: 4f2c 0a20 2020 2020 2020 2020 2020 2020  O,.             
+00016720: 2020 2020 2020 2020 2020 5061 7468 2e43            Path.C
+00016730: 4c4f 5345 504f 4c59 5d29 0a20 2020 2020  LOSEPOLY]).     
+00016740: 2020 2073 656c 662e 5f70 6174 6820 3d20     self._path = 
+00016750: 5061 7468 2876 2c20 6329 0a0a 2020 2020  Path(v, c)..    
+00016760: 6465 6620 6765 745f 7061 7468 2873 656c  def get_path(sel
+00016770: 6629 3a0a 2020 2020 2020 2020 6966 2073  f):.        if s
+00016780: 656c 662e 5f70 6174 6820 6973 204e 6f6e  elf._path is Non
+00016790: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
+000167a0: 656c 662e 5f72 6563 6f6d 7075 7465 5f70  elf._recompute_p
+000167b0: 6174 6828 290a 2020 2020 2020 2020 7265  ath().        re
+000167c0: 7475 726e 2073 656c 662e 5f70 6174 680a  turn self._path.
+000167d0: 0a0a 636c 6173 7320 4772 6170 6841 7274  ..class GraphArt
+000167e0: 6973 7428 4172 7469 7374 293a 0a20 2020  ist(Artist):.   
+000167f0: 2022 2222 0a20 2020 204d 6174 706c 6f74   """.    Matplot
+00016800: 6c69 6220 6172 7469 7374 2063 6c61 7373  lib artist class
+00016810: 2074 6861 7420 6472 6177 7320 6967 7261   that draws igra
+00016820: 7068 2067 7261 7068 732e 0a0a 2020 2020  ph graphs...    
+00016830: 4f6e 6c79 2043 6169 726f 2d62 6173 6564  Only Cairo-based
+00016840: 2062 6163 6b65 6e64 7320 6172 6520 7375   backends are su
+00016850: 7070 6f72 7465 642e 0a0a 2020 2020 4164  pported...    Ad
+00016860: 6170 7465 6420 6672 6f6d 3a20 6874 7470  apted from: http
+00016870: 733a 2f2f 7374 6163 6b6f 7665 7266 6c6f  s://stackoverflo
+00016880: 772e 636f 6d2f 612f 3336 3135 3430 3737  w.com/a/36154077
+00016890: 2f35 3936 3233 3231 0a20 2020 2022 2222  /5962321.    """
+000168a0: 0a0a 2020 2020 6465 6620 5f5f 696e 6974  ..    def __init
+000168b0: 5f5f 2873 656c 662c 2067 7261 7068 2c20  __(self, graph, 
+000168c0: 6178 6973 2c20 7061 6c65 7474 653d 4e6f  axis, palette=No
+000168d0: 6e65 2c20 2a61 7267 732c 202a 2a6b 7764  ne, *args, **kwd
+000168e0: 7329 3a0a 2020 2020 2020 2020 2222 2243  s):.        """C
+000168f0: 6f6e 7374 7275 6374 7320 6120 6772 6170  onstructs a grap
+00016900: 6820 6172 7469 7374 2074 6861 7420 6472  h artist that dr
+00016910: 6177 7320 7468 6520 6769 7665 6e20 6772  aws the given gr
+00016920: 6170 6820 7769 7468 696e 0a20 2020 2020  aph within.     
+00016930: 2020 2074 6865 2067 6976 656e 2062 6f75     the given bou
+00016940: 6e64 696e 6720 626f 782e 0a0a 2020 2020  nding box...    
+00016950: 2020 2020 6067 7261 7068 6020 6d75 7374      `graph` must
+00016960: 2062 6520 616e 2069 6e73 7461 6e63 6520   be an instance 
+00016970: 6f66 2060 6967 7261 7068 2e47 7261 7068  of `igraph.Graph
+00016980: 602e 0a20 2020 2020 2020 2060 6262 6f78  `..        `bbox
+00016990: 6020 6d75 7374 2065 6974 6865 7220 6265  ` must either be
+000169a0: 2061 6e20 696e 7374 616e 6365 206f 6620   an instance of 
+000169b0: 6069 6772 6170 682e 6472 6177 696e 672e  `igraph.drawing.
+000169c0: 426f 756e 6469 6e67 426f 7860 0a20 2020  BoundingBox`.   
+000169d0: 2020 2020 206f 7220 6120 342d 7475 706c       or a 4-tupl
+000169e0: 6520 2860 6c65 6674 602c 2060 746f 7060  e (`left`, `top`
+000169f0: 2c20 6077 6964 7468 602c 2060 6865 6967  , `width`, `heig
+00016a00: 6874 6029 2e20 5468 6520 7475 706c 650a  ht`). The tuple.
+00016a10: 2020 2020 2020 2020 7769 6c6c 2062 6520          will be 
+00016a20: 7061 7373 6564 206f 6e20 746f 2074 6865  passed on to the
+00016a30: 2063 6f6e 7374 7275 6374 6f72 206f 6620   constructor of 
+00016a40: 6042 6f75 6e64 696e 6742 6f78 602e 0a20  `BoundingBox`.. 
+00016a50: 2020 2020 2020 2060 7061 6c65 7474 6560         `palette`
+00016a60: 2069 7320 616e 2069 6772 6170 6820 7061   is an igraph pa
+00016a70: 6c65 7474 6520 7468 6174 2069 7320 7573  lette that is us
+00016a80: 6564 2074 6f20 7472 616e 7366 6f72 6d0a  ed to transform.
+00016a90: 2020 2020 2020 2020 6e75 6d65 7269 6320          numeric 
+00016aa0: 636f 6c6f 7220 4944 7320 746f 2052 4742  color IDs to RGB
+00016ab0: 2076 616c 7565 732e 2049 6620 604e 6f6e   values. If `Non
+00016ac0: 6560 2c20 6120 6465 6661 756c 7420 6772  e`, a default gr
+00016ad0: 6179 7363 616c 650a 2020 2020 2020 2020  ayscale.        
+00016ae0: 7061 6c65 7474 6520 6973 2075 7365 6420  palette is used 
+00016af0: 6672 6f6d 2069 6772 6170 682e 0a0a 2020  from igraph...  
+00016b00: 2020 2020 2020 416c 6c20 7468 6520 7265        All the re
+00016b10: 6d61 696e 696e 6720 706f 7369 7469 6f6e  maining position
+00016b20: 616c 2061 6e64 206b 6579 776f 7264 2061  al and keyword a
+00016b30: 7267 756d 656e 7473 2061 7265 2070 6173  rguments are pas
+00016b40: 7365 640a 2020 2020 2020 2020 6f6e 2069  sed.        on i
+00016b50: 6e74 6163 7420 746f 2060 6967 7261 7068  ntact to `igraph
+00016b60: 2e47 7261 7068 2e5f 5f70 6c6f 745f 5f60  .Graph.__plot__`
+00016b70: 2e0a 2020 2020 2020 2020 2222 220a 2020  ..        """.  
+00016b80: 2020 2020 2020 6672 6f6d 2069 6772 6170        from igrap
+00016b90: 6820 696d 706f 7274 2042 6f75 6e64 696e  h import Boundin
+00016ba0: 6742 6f78 2c20 7061 6c65 7474 6573 0a0a  gBox, palettes..
+00016bb0: 2020 2020 2020 2020 7375 7065 7228 292e          super().
+00016bc0: 5f5f 696e 6974 5f5f 2829 0a0a 2020 2020  __init__()..    
+00016bd0: 2020 2020 7365 6c66 2e67 7261 7068 203d      self.graph =
+00016be0: 2067 7261 7068 0a20 2020 2020 2020 2073   graph.        s
+00016bf0: 656c 662e 7061 6c65 7474 6520 3d20 7061  elf.palette = pa
+00016c00: 6c65 7474 6520 6f72 2070 616c 6574 7465  lette or palette
+00016c10: 735b 2267 7261 7922 5d0a 2020 2020 2020  s["gray"].      
+00016c20: 2020 7365 6c66 2e62 626f 7820 3d20 426f    self.bbox = Bo
+00016c30: 756e 6469 6e67 426f 7828 6178 6973 2e62  undingBox(axis.b
+00016c40: 626f 782e 626f 756e 6473 290a 2020 2020  box.bounds).    
+00016c50: 2020 2020 7365 6c66 2e61 7267 7320 3d20      self.args = 
+00016c60: 6172 6773 0a20 2020 2020 2020 2073 656c  args.        sel
+00016c70: 662e 6b77 6473 203d 206b 7764 730a 0a20  f.kwds = kwds.. 
+00016c80: 2020 2064 6566 2064 7261 7728 7365 6c66     def draw(self
+00016c90: 2c20 7265 6e64 6572 6572 293a 0a20 2020  , renderer):.   
+00016ca0: 2020 2020 2066 726f 6d20 6d61 7470 6c6f       from matplo
+00016cb0: 746c 6962 2e62 6163 6b65 6e64 732e 6261  tlib.backends.ba
+00016cc0: 636b 656e 645f 6361 6972 6f20 696d 706f  ckend_cairo impo
+00016cd0: 7274 2052 656e 6465 7265 7243 6169 726f  rt RendererCairo
+00016ce0: 0a0a 2020 2020 2020 2020 6966 206e 6f74  ..        if not
+00016cf0: 2069 7369 6e73 7461 6e63 6528 7265 6e64   isinstance(rend
+00016d00: 6572 6572 2c20 5265 6e64 6572 6572 4361  erer, RendererCa
+00016d10: 6972 6f29 3a0a 2020 2020 2020 2020 2020  iro):.          
+00016d20: 2020 7261 6973 6520 5479 7065 4572 726f    raise TypeErro
+00016d30: 7228 0a20 2020 2020 2020 2020 2020 2020  r(.             
+00016d40: 2020 2022 6772 6170 6820 706c 6f74 7469     "graph plotti
+00016d50: 6e67 2069 7320 7375 7070 6f72 7465 6420  ng is supported 
+00016d60: 6f6e 6c79 206f 6e20 4361 6972 6f20 6261  only on Cairo ba
+00016d70: 636b 656e 6473 2229 0a0a 2020 2020 2020  ckends")..      
+00016d80: 2020 7365 6c66 2e67 7261 7068 2e5f 5f70    self.graph.__p
+00016d90: 6c6f 745f 5f28 7265 6e64 6572 6572 2e67  lot__(renderer.g
+00016da0: 632e 6374 782c 2073 656c 662e 6262 6f78  c.ctx, self.bbox
+00016db0: 2c20 7365 6c66 2e70 616c 6574 7465 2c0a  , self.palette,.
+00016dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016dd0: 2020 2020 2020 2020 2020 2020 2a73 656c              *sel
+00016de0: 662e 6172 6773 2c20 2a2a 7365 6c66 2e6b  f.args, **self.k
+00016df0: 7764 7329 0a                             wds).
```

## Comparing `nngt-2.6.0/nngt/plot/chord_diag/chord_diagram.py` & `nngt/plot/chord_diag/chord_diagram.py`

 * *Files 1% similar despite different names*

```diff
@@ -120,15 +120,15 @@
     if ax is None:
         _, ax = plt.subplots()
 
     # copy matrix
     is_sparse = ssp.issparse(mat)
 
     if is_sparse:
-        mat = mat.tocsr(copy=True)
+        mat = ssp.csr_matrix(mat)
     else:
         mat = np.array(mat, copy=True)
 
     num_nodes = mat.shape[0]
 
     # don't use gradient with directed chords
     use_gradient *= not directed
```

## Comparing `nngt-2.6.0/nngt/plot/chord_diag/README.md` & `nngt/plot/chord_diag/README.md`

 * *Files 2% similar despite different names*

```diff
@@ -1,11 +1,11 @@
 # mpl_chord_diagram
 
-[![License](https://img.shields.io/badge/license-MIT-green)](LICENSE)
-![PyPI](https://img.shields.io/pypi/v/mpl-chord-diagram)
+[![License: MIT](https://img.shields.io/badge/license-MIT-green)](./LICENSE)
+[![PyPI](https://img.shields.io/pypi/v/mpl-chord-diagram)](https://pypi.org/project/mpl-chord-diagram)
 [![DOI](https://zenodo.org/badge/DOI/10.5281/zenodo.6583470.svg)](https://doi.org/10.5281/zenodo.6583470)
 
 
 Python module to plot chord diagrams with [matplotlib](https://matplotlib.org).
 
 The code is hosted on [Codeberg's Gitea](https://codeberg.org/tfardet/mpl_chord_diagram)
 and mirrored on [GitHub](https://github.com/tfardet/mpl_chord_diagram).
@@ -19,22 +19,22 @@
 An example can be found in file `example.py`.
 Here is what the diagrams look like:
 * Upper left  > no gradient, no gap, default colormap, chords sorted by distance
 * Upper right > directed chords, no gap, "summer" colormap, rotated names, chords sorted by distance
 * Lower left  > gap, single color for chords, rotated names, unsorted chords
 * Lower right > gradient and gap, default colormap, chords sorted by size
 
-<img src="images/example_sort-distance.png" width="390"
+<img src="https://codeberg.org/tfardet/mpl_chord_diagram/media/branch/main/images/example_sort-distance.png" width="390"
      alt="Chord diagram without gradient, chords sorted by distance"><img
-     src="images/example_sort-distance_directed.png" width="390"
+     src="https://codeberg.org/tfardet/mpl_chord_diagram/media/branch/main/images/example_sort-distance_directed.png" width="390"
      alt="Chord diagram with directed chords and rotated names, chords sorted by distance">
 
-<img src="images/example_sort-None.png" width="390"
+<img src="https://codeberg.org/tfardet/mpl_chord_diagram/media/branch/main/images/example_sort-None.png" width="390"
      alt="Chord diagram without grey chords in unsorted order"><img
-     src="images/example_gradient_sort-size.png" width="390"
+     src="https://codeberg.org/tfardet/mpl_chord_diagram/media/branch/main/images/example_gradient_sort-size.png" width="390"
      alt="Chord diagram with gradient, sorted by size">
 
 
 ## Main plot function
 
 ```python
 def chord_diagram(mat, names=None, order=None, width=0.1, pad=2., gap=0.03,
```

## Comparing `nngt-2.6.0/nngt/plot/chord_diag/gradient.py` & `nngt/plot/chord_diag/gradient.py`

 * *Files identical despite different names*

## Comparing `nngt-2.6.0/nngt/plot/chord_diag/utilities.py` & `nngt/plot/chord_diag/utilities.py`

 * *Files identical despite different names*

## Comparing `nngt-2.6.0/nngt/plot/chord_diag/example.py` & `nngt/plot/chord_diag/example.py`

 * *Files identical despite different names*

## Comparing `nngt-2.6.0/nngt/generation/func_connect.cpp` & `nngt/generation/func_connect.cpp`

 * *Files 1% similar despite different names*

```diff
@@ -1,8 +1,10 @@
-// connect.cpp
+// SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+// SPDX-License-Identifier: GPL-3.0-or-later
+// nngt/generation/fun_connect.cpp
 //
 // Accelerated network generation functions
 //
 // Note: signed ints are required because MSVC does not implement OpenMP 3
 // standards which allow unsigned variables in for loops.
 
 #include "func_connect.h"
@@ -182,15 +184,15 @@
                 hash_set.insert(node);
             }
         }
     }
 
     ecurrent = result.size();
     result.resize(ecurrent + degree);
-    
+
     size_t remaining = degree;
     size_t cplt, j;
     const size_t target_degree = ecurrent + degree;
 
     while (ecurrent < target_degree)
     {
         remaining = target_degree - ecurrent;
@@ -337,15 +339,15 @@
                 // reset edge number (recompute it each time)
                 #pragma omp single
                 {
                     current_enum = initial_enum;
                 }
                 #pragma omp barrier
                 #pragma omp flush(current_enum)
-                
+
                 // the static schedule is CAPITAL: each thread must always
                 // handle the same nodes
                 #pragma omp for schedule(static)
                 for (size_t i=0; i<target_nodes.size(); i++)
                 {
                     local_tgts = target_nodes[i];
                     local_tests = target_nodes[i].size()
```

## Comparing `nngt-2.6.0/nngt/generation/connectors.py` & `nngt/generation/connectors.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# generation/connectors.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/generation/connectors.py
 
 """ Connector functions """
 
 import numpy as np
 
 import nngt
 from nngt.generation import graph_connectivity as gc
```

## Comparing `nngt-2.6.0/nngt/generation/mpi_connect.py` & `nngt/generation/mpi_connect.py`

 * *Files 9% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# generation/mpi_connect.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/generation/mpi_connect.py
 
 """ Generation tools for NNGT using MPI """
 
 import warnings
 import numpy as np
 import scipy.sparse as ssp
 from scipy.spatial.distance import cdist
@@ -144,15 +126,15 @@
     comm, size, rank = _mpi_and_random_init()
 
     assert degree >= 0, "A positive value is required for `degree`."
 
     # use only local sources
     source_ids = np.array(source_ids, dtype=int)[rank::size]
     target_ids = np.array(target_ids, dtype=int)
-        
+
     num_source = len(source_ids)
 
     # compute the local number of edges
     lst_deg = np.full(num_source, degree, dtype=int)
 
     # !IMPORTANT! use `already_local` to tell _from_degree_list that only
     # local sources and degrees have been sent
@@ -175,15 +157,15 @@
 
     assert avg >= 0, "A positive value is required for `avg`."
     assert std >= 0, "A positive value is required for `std`."
 
     # use only local sources
     source_ids = np.array(source_ids, dtype=int)[rank::size]
     target_ids = np.array(target_ids, dtype=int)
-        
+
     num_source = len(source_ids)
 
     # compute the local number of edges
     lst_deg = np.around(
         np.maximum(np.random.normal(avg, std, num_source), 0.)).astype(int)
 
     # !IMPORTANT! use `already_local` to tell _from_degree_list that only
```

## Comparing `nngt-2.6.0/nngt/generation/graph_connectivity.py` & `nngt/generation/graph_connectivity.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# generation/graph_connectivity.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/generation/graph_connectivity.py
 
 """ Connectivity generators for nngt.Graph """
 
 from copy import deepcopy
 import logging
 
 import numpy as np
@@ -85,15 +67,15 @@
                 pyximport.install(language_level=3)
 
             # wait for compilation to finish
             nngt.lib.mpi_barrier()
 
             if on_master_process():
                 from .cconnect import *
-    
+
             nngt.lib.mpi_barrier()
 
             from .cconnect import *
 
             using_mt_algorithms = True
 
             _log_message(logger, "DEBUG", str(e) + "\n\tCompiled "
@@ -511,15 +493,15 @@
 # ----------------- #
 
 def random_scale_free(in_exp, out_exp, nodes=0, density=None, edges=None,
                       avg_deg=None, reciprocity=0., weighted=True,
                       directed=True, multigraph=False, name="RandomSF",
                       shape=None, positions=None, population=None,
                       from_graph=None, **kwargs):
-    """
+    r"""
     Generate a free-scale graph of given reciprocity and otherwise
     devoid of correlations.
 
     Parameters
     ----------
     in_exp : float
         Absolute value of the in-degree exponent :math:`\gamma_i`, such that
@@ -783,15 +765,15 @@
 
         graph_circ.new_edges(edges, check_duplicates=False,
                              check_self_loops=False, check_existing=False)
 
     graph_circ._graph_type = "circular"
 
     return graph_circ
-    
+
 
 # ------------------ #
 # Small-world models #
 # ------------------ #
 
 def newman_watts(coord_nb, proba_shortcut=None, reciprocity_circular=1.,
                  reciprocity_choice_circular="random", nodes=0, edges=None,
@@ -1324,15 +1306,15 @@
                     if directed and n > 2:
                         sources *= 2
 
                     targets = sources[::-1]
 
                     if n > 2:
                         rng.shuffle(targets)
-                        
+
                     cset = set()
 
                     for i in sources:
                         j = i
 
                         while i == j or (i, j) in cset:
                             j = rng.integers(0, len(hist))
@@ -1477,15 +1459,15 @@
 
 @mpi_random
 def distance_rule(scale, rule="exp", shape=None, neuron_density=1000.,
                   max_proba=-1., nodes=0, density=None, edges=None,
                   avg_deg=None, unit='um', weighted=True, directed=True,
                   multigraph=False, name="DR", positions=None, population=None,
                   from_graph=None, **kwargs):
-    """
+    r"""
     Create a graph using a 2D distance rule to create the connection between
     neurons. Available rules are linear and exponential.
 
     Parameters
     ----------
     scale : float
         Characteristic scale for the distance rule. E.g for linear distance-
@@ -1616,11 +1598,11 @@
     --------
     :mod:`~nngt.generation`
     '''
     graph_type = di_instructions["graph_type"]
     instructions = deepcopy(di_instructions)
 
     del instructions["graph_type"]
-    
+
     instructions.update(kwargs)
 
     return _di_generator[graph_type](**instructions)
```

## Comparing `nngt-2.6.0/nngt/generation/cconnect.pyx` & `nngt/generation/cconnect.pyx`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,12 @@
 #cython: cdivision=True, language_level=3
 #!/usr/bin/env cython
 #-*- coding:utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
 
 """ Cython interface to C++ parallel generation tools for NNGT """
 
 import warnings
 
 from .cconnect cimport *
 cimport numpy as cnp
@@ -304,15 +306,15 @@
 
                 for e in new_edges:
                     if e[0] == e[1]:
                         skip = True
                         break
 
                     tpl_e = tuple(e)
-                        
+
                     if tpl_e in edges_hash:
                         skip = True
                         break
 
                     if not directed and tpl_e in recip_hash:
                         skip = True
                         break
@@ -339,17 +341,17 @@
                     multigraph, directed=directed, recip_hash=recip_hash)
 
                 decr  = new_edges.ravel()
                 incr  = chosen.ravel()
 
                 np.add.at(degree_list, incr, 1)
                 np.add.at(degree_list, decr, -1)
-                
+
                 ecurrent += len(new_edges)
-                
+
             num_tests += 1
 
         if num_tests == MAXTESTS:
             raise RuntimeError("Graph generation did not converge.")
 
         return ia_edges
```

## Comparing `nngt-2.6.0/nngt/generation/func_connect.h` & `nngt/generation/func_connect.h`

 * *Files 2% similar despite different names*

```diff
@@ -1,8 +1,10 @@
-// connect.h
+// SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+// SPDX-License-Identifier: GPL-3.0-or-later
+// nngt/generation/fun_connect.h
 //
 // Accelerated network generation functions
 
 #ifndef FUNC_CONNECT_H
 #define FUNC_CONNECT_H
 
 #include <algorithm>
```

## Comparing `nngt-2.6.0/nngt/generation/rewiring.py` & `nngt/generation/rewiring.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# generation/rewiring.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/generation/rewiring.py
 
 """ Rewiring functions """
 
 from copy import deepcopy
 
 import numpy as np
```

## Comparing `nngt-2.6.0/nngt/generation/connect_algorithms.py` & `nngt/generation/connect_algorithms.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# generation/connect_algorithms.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/generation/connect_algorithms.py
 
 """ Generation tools for NNGT """
 
 import logging
 import numpy as np
 import scipy.sparse as ssp
 from numpy.random import randint
@@ -212,15 +194,15 @@
                 # check that new_edges are indeed new
                 skip = False
 
                 for e in new_edges:
                     if e[0] == e[1]:
                         skip = True
                         break
-                        
+
                     if tuple(e) in edges_hash:
                         skip = True
                         break
 
                     if not directed and tuple(e) in recip_hash:
                         skip = True
                         break
@@ -247,26 +229,26 @@
                     multigraph, directed=directed, recip_hash=recip_hash)
 
                 decr  = list(new_edges.ravel())
                 incr  = list(chosen.ravel())
 
                 np.add.at(degree_list, incr, 1)
                 np.add.at(degree_list, decr, -1)
-                
+
                 ecurrent += len(new_edges)
 
             num_tests += 1
 
         if num_tests == MAXTESTS:
             raise RuntimeError("Graph generation did not converge.")
 
         return ia_edges
 
     raise NotImplementedError("not available if sources != targets.")
-    
+
 
 def _from_degree_list(source_ids, target_ids, degree_list, degree_type="in",
                       directed=True, multigraph=False, existing_edges=None,
                       **kwargs):
     assert len(degree_list) == len(source_ids), \
         "One degree per source neuron must be provided."
 
@@ -672,15 +654,15 @@
             targets[-num_recip:] = sources[chosen]
         elif reciprocity_choice == "closest":
             # closest connections are the first ones, so if
             # num_recip = k*nodes + l then we reverse all first k*nodes
             # then we randomly chose the remaining l
             remainder = num_recip % nodes
             rounds    = num_recip - remainder
-            
+
             sources[-num_recip:-num_recip + rounds] = targets[:rounds]
             targets[-num_recip:-num_recip + rounds] = sources[:rounds]
 
             # chose randomly the remaining connections
             stop = min(rounds + nodes, edges)
             chosen = rng.choice([i for i in range(rounds, stop)],
                                 size=remainder, replace=False)
```

## Comparing `nngt-2.6.0/nngt/simulation/nest_activity.py` & `nngt/simulation/nest_activity.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# simulation/nest_activity.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/simulation/nest_activity.py
 
 """ Analyze the activity of a network """
 
 from collections import namedtuple
 from copy import deepcopy
 import weakref
```

## Comparing `nngt-2.6.0/nngt/simulation/nest_utils.py` & `nngt/simulation/nest_utils.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,35 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# simulation/nest_utils.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
-
-# nest_utils.py
-
-# This file is part of the NNGT module
-# Distributed as a free software, in the hope that it will be useful, under the
-# terms of the GNU General Public License.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/simulation/nest_utils.py
 
 """ Utility functions to monitor NEST simulated activity """
 
 try:
     from io import BytesIO
 except ImportError:
     from BytesIO import BytesIO
```

## Comparing `nngt-2.6.0/nngt/simulation/nest_plot.py` & `nngt/simulation/nest_plot.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,35 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# simulation/nest_plot.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
-
-# nest_plot.py
-
-# This file is part of the NNGT module
-# Distributed as a free software, in the hope that it will be useful, under the
-# terms of the GNU General Public License.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/simulation/nest_plot.py
 
 """ Utility functions to plot NEST simulated activity """
 
 import itertools
 import logging
 
 from matplotlib.colors import ColorConverter
```

## Comparing `nngt-2.6.0/nngt/simulation/nest_graph.py` & `nngt/simulation/nest_graph.py`

 * *Files 3% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# simulation/nest_graph.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/simulation/nest_graph.py
 
 import nest
 import numpy as np
 import scipy.sparse as ssp
 from scipy.optimize import root
 from scipy.signal import argrelmax, argrelmin
 
@@ -44,15 +26,15 @@
 
 # -------- #
 # Topology #
 # -------- #
 
 @mpi_checker()
 def make_nest_network(network, send_only=None, weights=True):
-    '''
+    r'''
     Create a new network which will be filled with neurons and
     connector objects to reproduce the topology from the initial network.
 
     .. versionchanged:: 0.8
         Added `send_only` parameter.
 
     Parameters
@@ -185,15 +167,15 @@
 
                     # using A1 to get data from matrix
                     if weights:
                         syn_spec[WEIGHT] = local_sign *\
                             csr_weights[local_src_ids, local_tgt_ids].A1
                     else:
                         syn_spec[WEIGHT] = np.repeat(local_sign, len(tgt_ids))
-    
+
                     syn_spec[DELAY] = \
                         csr_delays[local_src_ids, local_tgt_ids].A1
 
                     num_conn += len(local_src_ids)
 
                     # check backend
                     with_mpi = nngt.get_config("mpi")
```

## Comparing `nngt-2.6.0/nngt/simulation/__init__.py` & `nngt/simulation/__init__.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# simulation/__init__.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/simulation/__init__.py
 
 """
 Module to interact easily with the NEST simulator. It allows to:
 
 * build a NEST network from :class:`~nngt.Network` or
   :class:`~nngt.SpatialNetwork` objects,
 * monitor the activity of the network (taking neural groups into account)
```

## Comparing `nngt-2.6.0/nngt/lib/connect_tools.py` & `nngt/lib/connect_tools.py`

 * *Files 9% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# lib/connect_tools.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/lib/connect_tools.py
 
 """ Generation tools for NNGT """
 
 import logging
 
 import numpy as np
 import scipy.sparse as ssp
@@ -487,24 +469,44 @@
         Graph to analyze.
     '''
     # prepare adjacency matrices
     A = g.adjacency_matrix()
 
     A.setdiag(0)  # remove self-loops for the computation
 
-    A2 = A*A
+    A2 = A@A
     A2.data = np.ones(len(A2.data))
     A2.setdiag(1)
 
     ind_edges = set()
 
     if g.is_directed():
-        [ind_edges.add((i, j)) for i in g.get_nodes()
-            for j in np.where(
-                A.getrow(i).todense().A1*(1 - A2.getrow(i).todense().A1))[0]]
+        if isinstance(A, ssp.csr_array):
+            [
+                ind_edges.add((i, j)) for i in g.get_nodes()
+                for j in np.where(
+                    A.getrow(i).todense()*(1 - A2.getrow(i).todense()))[0]
+            ]
+        else:
+            [
+                ind_edges.add((i, j)) for i in g.get_nodes()
+                for j in np.where(
+                    A.getrow(i).todense().A1*(1 - A2.getrow(i).todense().A1)
+                )[0]
+            ]
     else:
-        [ind_edges.add((i, j)) for i in g.get_nodes()
-            for j in np.where(
-                A.getrow(i).todense().A1*(1 - A2.getrow(i).todense().A1))[0]
-            if (j, i) not in ind_edges]
+        if isinstance(A, ssp.csr_array):
+            [
+                ind_edges.add((i, j)) for i in g.get_nodes()
+                for j in np.where(
+                    A.getrow(i).todense()*(1 - A2.getrow(i).todense())
+                )[0] if (j, i) not in ind_edges
+            ]
+        else:
+            [
+                ind_edges.add((i, j)) for i in g.get_nodes()
+                for j in np.where(
+                    A.getrow(i).todense().A1*(1 - A2.getrow(i).todense().A1)
+                )[0] if (j, i) not in ind_edges
+            ]
 
     return ind_edges
```

## Comparing `nngt-2.6.0/nngt/lib/graph_backends.py` & `nngt/lib/graph_backends.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# lib/graph_backends.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/lib/graph_backends.py
 
 """ Tools to interact with the graph libraries backends """
 
 from importlib import reload
 import logging
 import sys
```

## Comparing `nngt-2.6.0/nngt/lib/sorting.py` & `nngt/lib/sorting.py`

 * *Files 12% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# lib/sorting.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/lib/sorting.py
 
 """ Sorting tools """
 
 import numpy as np
 
 from .errors import InvalidArgument
 from .test_functions import nonstring_container, is_integer
```

## Comparing `nngt-2.6.0/nngt/lib/graph_helpers.py` & `nngt/lib/graph_helpers.py`

 * *Files 3% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# lib/graph_helpers.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/lib/graph_helpers.py
 
 from copy import deepcopy
 
 import numpy as np
 
 from .errors import InvalidArgument
 from .rng_tools import _eprop_distribution
```

## Comparing `nngt-2.6.0/nngt/lib/rng_tools.py` & `nngt/lib/rng_tools.py`

 * *Files 12% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# lib/rng_tools.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/lib/rng_tools.py
 
 """ Generating the weights of the graph object's connections """
 
 import numpy as np
 import scipy.sparse as ssp
 
 import nngt
```

## Comparing `nngt-2.6.0/nngt/lib/nngt_config.py` & `nngt/lib/nngt_config.py`

 * *Files 9% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# lib/nngt_config.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/lib/nngt_config.py
 
 """ Configuration tools for NNGT """
 
 import os
 import sys
 import logging
 import importlib.util as imputil
```

## Comparing `nngt-2.6.0/nngt/lib/test_functions.py` & `nngt/lib/test_functions.py`

 * *Files 24% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# lib/test_functions.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/lib/test_functions.py
 
 """ Test functions for the NNGT """
 
 import collections
 import functools
 import inspect
 import warnings
```

## Comparing `nngt-2.6.0/nngt/geometry/shape.py` & `nngt/geometry/shape.py`

 * *Files 2% similar despite different names*

```diff
@@ -19,16 +19,18 @@
 # along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
 """
 Shape implementation using the
 `shapely <http://toblerity.org/shapely/index.html>`_ library.
 """
 
-import weakref
 from copy import deepcopy
+from typing import Any, ClassVar, Dict
+
+import weakref
 import logging
 
 logger = logging.getLogger(__name__)
 
 import shapely
 from shapely.wkt import loads
 from shapely.affinity import scale, translate
@@ -56,14 +58,15 @@
     _opengl_support = False
 
 
 __all__ = ["Area", "Shape"]
 
 
 class Shape(Polygon):
+
     """
     Class containing the shape of the area where neurons will be distributed to
     form a network.
 
     Attributes
     ----------
     area : double
@@ -74,14 +77,18 @@
         Position of the center of mass of the current shape in `unit`.
 
     See also
     --------
     Parent class: :class:`shapely.geometry.Polygon`
     """
 
+    _id_to_attrs: ClassVar[Dict[str, Any]] = {}
+
+    __slots__ = getattr(Polygon, "__slots__", [])
+
     @staticmethod
     def from_file(filename, min_x=None, max_x=None, unit='um', parent=None,
                   interpolate_curve=50, default_properties=None):
         '''
         Create a shape from a DXF, an SVG, or a WTK/WKB file.
 
         .. versionadded:: 0.3
@@ -151,36 +158,25 @@
         if _unit_support:
             from .units import Q_
             if isinstance(min_x, Q_):
                 min_x = min_x.m_as(unit)
             if isinstance(max_x, Q_):
                 max_x = max_x.m_as(unit)
 
-        obj    = None
-        g_type = None
-
         # find the scaling factor
         if None not in (min_x, max_x):
-            ext        = np.array(polygon.exterior.coords)
-            leftmost   = np.min(ext[:, 0])
-            rightmost  = np.max(ext[:, 0])
-            scaling    = (max_x - min_x) / (rightmost - leftmost)
-            obj        = scale(polygon, scaling, scaling)
-        else:
-            obj = Polygon(polygon)
-
-        obj.__class__         = Shape
-        obj._parent           = None
-        obj._unit             = unit
-        obj._geom_type        = g_type
-        obj._return_quantity = False
-        obj._areas = {
-            "default_area": Area.from_shape(obj, name="default_area",
-                                            properties=default_properties)
-        }
+            ext = np.array(polygon.exterior.coords)
+            leftmost = np.min(ext[:, 0])
+            rightmost = np.max(ext[:, 0])
+            scaling = (max_x - min_x) / (rightmost - leftmost)
+            polygon = scale(polygon, scaling, scaling)
+
+        obj = Shape(
+            polygon.exterior.coords, [elt.coords for elt in polygon.interiors],
+            unit=unit, parent=parent)
 
         return obj
 
     @staticmethod
     def from_wkt(wtk, min_x=None, max_x=None, unit='um', parent=None,
                  default_properties=None):
         '''
@@ -212,15 +208,17 @@
         '''
         if _unit_support:
             from .units import Q_
             if isinstance(min_x, Q_):
                 min_x = min_x.m_as(unit)
             if isinstance(max_x, Q_):
                 max_x = max_x.m_as(unit)
+
         p = loads(wtk)
+
         return Shape.from_polygon(
             p, min_x=min_x, max_x=max_x, unit=unit, parent=parent,
             default_properties=default_properties)
 
     @staticmethod
     def rectangle(height, width, centroid=(0., 0.), unit='um',
                   parent=None, default_properties=None):
@@ -256,24 +254,30 @@
                 height = height.m_as(unit)
             if isinstance(centroid, Q_):
                 centroid = centroid.m_as(unit)
             elif isinstance(centroid, Point):
                 centroid = list(centroid.coords)[0]
             elif isinstance(centroid[0], Q_):
                 centroid = (centroid[0].m_as(unit), centroid[1].m_as(unit))
+
         half_w = 0.5 * width
         half_h = 0.5 * height
+
         centroid = np.array(centroid)
+
         points = [centroid + [half_w, half_h],
                   centroid + [half_w, -half_h],
                   centroid - [half_w, half_h],
                   centroid - [half_w, -half_h]]
+
         shape = Shape(points, unit=unit, parent=parent,
                       default_properties=default_properties)
+
         shape._geom_type = "Rectangle"
+
         return shape
 
     @staticmethod
     def disk(radius, centroid=(0.,0.), unit='um', parent=None,
              default_properties=None):
         '''
         Generate a disk of given radius and center (`centroid`).
@@ -303,22 +307,28 @@
                 radius = radius.m_as(unit)
             if isinstance(centroid, Q_):
                 centroid = centroid.m_as(unit)
             elif isinstance(centroid, Point):
                 centroid = list(centroid.coords)[0]
             elif isinstance(centroid[0], Q_):
                 centroid = (centroid[0].m_as(unit), centroid[1].m_as(unit))
+
         centroid = np.array(centroid)
+
         minx = centroid[0] - radius
         maxx = centroid[0] + radius
+
         disk = Shape.from_polygon(
             Point(centroid).buffer(radius), min_x=minx, max_x=maxx, unit=unit,
             parent=parent, default_properties=default_properties)
+
         disk._geom_type = "Disk"
+
         disk.radius = radius
+
         return disk
 
     @staticmethod
     def ellipse(radii, centroid=(0.,0.), unit='um', parent=None,
                 default_properties=None):
         '''
         Generate a disk of given radius and center (`centroid`).
@@ -350,27 +360,36 @@
                 radii = (radii[0].m_as(unit), radii[1].m_as(unit))
             if isinstance(centroid, Q_):
                 centroid = centroid.m_as(unit)
             elif isinstance(centroid, Point):
                 centroid = list(centroid.coords)[0]
             elif isinstance(centroid[0], Q_):
                 centroid = (centroid[0].m_as(unit), centroid[1].m_as(unit))
+
         centroid = np.array(centroid)
         rx, ry = radii
         minx = centroid[0] - rx
         maxx = centroid[0] + rx
+
         ellipse = Shape.from_polygon(
             scale(Point(centroid).buffer(1.), rx, ry), min_x=minx, max_x=maxx,
             unit=unit, parent=parent, default_properties=default_properties)
+
         ellipse._geom_type = "Ellipse"
         ellipse.radii = radii
+
         return ellipse
 
+    def __new__(cls, shell=None, holes=None, **kwargs) -> "Shape":
+        obj = super(Shape, cls).__new__(cls, shell, holes)
+        obj.__class__ = cls
+        return obj
+
     def __init__(self, shell, holes=None, unit='um', parent=None,
-                 default_properties=None):
+                 default_properties=None, **kwargs):
         '''
         Initialize the :class:`Shape` object and the underlying
         :class:`shapely.geometry.Polygon`.
 
         Parameters
         ----------
         exterior : array-like object of shape (N, 2)
@@ -403,52 +422,58 @@
                     else:
                         try:
                             if isinstance(h[0], Q_):
                                 holes[i] = [q.m_as(unit) for q in h]
                         except:
                             pass
 
-        self._return_quantity = False
-
-        self._parent    = weakref.proxy(parent) if parent is not None else None
-        self._unit      = unit
-        self._geom_type = 'Polygon'
-
-        # create the default area
-        tmp = Polygon(shell, holes=holes)
-        self._areas     = {
-            "default_area": Area.from_shape(
-                tmp, name="default_area", properties=default_properties,
-                unit=unit)
+        self._id_to_attrs[id(self)] = {
+            "_return_quantity": False,
+            "_parent": None if parent is None else weakref.proxy(parent),
+            "_unit": unit,
+            "_geom_type": 'Polygon',
+            "_areas": None
         }
 
-        super(Shape, self).__init__(shell, holes=holes)
+        if kwargs.get("with_areas", True):
+            self._id_to_attrs[id(self)]["_areas"] = {
+                "default_area": Area.from_shape(
+                    self, name="default_area", properties=default_properties,
+                    unit=unit)
+            }
+
+    def __getattr__(self, name) -> Any:
+        ''' Access attribute '''
+        attrs = self._id_to_attrs[id(self)]
+
+        if name in attrs:
+            return attrs[name]
 
-    def __setattr__(self, name, value):
-        ''' Bypass Shapely 1.8+ __setattr__ method '''
-        try:
-            super().__getattribute__(name)
-            super().__setattr__(name, value)
-        except AttributeError:
-            object.__setattr__(self, name, value)
+        return super().__getattribute__(name)
+
+    def __setattr__(self, name, value) -> None:
+        ''' Change attribute '''
+        attrs = self._id_to_attrs[id(self)]
+
+        attrs[name] = value
 
     def copy(self):
         '''
         Create a copy of the current Shape.
         '''
         copy = Shape.from_polygon(self)
 
         copy._return_quantity = self._return_quantity
 
-        copy._parent    = None
-        copy._unit      = self._unit
+        copy._parent = None
+        copy._unit = self._unit
         copy._geom_type = self._geom_type
 
         if self._areas:
-            copy._areas     = {
+            copy._areas = {
                 key: val.copy() for key, val in self._areas.items()
             }
 
         return copy
 
     @property
     def parent(self):
@@ -476,28 +501,30 @@
 
         .. versionadded:: 0.4
         '''
         areas = {
             k: deepcopy(v) for k, v in self._areas.items()
             if k.find("default_area") == 0
         }
+
         return areas
 
     @property
     def non_default_areas(self):
         '''
         Returns the dictionary containing all Shape's areas except the
         default ones.
 
         .. versionadded:: 0.4
         '''
         areas = {
             k: deepcopy(v) for k, v in self._areas.items()
             if k.find("default_area") != 0
         }
+
         return areas
 
     @property
     def return_quantity(self):
         '''
         Whether `seed_neurons` returns positions with units by default.
 
@@ -1013,14 +1040,15 @@
                 contained.append(self.contains(Point(*pos)))
             return np.array(contained, dtype=bool)
         else:
             return self.contains(Point(*positions))
 
 
 class Area(Shape):
+
     """
     Specialized :class:`Shape` that stores additional properties regarding the
     interactions with the neurons.
 
     Each Area is characteristic of a given substrate and height. These two
     properties are homogeneous over the whole area, meaning that the neurons
     interact in the same manner with an Area reagardless of their position
@@ -1028,14 +1056,16 @@
 
     The substrate is described through its modulation of the neuronal
     properties compared to their default behavior.
     Thus, a given area will modulate the speed, wall affinity, etc, of the
     growth cones that are growing above it.
     """
 
+    __slots__ = getattr(Polygon, "__slots__", [])
+
     @classmethod
     def from_shape(cls, shape, height=0., name="area", properties=None,
                    unit='um', min_x=None, max_x=None):
         '''
         Create an :class:`Area` from a :class:`Shape` object.
 
         Parameters
@@ -1052,49 +1082,39 @@
             if isinstance(height, Q_):
                 height = height.m_as(unit)
             if isinstance(min_x, Q_):
                 min_x = min_x.m_as(unit)
             if isinstance(max_x, Q_):
                 max_x = max_x.m_as(unit)
 
-        obj    = None
+        obj = None
         g_type = None
 
         if isinstance(shape, MultiPolygon):
             g_type = "MultiPolygon"
         elif isinstance(shape, (Polygon, Shape, Area)):
             g_type = "Polygon"
         else:
             raise TypeError("Expected a Polygon or MultiPolygon object.")
 
         # find the scaling factor
         scaling = 1.
+
         if None not in (min_x, max_x):
-            ext        = np.array(shape.exterior.coords)
-            leftmost   = np.min(ext[:, 0])
-            rightmost  = np.max(ext[:, 0])
-            scaling    = (max_x - min_x) / (rightmost - leftmost)
-            obj        = scale(shape, scaling, scaling)
-        else:
-            if g_type == "Polygon":
-                obj    = Polygon(shape)
-            else:
-                obj    = MultiPolygon(shape)
+            ext = np.array(shape.exterior.coords)
+            leftmost = np.min(ext[:, 0])
+            rightmost = np.max(ext[:, 0])
+            scaling = (max_x - min_x) / (rightmost - leftmost)
+            obj = scale(shape, scaling, scaling)
+
+        obj = cls(
+            shape.exterior.coords, [elt.coords for elt in shape.interiors],
+            unit=unit, height=height, name=name, properties=properties)
 
-        obj.__class__        = cls
-        obj._parent          = None
-        obj._unit            = unit
-        obj._geom_type       = g_type
-        obj.__class__        = Area
-        obj._areas           = None
-        obj.height           = height
-        obj.name             = name
-        obj._prop            = _PDict(
-            {} if properties is None else deepcopy(properties))
-        obj._return_quantity = False
+        obj._id_to_attrs[id(obj)]["_geom_type"] = g_type
 
         return obj
 
     def __init__(self, shell, holes=None, unit='um', height=0.,
                  name="area", properties=None):
         '''
         Initialize the :class:`Shape` object and the underlying
@@ -1120,33 +1140,32 @@
             property is modulated, all values must be positive reals or NaN.
         '''
         if _unit_support:
             from .units import Q_
             if isinstance(height, Q_):
                 height = height.m_as(unit)
 
-        super(Area, self).__init__(shell, holes=holes, unit=unit, parent=None)
+        super().__init__(shell, holes=holes, unit=unit, parent=None,
+                         with_areas=False)
 
-        self._areas = None
-        self.height = height
-        self.name   = name
-        self._prop  = _PDict(
+        self._id_to_attrs[id(self)]["_areas"] = None
+        self._id_to_attrs[id(self)]["height"] = height
+        self._id_to_attrs[id(self)]["name"] = name
+        self._id_to_attrs[id(self)]["_prop"] = _PDict(
             {} if properties is None else deepcopy(properties))
 
     def __deepcopy__(self, *args, **kwargs):
-        obj = Area.from_shape(
+        return Area.from_shape(
             self, height=self.height, name=self.name, properties=self._prop)
-        return obj
 
     def copy(self):
         '''
         Create a copy of the current Area.
         '''
-        return Area.from_shape(super().copy(), height=self.height,
-                               name=self.name, properties=self._prop.todict())
+        return self.__deepcopy__()
 
     @property
     def areas(self):
         raise AttributeError("Areas do not have sub-Areas.")
 
     @property
     def properties(self):
```

## Comparing `nngt-2.6.0/nngt/geometry/svgtools.py` & `nngt/geometry/svgtools.py`

 * *Files identical despite different names*

## Comparing `nngt-2.6.0/nngt/geometry/README.md` & `nngt/geometry/README.md`

 * *Files identical despite different names*

## Comparing `nngt-2.6.0/nngt/geometry/tools.py` & `nngt/geometry/tools.py`

 * *Files identical despite different names*

## Comparing `nngt-2.6.0/nngt/geometry/plot.py` & `nngt/geometry/plot.py`

 * *Files identical despite different names*

## Comparing `nngt-2.6.0/nngt/geometry/backup_shape.py` & `nngt/geometry/backup_shape.py`

 * *Files identical despite different names*

## Comparing `nngt-2.6.0/nngt/geometry/geom_utils.py` & `nngt/geometry/geom_utils.py`

 * *Files identical despite different names*

## Comparing `nngt-2.6.0/nngt/geometry/dxftools.py` & `nngt/geometry/dxftools.py`

 * *Files identical despite different names*

## Comparing `nngt-2.6.0/nngt/geometry/units.py` & `nngt/geometry/units.py`

 * *Files identical despite different names*

## Comparing `nngt-2.6.0/nngt/geometry/pync_log.py` & `nngt/geometry/pync_log.py`

 * *Files identical despite different names*

## Comparing `nngt-2.6.0/nngt/geometry/shape_io.py` & `nngt/geometry/shape_io.py`

 * *Files identical despite different names*

## Comparing `nngt-2.6.0/nngt/geometry/__init__.py` & `nngt/geometry/__init__.py`

 * *Files 3% similar despite different names*

```diff
@@ -60,17 +60,14 @@
 
 import logging
 
 # shapely support
 
 try:
     import shapely
-    from shapely import speedups
-    if speedups.available:
-        speedups.enable()
     _shapely_support = True
     from .shape import Shape, Area
 except ImportError:
     _shapely_support = False
     from .backup_shape import BackupShape as Shape
 
 from .tools import pop_largest
```

## Comparing `nngt-2.6.0/nngt/geometry/triangulate.py` & `nngt/geometry/triangulate.py`

 * *Files identical despite different names*

## Comparing `nngt-2.6.0/nngt/geometry/dxf_import/read_dxf.py` & `nngt/geometry/dxf_import/read_dxf.py`

 * *Files identical despite different names*

## Comparing `nngt-2.6.0/nngt/geometry/dxf_import/homcoord.py` & `nngt/geometry/dxf_import/homcoord.py`

 * *Files identical despite different names*

## Comparing `nngt-2.6.0/nngt/core/group_structure.py` & `nngt/core/group_structure.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# core/group_structure.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/core/group_structure.py
 
 """ Graph data strctures in NNGT """
 
 from collections import OrderedDict
 import logging
 import weakref
 from copy import deepcopy
@@ -161,15 +143,15 @@
 
         struct = cls(current_size, parent=parent, meta_groups=meta_groups)
 
         for name, g in zip(names, groups):
             struct[name] = g
             g._struct    = weakref.ref(struct)
             g._net       = weakref.ref(parent) if parent is not None else None
-    
+
         return struct
 
     #-------------------------------------------------------------------------#
     # Contructor and instance attributes
 
     def __init__(self, size=None, parent=None, meta_groups=None, **kwargs):
         '''
```

## Comparing `nngt-2.6.0/nngt/core/graph.py` & `nngt/core/graph.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# core/graph.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/core/graph.py
 
 """ Graph class for graph generation and management """
 
 import logging
 import weakref
 
 from collections import defaultdict
@@ -1313,15 +1295,15 @@
             "inhibitory", -1), using either the "type" edge attribute for
             non-:class:`~nngt.Network` or the
             :py:attr:`~nngt.NeuralPop.inhibitory` nodes.
 
         Returns
         -------
         degrees : :class:`numpy.array`
-        
+
         .. warning ::
             When using MPI with "nngt" (distributed) backend, returns only the
             degrees associated to local edges. "Complete" degrees are obtained
             by taking the sum of the results on all MPI processes.
         '''
         mode = _set_degree_type(mode)
```

## Comparing `nngt-2.6.0/nngt/core/ig_graph.py` & `nngt/core/ig_graph.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# core/ig_graph.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/core/ig_graph.py
 
 """ iGraph subclassing """
 
 from collections import OrderedDict
 from copy import deepcopy
 import logging
 
@@ -263,15 +245,15 @@
 class _IGraph(GraphInterface):
 
     '''
     Container for :class:`igraph.Graph`.
     '''
 
     _nattr_class = _IgNProperty
-    _eattr_class = _IgEProperty    
+    _eattr_class = _IgEProperty
 
     #-------------------------------------------------------------------------#
     # Constructor and instance properties
 
     def __init__(self, nodes=0, copy_graph=None, directed=True, weighted=False,
                  **kwargs):
         self._nattr = _IgNProperty(self)
@@ -412,15 +394,14 @@
         attributes = {} if attributes is None else deepcopy(attributes)
 
         if attributes:
             for k, v in attributes.items():
                 if k not in self._nattr:
                     self._nattr.new_attribute(k, value_types[k], val=v)
                 else:
-                    v = v if nonstring_container(v) else [v]
                     self._nattr.set_attribute(k, v, nodes=nodes)
 
         # set default values for all attributes that were not set
         for k in self.node_attributes:
             if k not in attributes:
                 dtype = self.get_attribute_type(k)
                 if dtype == "string":
@@ -429,16 +410,14 @@
                 elif dtype == "int":
                     self._nattr.set_attribute(k, [0 for _ in nodes],
                                               nodes=nodes)
                 elif dtype == "double":
                     self._nattr.set_attribute(k, [np.NaN for _ in nodes],
                                               nodes=nodes)
 
-        g.vs[nodes[0]:nodes[-1] + 1]['type'] = neuron_type
-
         if self.is_spatial():
             old_pos      = self._pos
             self._pos    = np.full((self.node_nb(), 2), np.NaN)
             num_existing = len(old_pos) if old_pos is not None else 0
             if num_existing != 0:
                 self._pos[:num_existing, :] = old_pos
         if positions is not None:
@@ -635,15 +614,15 @@
     def edge_nb(self):
         ''' Number of edges in the graph '''
         return self._graph.ecount()
 
     def get_degrees(self, mode="total", nodes=None, weights=None):
         g = self._graph
         w = _get_ig_weights(self, weights)
-    
+
         mode = 'all' if mode == 'total' else mode
 
         if nonstring_container(weights) or weights not in {False, None}:
             return np.array(g.strength(nodes, mode=mode, weights=w))
 
         return np.array(g.degree(nodes, mode=mode), dtype=int)
```

## Comparing `nngt-2.6.0/nngt/core/connections.py` & `nngt/core/connections.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# core/connections.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/core/connections.py
 
 """ Graph data strctures in NNGT """
 
 import numpy as np
 from numpy.random import randint, uniform
 
 from ..lib import (InvalidArgument, nonstring_container, is_integer,
```

## Comparing `nngt-2.6.0/nngt/core/neural_pop_group.py` & `nngt/core/neural_pop_group.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# core/neural_pop_group.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/core/neural_pop_group.py
 
 """ Graph data strctures in NNGT """
 
 import logging
 import weakref
 from copy import deepcopy
```

## Comparing `nngt-2.6.0/nngt/core/nx_graph.py` & `nngt/core/nx_graph.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# core/nx_graph.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/core/nx_graph.py
 
 """ Networkx subclassing """
 
 from collections import OrderedDict, deque
 from copy import deepcopy
 from itertools import chain
 import logging
```

## Comparing `nngt-2.6.0/nngt/core/networks.py` & `nngt/core/networks.py`

 * *Files 3% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# core/networks.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/core/networks.py
 
 """ Network and SpatialNetwork classes for neuroscience integration """
 
 import numpy as np
 
 import nngt
 from nngt.lib import (InvalidArgument, nonstring_container, default_neuron,
```

## Comparing `nngt-2.6.0/nngt/core/spatial_graph.py` & `nngt/core/spatial_graph.py`

 * *Files 12% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# core/spatial_graph.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/core/spatial_graph.py
 
 """ SpatialGraph class for spatial graph generation and management """
 
 import numpy as np
 
 import nngt
 from nngt.lib import InvalidArgument, nonstring_container
```

## Comparing `nngt-2.6.0/nngt/core/gt_graph.py` & `nngt/core/gt_graph.py`

 * *Files 3% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# core/gt_graph.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/core/gt_graph.py
 
 """ Graph-tool Graph subclassing """
 
 from collections import OrderedDict
 from copy import deepcopy
 import logging
 
@@ -370,15 +352,19 @@
 
         self._edges_deleted = False
 
         g = copy_graph.graph if copy_graph is not None else None
 
         if g is not None:
             from graph_tool import Graph as GtGraph
-            from graph_tool.stats import remove_parallel_edges
+
+            try:
+                from graph_tool.generation import remove_parallel_edges
+            except ImportError:
+                from graph_tool.stats import remove_parallel_edges
 
             num_edges = copy_graph.edge_nb()
 
             if copy_graph._edges_deleted:
                 # set edge filter for non-deleted edges
                 eprop = g.new_edge_property(
                     "bool", vals=np.ones(num_edges, dtype=bool))
```

## Comparing `nngt-2.6.0/nngt/core/nngt_graph.py` & `nngt/core/nngt_graph.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# core/nngt_graph.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/core/nngt_graph.py
 
 """ Default (limited) graph if none of the graph libraries are available """
 
 from collections import OrderedDict
 from copy import deepcopy
 import logging
 
@@ -177,15 +159,15 @@
             else:
                 eid = graph.edge_id(name)
 
                 for k in self.keys():
                     eprop[k] = self.prop[k][eid]
 
             return eprop
-            
+
         dtype = _np_dtype(super().__getitem__(name))
 
         return _to_np_array(self.prop[name], dtype=dtype)
 
     def __setitem__(self, name, value):
         if name in self:
             size = self.parent().edge_nb()
```

## Comparing `nngt-2.6.0/nngt/core/graph_interface.py` & `nngt/core/graph_interface.py`

 * *Files 5% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# core/graph_interface.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/core/graph_interface.py
 
 """ Base classes to interface the various libraries' graphs """
 
 from abc import abstractmethod, abstractproperty
 from collections import OrderedDict
 from copy import deepcopy
 from weakref import ref
@@ -195,15 +177,15 @@
 
                 for name1, g1 in self.population.items():
                     for name2, g2 in self.population.items():
                         src_slice = slice(g1.ids[0], g1.ids[-1]+1)
                         tgt_slice = slice(g2.ids[0], g2.ids[-1]+1)
 
                         e12 = mat[src_slice, tgt_slice].nonzero()
-    
+
                         syn_prop = _get_syn_param(
                             name1, g1, name2, g2, syn_spec, "weight")
                         syn_prop = 1. if syn_prop is None else syn_prop
 
                         if isinstance(syn_prop, dict):
                             # through set_weights for dict
                             distrib = syn_prop["distribution"]
```

## Comparing `nngt-2.6.0/nngt/geospatial/countries.py` & `nngt/geospatial/countries.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# geospatial/countries.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/geospatial/countries.py
 
 import os
 
 import cartopy
 import geopandas as gpd
 import numpy as np
 import pandas as pd
```

## Comparing `nngt-2.6.0/nngt/geospatial/plot.py` & `nngt/geospatial/plot.py`

 * *Files 9% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# geospatial/plot.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/geospatial/plot.py
 
 import matplotlib.pyplot as plt
 import numpy as np
 
 import cartopy.crs as ccrs
 
 from ..plot import draw_network
```

## Comparing `nngt-2.6.0/nngt/analysis/nngt_functions.py` & `nngt/analysis/nngt_functions.py`

 * *Files 16% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# analysis/nngt_functions.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/analysis/nngt_functions.py
 
 """ Tools to analyze graphs with the nngt backend """
 
 from collections import deque
 
 import numpy as np
 import scipy.sparse as ssp
@@ -38,15 +20,15 @@
     if weight in g.edge_attributes:
         data = g.get_edge_attributes(name=weight)
     else:
         data = np.ones(num_edges)
 
     if not g.is_directed():
         data = np.repeat(data, 2)
-        
+
     edges = np.array(list(g._graph._edges), dtype=int)
     edges = (edges[:, 0], edges[:, 1]) if num_edges else [[], []]
 
     mat = ssp.coo_matrix((data, edges), shape=(num_nodes, num_nodes))
 
     return mat.asformat(mformat)
```

## Comparing `nngt-2.6.0/nngt/analysis/bayesian_blocks.py` & `nngt/analysis/bayesian_blocks.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# analysis/bayesian_blocks.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/analysis/bayesian_blocks.py
 
 """
 Bayesian Block implementation
 =============================
 
 Dynamic programming algorithm for finding the optimal adaptive-width histogram.
```

## Comparing `nngt-2.6.0/nngt/analysis/graph_analysis.py` & `nngt/analysis/graph_analysis.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# analysis/graph_analysis.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/analysis/graph_analysis.py
 
 """ Tools for graph analysis using the graph libraries """
 
 import logging
 
 import numpy as np
 import scipy.sparse.linalg as spl
@@ -840,15 +822,15 @@
     Returns
     -------
     a :class:`~scipy.sparse.csr_matrix`.
 
     References
     ----------
     .. [gt-adjacency] :gtdoc:`spectral.adjacency`
-    .. [nx-adjacency] :nxdoc:`.convert_matrix.to_scipy_sparse_matrix`
+    .. [nx-adjacency] :nxdoc:`.convert_matrix.to_scipy_sparse_array`
     '''
     return graph.adjacency_matrix(types=types, weights=weights)
 
 
 # --------------- #
 # Node properties #
 # --------------- #
```

## Comparing `nngt-2.6.0/nngt/analysis/activity_analysis.py` & `nngt/analysis/activity_analysis.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# analysis/activity_analysis.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/analysis/activity_analysis.py
 
 """ Tools for activity analysis from data """
 
 import logging
 
 import numpy as np
 import scipy.signal as sps
```

## Comparing `nngt-2.6.0/nngt/analysis/ig_functions.py` & `nngt/analysis/ig_functions.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# analysis/ig_functions.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/analysis/ig_functions.py
 
 """ Tools to analyze graphs with the igraph backend """
 
 import numpy as np
 import scipy.sparse as ssp
 
 from ..lib.test_functions import nonstring_container, is_integer
```

## Comparing `nngt-2.6.0/nngt/analysis/nx_functions.py` & `nngt/analysis/nx_functions.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# analysis/nx_functions.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/analysis/nx_functions.py
 
 """ Tools to analyze graphs with the networkx backend """
 
 import numpy as np
 import scipy.sparse as ssp
 
 from ..lib.test_functions import nonstring_container, is_integer
@@ -724,20 +706,32 @@
 
     Returns
     -------
     The adjacency matrix as a :class:`scipy.sparse.csr_matrix`.
 
     References
     ----------
-    .. [nx-adjacency] :nxdoc:`.convert_matrix.to_scipy_sparse_matrix`
+    .. [nx-adjacency] :nxdoc:`.convert_matrix.to_scipy_sparse_array`
     '''
     w = _get_nx_weights(g, weights)
 
-    return nx.to_scipy_sparse_matrix(g.graph, nodelist=range(g.node_nb()),
-                                     weight=w, format=mformat)
+    if nx.__version__ >= "2.7":
+        # convert back to sparse matrix
+        mat = nx.to_scipy_sparse_array(
+            g.graph, nodelist=range(g.node_nb()), weight=w, format=mformat)
+
+        if mformat == "dense":
+            return mat
+
+        cls = getattr(ssp._arrays, f'{mat.format}_matrix')
+
+        return cls(mat)
+
+    return nx.to_scipy_sparse_matrix(
+        g.graph, nodelist=range(g.node_nb()), weight=w, format=mformat)
 
 
 def get_edges(g):
     '''
     Returns the edges in the graph by order of creation.
     '''
     return g.edges_array
```

## Comparing `nngt-2.6.0/nngt/analysis/clustering.py` & `nngt/analysis/clustering.py`

 * *Files 5% similar despite different names*

```diff
@@ -1,41 +1,23 @@
-#-*- coding:utf-8 -*-
-#
-# analysis/clustering.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/analysis/clustering.py
 
 """ Tools for directed/weighted clsutering analysis """
 
 import numpy as np
 
 import nngt
 from nngt.lib import nonstring_container
 from nngt.lib.graph_helpers import _get_matrices
 
 
 __all__ = [
-	"global_clustering",
+    "global_clustering",
     "global_clustering_binary_undirected",
     "local_closure",
     "local_clustering",
     "local_clustering_binary_undirected",
     "triplet_count",
     "triangle_count",
 ]
@@ -96,16 +78,16 @@
         * "mean": the mean of the edge attribute values will be used for the
           new edge.
         * "min": the minimum of the edge attribute values will be used for the
           new edge.
         * "max": the maximum of the edge attribute values will be used for the
           new edge.
 
-    References
-    ----------
+    Reference
+    ---------
     .. [gt-global-clustering] :gtdoc:`clustering.global_clustering`
     .. [ig-global-clustering] :igdoc:`transitivity_undirected`
     .. [nx-global-clustering] :nxdoc:`algorithms.cluster.transitivity`
     .. [Barrat2004] Barrat, Barthelemy, Pastor-Satorras, Vespignani. The
         Architecture of Complex Weighted Networks. PNAS 2004, 101 (11).
         :doi:`10.1073/pnas.0400087101`.
     .. [Onnela2005] Onnela, Saramäki, Kertész, Kaski. Intensity and Coherence
@@ -248,49 +230,49 @@
         if mode.endswith("-in"):
             mat = mat.T
 
         if method == "continuous" and weights is not None:
             sqmat = mat.sqrt()
             cbmat = mat.power(2/3)
 
-            mat2 = sqmat*sqmat
+            mat2 = sqmat@sqmat
 
             if mode in ("cycle-in", "cycle-out"):
-                mat3 = cbmat*cbmat*cbmat
+                mat3 = cbmat@cbmat@cbmat
             elif mode in ("fan-in", "fan-out"):
-                mat3 = cbmat*cbmat*cbmat.T
+                mat3 = cbmat@cbmat@cbmat.T
             else:
                 raise ValueError("Unknown `mode`: '" + mode + "'.'")
         elif method in ("normal", "zhang", None):
-            mat2 = mat*mat
+            mat2 = mat@mat
 
             if mode in ("cycle-in", "cycle-out"):
-                mat3 = mat2*mat
+                mat3 = mat2@mat
             elif mode in ("fan-in", "fan-out"):
-                mat3 = mat2*mat.T
+                mat3 = mat2@mat.T
             else:
                 raise ValueError("Unknown `mode`: '" + mode + "'.'")
         else:
             raise ValueError("Unknown `method`: '" + method + "'.'")
     else:
         # undirected
         if method == "continuous" and weights is not None:
             sqmat = mat.sqrt()
             cbmat = mat.power(2/3)
 
-            mat2 = sqmat*sqmat
-            mat3 = cbmat*cbmat*cbmat
+            mat2 = sqmat@sqmat
+            mat3 = cbmat@cbmat@cbmat
         elif method in ("normal", "zhang", None):
-            mat2 = mat*mat
-            mat3 = mat2*mat
+            mat2 = mat@mat
+            mat3 = mat2@mat
         else:
             raise ValueError("Unknown `method`: '" + method + "'.'")
 
     numer = mat3.diagonal()
-    denom = mat2.sum(axis=1).A1 - mat2.diagonal()
+    denom = _sum(mat2, axis=1) - mat2.diagonal()
 
     denom[denom == 0] = 1
 
     return numer / denom
 
 
 def local_clustering_binary_undirected(g, nodes=None):
@@ -649,30 +631,30 @@
             deg = None
 
             if g.is_directed():
                 _, adjsym = _get_matrices(g, directed, None, False,
                                           combine_weights)
 
                 if nodes is None:
-                    deg = adjsym.sum(axis=0).A1
+                    deg = _sum(adjsym, axis=0)
                 else:
-                    deg = adjsym.sum(axis=0).A1[nodes]
+                    deg = _sum(adjsym, axis=0)[nodes]
             else:
                 deg = g.get_degrees(nodes=nodes)
 
             if nodes is None or nonstring_container(nodes):
                 return (0.5*deg*(deg - 1)).astype(int)
 
             return 0.5*deg*(deg - 1)
 
         # directed
         if mode in ("total", "cycle", "middleman"):
             adj = g.adjacency_matrix()
 
-            d_recip = (adj*adj).diagonal()
+            d_recip = (adj@adj).diagonal()
 
             if nodes is not None:
                 d_recip = d_recip[nodes]
 
             din  = g.get_degrees("in", nodes=nodes)
             dout = g.get_degrees("out", nodes=nodes)
 
@@ -783,44 +765,47 @@
     '''
     (Un)weighted (un)directed triangle count.
     '''
     tr = None
 
     if method == "barrat":
         if mode == "total":
-            tr = 0.5*(matsym*adjsym*adjsym).diagonal()
+            tr = 0.5*(matsym@adjsym@adjsym).diagonal()
         elif mode == "cycle":
-            tr = 0.5*(mat*adj*adj + mat.T*adj.T*adj.T).diagonal()
+            tr = 0.5*(mat@adj@adj + mat.T@adj.T@adj.T).diagonal()
         elif mode == "middleman":
-            tr = 0.5*(mat.T*adj*adj.T + mat*adj.T*adj).diagonal()
+            tr = 0.5*(mat.T@adj@adj.T + mat@adj.T@adj).diagonal()
         elif mode == "fan-in":
-            tr = 0.5*(mat.T*adjsym*adj).diagonal()
+            tr = 0.5*(mat.T@adjsym@adj).diagonal()
         elif mode == "fan-out":
-            tr = 0.5*(mat*adjsym*adj.T).diagonal()
+            tr = 0.5*(mat@adjsym@adj.T).diagonal()
         else:
             raise ValueError("Unknown mode ''.".format(mode))
     else:
         if not weighted:
             mat, matsym = adj, adjsym
         elif method not in ("continuous", "zhang", "normal", "onnela"):
             raise ValueError("Invalid `method`: '{}'".format(method))
 
         if mode == "total":
-            tr = 0.5*(matsym*matsym*matsym).diagonal()
+            tr = 0.5*(matsym@matsym@matsym).diagonal()
         elif mode == "cycle":
-            tr = (mat*mat*mat).diagonal()
+            tr = (mat@mat@mat).diagonal()
         elif mode == "middleman":
-            tr = (mat*mat.T*mat).diagonal()
+            tr = (mat@mat.T@mat).diagonal()
         elif mode == "fan-in":
-            tr = (mat.T*mat*mat).diagonal()
+            tr = (mat.T@mat@mat).diagonal()
         elif mode == "fan-out":
-            tr = (mat*mat*mat.T).diagonal()
+            tr = (mat@mat@mat.T).diagonal()
         else:
             raise ValueError("Unknown mode ''.".format(mode))
 
+    if isinstance(tr, np.matrix):
+        tr = tr.A1
+
     if nodes is None:
         return tr
 
     return tr[nodes]
 
 
 def _triplet_count_weighted(g, mat, matsym, adj, adjsym, method, mode,
@@ -833,111 +818,120 @@
     if method == "normal":
         pass
     elif method == "continuous":
         if directed:
             sqmat = mat.sqrt()
 
             if mode == "total":
-                s2_sq_tot = np.square(sqmat.sum(axis=0).A1 +
-                                      sqmat.sum(axis=1).A1)
-                s_tot     = mat.sum(axis=0).A1 + mat.sum(axis=1).A1
-                s_recip   = 2*(sqmat*sqmat).diagonal()
+                s2_sq_tot = np.square(
+                    _sum(sqmat, axis=0) + _sum(sqmat, axis=1))
+                s_tot     = _sum(mat, axis=0) + _sum(mat, axis=1)
+                s_recip   = 2*(sqmat@sqmat).diagonal()
 
                 tr = s2_sq_tot - s_tot - s_recip
             elif mode in ("cycle", "middleman"):
-                s_sq_out = sqmat.sum(axis=0).A1
-                s_sq_in  = sqmat.sum(axis=1).A1
-                s_recip  = (sqmat*sqmat).diagonal()
+                s_sq_out = _sum(sqmat, axis=0)
+                s_sq_in  = _sum(sqmat, axis=1)
+                s_recip  = (sqmat@sqmat).diagonal()
 
                 tr = s_sq_in*s_sq_out - s_recip
             elif mode in ("fan-in", "fan-out"):
                 axis  = 0 if mode == "fan-in" else 1
-                s2_sq = np.square(sqmat.sum(axis=axis).A1)
-                sgth  = mat.sum(axis=axis).A1
+                s2_sq = np.square(_sum(sqmat, axis=axis))
+                sgth  = _sum(mat, axis=axis)
 
                 tr = s2_sq - sgth
             else:
                 raise ValueError("Unknown mode ''.".format(mode))
         else:
             sqmat = matsym.sqrt()
 
-            s2_sq = np.square(sqmat.sum(axis=0).A1)
-            s     = matsym.sum(axis=0).A1
+            s2_sq = np.square(_sum(sqmat, axis=0))
+            s = _sum(matsym, axis=0)
 
             tr = 0.5*(s2_sq - s)
     elif method == "zhang":
         if directed:
             mat2 = mat.power(2)
 
             if mode == "total":
-                s2_sq_tot = np.square(mat.sum(axis=0).A1 +
-                                      mat.sum(axis=1).A1)
-                s_tot     = mat2.sum(axis=0).A1 + mat2.sum(axis=1).A1
-                s_recip   = 2*(mat*mat).diagonal()
+                s2_sq_tot = np.square(_sum(mat, axis=0) + _sum(mat, axis=1))
+                s_tot     = _sum(mat2, axis=0) + _sum(mat2, axis=1)
+                s_recip   = 2*(mat@mat).diagonal()
 
                 tr = s2_sq_tot - s_tot - s_recip
             elif mode in ("cycle", "middleman"):
-                s_sq_out = mat.sum(axis=0).A1
-                s_sq_in  = mat.sum(axis=1).A1
-                s_recip  = (mat*mat).diagonal()
+                s_sq_out = _sum(mat, axis=0)
+                s_sq_in  = _sum(mat, axis=1)
+                s_recip  = (mat@mat).diagonal()
 
                 tr = s_sq_in*s_sq_out - s_recip
             elif mode in ("fan-in", "fan-out"):
                 axis  = 0 if mode == "fan-in" else 1
-                s2_sq = np.square(mat.sum(axis=axis).A1)
-                sgth  = mat2.sum(axis=axis).A1
+                s2_sq = np.square(_sum(mat, axis=axis))
+                sgth  = _sum(mat2, axis=axis)
 
                 tr = s2_sq - sgth
             else:
                 raise ValueError("Unknown mode ''.".format(mode))
         else:
             mat2 = matsym.power(2)
 
-            s2_sq = np.square(matsym.sum(axis=0).A1)
-            s     = mat2.sum(axis=0).A1
+            s2_sq = np.square(_sum(matsym, axis=0))
+            s = _sum(mat2, axis=0)
 
             tr = 0.5*(s2_sq - s)
     elif method == "barrat":
         if directed:
             # specifc definition of the reciprocal strength from Clemente
             if mode == "total":
-                s_recip = 0.5*(mat*adj + adj*mat).diagonal()
+                s_recip = 0.5*(mat@adj + adj@mat).diagonal()
 
                 dtot = g.get_degrees("total")
                 wmax = np.max(g.get_weights())
                 stot = g.get_degrees("total", weights=weights) / wmax
 
                 tr = stot*(dtot - 1) - 2*s_recip
             elif mode in ("cycle", "middleman"):
-                s_recip = 0.5*(mat*adj + adj*mat).diagonal()
-                s_in    = mat.sum(axis=0).A1
-                s_out   = mat.sum(axis=1).A1
+                s_recip = 0.5*(mat@adj + adj@mat).diagonal()
+                s_in    = _sum(mat, axis=0)
+                s_out   = _sum(mat, axis=1)
                 d_in    = g.get_degrees("in")
                 d_out   = g.get_degrees("out")
 
                 tr = 0.5*(s_in*d_out + s_out*d_in) - s_recip
             elif mode in ("fan-in", "fan-out"):
                 axis = 0 if mode == "fan-in" else 1
-                sgth = mat.sum(axis=axis).A1
+                sgth = _sum(mat, axis=axis)
                 deg  = g.get_degrees(mode[4:])
 
                 tr = sgth*(deg - 1)
             else:
                 raise ValueError("Unknown mode ''.".format(mode))
         elif g.is_directed():
-            d = adjsym.sum(axis=0).A1
-            s = matsym.sum(axis=0).A1
+            d = _sum(adjsym, axis=0)
+            s = _sum(matsym, axis=0)
 
             tr = 0.5*s*(d - 1)
         else:
             d = g.get_degrees()
-            s = matsym.sum(axis=0).A1
+            s = _sum(matsym, axis=0)
 
             tr = 0.5*s*(d - 1)
     else:
         raise ValueError(
             "Invalid `method` for triplet count: '{}'".format(method))
 
     if nodes is None:
         return tr
 
     return tr[nodes]
+
+
+def _sum(mat, axis):
+    ''' Sum either sparse matrix or array '''
+    res = mat.sum(axis=axis)
+
+    if "matrix" in str(type(mat)):
+        return res.A1
+
+    return res
```

## Comparing `nngt-2.6.0/nngt/analysis/gt_functions.py` & `nngt/analysis/gt_functions.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,29 +1,11 @@
-#-*- coding:utf-8 -*-
-#
-# analysis/gt_functions.py
-#
-# This file is part of the NNGT project, a graph-library for standardized and
-# and reproducible graph analysis: generate and analyze networks with your
-# favorite graph library (graph-tool/igraph/networkx) on any platform, without
-# any change to your code.
-# Copyright (C) 2015-2022 Tanguy Fardet
-#
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program. If not, see <http://www.gnu.org/licenses/>.
+# -*- coding: utf-8 -*-
+# SPDX-FileCopyrightText: 2015-2023 Tanguy Fardet
+# SPDX-License-Identifier: GPL-3.0-or-later
+# nngt/analysis/gt_functions.py
 
 """ Tools to analyze graphs with the graph-tool backend """
 
 import numpy as np
 import scipy.sparse as ssp
 
 from graph_tool import GraphView, _prop
```

## Comparing `nngt-2.6.0/doc/modules/examples/backup_shape.py` & `nngt/geometry/examples/backup_shape.py`

 * *Files identical despite different names*

## Comparing `nngt-2.6.0/doc/modules/examples/load_culture.py` & `nngt/geometry/examples/load_culture.py`

 * *Files identical despite different names*

## Comparing `nngt-2.6.0/doc/modules/examples/load_shapes.py` & `nngt/geometry/examples/load_shapes.py`

 * *Files identical despite different names*

## Comparing `nngt-2.6.0/doc/modules/examples/gen_obstacles.py` & `nngt/geometry/examples/gen_obstacles.py`

 * *Files identical despite different names*

